Artefacts ^{
    CustomArtefacts ^{
        ArtDominator-0 ^{
            Broken=(дезориентирован)
            BrokenInBattle=Меткое попадание противника сотрясло ваш корабль, координатор не выдержал такого небрежного к нему обращения и приказал долго жить.
            BrokenInUse=Большое количество потоков данных одновременно не под силу даже такому технологичному устройству, как доминаторский Координатор. Прибор не смог справиться с нагрузкой и отключился, по всей видимости, не планируя включаться вновь.
            Cost=12
            Description=Рейнджер, скажите, что вы знаете о доминаторах?
            Description=…
            Description=Не, я спрашиваю не про то что вам рассказали в центре рейнджеров. Я спрашиваю с технической точки зрения.
            Description=Вот скажи, почему у доминаторов никогда не иссякает запас снарядов ракетного оружия или всегда есть топливо в баках?
            Description=Не знаете.
            Description=Теперь однозначно можно сказать что это благодаря этому ошметку, точнее не только ему, а благодаря взаимодействию его с Инбридоном. Благодаря направлению потоков данных процессора Инбродона, он начинает генерировать не ноды а те самые нужные нам снаряды или топливо. Если просто подключить Координатор то значительно улучшает работу всех систем корабля. Но так как вы не доминатор, такое взаимодействие мы не смогли воспроизвести на коалиционных кораблях, единственное чего мы смогли добиться, так это улучшение работы двигателя, причем даже при подключении его к Инбридону, но при этом положительный эффект для двигателя снижается.
            DescriptionLow=Маршрутизатор потоков данных. Коалиционная модификация координирует работу двигателя, что значительно повышает его производительность, и влияет на скорость корабля в черной дыре на <color=255,245,80>15</color>%.
            DescriptionLow=Модуль способен перевести работу нод-контейнера в режим генерации топлива или ракетных снарядов.
            Effect_0=Генерация отключена
            Effect_1=Генерация топлива
            Effect_2=Генерация ракет
            Equipments=3
            ListBox=Установите режим генерации:
            MessageBox_1=Невозможно совершить операцию, устройство не работоспособно
            MessageBox_2=Для работы оборудования в данном режиме установите рабочий Инбридон нужной серии
            MessageBox_3=Для работы оборудования в данном режиме установите рабочий Инбридон нужной серии
            Name=Координатор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag1='Speed+1';
                                02=str tag2='Jump+1';
                                03=int i;
                                04=dword item;
                                05=dword synchr=0;
                                06=dword pow=1;
                                07=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                09 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                            03=exit;
                                        }
                                    }
                                }
                                10=if(synchr==equip)
                                11 ^{
                                    01=i=90+30*ItemLevel(ShipEqInSlot(cur_ship,t_Engine))+20*ShipSkill(cur_ship,2);
                                    02=i=i/(CustomArtData(cur_item,1)+1);
                                    03=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                    04 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    05=else
                                    06 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    07=i=6+1*ItemLevel(ShipEqInSlot(cur_ship,t_Engine))+1*ShipSkill(cur_ship,2);
                                    08=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                    09 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    10=else
                                    11 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    12=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    13=i=200*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    14=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,1)>=1)
                        02 ^{
                            01=if(ItemIsInUse(cur_item))
                            02 ^{
                                01=if(!ItemIsBroken(cur_item))
                                02 ^{
                                    01=synchr=0;
                                    02=pow=CT('Artefacts.CustomArtefacts.ArtDominator-4.Equipments');
                                    03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                    04=equip=equip+pow;
                                    05=pow=1;
                                    06=if(synchr==equip)
                                    07 ^{
                                        01=for(i=1;i<=4;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)=='ArtDominator-4')
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))i=7;
                                                02=break;
                                            }
                                        }
                                        03=if(CustomArtData(cur_item,1)==1 && i==7)
                                        04 ^{
                                            01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item)))
                                            02 ^{
                                                01=unknown Oil;
                                                02=Oil=newarray(1);
                                                03=ArrayClear(Oil);
                                                04=if(100*ShipFuel(cur_ship)/GetEquipmentStats(ShipEqInSlot(cur_ship,t_FuelTanks),0)<100)
                                                05 ^{
                                                    01=ArrayAdd(Oil,ShipEqInSlot(cur_ship,t_FuelTanks));
                                                }
                                                06=else
                                                07 ^{
                                                    01=for(i=1;i<ShipItems(cur_ship);i=i+1)
                                                    02 ^{
                                                        01=item=ShipItems(cur_ship,i);
                                                        02=if(ItemType(item)==t_Cistern)
                                                        03 ^{
                                                            01=if(ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                                            02 ^{
                                                                01=if(100*ContainerFuel(item)/GetEquipmentStats(item,0)<100) ArrayAdd(Oil,item);
                                                            }
                                                        }
                                                    }
                                                }
                                                08=if(ArrayDim(Oil)>1)
                                                09 ^{
                                                    01=i=Rnd(1,ArrayDim(Oil)-1);
                                                    02=ContainerFuel(Oil[i],ContainerFuel(Oil[i])+min(GetEquipmentStats(Oil[i],0)-ContainerFuel(Oil[i]),3));
                                                }
                                                10=GetNodesFromShip(cur_ship,1,ItemSubrace(cur_item));
                                                11=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                                12=i=100*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                                13=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                            }
                                        }
                                        05=if(CustomArtData(cur_item,1)==2 && i==7)
                                        06 ^{
                                            01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item)))
                                            02 ^{
                                                01=unknown Weapon;
                                                02=Weapon=newarray(1);
                                                03=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
                                                04 ^{
                                                    01=item=ShipWeapon(cur_ship,i);
                                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                                    03 ^{
                                                        01=if(GetEquipmentStats(item,3)==2)
                                                        02 ^{
                                                            01=if(100*WeaponAmmunition(item)/WeaponMaxAmmunition(item)<100) ArrayAdd(Weapon,item);
                                                        }
                                                    }
                                                }
                                                05=if(ArrayDim(Weapon)>1)
                                                06 ^{
                                                    01=i=Rnd(1,ArrayDim(Weapon)-1);
                                                    02=MissilesToRearm(Weapon[i],1);
                                                }
                                                07=GetNodesFromShip(cur_ship,1,ItemSubrace(cur_item));
                                                08=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                                09=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                                10=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                            }
                                        }
                                    }
                                    08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                    09 ^{
                                        01=pow=pow*2;
                                        02=if((equip & pow/2)==pow/2)
                                        03 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                            03=else exit;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnStartAB))
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'speed',ABShipModifiers(cur_ship,'speed')+15);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
                    }
                }
                10=else if(ScriptItemActionType(t_OnItemEquip))
                11 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'speed',ABShipModifiers(cur_ship,'speed')+15);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                12=else if(ScriptItemActionType(t_OnItemDeEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'speed',ABShipModifiers(cur_ship,'speed')-15);
						}
					}
				}
                14=else
                15 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag1='Speed+1';
                            02=tag2='Jump+1';
                            03=synchr=0;
                            04=dword synchr2=0;
                            05=pow=1;
                            06=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            07=str text='</color>';
                            08=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            09=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            10 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            11=text=text+'<color=200,0,200>)</color>';
                            12=CustomArtTextData(cur_item,1,text);
                            13=if(synchr==equip)
                            14 ^{
                                01=i=90+30*ItemLevel(ShipEqInSlot(cur_ship,t_Engine))+20*ShipSkill(cur_ship,2);
                                02=i=i/(CustomArtData(cur_item,1)+1);
                                03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed')+'+'+i);
                                04=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                05 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                }
                                06=else
                                07 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                }
                                08=i=6+1*ItemLevel(ShipEqInSlot(cur_ship,t_Engine))+1*ShipSkill(cur_ship,2);
                                09=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump')+'+'+i);
                                10=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                11 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                }
                                12=else
                                13 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                }
                                14=ShipCalcParam(cur_ship);
                                15=if(CustomArtData(cur_item,1)==0) CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoInst'));
                                16=if(CustomArtData(cur_item,1)>=1)
                                17 ^{
                                    01=for(i=1;i<=4;i=i+1)
                                    02 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)=='ArtDominator-4')
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))i=7;
                                            02=break;
                                        }
                                    }
                                    03=if(CustomArtData(cur_item,1)==1)
                                    04 ^{
                                        01=if(i==7) CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextGenFuel'));
                                        02=else CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextGenFuel')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextInstInbridon'));
                                    }
                                    05=if(CustomArtData(cur_item,1)==2)
                                    06 ^{
                                        01=if(i==7) CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextGenMissile'));
                                        02=else CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextGenMissile')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextInstInbridon'));
                                    }
                                }
                            }
                            15=else
                            16 ^{
                                01=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed')+'0');
                                02=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump')+'0');
                                03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+'-');
                                04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed')+'0');
                            03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump')+'0');
                            04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+'0');
                            05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                            06=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed')+'-');
                        03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump')+'-');
                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+'-');
                        05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        06=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            OnUseCode ^{
				01=dword cur_item=CurItem();
                02=if(ItemIsBroken(cur_item))
                03 ^{
                    01=MessageBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MessageBox_1'));
                    02=exit;
                }
                04=int i;
                05=unknown Effect;
                06=Effect=newarray(3);
                07=Effect[0]=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Effect_0');
                08=Effect[1]=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Effect_1');
                09=Effect[2]=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Effect_2');
                10=i=ListBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.ListBox'),Effect);
                11=if(i<0)exit;
                12=else
                13 ^{
                    01=CustomArtData(cur_item,1,i);
                    02=if(i>=1)
                    03 ^{
                        01=for(i=1;i<=4;i=i+1)
                        02 ^{
                            01=dword item;
                            02=item=ShipEqInSlot(ScriptItemActShip(),t_Artefact,i);
                            03=if(item==cur_item)continue;
                            04=if(EquipmentImageName(item)=='ArtDominator-4')
                            05 ^{
                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))i=7;
                                02=break;
                            }
                        }
                        03=if(i!=7)
                        04 ^{
                            01=MessageBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MessageBox_2'));
                        }
                    }
                    04=Sound('Sound.Repair');
                }
            }
            Size+=4
            Test1=</color><br>Режим: <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Маршрутизатор потоков данных. Коалиционная модификация координирует работу двигателя, что значительно повышает его производительность, и влияет на скорость корабля в черной дыре на <color=255,245,80>10</color>%.
            Text=Модуль способен перевести работу нод-контейнера в режим генерации топлива или ракетных снарядов.<TextData2><TextData1><TextData3>
            TextEffect=</color><br>Режим работы: <color=255,245,80>
            TextGenFuel=генерация топлива
            TextGenMissile=генерация ракет
            TextInstInbridon= </color><color=255,0,0>(установите Инбридон)
            TextJump=</color><br>Прыжок: <color=255,245,80>
            TextNoInst=не установлен
            TextSpeed=</color><br>Скорость: <color=255,245,80>
            TextSynchrInbridon= </color><color=255,0,0>(синхронизируйте Инбридон)
        }
        ArtDominator-1 ^{
            Broken=(нейтрализован)
            BrokenInBattle=Стволовик не выдержал боевых нагрузок и прекратил нейтрализацию отдачи оружия. Устройство нуждается в ремонте.
            BrokenInUse=Постоянная нейтрализация отдачи оружия привела к тому, что устройство "нейтрализовало" само себя. Требуется перезагрузка всех систем в сервисном центре.
            Cost=8
            Description=Здравствуйте рейнджер!
            Description=Посмотрите какой шедевр получился! Нейтрализатор отдачи орудий, который можно использовать на наших кораблях. Благодаря тому, что нам не нужно защищать интеллектуальную матрицу, мы же не доминаторы, направили защиту на прицельные системы. Вследствие мы получили увеличенную дальность стрельбы орудий.
            DescriptionLow=Система нейтрализации отдачи орудий. Гасит колебания и поглощает излучения, мешающих работе прицельных систем, в результате чего увеличивается дальность стрельбы орудий и влияет на скорость перезарядки оружия в черной дыре на <color=255,245,80>10</color>%.
            Equipments=4
            Name=Стволовик
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnMissileShot,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag='WRadius+1';
                                02=int i;
                                03=dword item;
                                04=dword synchr=0;
                                05=dword pow=1;
                                06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                            02=exit;
                                        }
                                    }
                                }
                                09=if(synchr==equip)
                                10 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=if(ItemSubrace(cur_item)==0)i=4+7*ItemLevel(ShipEqInSlot(cur_ship,t_Radar));
                                    03=if(ItemSubrace(cur_item)==1)i=10+GetEquipmentStats(ShipEqInSlot(cur_ship,t_Radar),0)/100;
                                    04=if(ItemSubrace(cur_item)==2)i=ShipSkill(cur_ship,2)*10;
                                    05=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                    06 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    07=else
                                    08 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,2))CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot) || ScriptItemActionType(t_OnMissileShot))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        02=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else if(ScriptItemActionType(t_OnStartAB))
                11 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'recharge',ABShipModifiers(cur_ship,'recharge')+10);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
                }
                12=else if(ScriptItemActionType(t_OnItemEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'recharge',ABShipModifiers(cur_ship,'recharge')+10);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                14=else if(ScriptItemActionType(t_OnItemDeEquip))
                15 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'recharge',ABShipModifiers(cur_ship,'recharge')-10);
						}
					}
				}
                16=else
                17 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='WRadius+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=str text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=if(ItemSubrace(cur_item)==0)i=4+7*ItemLevel(ShipEqInSlot(cur_ship,t_Radar));
                                02=if(ItemSubrace(cur_item)==1)i=10+GetEquipmentStats(ShipEqInSlot(cur_ship,t_Radar),0)/100;
                                03=if(ItemSubrace(cur_item)==2)i=ShipSkill(cur_ship,2)*10;
                                04=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                05 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=else
                                07 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                08=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            }
                            14=else
                            15 ^{
                                01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                02=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                03=exit;
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        04=if(!ItemIsBroken(cur_item))
                        05 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==1)
                                02 ^{
                                    01=synchr=0;
                                    02=synchr2=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    05=if(!synchr)
                                    06 ^{
                                        01=str art='';
                                        02=if(ItemSubrace(cur_item)==1)
                                        03 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==1)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7)art='ArtDominator-15';
                                        }
                                        04=synchr2=0;
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr2)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                        02=if(ItemSubrace(cur_item)==1)i=10+GetEquipmentStats(ShipEqInSlot(cur_ship,t_Radar),0)/100;
                                                        03=CustomArtData(cur_item,1,i);
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest) CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    06=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=2
            Test=</color><br>Износ: <color=255,245,80>
            Text=Система нейтрализации отдачи орудий. Гасит колебания и поглощает излучения, мешающих работе прицельных систем, в результате чего увеличивается дальность стрельбы орудий на <Data1> единиц и влияет на скорость перезарядки оружия в черной дыре на <color=255,245,80>10</color>%.<TextData1><TextData3>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
        }
        ArtDominator-10 ^{
            /=Блазер арт
            Broken=(требует ремонта)
            BrokenInBattle=Меткое попадание противника разделило Деструктуризатор на две аккуратные половинки, что-то подсказывает вам, что для работы в таком состоянии он не приспособлен.
            BrokenInUse=Деструктуризатор без всякой на то видимой причины злобно пискнул и отключился. Ваши попытки вновь активировать его ни к чему не привели, похоже придется сдать его в ремонт.
            Cost=8
            Description=Вы когда-нибудь мечтали не получать повреждения? Этот ошметок может такое сделать благодаря огромной базе моделей поведения во время сражения. Конечно полностью избежать попаданий не получится, это мечты, но вот совершить обманный маневр с 10% шансом у него получится.
            DescriptionLow= Элемент интеллектуально-логической системы тактики ведения боя. Содержит несколько миллионов моделей поведения во время сражения. С <color=255,245,80>10</color>% вероятностью позволяет полностью избежать урона.
            Equipments=66
            Name=Деструктуризатор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnShowingItemInfo,t_OnTakingDamageEn,t_OnTakingDamageSp,t_OnTakingDamageMi
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=dword pow=1;
                                05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                07 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                08=if(synchr==equip)CustomArtData(cur_item,2,1);
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
				06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=if(cur_ship==Player())
                                02 ^{
                                    01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                                }
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnShowingItemInfo))
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=if(!ItemIsBroken(cur_item))
                        03 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==0)
                                02 ^{
                                    01=synchr=0;
                                    02=for(i=1;i<=4;i=i+1)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        03 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            03=break;
                                        }
                                    }
                                    04=if(!synchr)
                                    05 ^{
                                        01=str art='';
                                        02=synchr2=0;
                                        03=if(ItemSubrace(cur_item)==0)
                                        04 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==0)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7)art='ArtDominator-12';
                                        }
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
					}
					07=else CustomArtTextData(cur_item,3,'');
                }
                10=else
                11 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=CustomArtData(cur_item,1,CustomArtData(cur_item,1)+1);
                        02=if((ScriptItemActParam()>2 && CustomArtData(cur_item,1)+Rnd(0,2)>12))
                        03 ^{
                            01=ScriptItemActParam(0);
                            02=CustomArtData(cur_item,1,0);
                            03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            04=i=300*(100-840*ShipSkill(ScriptItemActShip(),2)/100)/i;
                            05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
            }
            Size+=5
            Test1=</color><br>Попаданий: <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Элемент интеллектуально-логической системы тактики ведения боя. Содержит несколько миллионов моделей поведения во время сражения. С <color=255,245,80>10</color>% вероятностью позволяет полностью избежать урона.<TextData1><TextData3>
            TextConnect0=<br><color=255,245,80>(подключен к Релектору)</color>
        }
        ArtDominator-11 ^{
            /=Блазер арт
            Broken=(сломан)
            BrokenInBattle=Прямо по центру корпуса аргента возникла симпатичная ровненькая дыра. Ох и меткие же вам попались противники.
            BrokenInUse=Аргент издал тихое шипение и отключился. Не исключено, что причиной тому стали крепкие рейнджерские выражения звучащие в эфире, которым Аргент не смог найти определения в своей языковой базе данных.
            Cost=8
            Description=Вы когда-нибудь слышали поговорку «Чем больше, тем лучше»? Так вот она как раз про данный ошметок. Этот ошметок улучшает эффективность массовых совместных атак по противнику, то есть чем больше кораблей тебе помогает уничтожать противника, тем больше будет урон. Он также способен работать черных дырах и воздействовать на оружие, к сожалею мы не смогли в них его протестировать. Ну знаете, шанс появления черной дыры возле нашей научной базы минимальный. Так что проверку его работы в черных дырах придется проверить вам самим.
            DescriptionLow= Коммутативный элемент для взаимодействия группы блазероидов. Включается во время централизованной атаки, направленной против одного объекта. Улучшает эффективность массовых совместных атак по одному противнику, незаменимое устройство для полководца.
            Equipments=12
            Name=Аргент
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnDealingDamage,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnNonStandartEqChange,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=dword pow=1;
                                05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                07 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                08=if(synchr==equip)CustomArtData(cur_item,2,1);
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,2))CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnDealingDamage))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=dword argent=0;
                        02=dword ship2;
                        03=dword enemy=ScriptItemActObject1();
                        04=for(i=0;i<StarShips(ShipStar(cur_ship));i=i+1)
                        05 ^{
                            01=ship2=StarShips(ShipStar(cur_ship),i);
                            02=if(ship2==cur_ship || ship2==enemy)continue;
                            03=for(item=1;item<=ShipCntWeapon(ship2);item=item+1)
                            04 ^{
                                01=if(WeaponTarget(ShipWeapon(ship2,item))==enemy)
                                02 ^{
                                    01=argent=argent+1;
                                    02=break;
                                }
                                03=if(ship2==Player())continue;
                                04=else break;
                            }
                            05=if(argent>=5)break;
                        }
                        06=if(argent>0)
                        07 ^{
                            01=ScriptItemActParam(1+ScriptItemActParam()+((argent*2)*ScriptItemActParam())/100);
                            02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            03=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
                10=else if(ScriptItemActionType(t_OnStartAB))
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'damage',ABShipModifiers(cur_ship,'damage')+10);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                12=else if(ScriptItemActionType(t_OnItemEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'damage',ABShipModifiers(cur_ship,'damage')+10);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                14=else if(ScriptItemActionType(t_OnItemDeEquip))
                15 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'damage',ABShipModifiers(cur_ship,'damage')-10);
						}
					}
				}
                16=else
                17 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else CustomArtTextData(cur_item,1,'');
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=10
            Test=</color><br>Износ: <color=255,245,80>
            Text=Коммутативный элемент для взаимодействия группы кораблей. Улучшает эффективность массовых совместных атак по одному противнику, увеличивая урон от <color=255,245,80>2</color> до <color=255,245,80>10</color>%. Урон корабля в гиперпространстве +<color=255,245,80>10</color>%.<TextData1><TextData3>
        }
        ArtDominator-12 ^{
            /=Блазер арт
            Broken=(искрит)
            BrokenInBattle=Не выдержав чудовищных нагрузок Релектор сломался. Не мудрено, ведь в бою все системы корабля работают на полную катушку.
            BrokenInUse=Похоже нагрузка на интерфейсную шину настолько велика, что даже блазерский Релектор не в состоянии долгое время синхронизировать работу модулей. Без ремонта тут не обойтись.
            Cost=10
            Description=Это очень, очень непонятный ошметок. Мы определили, что он взаимодействует со Стригером, но воспроизвести в лабораторных условиях у нас не получилось, наверное, у нас руки… то есть мы же не доминаторы. Но зато у нас получилось настроить его взаимодействие с другими ошметками, причем их не надо подключать через разъем артефакта, а можно напрямую через интерфейсную шину Релектора. Можете сами проверить, мы смогли подключить Турбийон, Спимер, Метаблок, Энергопакет и Деструктуризатор.
            DescriptionLow=Предотвращает конфликты оборудования и производит синхронизацию модулей, находящихся в трюме: Турбийон, Спимер, Метаблок, Энергопакет, Деструктуризатор.
            Equipments=127
            Name=Релектор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnGettingWeaponHit,t_OnGettingMissileHit,t_OnTakingDamage,t_OnEnteringForm,t_OnLeavingForm,t_OnShowingItemInfo
			OnActStepTypes=0,4,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag1='Radar+1';
                                02=str tag2='Scan+1';
                                03=str tag3='Def+1';
                                04=dword defmax=10;
                                05=int i;
                                06=dword item;
                                07=dword synchr=0;
                                08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                09 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else
                                    04 ^{
                                        01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                        04=exit;
                                    }
                                }
                                10=if(synchr==7)
                                11 ^{
                                    01=unknown Arts;
                                    02=Arts=newarray(5);
                                    03=for(i=0;i<=4;i=i+1)Arts[i]=0;
                                    04=for(i=1;i<=4;i=i+1)
                                    05 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-2')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-3')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                            03=continue;
                                        }
                                        08=if(EquipmentImageName(item)=='ArtDominator-5')
                                        09 ^{
                                            01=Arts[2]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                            03=continue;
                                        }
                                        10=if(EquipmentImageName(item)=='ArtDominator-7')
                                        11 ^{
                                            01=Arts[3]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                            03=continue;
                                        }
                                        12=if(EquipmentImageName(item)=='ArtDominator-10')
                                        13 ^{
                                            01=Arts[4]=-1;
                                            02=continue;
                                        }
                                    }
                                    06=dword energ;
                                    07=dword expaenergo;
                                    08=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                    09 ^{
                                        01=item=ShipArts(cur_ship,i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(ItemIsBroken(item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-2')
                                        05 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-3')
                                        07 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        08=if(EquipmentImageName(item)=='ArtDominator-5')
                                        09 ^{
                                            01=if(Arts[2]==0)
                                            02 ^{
                                                01=Arts[2]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        10=if(EquipmentImageName(item)=='ArtDominator-7')
                                        11 ^{
                                            01=if(Arts[3]==0)
                                            02 ^{
                                                01=Arts[3]=1;
                                                02=synchr=(550-GalaxyDiffLevels())/100+1;
                                                03=if(ShipInNormalSpace(cur_ship)) CustomArtData(item,1,min(CustomArtData(item,1)+synchr,1000));
                                                04=energ=CustomArtData(item,1);
                                                05=expaenergo=CustomArtData(item,2);
                                                06=continue;
                                            }
                                            03=else continue;
                                        }
                                        12=if(EquipmentImageName(item)=='ArtDominator-10')
                                        13 ^{
                                            01=if(Arts[4]==0)
                                            02 ^{
                                                01=Arts[4]=1;
                                                02=CustomArtData(cur_item,1,item);
                                                03=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    10=dword param=0;
                                    11=if(Arts[0]==1)param=param | 1;
                                    12=if(Arts[1]==1)param=param | 2;
                                    13=if(Arts[2]==1)param=param | 4;
                                    14=if(Arts[3]==1)param=param | 8;
                                    15=if(Arts[4]==1)param=param | 16;
                                    16=CustomArtData(cur_item,2,param);
                                    17=if(Arts[1]==1)
                                    18 ^{
                                        01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                    }
                                    19=if(Arts[2]==1)
                                    20 ^{
                                        01=i=10+8*ShipSkill(cur_ship,2)/6;
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                    }
                                    21=if(Arts[3]==1)
                                    22 ^{
                                        01=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
                                        02 ^{
                                            01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                            02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
                                            03=if(i<1)i=1;
                                        }
                                        03=else i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                        04=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)))
                                        05 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag3),i);
                                        }
                                        06=else
                                        07 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),i);
                                        }
                                    }
                                    23=if(CustomArtData(cur_item,2)>0)
                                    24 ^{
                                        01=param=0;
                                        02=if(Arts[0]==1)param=param+0;
                                        03=if(Arts[1]==1)param=param+100;
                                        04=if(Arts[2]==1)param=param+100;
                                        05=if(Arts[3]==1)param=param+200;
                                        06=if(Arts[4]==1)param=param+0;
                                        07=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                        08=i=param*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                        09=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                    }
                                }
                            }
                        }
                    }
                    03=else if(ScriptItemActParam()==4)
                    04 ^{
                        01=if((CustomArtData(cur_item,2) & 1)==1)
                        02 ^{
                            01=if(ShipInNormalSpace(cur_ship))
                            02 ^{
                                01=if(EnginePower(cur_ship)<=70)EnginePower(cur_ship,EnginePower(cur_ship)+20);
                                02=unknown eqitem;
                                03=eqitem=newarray(1);
                                04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(ItemDurability(item)<80)ArrayAdd(eqitem,item);
                                }
                                06=for(i=1;i<=4;i=i+1)
                                07 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    04 ^{
                                        01=if(!ItemIsBroken(item) && ItemDurability(item)<80)
                                        02 ^{
                                            01=ArrayAdd(eqitem,item);
                                        }
                                    }
                                }
                                08=for(i=1;i<=5;i=i+1)
                                09 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Weapon1,i);
                                    02=if(ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    03 ^{
                                        01=if(!ItemIsBroken(item) && ItemDurability(item)<80)
                                        02 ^{
                                            01=ArrayAdd(eqitem,item);
                                        }
                                    }
                                }
                                10=if(ArrayDim(eqitem)>1)
                                11 ^{
                                    01=param=0;
                                    02=dword index;
                                    03=CustomArtData(cur_item,1,2+(2*ArrayDim(eqitem))/10);
                                    04=for(i=1;i<=CustomArtData(cur_item,1);i=i+1)
                                    05 ^{
                                        01=index=Rnd(0,ArrayDim(eqitem)-1);
                                        02=item=eqitem[index];
                                        03=param=param+1;
                                        04=ItemDurability(item,ItemDurability(item)+1);
                                        05=ArrayDelete(eqitem,index);
                                        06=if(!ArrayDim(eqitem))break;
                                    }
                                    06=CustomArtData(cur_item,1,param);
                                }
                                12=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                13=i=(50+param*40)*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                14=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                    05=else if(ScriptItemActParam()==11)
                    06 ^{
                        01=if(CustomArtData(cur_item,2))CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnGettingWeaponHit) || ScriptItemActionType(t_OnGettingMissileHit))
                09 ^{
                    01=if((CustomArtData(cur_item,2) & 1)==1)
                    02 ^{
                        01=if(Rnd(0,10)<4)
                        02 ^{
                            01=param=ScriptItemActParam();
                            02=param=param-(param & 16);
                            03=ScriptItemActParam(param);
                            04=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            05=i=100*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            06=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
                10=else if(ScriptItemActionType(t_OnTakingDamage))
                11 ^{
                    01=if((CustomArtData(cur_item,2) & 16)==16)
                    02 ^{
                        01=item=CustomArtData(cur_item,1);
                        02=CustomArtData(item,1,CustomArtData(item,1)+1);
                        03=if((ScriptItemActParam()>2 && CustomArtData(cur_item,1)+Rnd(0,2)>12))
                        04 ^{
                            01=ScriptItemActParam(0);
                            02=CustomArtData(item,1,0);
                            03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            04=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
                12=else if(ScriptItemActionType(t_OnEnteringForm))
                13 ^{
                    01=if(CurrentForm()=='Talk')
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=synchr=0;
                                02=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                03 ^{
                                    01=item=ShipEqInSlot(Player(),i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else exit;
                                }
                                04=if(synchr==7)
                                05 ^{
                                    01=Arts=newarray(2);
                                    02=for(i=0;i<=1;i=i+1)Arts[i]=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(Player(),t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=continue;
                                        }
                                    }
                                    05=for(i=1;i<=ShipArts(Player());i=i+1)
                                    06 ^{
                                        01=item=ShipArts(Player(),i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(ItemIsBroken(item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    07=dword effect=0;
                                    08=if(Arts[0]==-1 && Arts[1]==1)effect=1;
                                    09=if(Arts[0]==1 && Arts[1]==-1)effect=1;
                                    10=if(Arts[0]==1 && Arts[1]==1)effect=1;
                                    11=if(effect)
                                    12 ^{
                                        01=if(ScriptItemActObject1())
                                        02 ^{
                                            01=if(GetOwner(ScriptItemActObject1())==Kling)
                                            02 ^{
                                                01=if(ItemSubrace(ShipItems(ScriptItemActObject1(),0))==ItemSubrace(cur_item))
                                                02 ^{
                                                    01=SetProgramm(5,GetProgramm(5)+1);
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                14=else
                15 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag1='Radar+1';
                            02=tag2='Scan+1';
                            03=tag3='Def+1';
                            04=defmax=10;
                            05=synchr=0;
                            06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            07 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else
                                04 ^{
                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode2'));
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                    03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                    04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                    05=exit;
                                }
                            }
                            08=if(synchr==7)
                            09 ^{
                                01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode1'));
                                02=Arts=newarray(5);
                                03=for(i=0;i<=4;i=i+1)Arts[i]=0;
                                04=for(i=1;i<=4;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    04=if(EquipmentImageName(item)=='ArtDominator-2')
                                    05 ^{
                                        01=Arts[0]=-1;
                                        02=continue;
                                    }
                                    06=if(EquipmentImageName(item)=='ArtDominator-3')
                                    07 ^{
                                        01=Arts[1]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        03=continue;
                                    }
                                    08=if(EquipmentImageName(item)=='ArtDominator-5')
                                    09 ^{
                                        01=Arts[2]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        03=continue;
                                    }
                                    10=if(EquipmentImageName(item)=='ArtDominator-7')
                                    11 ^{
                                        01=Arts[3]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                        03=continue;
                                    }
                                    12=if(EquipmentImageName(item)=='ArtDominator-10')
                                    13 ^{
                                        01=Arts[4]=-1;
                                        02=continue;
                                    }
                                }
                                06=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                07 ^{
                                    01=item=ShipArts(cur_ship,i);
                                    02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    03=if(ItemIsBroken(item))continue;
                                    04=if(EquipmentImageName(item)=='ArtDominator-2')
                                    05 ^{
                                        01=if(Arts[0]==0)
                                        02 ^{
                                            01=Arts[0]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    06=if(EquipmentImageName(item)=='ArtDominator-3')
                                    07 ^{
                                        01=if(Arts[1]==0)
                                        02 ^{
                                            01=Arts[1]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    08=if(EquipmentImageName(item)=='ArtDominator-5')
                                    09 ^{
                                        01=if(Arts[2]==0)
                                        02 ^{
                                            01=Arts[2]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    10=if(EquipmentImageName(item)=='ArtDominator-7')
                                    11 ^{
                                        01=if(Arts[3]==0)
                                        02 ^{
                                            01=Arts[3]=1;
                                            02=energ=CustomArtData(item,1);
                                            03=expaenergo=CustomArtData(item,2);
                                            04=continue;
                                        }
                                        03=else continue;
                                    }
                                    12=if(Arts[4]==0)
                                    13 ^{
                                        01=if(EquipmentImageName(item)=='ArtDominator-10')
                                        02 ^{
                                            01=Arts[4]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                }
                                08=str text='</color>';
                                09=if(Arts[0]==-1)text=text+'<color=255,0,0>';
                                10=if(Arts[0]==0)text=text+'';
                                11=if(Arts[0]==1)text=text+'<color=255,245,80>';
                                12=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-2.Name')+'</color>, ';
                                13=if(Arts[1]==-1)text=text+'<color=255,0,0>';
                                14=if(Arts[1]==0)text=text+'';
                                15=if(Arts[1]==1)text=text+'<color=255,245,80>';
                                16=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+'</color>, ';
                                17=if(Arts[2]==-1)text=text+'<color=255,0,0>';
                                18=if(Arts[2]==0)text=text+'';
                                19=if(Arts[2]==1)text=text+'<color=255,245,80>';
                                20=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+'</color>, ';
                                21=if(Arts[3]==-1)text=text+'<color=255,0,0>';
                                22=if(Arts[3]==0)text=text+'';
                                23=if(Arts[3]==1)text=text+'<color=255,245,80>';
                                24=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+'</color>, ';
                                25=if(Arts[4]==-1)text=text+'<color=255,0,0>';
                                26=if(Arts[4]==0)text=text+'';
                                27=if(Arts[4]==1)text=text+'<color=255,245,80>';
                                28=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-10.Name')+'</color>.';
                                29=CustomArtTextData(cur_item,2,text);
                                30=if(Arts[1]==1)
                                31 ^{
                                    01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                }
                                32=if(Arts[2]==1)
                                33 ^{
                                    01=i=10+8*ShipSkill(cur_ship,2)/6;
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                }
                                34=if(Arts[3]==1)
                                35 ^{
                                    01=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
                                    02 ^{
                                        01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                        02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
                                        03=if(i<1)i=1;
                                    }
                                    03=else
                                    04 ^{
                                        01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                    }
                                    05=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)))
                                    06 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag3),i);
                                    }
                                    07=else
                                    08 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),i);
                                    }
                                    09=ShipCalcParam(cur_ship);
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-2.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-10.Name')+'.');
                            03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                            04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                            05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-2.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-10.Name')+'.');
                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                        04=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test4')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=3
            Test1=</color><br>Радар: +<color=255,245,80>
            Test2=</color> Сканер: +<color=255,245,80>
            Test3=</color>% гзп: +<color=255,245,80>
            Test4=</color>% Износ: <color=255,245,80>
            Text=Предотвращает конфликты оборудования и производит синхронизацию модулей, находящихся в трюме: <TextData2><TextData1><TextData3>
        }
        ArtDominator-13 ^{
            /=Блазер арт
            Broken=(вымер)
            BrokenInBattle=Корпус вашего корабля чересчур нагрелся в бою, что не самым лучшим образом повлияло на Рапторизатор. Его корпус практически не пострадал, а вот внутренняя проводка почти полностью сгорела.
            BrokenInUse=Рапторизатор переправил слишком большую порцию энергии за раз. Прибор серьезно перегрелся и вспыхнул. Потух он, к счастью, быстро, так что ничего вокруг не пострадало, однако внутренней проводке был нанесен колоссальный ущерб.
            Cost=12
            Description=Впервые мы увидели такой адаптивный ошметок. В лабораторных условиях мы добились повторного срабатывания выстрелившего оружия, конечно шанс не 100 процентный, а где-то 50. Но адаптивность этого ошметка заключается не только во взаимодействии с оружием, а еще и с дроидом, заставляя его работать намного эффективнее, когда корпус имеет значительные повреждения. В черных дырах работает как Младший дроид, но с 50% эффективностью.
            DescriptionLow=Осуществляет мгновенные переброски энергии из одной системы в другую. Используется в критических ситуациях, например, для экстренного перевода энергии из систем нападения в системы активной защиты. Незначительно восстанавливает повреждения в черных дырах.
            EffectDroid=рапторизация дроида
            EffectWeapon=рапторизация оружия
            Equipments=20
            Name=Рапторизатор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnShowingItemInfo,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip
			OnActStepTypes=9
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep,9))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=int i;
							02=dword item;
							03=dword synchr=0;
							04=dword pow=1;
							05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							07 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							08=if(synchr==equip)
							09 ^{
								01=if(HullDamage(cur_ship)>65)
								02 ^{
									01=HullHP(cur_ship,ShipDroidRepair(cur_ship)/2+HullHP(cur_ship));
									02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
									03=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
									04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
									05=CustomArtData(cur_item,1,ShipEqInSlot(cur_ship,t_RepairRobot));
									06=CustomArtData(cur_item,2,CustomArtData(cur_item,3));
								}
								03=else if(Rnd(0,1))
								04 ^{
									01=unknown Weapon;
									02=Weapon=newarray(1);
									03=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
									04 ^{
										01=item=ShipWeapon(cur_ship,i);
										02=if(GetEquipmentStats(item,3)==2)continue;
										03=if(WeaponTarget(item))
										04 ^{
											01=if(Dist(cur_ship,WeaponTarget(item))<=GetEquipmentStats(item,2))
											02 ^{
												01=ArrayAdd(Weapon,item);
											}
										}
									}
									05=if(ArrayDim(Weapon)>1)
									06 ^{
										01=item=Weapon[Rnd(1,ArrayDim(Weapon)-1)];
										02=FireWeapon(cur_ship,WeaponTarget(item),item);
										03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
										04=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
										05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
										06=CustomArtData(cur_item,1,item);
										07=CustomArtData(cur_item,2,CustomArtData(cur_item,3));
									}
								}
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                    03=if(ScriptItemActObject1()==CustomArtData(cur_item,1))
                    04 ^{
                        01=if(CustomArtData(cur_item,2)>0)
                        02 ^{
                            01=ScriptItemActParam(ScriptItemActParam()+CustomArtData(cur_item,2)/2);
                            02=CustomArtData(cur_item,1,0);
                            03=CustomArtData(cur_item,2,0);
                        }
                    }
                }
                08=else if(ScriptItemActionType(t_OnShowingItemInfo))
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
									03=synchr2=synchr2+1;
									04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
									05 ^{
										01=synchr=synchr | pow/2;
										02=text=text+'<color=255,245,80>';
									}
									06=else text=text+'<color=255,0,0>';
									07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                            11=if(synchr==equip)
                            12 ^{
                                01=if(HullDamage(cur_ship)>65)
                                02 ^{
                                    01=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.EffectDroid'));
                                }
                                03=else
                                04 ^{
                                    01=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.EffectWeapon'));
                                }
                                05=if(ShipInHole(Player())) CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEffect')+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.EffectDroid'));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,'');
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
                10=else if(ScriptItemActionType(t_OnStartAB))
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')+50);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                12=else if(ScriptItemActionType(t_OnItemEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')+50);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                14=else if(ScriptItemActionType(t_OnItemDeEquip))
                15 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')-50);
						}
					}
				}
            }
            Size+=6
            Test=</color><br>Износ: <color=255,245,80>
            Text=Осуществляет мгновенные переброски энергии из одной системы в другую. Используется в критических ситуациях, например, для экстренного перевода энергии из систем нападения в системы активной защиты. Незначительно восстанавливает повреждения в черных дырах.<TextData2><TextData1><TextData3>
            TextEffect=</color><br>Режим работы: <color=255,245,80>
        }
        ArtDominator-14 ^{
            /=Келлер арт
            Broken=(перегружен)
            BrokenInBattle=Накопленный корпусом в бою статический электрический заряд перегрузил электронные цепи Бинома Т-21/4. Похоже, что своими силами его не починить, потребуется ремонт.
            BrokenInUse=Взяв на себя обработку слишком большого пакета данных процессор Бинома Т-21/4 не выдержал и отказался работать.
            Cost=8
            Description=Это интеллектуальной модель обработки доминаторской информации, которые для коалиционных кораблей несовместимы. Но мы смогли использовать аналитические мощности ошметка на снарядах ракетного вооружения для их перепрограммирования.
            Description=При подключенном модуле Стабилитрона он взаимодействует с черными дырами еще до попадания в них, собирая аналитическую информацию.
            DescriptionLow=Блок с интеллектуальной моделью, состоящий из четырёх процессоров. Основные два обрабатываю информацию о наличии ближайших целей, два вторичных фиксируют во временную память бинарную логику ракетной системы распознавания свой-чужой, для направления снаряда в ближайшую цель. Собирает аналитическую информацию с черных дыр.
            Equipments=12
            Name=Бином Т-21/4
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnShowingItemInfo,t_OnLeavingForm,t_OnNonStandartEqChange
			OnActStepTypes=7,10
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==7)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=dword pow=1;
                                05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                07 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                08=if(synchr==equip)
                                09 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=dword power=0;
                                    03=dword ship2;
                                    04=dword target_ship;
                                    05=dword radius=4000;
                                    06=if(ShipTypeN(cur_ship)==t_Ranger)
                                    07 ^{
                                        01=for(i=0;i<StarShips(ShipStar(cur_ship));i=i+1)
                                        02 ^{
                                            01=ship2=StarShips(ShipStar(cur_ship),i);
                                            02=if(RelationToRanger(ship2,cur_ship)<20 && ShipInNormalSpace(ship2))
                                            03 ^{
                                                01=if(Dist(cur_ship,ship2)<=radius)
                                                02 ^{
                                                    01=target_ship=ship2;
                                                    02=radius=Dist(cur_ship,ship2);
                                                }
                                            }
                                        }
                                    }
                                    08=else
                                    09 ^{
                                        01=ship2=ShipGetBad(cur_ship);
                                        02=if(ShipStar(cur_ship)==ShipStar(ship2) && ShipInNormalSpace(ship2))
                                        03 ^{
                                            01=if(Dist(cur_ship,ship2)<=radius)target_ship=ship2;
                                        }
                                    }
                                    10=if(target_ship)
                                    11 ^{
                                        01=dword cur_missile;
                                        02=for(i=0;i<StarMissiles(ShipStar(cur_ship));i=i+1)
                                        03 ^{
                                            01=cur_missile=StarMissiles(ShipStar(cur_ship),i);
                                            02=if(MissileOwner(cur_missile)==cur_ship)continue;
                                            03=if(Dist(cur_ship,cur_missile)>500)continue;
                                            04=if(MissileTarget(cur_missile)==cur_ship && Rnd(0,100)>50 && power<80)
                                            05 ^{
                                                01=if(MissileOwner(cur_missile)>0)
                                                02 ^{
                                                    01=if(ShipScanerPower(cur_ship)>ShipProtectability(MissileOwner(cur_missile)))
                                                    02 ^{
                                                        01=ShowEffect('Weapon.AuraEffect',3,cur_missile,cur_ship,0,0,0,0,0,0);
                                                        02=MissileTarget(cur_missile,target_ship);
                                                        03=MissileOwner(cur_missile,cur_ship);
                                                        04=if(MissileType(cur_missile)==t_Weapon18 && power<80)power=power+30;
                                                        05=if(MissileType(cur_missile)==t_Weapon4 && power<80)power=power+40;
                                                        06=if(MissileType(cur_missile)==t_Weapon15 && power<60)power=power+60;
                                                        07=if(MissileType(cur_missile)==t_CustomWeapon && power<70)power=power+40;
                                                    }
                                                }
                                                03=else
                                                04 ^{
                                                    01=ShowEffect('Weapon.AuraEffect',3,cur_missile,cur_ship,0,0,0,0,0,0);
                                                    02=MissileTarget(cur_missile,target_ship);
                                                    03=MissileOwner(cur_missile,cur_ship);
                                                    04=if(MissileType(cur_missile)==t_Weapon18 && power<80)power=power+30;
                                                    05=if(MissileType(cur_missile)==t_Weapon4 && power<80)power=power+40;
                                                    06=if(MissileType(cur_missile)==t_Weapon15 && power<60)power=power+60;
                                                    07=if(MissileType(cur_missile)==t_CustomWeapon && power<70)power=power+40;
                                                }
                                            }
                                            06=if(power>70)break;
                                        }
                                    }
                                    12=else
                                    13 ^{
                                        01=for(i=0;i<StarMissiles(ShipStar(cur_ship));i=i+1)
                                        02 ^{
                                            01=cur_missile=StarMissiles(ShipStar(cur_ship),i);
                                            02=if(Dist(cur_ship,cur_missile)>500)continue;
                                            03=if(MissileAngle(cur_missile)-Angle(cur_missile,cur_ship)<=10 && MissileAngle(cur_missile)-Angle(cur_missile,cur_ship)>-10)
                                            04 ^{
                                                01=ShowEffect('Weapon.AuraEffect',3,cur_missile,cur_ship,0,0,0,0,0,0);
                                                02=MissileAngle(cur_missile,MissileAngle(cur_missile)-Rnd(5,50));
                                                03=if(MissileType(cur_missile)==t_Weapon18 && power<80)power=power+30;
                                                04=if(MissileType(cur_missile)==t_Weapon4 && power<80)power=power+40;
                                                05=if(MissileType(cur_missile)==t_Weapon15 && power<60)power=power+60;
                                                06=if(MissileType(cur_missile)==t_CustomWeapon && power<70)power=power+40;
                                            }
                                            05=if(power>70)break;
                                        }
                                    }
                                    14=if(power>0)
                                    15 ^{
                                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                        02=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                    }
                                }
                            }
                            03=else CustomArtTextData(cur_item,2,'');
                        }
                        03=else CustomArtTextData(cur_item,2,'');
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,2))
                        02 ^{
                            01=synchr=0;
                            02=for(i=1;i<=4;i=i+1)
                            03 ^{
                                01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                02=if(item==cur_item)continue;
                                03=if(EquipmentImageName(item)=='ArtDominator-15')
                                04 ^{
                                    01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                    02=break;
                                }
                            }
                            04=if(synchr)
                            05 ^{
                                01=str text='';
                                02=dword hole;
                                03=if(findsubstr(CustomArtTextData(cur_item,2),'')==-1) CustomArtTextData(cur_item,2,'StarNone');
                                04=if(findsubstr(Name(ShipStar(cur_ship)),CustomArtTextData(cur_item,2))==-1)
                                05 ^{
                                    01=if(StarHoles(ShipStar(cur_ship))>0)
                                    02 ^{
                                        01=for(i=0;i<StarHoles(ShipStar(cur_ship));i=i+1)
                                        02 ^{
                                            01=hole=StarHoles(ShipStar(cur_ship),i);
                                            02=if(Id(hole)>CustomArtData(cur_item,1))CustomArtData(cur_item,1,Id(hole));
                                            03=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextStar')+(i+1)+'. <color=255,245,80>';
                                            04=if(HoleStar1(hole)==HoleStar2(hole))
                                            05 ^{
                                                01=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBaseKeller')+'</color>';
                                            }
                                            06=else if(HoleStar1(hole)==ShipStar(cur_ship))
                                            07 ^{
                                                01=text=text+Name(HoleStar2(hole))+'</color>';
                                            }
                                            08=else
                                            09 ^{
                                                01=text=text+Name(HoleStar1(hole))+'</color>';
                                            }
                                        }
                                        03=Ether(0,'Локализация ЧД',CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEther')+text);
                                    }
                                    03=CustomArtTextData(cur_item,2,Name(ShipStar(cur_ship)));
                                }
                                06=else
                                07 ^{
                                    01=if(StarHoles(ShipStar(cur_ship))>0)
                                    02 ^{
                                        01=item=0;
                                        02=for(i=0;i<StarHoles(ShipStar(cur_ship));i=i+1)
                                        03 ^{
                                            01=hole=StarHoles(ShipStar(cur_ship),i);
                                            02=if(Id(hole)>CustomArtData(cur_item,1))
                                            03 ^{
                                                01=if(Id(hole)>item)item=Id(hole);
                                                02=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextStar')+(i+1)+'. <color=255,245,80>';
                                                03=if(HoleStar1(hole)==HoleStar2(hole))
                                                04 ^{
                                                    01=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBaseKeller')+'</color>';
                                                }
                                                05=else if(HoleStar1(hole)==ShipStar(cur_ship))
                                                06 ^{
                                                    01=text=text+Name(HoleStar2(hole))+'</color>';
                                                }
                                                07=else
                                                08 ^{
                                                    01=text=text+Name(HoleStar1(hole))+'</color>';
                                                }
                                            }
                                        }
                                        04=if(item>CustomArtData(cur_item,1))
                                        05 ^{
                                            01=CustomArtData(cur_item,1,item);
                                            02=Ether(0,'Локализация ЧД',CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEther')+text);
                                        }
                                    }
                                }
                            }
                            06=else
                            07 ^{
                                01=CustomArtTextData(cur_item,2,'');
                            }
                            08=CustomArtData(cur_item,2,0);
                        }
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=if(findsubstr(CustomArtTextData(cur_item,2),'')==-1)CustomArtTextData(cur_item,2,'StarNone');
                        02=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtTextData(cur_item,2));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=9
            Test1=</color><br>Последняя система: <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Блок с интеллектуальной моделью, состоящий из четырёх процессоров. Основные два обрабатываю информацию о наличии ближайших целей, два вторичных фиксируют во временную память бинарную логику ракетной системы распознавания свой-чужой, для направления снаряда в ближайшую цель. Собирает аналитическую информацию с черных дыр при помощи Стабилитрона.<TextData1><TextData3>
            TextBaseKeller=база Келлера
            TextEther=Обнаружены гиперпространственные проходы. Точки назначения выходов гипепространственных проходов:
            TextStar=</color><br>
        }
        ArtDominator-15 ^{
            /=Келлер арт
            Broken=(дестабилизирован)
            BrokenInBattle=Меткое попадание противника вывело из строя Стабилитрон. Требуется вмешательство специалистов для восстановления работоспособности.
            BrokenInUse=Похоже нагрузка на интерфейсную шину настолько велика, что даже келлерский Стабилитрон не в состоянии долгое время синхронизировать работу модулей. Без ремонта тут не обойтись.
            Cost=10
            Description=Для коалиционных кораблей хранение анализируемой информации доминаторов не актуально. Но мы обнаружили, что он может взаимодействовать с другими ошметками, причем их не надо подключать через разъем артефактов, а можно напрямую через интерфейсную шину Стабилитрона. Настроить стабильную работу мы смогли только со следующими ошметками: Стволовик, Спимер, Метаблок, Базовая конструкция и Спектрон.
            Description=Обнаружена также незадокументированная возможность – это уменьшение влияния гравитационных полей в черных дырах в 2 раза, благодаря миниатюрному генератору антипространственных волн.
            DescriptionLow=Благодаря миниатюрному генератору антипространственных волн уменьшает влияние гравитационных полей в черных дырах в 2 раза. Раз в 0.0001 гс производится синхронизация с модулями, находящимися в трюме: Стволовик, Спимер, Метаблок, Базовая конструкция, Спектрон.
            Equipments=127
            Name=Стабилитрон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnMissileShot,t_OnTakingDamageSp,t_OnEnteringForm,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag0='WRadius+1';
                                02=str tag1='Radar+1';
                                03=str tag2='Scan+1';
                                04=int i;
                                05=dword item;
                                06=dword synchr=0;
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else
                                    04 ^{
                                        01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        04=exit;
                                    }
                                }
                                09=if(synchr==7)
                                10 ^{
                                    01=unknown Arts;
                                    02=Arts=newarray(5);
                                    03=for(i=0;i<=4;i=i+1)Arts[i]=0;
                                    04=for(i=1;i<=4;i=i+1)
                                    05 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-1')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                                            03=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-3')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                            03=continue;
                                        }
                                        08=if(EquipmentImageName(item)=='ArtDominator-5')
                                        09 ^{
                                            01=Arts[2]=-1;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                            03=continue;
                                        }
                                        10=if(EquipmentImageName(item)=='ArtDominator-8')
                                        11 ^{
                                            01=Arts[3]=-1;
                                            02=continue;
                                        }
                                        12=if(EquipmentImageName(item)=='ArtDominator-17')
                                        13 ^{
                                            01=Arts[4]=-1;
                                            02=continue;
                                        }
                                    }
                                    06=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                    07 ^{
                                        01=item=ShipArts(cur_ship,i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(ItemIsBroken(item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-1')
                                        05 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-3')
                                        07 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        08=if(EquipmentImageName(item)=='ArtDominator-5')
                                        09 ^{
                                            01=if(Arts[2]==0)
                                            02 ^{
                                                01=Arts[2]=1;
                                                02=CustomArtData(cur_item,1,item);
                                                03=continue;
                                            }
                                            03=else continue;
                                        }
                                        10=if(EquipmentImageName(item)=='ArtDominator-8')
                                        11 ^{
                                            01=if(Arts[3]==0)
                                            02 ^{
                                                01=Arts[3]=1;
                                                02=synchr=(550-GalaxyDiffLevels())/100+1;
                                                03=if(ShipInNormalSpace(cur_ship)) CustomArtData(item,1,min(CustomArtData(item,1)+synchr,1000));
                                                04=continue;
                                            }
                                            03=else continue;
                                        }
                                        12=if(EquipmentImageName(item)=='ArtDominator-17')
                                        13 ^{
                                            01=if(Arts[4]==0)
                                            02 ^{
                                                01=Arts[4]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    08=dword meta=0;
                                    09=if(Arts[2]==1)
                                    10 ^{
                                        01=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
                                        02 ^{
                                            01=item=ShipWeapon(cur_ship,i);
                                            02=if(WeaponTarget(item))
                                            03 ^{
                                                01=if(ObjectType(WeaponTarget(item))==5)
                                                02 ^{
                                                    01=if(GetOwner(WeaponTarget(item))==Kling)
                                                    02 ^{
                                                        01=meta=1;
                                                        02=if(CustomArtData(CustomArtData(cur_item,1),1)<10) CustomArtData(cur_item,1,CustomArtData(CustomArtData(cur_item,1),1)+2);
                                                        03=break;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    11=dword param=0;
                                    12=if(Arts[0]==1)param=param | 1;
                                    13=if(Arts[1]==1)param=param | 2;
                                    14=if(Arts[2]==1 && meta==1)param=param | 4;
                                    15=if(Arts[3]==1)param=param | 8;
                                    16=if(Arts[4]==1)param=param | 16;
                                    17=CustomArtData(cur_item,2,param);
                                    18=if(Arts[0]==1)
                                    19 ^{
                                        01=if(ItemSubrace(cur_item)==1)i=10+GetEquipmentStats(ShipEqInSlot(cur_ship,t_Radar),0)/100;
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag0),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),i);
                                        }
                                    }
                                    20=if(Arts[1]==1)
                                    21 ^{
                                        01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                    }
                                    22=if(Arts[2]==1)
                                    23 ^{
                                        01=i=10+8*ShipSkill(cur_ship,2)/6;
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                    }
                                    24=if(CustomArtData(cur_item,2)>0)
                                    25 ^{
                                        01=param=0;
                                        02=if(Arts[0]==1)param=param+0;
                                        03=if(Arts[1]==1)param=param+150;
                                        04=if(Arts[2]==1)param=param+150;
                                        05=if(Arts[3]==1)param=param+100;
                                        06=if(Arts[4]==1)param=param+0;
                                        07=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                        08=i=param*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                        09=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                    }
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,2)>0)CustomArtData(cur_item,2,0);
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot))
                09 ^{
                    01=if((CustomArtData(cur_item,2) & 1)==1)
                    02 ^{
                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        02=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                    03=if((CustomArtData(cur_item,2) & 4)==4)
                    04 ^{
                        01=item=CustomArtData(cur_item,1);
                        02=if(GetOwner(ScriptItemActObject1())==Kling && ShipTypeN(ScriptItemActObject1())==t_Kling)
                        03 ^{
                            01=if(DomikProgramm(ScriptItemActObject1())!=11 && !ShipInScript(ScriptItemActObject1()))
                            02 ^{
                                01=meta=0;
                                02=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.7'))==0)meta=3;
                                03=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.5'))==0)meta=4;
                                04=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.4'))==0)meta=5;
                                05=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.3'))==0)meta=6;
                                06=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.2'))==0)meta=8;
                                07=if(meta>0 && CustomArtData(item,1)>meta && Rnd(1,100)<=2+CustomArtData(item,1)-meta)
                                08 ^{
                                    01=DomikProgramm(ScriptItemActObject1(),11);
                                    02=DomikProgrammDate(ScriptItemActObject1(),1);
                                    03=ShipAddCustomShipInfo(ScriptItemActObject1(),'Metablok','',2);
                                    04=OrderNone(ScriptItemActObject1());
                                    05=CustomArtData(item,1,CustomArtData(item,1)-meta);
                                    06=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    07=i=300*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    08=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                    05=if((CustomArtData(cur_item,2) & 8)==8)
                    06 ^{
                        01=param=ScriptItemActParam();
                        02=ScriptItemActParam(param+(10*param)/100);
                        03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        04=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else if(ScriptItemActionType(t_OnMissileShot))
                11 ^{
                    01=if((CustomArtData(cur_item,2) & 1)==1)
                    02 ^{
                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        02=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                    03=if((CustomArtData(cur_item,2) & 8)==8)
                    04 ^{
                        01=param=MissileMinDamage(ScriptItemActObject1());
                        02=MissileMinDamage(ScriptItemActObject1(),param+(10*param)/100);
                        03=param=MissileMaxDamage(ScriptItemActObject1());
                        04=MissileMaxDamage(ScriptItemActObject1(),param+(10*param)/100);
                        05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        06=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                12=else if(ScriptItemActionType(t_OnTakingDamageSp))
                13 ^{
                    01=if((CustomArtData(cur_item,2) & 16)==16)
                    02 ^{
                        01=ScriptItemActParam(ScriptItemActParam()-(ScriptItemActParam()*20)/100);
                        02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        03=i=200*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                14=else if(ScriptItemActionType(t_OnEnteringForm))
                15 ^{
                    01=if(CurrentForm()=='Talk')
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=synchr=0;
                                02=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                03 ^{
                                    01=item=ShipEqInSlot(Player(),i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else exit;
                                }
                                04=if(synchr==7)
                                05 ^{
                                    01=Arts=newarray(2);
                                    02=for(i=0;i<=1;i=i+1)Arts[i]=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(Player(),t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=continue;
                                        }
                                    }
                                    05=for(i=1;i<=ShipArts(Player());i=i+1)
                                    06 ^{
                                        01=item=ShipArts(Player(),i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(ItemIsBroken(item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    07=effect=0;
                                    08=if(Arts[0]==-1 && Arts[1]==1)effect=1;
                                    09=if(Arts[0]==1 && Arts[1]==-1)effect=1;
                                    10=if(Arts[0]==1 && Arts[1]==1)effect=1;
                                    11=if(effect)
                                    12 ^{
                                        01=if(ScriptItemActObject1())
                                        02 ^{
                                            01=if(GetOwner(ScriptItemActObject1())==Kling)
                                            02 ^{
                                                01=if(ItemSubrace(ShipItems(ScriptItemActObject1(),0))==ItemSubrace(cur_item))
                                                02 ^{
                                                    01=SetProgramm(5,GetProgramm(5)+1);
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                16=else if(ScriptItemActionType(t_OnStartAB))
                17 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            03 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else exit;
                            }
                            04=if(synchr==7)
                            05 ^{
								01=ABShipModifiers(cur_ship,'gravity',ABShipModifiers(cur_ship,'gravity')-50);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                18=else if(ScriptItemActionType(t_OnItemEquip))
                19 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							03 ^{
								01=item=ShipEqInSlot(cur_ship,i);
								02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
								03=else exit;
							}
							04=if(synchr==7)
							05 ^{
								01=ABShipModifiers(cur_ship,'gravity',ABShipModifiers(cur_ship,'gravity')-50);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                20=else if(ScriptItemActionType(t_OnItemDeEquip))
                21 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'gravity',ABShipModifiers(cur_ship,'gravity')+50);
						}
					}
				}
                22=else
                23 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag0='WRadius+1';
                            02=tag1='Radar+1';
                            03=tag2='Scan+1';
                            04=synchr=0;
                            05=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            06 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else
                                04 ^{
                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode2'));
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                                    03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                    04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                    05=exit;
                                }
                            }
                            07=if(synchr==7)
                            08 ^{
                                01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode1'));
                                02=Arts=newarray(5);
                                03=for(i=0;i<=4;i=i+1)Arts[i]=0;
                                04=for(i=1;i<=4;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    04=if(EquipmentImageName(item)=='ArtDominator-1')
                                    05 ^{
                                        01=Arts[0]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                                        03=continue;
                                    }
                                    06=if(EquipmentImageName(item)=='ArtDominator-3')
                                    07 ^{
                                        01=Arts[1]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        03=continue;
                                    }
                                    08=if(EquipmentImageName(item)=='ArtDominator-5')
                                    09 ^{
                                        01=Arts[2]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        03=continue;
                                    }
                                    10=if(EquipmentImageName(item)=='ArtDominator-8')
                                    11 ^{
                                        01=Arts[3]=-1;
                                        02=continue;
                                    }
                                    12=if(EquipmentImageName(item)=='ArtDominator-17')
                                    13 ^{
                                        01=Arts[4]=-1;
                                        02=continue;
                                    }
                                }
                                06=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                07 ^{
                                    01=item=ShipArts(cur_ship,i);
                                    02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    03=if(ItemIsBroken(item))continue;
                                    04=if(EquipmentImageName(item)=='ArtDominator-1')
                                    05 ^{
                                        01=if(Arts[0]==0)
                                        02 ^{
                                            01=Arts[0]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    06=if(EquipmentImageName(item)=='ArtDominator-3')
                                    07 ^{
                                        01=if(Arts[1]==0)
                                        02 ^{
                                            01=Arts[1]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    08=if(EquipmentImageName(item)=='ArtDominator-5')
                                    09 ^{
                                        01=if(Arts[2]==0)
                                        02 ^{
                                            01=Arts[2]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    10=if(EquipmentImageName(item)=='ArtDominator-8')
                                    11 ^{
                                        01=if(Arts[3]==0)
                                        02 ^{
                                            01=Arts[3]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    12=if(Arts[4]==0)
                                    13 ^{
                                        01=if(EquipmentImageName(item)=='ArtDominator-17')
                                        02 ^{
                                            01=Arts[4]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                }
                                08=str text='</color>';
                                09=if(Arts[0]==-1)text=text+'<color=255,0,0>';
                                10=if(Arts[0]==0)text=text+'';
                                11=if(Arts[0]==1)text=text+'<color=255,245,80>';
                                12=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-1.Name')+'</color>, ';
                                13=if(Arts[1]==-1)text=text+'<color=255,0,0>';
                                14=if(Arts[1]==0)text=text+'';
                                15=if(Arts[1]==1)text=text+'<color=255,245,80>';
                                16=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+'</color>, ';
                                17=if(Arts[2]==-1)text=text+'<color=255,0,0>';
                                18=if(Arts[2]==0)text=text+'';
                                19=if(Arts[2]==1)text=text+'<color=255,245,80>';
                                20=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+'</color>, ';
                                21=if(Arts[3]==-1)text=text+'<color=255,0,0>';
                                22=if(Arts[3]==0)text=text+'';
                                23=if(Arts[3]==1)text=text+'<color=255,245,80>';
                                24=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+'</color>, ';
                                25=if(Arts[4]==-1)text=text+'<color=255,0,0>';
                                26=if(Arts[4]==0)text=text+'';
                                27=if(Arts[4]==1)text=text+'<color=255,245,80>';
                                28=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-17.Name')+'</color>.';
                                29=CustomArtTextData(cur_item,2,text);
                                30=if(Arts[0]==1)
                                31 ^{
                                    01=if(ItemSubrace(cur_item)==1)i=10+GetEquipmentStats(ShipEqInSlot(cur_ship,t_Radar),0)/100;
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag0),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),i);
                                    }
                                }
                                32=if(Arts[1]==1)
                                33 ^{
                                    01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                }
                                34=if(Arts[2]==1)
                                35 ^{
                                    01=i=10+8*ShipSkill(cur_ship,2)/6;
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-1.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-17.Name')+'.');
                            03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                            04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                            05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-1.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-17.Name')+'.');
                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag0),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                        04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag0)));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        04=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test4')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=2
            Test1=</color><br>Дальн.выстрела: +<color=255,245,80>
            Test2=</color> Радар: +<color=255,245,80>
            Test3=</color> Сканер: +<color=255,245,80>
            Test4=</color>% Износ: <color=255,245,80>
            Text=Благодаря миниатюрному генератору антипространственных волн уменьшает влияние гравитационных полей в черных дырах в 2 раза. Раз в 0.0001 гс производится синхронизация с модулями, находящимися в трюме: <TextData2><TextData1><TextData3>
        }
        ArtDominator-16 ^{
            /=Келлер арт
            Broken=(разваливается)
            BrokenInBattle=В пылу жаркого сражения Дестабилизатор закончил свою работу красиво - небольшим взрывом, который, впрочем, ничего кроме самого Дестабилизатора не повредил.
            BrokenInUse=Дестабилизирующие поля Дестабилизатора вышли из под контроля и замкнулись вовнутрь, что могло бы привести к разложению устройства на элементарные частицы и серьезным повреждениям корабля, но к счастью прибор быстро отключился, однако включить то что от него осталось можно было даже не пытаться.
            Cost=12
            Description=Этот ошметок подготавливает объекты для анализа. Но так как подготовка объекта для анализа путем разложения его на субатомы для нас не совсем актуальна, мы смогли немного модифицировать энергию и направить ее на следующие объекты: разрушение или вывод из строя основных систем корабля, разрушение или перегрев двигателя, ослабление брони, блокировка оружия, нейтрализация дроида. У каждого воздействия свой шанс активации, одновременно все воздействия применится не могут. Подобный эффект мы смогли запустить только при воздействии энергетического оружия на объекты.
            Description=Обнаружили высокую совместимость к усилению энергетическому оружия, наверное поэтому келлеры так его обожают.
            DescriptionLow=Активный элемент системы разложения материалов до групп субатомов. Подготавливает объект для анализа, постепенно выводя из строя основные системы корабля. Повышает урон энергетического оружия.
            Equipments=68
            Name=Дестабилизатор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot2,t_OnShowingItemInfo,t_OnLeavingForm,t_OnNonStandartEqChange
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag='WEnergy+1';
                                02=int i;
                                03=dword item;
                                04=dword synchr=0;
                                05=dword pow=1;
                                06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                            02=CustomArtData(cur_item,1,0);
                                            03=exit;
                                        }
                                    }
                                }
                                09=if(synchr==equip)
                                10 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=i=17+3*ShipSkill(cur_ship,2);
                                    03=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                    04 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    05=else
                                    06 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    07=CustomArtData(cur_item,1,i);
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot2))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=if(ScriptItemActParam() & 1)
                        02 ^{
                            01=if(Rnd(1,100)<=5)
                            02 ^{
                                01=EnginePower(ScriptItemActObject1(),1);
                            }
                            03=if(Rnd(1,100)<=50)
                            04 ^{
                                01=dword param;
                                02=param=ScriptItemActParam();
                                03=i=Rnd(1,4);
                                04=if(i==1)param=param | 128;
                                05=if(i==2)param=param | 131072;
                                06=if(i==3)param=param | 262144;
                                07=if(i==4)param=param | 524288;
                                08=ScriptItemActParam(param);
                            }
                            05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            06=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
                10=else
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='WEnergy+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=str text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=i=17+3*ShipSkill(cur_ship,2);
                                02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                03 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                04=else
                                05 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=2
            Test=</color><br>Износ: <color=255,245,80>
            Test1=</color><br>Урон (дата1): <color=255,245,80>
            Text=Активный элемент системы разложения материалов до групп субатомов. Подготавливает объект для анализа, постепенно выводя из строя основные системы корабля.
            Text=Урон энергетического оружия: <Data1> ед.<TextData1><TextData3>
        }
        ArtDominator-17 ^{
            /=Келлер арт
            Broken=(спекся)
            BrokenInBattle=Проводить кварковый анализ материалов в боевой обстановке не самая лучшая идея, теперь вы об этом знаете. Хотя дымящимся останкам спектрона от этого не особенно легче.
            BrokenInUse=Кварковый излучатель спектрона серьезно износился и вместо направленного пучка начал выпускать кварки в совершенно случайных направлениях. Пользы теперь от этого устройства немного, потребуется осмотр специалиста.
            Cost=8
            Description=Производить анализ материалов с научной точки зрения – это очень хорошо. Но в реалиях войны на это совсем нет времени. Поэтому мы начали проводить кварковые бомбардировки объектов, чтобы определить, поможет ли это как-нибудь в сражении. И действительно, обнаружили, что при бомбардировке кварками осколочных снарядов уменьшается их поражающий эффект на 20%. Других более эффективных использований в бою не обнаружили, но и это определенно сможет помочь любому бойцу в сражении.
            DescriptionLow=Кварковый анализатор. Производит детальный спектральный анализ изучаемых материалов путем кварковой бомбардировки изучаемой поверхности. При бомбардировке кварками осколочных снарядов уменьшает их поражающий эффект на <clr>20<clrEnd>%.
            Equipments=72
            Name=Спектрон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnTakingDamageSp,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=dword pow=1;
                                05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                07 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                08=if(synchr==equip) CustomArtData(cur_item,2,1);
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=CustomArtData(cur_item,3,0);
                            02=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            03 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnTakingDamageSp))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=ScriptItemActParam(ScriptItemActParam()-(ScriptItemActParam()*20)/100);
                        02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        03=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else CustomArtTextData(cur_item,1,'');
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=if(!ItemIsBroken(cur_item))
                        03 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==1)
                                02 ^{
                                    01=synchr=0;
                                    02=for(i=1;i<=4;i=i+1)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    04=if(!synchr)
                                    05 ^{
                                        01=str art='';
                                        02=synchr2=0;
                                        03=if(ItemSubrace(cur_item)==1)
                                        04 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==1)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7) art='ArtDominator-15';
                                        }
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=4
            Test=</color><br>Износ: <color=255,245,80>
            Text=Кварковый анализатор. Производит детальный спектральный анализ изучаемых материалов путем кварковой бомбардировки изучаемой поверхности. При бомбардировке кварками осколочных снарядов уменьшает их поражающий эффект на <clr>20<clrEnd>%.<TextData1><TextData3>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
        }
        ArtDominator-18 ^{
            /=Келлер арт
            Broken=(не работает)
            BrokenInBattle=Оптические узлы Мимикрона повредились в результате меткого попадания противника. Больше никаких голограмм, по крайней мере пока прибор не будет сдан в ремонт.
            BrokenInUse=Похоже, что окружающая обстановка оказалась слишком сложной и изменчивой для воспроизведения. Мимикрон выдал ошибку и больше вы ничего от него добиться не смогли.
            Cost=10
            Description=Этот ошметок очень излюблен кораблями келлера типа «смерш». Благодаря нему он способен проецировать на поверхность корпуса голограмму окружающей обстановки, что создает трудности при прицеливании на данный тип корабля. В лабораторных условиях воспроизвести данную механику работы мы не смогли, смогли сделать только частичную и направили ее на маскировку уязвимых и массивных участков корпуса. В практическом применении, в бою, можно не опасаться, что враг будет целится в уязвимые участки корпуса, а будет наоборот в защищенные. Можно сказать, что данный модуль будет давать дополнительную броню. В гиперпространстве данный эффект тоже будет работать, что даст +20% защиты.
            DescriptionLow=Маскировочный узел. Голограмма маскирует уязвимые участки корпуса, тем самым подставляя наиболее массивные. Чем больше корпус, тем труднее сделать маскировку. Защита корабля в гиперпространстве +<color=255,245,80>20</color>%.
            Equipments=80
            Name=Мимикрон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnTakingDamage,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnLeavingForm,t_OnNonStandartEqChange
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag='Hull+1';
                                02=dword hullmax=4;
                                03=int i;
                                04=dword item;
                                05=dword synchr=0;
                                06=dword pow=1;
                                07=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                09 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                            02=CustomArtData(cur_item,1,0);
                                            03=exit;
                                        }
                                    }
                                }
                                10=if(synchr==equip)
                                11 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=if(ShipArmor(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))>=hullmax+GetEquipmentStats(ShipItems(cur_ship,0),0))
                                    03 ^{
                                        01=i=6+1500/ItemSize(ShipItems(cur_ship,0));
                                        02=i=i-ShipArmor(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+GetEquipmentStats(ShipItems(cur_ship,0),0)+hullmax;
                                        03=if(i<1)i=1;
                                    }
                                    04=else i=6+1500/ItemSize(ShipItems(cur_ship,0));
                                    05=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                    06 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    07=else
                                    08 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnTakingDamage))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        02=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else if(ScriptItemActionType(t_OnStartAB))
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'fragility',ABShipModifiers(cur_ship,'fragility')-20);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                12=else if(ScriptItemActionType(t_OnItemEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=synchr=0;
							02=pow=1;
							03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							05 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							06=if(synchr==equip)
							07 ^{
								01=ABShipModifiers(cur_ship,'fragility',ABShipModifiers(cur_ship,'fragility')-20);
								02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
								04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
				}
                14=else if(ScriptItemActionType(t_OnItemDeEquip))
                15 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=ABShipModifiers(cur_ship,'fragility',ABShipModifiers(cur_ship,'fragility')+20);
						}
					}
				}
                16=else
                17 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='Hull+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=str text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=if(ShipArmor(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))>=hullmax+GetEquipmentStats(ShipItems(cur_ship,0),0))
                                02 ^{
                                    01=i=6+1500/ItemSize(ShipItems(cur_ship,0));
                                    02=i=i-ShipArmor(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+GetEquipmentStats(ShipItems(cur_ship,0),0)+hullmax;
                                    03=if(i<1)i=1;
                                }
                                03=else i=6+1500/ItemSize(ShipItems(cur_ship,0));
                                04=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                05 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=else
                                07 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                08=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                09=ShipCalcParam(cur_ship);
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=6
            Test=</color><br>Износ: <color=255,245,80>
            Text=Маскировочный узел. Голограмма маскирует уязвимые участки корпуса, тем самым подставляя наиболее массивные. Чем больше корпус, тем труднее сделать маскировку. Защита корабля в гиперпространстве +<color=255,245,80>20</color>%.
            Text=Броня: <Data1> ед.<TextData1><TextData3>
        }
        ArtDominator-19 ^{
            /=Террон арт
            Broken=(опустошен)
            BrokenInBattle=Взрыв, произошедший в результате вражеского выстрела задел Обогатитель. В отсеке хранения наноботов образовалась дыра и из нее медленно вытекла густая зеркальная жидкость - останки миллиардов наноботов, которые уже ничего и никогда не преобразуют.
            BrokenInUse=На обогащение ушли последние остатки наноботов. Необходимо пополнить их запас в ближайшем сервисном центре.
            Cost=8
            Description=Данный модуль внедряет в устройства наноботы, которые запрограммированы на преобразование любых тел в терроноидный вид. Направляя в наноботы дополнительную энергию и ноды мы обнаружили подпрограмму наноботов, которая оптимизирует конструкцию усройств и облегчает их массу. Однако при воздействии на устройства других видов доминаторов оптимизация не срабатывает, хотя энергию и ноды потребляет такую же.
            Description=Наноботы также способны изменять структуру осколочных снарядов. Такие снаряды наносят больше повреждений, чем до их преобразования. Жаль конечно, что срок жизни снарядов небольшой, а то мы могли бы заменить все снаряды, используемые в наших коалиционных осколочных пушках.
            DescriptionLow=Аппарат для преобразования твердых тел в терроноидный вид путем внедрения наноботов.
            DescriptionLow=Позволяет преобразовать любое оборудование или оружие в его терроноидный аналог, при этом оптимизируется его конструкция, что немного снижает массу готового устройства. Однако этот процесс весьма энергоемкий и требует нодов. Увеличивают поражающий эффект от выстрелов осколочных орудий.
            Equipments=68
            Name=Обогатитель
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnMissileShot,t_OnAnotherItem,t_OnShowingItemInfo,t_OnLeavingForm,t_OnNonStandartEqChange
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
				04=str text;
                05=if(ScriptItemActionType(t_OnStep))
                06 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag='WSplinter+1';
                                02=int i;
                                03=dword item;
                                04=dword synchr=0;
                                05=dword pow=1;
                                06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                            02=exit;
                                        }
                                    }
                                }
                                09=if(synchr==equip) CustomArtData(cur_item,2,1);
                                10=if(synchr==equip && ShipInNormalSpace(cur_ship))
                                11 ^{
                                    01=i=(550-GalaxyDiffLevels())/100+1;
                                    02=CustomArtData(cur_item,1,min(CustomArtData(cur_item,1)+i,1000));
                                    03=synchr=0;
                                    04=pow=1;
                                    05=equip=CT('Artefacts.CustomArtefacts.ArtDominator-23.Equipments');
                                    06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                    07 ^{
                                        01=pow=pow*2;
                                        02=if((equip & pow/2)==pow/2)
                                        03 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                            03=else break;
                                        }
                                    }
                                    08=if(synchr==equip)
                                    09 ^{
                                        01=for(i=1;i<=4;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)=='ArtDominator-23')
                                            04 ^{
                                                01=if(!ItemIsBroken(item)) CustomArtData(cur_item,1,min(CustomArtData(cur_item,1)+i,1000));
                                                02=break;
                                            }
                                        }
                                    }
                                    10=i=12+2*ShipSkill(cur_ship,2)+2*CustomArtData(cur_item,1)/125;
                                    11=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                    12 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    13=else
                                    14 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
                07=else if(ScriptItemActionType(t_OnReduceEqUse))
                08 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=if(cur_ship==Player()) Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                09=else if(ScriptItemActionType(t_OnWeaponShot) && ScriptItemActionType(t_OnMissileShot))
                10 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=CustomArtData(cur_item,1,max(CustomArtData(cur_item,1)-10,0));
                        02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        03=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                11=else if(ScriptItemActionType(t_OnAnotherItem))
                12 ^{
                    01=if(ItemType(ScriptItemActObject1())>t_Hull && ItemType(ScriptItemActObject1())<=t_CustomWeapon)
                    02 ^{
                        01=if(ItemIsBroken(cur_item))
                        02 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBroken');
                            02=MessageBox(text);
                            03=exit;
                        }
                        03=else
                        04 ^{
                            01=if(ItemOwner(ScriptItemActObject1())==Kling && ItemSubrace(ScriptItemActObject1())==ItemSubrace(cur_item))
                            02 ^{
                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoConvert');
                                02=MessageBox(text);
                                03=exit;
                            }
                            03=else
                            04 ^{
                                01=dword nodes;
                                02=dword energ;
                                03=nodes=max(4*ItemCost(ScriptItemActObject1())*(i+1)/1000,i+1);
                                04=energ=(i+1)*(1+3*ItemLevel(ScriptItemActObject1()));
                                05=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes || CustomArtData(cur_item,1)/10<energ)
                                06 ^{
                                    01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes && CustomArtData(cur_item,1)/10<energ)
                                    02 ^{
                                        01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConvertNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNodes')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                        02=MessageBox(text);
                                        03=exit;
                                    }
                                    03=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes)
                                    04 ^{
                                        01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConvertNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNod');
                                        02=MessageBox(text);
                                        03=exit;
                                    }
                                    05=if(CustomArtData(cur_item,1)/10<energ)
                                    06 ^{
                                        01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConvertNeed')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                        02=MessageBox(text);
                                        03=exit;
                                    }
                                }
                                07=if(MessageBoxYesNo(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConvert')))
                                08 ^{
                                    01=if(ItemOwner(ScriptItemActObject1())!=Kling) ItemSize(ScriptItemActObject1(),ItemSize(ScriptItemActObject1())*95/100);
                                    02=ItemOwner(ScriptItemActObject1(),Kling);
                                    03=ItemSubrace(ScriptItemActObject1(),ItemSubrace(cur_item));
                                    04=GetNodesFromShip(cur_ship,nodes,ItemSubrace(cur_item));
                                    05=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-energ*10);
                                    06=ScriptItemActParam(2);
                                    07=Sound('Sound.Repair');
                                    08=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    09=i=205*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                }
                            }
                        }
                    }
                }
                13=else
                14 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='WSplinter+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWSplinter')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=i=12+2*ShipSkill(cur_ship,2)+2*CustomArtData(cur_item,1)/125;
                                02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                03 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                04=else
                                05 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                07=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWSplinter')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+' ед.');
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                            04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWSplinter')+'-');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWSplinter')+'-');
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=2
            Test1=</color><br>Энергия (дата1): <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Аппарат для преобразования оборудования в терроноидный вид путем внедрения наноботов. Использование для преобразования энергии и нодов позволяет оптимизировать конструкцию устройств для снижения массы. Внедрение наноботов в осколочные снаряды увеличивают поражающий эффект от выстрела.<TextData2><TextData1><TextData3>
            TextBroken=Невозможно совершить преобразование, Обогатитель неисправен!
            TextConvert=Будете совершать преобразование?
            TextConvertNeed=Для преобразования необходимо
            TextEnerg=% энергии.
            TextEnergy=</color><br>Энергия: <color=255,245,80>
            TextNoConvert=Невозможно совершить преобразование, оборудование уже преобразовано!
            TextNod= нодов.
            TextNodes= нд. и
            TextWSplinter=</color>%<br>Осколочное оружие: +<color=255,245,80>
        }
        ArtDominator-2 ^{
            Broken=(опустошён)
            BrokenInBattle=Меткий выстрел противника пробил основную цистерну Турбийона и вся охлаждающая жидкость из неё утекла прямиком в открытый космос, а без этой жидкости прибор бесполезен.
            BrokenInUse=Похоже, что Турбийон истратил все свои запасы охлаждающей жидкости. До тех пор, пока она не будет восполнена, прибор абсолютно бесполезен.
            Cost=6
            Description=Знаете рейнджер, это очень интересный ошметок. Вот у вас когда-нибудь возникал вопрос, почему доминаторское оборудование не ломается? Теперь мы можем однозначно сказать, что дело в этом модуле. Он помимо того, что уменьшает перегрев двигателя, с помощью особой технологической жидкости, так еще с помощью этой жидкости значительно уменьшается износ оборудования. И еще под воздействием этой жидкости уменьшается износ оборудования от враждебных выстрелов.
            DescriptionLow=Бак с технической жидкостью, циркулирующей по охлаждающим каналам. Предотвращает перегрев двигателя системы и уменьшить износ всего установленного оборудования на корабле, особенно в боевых условиях.
            Equipments=10
            Name=Турбийон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnShowingItemInfo,t_OnGettingWeaponHit,t_OnGettingMissileHit
			OnActStepTypes=0,4,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=dword pow=1;
                                05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                07 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                08=if(synchr==equip) CustomArtData(cur_item,2,1);
                            }
                        }
                    }
                    03=if(ScriptItemActParam()==4)
                    04 ^{
                        01=if(ShipInNormalSpace(cur_ship))
                        02 ^{
                            01=if(CustomArtData(cur_item,2))
                            02 ^{
                                01=if(EnginePower(cur_ship)<=70)EnginePower(cur_ship,EnginePower(cur_ship)+20);
                                02=unknown eqitem;
                                03=eqitem=newarray(1);
                                04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(ItemDurability(item)<80)ArrayAdd(eqitem,item);
                                }
                                06=for(i=1;i<=4;i=i+1)
                                07 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    04 ^{
                                        01=if(!ItemIsBroken(item) && ItemDurability(item)<80)
                                        02 ^{
                                            01=ArrayAdd(eqitem,item);
                                        }
                                    }
                                }
                                08=for(i=1;i<=5;i=i+1)
                                09 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Weapon1,i);
                                    02=if(ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    03 ^{
                                        01=if(!ItemIsBroken(item) && ItemDurability(item)<80)
                                        02 ^{
                                            01=ArrayAdd(eqitem,item);
                                        }
                                    }
                                }
                                10=if(ArrayDim(eqitem)>1)
                                11 ^{
                                    01=dword param=0;
                                    02=int index;
                                    03=CustomArtData(cur_item,1,2+(2*ArrayDim(eqitem))/10);
                                    04=for(i=1;i<=CustomArtData(cur_item,1);i=i+1)
                                    05 ^{
                                        01=index=Rnd(1,ArrayDim(eqitem)-1);
                                        02=item=eqitem[index];
                                        03=param=param+1;
                                        04=ItemDurability(item,ItemDurability(item)+1);
                                        05=ArrayDelete(eqitem,index);
                                        06=if(!ArrayDim(eqitem))break;
                                    }
                                    06=CustomArtData(cur_item,1,param);
                                }
                                12=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                13=i=(50+param*40)*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                14=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                    05=else
                    06 ^{
                        01=if(CustomArtData(cur_item,2))CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnShowingItemInfo))
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=if(!ItemIsBroken(cur_item))
                        03 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==0)
                                02 ^{
                                    01=synchr=0;
                                    02=synchr2=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    05=if(!synchr)
                                    06 ^{
                                        01=str art='';
                                        02=if(ItemSubrace(cur_item)==0)
                                        03 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==0)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7) art='ArtDominator-12';
                                        }
                                        04=synchr2=0;
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr2)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+EnginePower(cur_ship));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
                10=else
                11 ^{
                    01=if(Rnd(0,10)<4)
                    02 ^{
                        01=if(CustomArtData(cur_item,2))
                        02 ^{
                            01=param=ScriptItemActParam();
                            02=param=param-(param & 16);
                            03=ScriptItemActParam(param);
                            04=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            05=i=100*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            06=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
            }
            Size+=3
            Test1=</color><br>Отремонтировано: <color=255,245,80>
            Test2=</color>шт. Перегрев двигателя: <color=255,245,80>
            Test3=</color> Износ: <color=255,245,80>
            Text=Бак с технической жидкостью, циркулирующей по охлаждающим каналам. Предотвращает перегрев двигателя системы и уменьшить износ всего установленного оборудования на корабле, особенно в боевых условиях.<TextData1><TextData3>
            TextConnect0=<br><color=255,245,80>(подключен к Релектору)</color>
        }
        ArtDominator-20 ^{
            /=Террон арт
            Broken=(нерепродуктоционен)
            BrokenInBattle=Меткое попадание противника снесло почти половину Репродуктора начисто. Прибор попытался репродуцировать свои недостающие части, однако мощности ему на это не хватило. Теперь ему поможет только профессиональный ремонт.
            BrokenInUse=Похоже, что в результате длительной работы и частых перезаписей носители данных Репродуктора износились, в результате чего у отрепродуцированных корпусов стали проявлятся дефекты. Похоже, что в дальнейшем лучше воздержаться от их использования, а Репродуктор сдать в ремонт.
            Cost=10
            Description=Данный ошметок использует технологии квантового дублирования материи. В руках терроноида квантовое дублирование возможно для любых сложных структур, но в наших руках получилось воспроизводить только простые структуры материалов. К таким «простым» структурам можно отнести корпус корабля, точнее его части. В бою воспроизведение поврежденной обшивки корабля, это значительная помощь ремонтного дроида. Однако заметили, что чем больше габариты корабля, тем затратным становится для устройства анализировать обшивку корабля и воспроизводить поврежденные участки.
            DescriptionLow=Часть системы воспроизведения терроноидов. Использует технологии квантового дублирования материи, воспроизводя элементы корпуса. Скорость «затягивания» пробоин и «отращивания» уничтоженных деталей зависит от габаритов корабля.
            Equipments=24
            Name=Репродуктор
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=2
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(!HullDamage(cur_ship) || !ShipInNormalSpace(cur_ship))exit;
					02=if(ItemIsInUse(cur_item))
					03 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=int i;
							02=dword item;
							03=dword synchr=0;
							04=dword pow=1;
							05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							07 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else exit;
								}
							}
							08=if(synchr==equip)
							09 ^{
								01=i=(10+5*ShipSkill(cur_ship,1)+5000/ItemSize(ShipItems(cur_ship,0)))*min(150-HullDamage(cur_ship),100)/100;
								02=if(i+HullHP(cur_ship)<ItemSize(ShipItems(cur_ship,0))) HullHP(cur_ship,i+HullHP(cur_ship));
								03=else HullHP(cur_ship,ItemSize(ShipItems(cur_ship,0)));
								04=CustomArtData(cur_item,1,i);
								05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								06=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
								07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnStartAB))
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')+50);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                10=else if(ScriptItemActionType(t_OnItemEquip))
                11 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')+50);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
					}
				}
                12=else if(ScriptItemActionType(t_OnItemDeEquip))
                13 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
					    01=if(!ItemIsBroken(cur_item))
                        02 ^{
							01=ABShipModifiers(cur_ship,'regen',ABShipModifiers(cur_ship,'regen')-50);
						}
					}
				}
                14=else
                15 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=CustomArtData(cur_item,1,0);
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                            11=if(synchr==equip)
                            12 ^{
                                01=i=(10+5*ShipSkill(cur_ship,1)+5000/ItemSize(ShipItems(cur_ship,0)))*min(150-HullDamage(cur_ship),100)/100;
                                02=CustomArtData(cur_item,1,i);
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtData(cur_item,1,0);
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtData(cur_item,1,0);
                        03=if(!ItemIsBroken(cur_item))
                        04 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==2)
                                02 ^{
                                    01=synchr=0;
                                    02=synchr2=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    05=if(!synchr)
                                    06 ^{
                                        01=str art='';
                                        02=if(ItemSubrace(cur_item)==2)
                                        03 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7)art='ArtDominator-21';
                                        }
                                        04=synchr2=0;
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr2)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                        02=synchr=(10+5*ShipSkill(cur_ship,1)+5000/ItemSize(ShipItems(cur_ship,0)))*min(150-HullDamage(cur_ship),100)/100;
                                                        03=CustomArtData(cur_item,1,synchr);
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=3
            Test=</color><br>Износ: <color=255,245,80>
            Text=Часть системы воспроизведения терроноидов. Использует технологии квантового дублирования материи, воспроизводя элементы корпуса. Скорость «затягивания» пробоин и «отращивания» уничтоженных деталей зависит от габаритов корабля.
            Text=Репродукцирование обшивки: +<Data1> ед.<TextData1><TextData3>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону)</color>
        }
        ArtDominator-21 ^{
            /=Террон арт
            Broken=(законсервирован)
            BrokenInBattle=Последний выстрел противника серьезно повредил хранилище данных Гнездотрона. К счастью большую часть информации удалось сохранить благодаря протоколу экстренного консервирования. Однако это также означает, что у вас не будет доступа к этим данным, пока вы не почините носители данных и не расконсервируете систему. Сделать это самому не представляется возможным, придется обратиться к специалисту.
            BrokenInUse=Протоколирующая система защиты, вшитая в Гнездотрон коалиционными учеными для того, чтобы не дать личностной матрице осознать то, что её используют не по назначению, забила тревогу. похоже, что из-за накопленных избыточных данных устройство начало понимать, что к чему и может устроить бунт. Дабы предотвратить потенциальное "восстание машин" на отдельно взятом корабле система защиты приняла решения об инициации протокола экстренной консервации Гнездотрона. Теперь, прежде чем вновь им воспользоваться вам придется сдать его в ремонт, дабы специалисты его расконсервировали и удалили из памяти лишние данные.
            Cost=12
            Description=Функционал преобразования более квадриллионом способов различных материй в терроноидный вид для коалиции не актуально. Но мы обнаружили возможность взаимодействовать с другими ошметками того же вида доминаторов, причем их не надо подключать через разъем артефактов, а можно напрямую через интерфейсную шину Гнездотрона. Мы смогли настроить ошметок для подключения Спимера, Метаблока, Энергопакета, Базовой конструкции, Репродуктора и Акселирина.
            DescriptionLow=Личностная матрица. Содержит базовый номер и более квадриллиона способов переработки различных материй в собственный вид. Подключает арты находящиеся в трюме: Спимер, Метаблок, Энергопакет, Базовая конструкция, Репродуктор, Акселирин.
            Equipments=127
            Name=Гнездотрон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnMissileShot,t_OnEnteringForm,t_OnLeavingForm,t_OnShowingItemInfo
			OnActStepTypes=0,2,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag1='Radar+1';
                                02=str tag2='Scan+1';
                                03=str tag3='Def+1';
                                04=dword defmax=10;
                                05=int i;
                                06=dword item;
                                07=dword synchr=0;
                                08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                09 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else
                                    04 ^{
                                        01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                        04=exit;
                                    }
                                }
                                10=if(synchr==7)
                                11 ^{
                                    01=unknown Arts;
                                    02=Arts=newarray(6);
                                    03=for(i=0;i<=5;i=i+1)Arts[i]=0;
                                    04=for(i=1;i<=4;i=i+1)
                                    05 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=continue;
                                        }
                                        08=if(EquipmentImageName(item)=='ArtDominator-7')
                                        09 ^{
                                            01=Arts[2]=-1;
                                            02=continue;
                                        }
                                        10=if(EquipmentImageName(item)=='ArtDominator-8')
                                        11 ^{
                                            01=Arts[3]=-1;
                                            02=continue;
                                        }
                                        12=if(EquipmentImageName(item)=='ArtDominator-20')
                                        13 ^{
                                            01=Arts[4]=-1;
                                            02=continue;
                                        }
                                        14=if(EquipmentImageName(item)=='ArtDominator-22')
                                        15 ^{
                                            01=Arts[5]=-1;
                                            02=continue;
                                        }
                                    }
                                    06=dword energ;
                                    07=dword expaenergo;
                                    08=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                    09 ^{
                                        01=item=ShipArts(cur_ship,i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(EquipmentImageName(item)=='ArtDominator-3')
                                        04 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        05=if(EquipmentImageName(item)=='ArtDominator-5')
                                        06 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        07=if(EquipmentImageName(item)=='ArtDominator-7')
                                        08 ^{
                                            01=if(Arts[2]==0)
                                            02 ^{
                                                01=Arts[2]=1;
                                                02=synchr=(550-GalaxyDiffLevels())/100+1;
                                                03=if(ShipInNormalSpace(cur_ship)) CustomArtData(item,1,min(CustomArtData(item,1)+synchr,1000));
                                                04=energ=CustomArtData(item,1);
                                                05=expaenergo=CustomArtData(item,2);
                                                06=continue;
                                            }
                                            03=else continue;
                                        }
                                        09=if(EquipmentImageName(item)=='ArtDominator-8')
                                        10 ^{
                                            01=if(Arts[3]==0)
                                            02 ^{
                                                01=Arts[3]=1;
                                                02=synchr=(550-GalaxyDiffLevels())/100+1;
                                                03=if(ShipInNormalSpace(cur_ship)) CustomArtData(item,1,min(CustomArtData(item,1)+synchr,1000));
                                                04=continue;
                                            }
                                            03=else continue;
                                        }
                                        11=if(EquipmentImageName(item)=='ArtDominator-20')
                                        12 ^{
                                            01=if(Arts[4]==0)
                                            02 ^{
                                                01=Arts[4]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        13=if(EquipmentImageName(item)=='ArtDominator-22')
                                        14 ^{
                                            01=if(Arts[5]==0)
                                            02 ^{
                                                01=Arts[5]=1;
                                                02=CustomArtData(cur_item,1,item);
                                                03=ShipFreeExp(cur_ship,10+ShipFreeExp(cur_ship));
                                                04=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    10=dword meta=0;
                                    11=if(Arts[5]==1)
                                    12 ^{
                                        01=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
                                        02 ^{
                                            01=item=ShipWeapon(cur_ship,i);
                                            02=if(WeaponTarget(item)>0)
                                            03 ^{
                                                01=if(ObjectType(WeaponTarget(item))==5)
                                                02 ^{
                                                    01=if(GetOwner(WeaponTarget(item))==Kling)
                                                    02 ^{
                                                        01=meta=1;
                                                        02=if(CustomArtData(CustomArtData(cur_item,1),1)<10) CustomArtData(cur_item,1,CustomArtData(CustomArtData(cur_item,1),1)+2);
                                                        03=break;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    13=dword param=0;
                                    14=if(Arts[0]==1) param=param | 1;
                                    15=if(Arts[1]==1) param=param | 2;
                                    16=if(Arts[2]==1) param=param | 4;
                                    17=if(Arts[3]==1) param=param | 8;
                                    18=if(Arts[4]==1) param=param | 16;
                                    19=if(Arts[5]==1) param=param | 32;
                                    20=CustomArtData(cur_item,2,param);
                                    21=if(Arts[3]==1)
                                    22 ^{
                                        01=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
                                        02 ^{
                                            01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                            02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
                                            03=if(i<1)i=1;
                                        }
                                        03=else i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                        04=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)))
                                        05 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag3),i);
                                        }
                                        06=else
                                        07 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),i);
                                        }
                                    }
                                    23=if(Arts[1]==1)
                                    24 ^{
                                        01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                        }
                                    }
                                    25=if(Arts[2]==1)
                                    26 ^{
                                        01=i=10+8*ShipSkill(cur_ship,2)/6;
                                        02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                        03 ^{
                                            01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                            02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                        04=else
                                        05 ^{
                                            01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                        }
                                    }
                                    27=if(CustomArtData(cur_item,2)>0)
                                    28 ^{
                                        01=param=0;
                                        02=if(Arts[0]==1)param=param+150;
                                        03=if(Arts[1]==1)param=param+150;
                                        04=if(Arts[2]==1)param=param+250;
                                        05=if(Arts[3]==1)param=param+100;
                                        06=if(Arts[4]==1)param=param+0;
                                        07=if(Arts[5]==1)param=param+0;
                                        08=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                        09=i=param*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                        10=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                    }
                                }
                            }
                        }
                    }
                    03=if(ScriptItemActParam()==2)
                    04 ^{
                        01=if((CustomArtData(cur_item,2) & 16)==16)
                        02 ^{
                            01=if(!HullDamage(cur_ship) || !ShipInNormalSpace(cur_ship))exit;
                            02=i=(10+5*ShipSkill(cur_ship,1)+5000/ItemSize(ShipItems(cur_ship,0)))*min(150-HullDamage(cur_ship),100)/100;
                            03=if(i+HullHP(cur_ship)<ItemSize(ShipItems(cur_ship,0))) HullHP(cur_ship,i+HullHP(cur_ship));
                            04=else HullHP(cur_ship,ItemSize(ShipItems(cur_ship,0)));
                            05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            06=i=200*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                    05=else
                    06 ^{
                        01=if(CustomArtData(cur_item,2))CustomArtData(cur_item,2,0);
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot))
                09 ^{
                    01=if((CustomArtData(cur_item,2) & 8)==8)
                    02 ^{
                        01=param=ScriptItemActParam();
                        02=ScriptItemActParam(param+(10*param)/100);
                        03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        04=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                    03=if((CustomArtData(cur_item,2) & 32)==32)
                    04 ^{
                        01=item=CustomArtData(cur_item,1);
                        02=if(GetOwner(ScriptItemActObject1())==Kling && ShipTypeN(ScriptItemActObject1())==t_Kling)
                        03 ^{
                            01=if(DomikProgramm(ScriptItemActObject1())!=8 && !ShipInScript(ScriptItemActObject1()))
                            02 ^{
                                01=meta=0;
                                02=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.7'))==0) meta=3;
                                03=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.5'))==0) meta=4;
                                04=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.4'))==0) meta=5;
                                05=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.3'))==0) meta=6;
                                06=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.2'))==0) meta=8;
                                07=if(meta>0 && CustomArtData(item,1)>meta && Rnd(1,100)<=2+CustomArtData(item,1)-meta)
                                08 ^{
                                    01=DomikProgramm(ScriptItemActObject1(),8);
                                    02=DomikProgrammDate(ScriptItemActObject1(),2);
                                    03=ShipAddCustomShipInfo(ScriptItemActObject1(),'Akselerin','',2);
                                    04=OrderNone(ScriptItemActObject1());
                                    05=CustomArtData(item,1,CustomArtData(item,1)-meta);
                                    06=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    07=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    08=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                }
                10=else if(ScriptItemActionType(t_OnMissileShot))
                11 ^{
                    01=if((CustomArtData(cur_item,2) & 8)==8)
                    02 ^{
                        01=param=MissileMinDamage(ScriptItemActObject1());
                        02=MissileMinDamage(ScriptItemActObject1(),param+(10*param)/100);
                        03=param=MissileMaxDamage(ScriptItemActObject1());
                        04=MissileMaxDamage(ScriptItemActObject1(),param+(10*param)/100);
                        05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        06=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                12=else if(ScriptItemActionType(t_OnEnteringForm))
                13 ^{
                    01=if(CurrentForm()=='Talk')
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=cur_ship=Player();
                                02=synchr=0;
                                03=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                04 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else exit;
                                }
                                05=if(synchr==7)
                                06 ^{
                                    01=Arts=newarray(2);
                                    02=for(i=0;i<=1;i=i+1)Arts[i]=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=Arts[0]=-1;
                                            02=continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=Arts[1]=-1;
                                            02=continue;
                                        }
                                    }
                                    05=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                    06 ^{
                                        01=item=ShipArts(cur_ship,i);
                                        02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                        03=if(ItemIsBroken(item))continue;
                                        04=if(EquipmentImageName(item)=='ArtDominator-3')
                                        05 ^{
                                            01=if(Arts[0]==0)
                                            02 ^{
                                                01=Arts[0]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                        06=if(EquipmentImageName(item)=='ArtDominator-5')
                                        07 ^{
                                            01=if(Arts[1]==0)
                                            02 ^{
                                                01=Arts[1]=1;
                                                02=continue;
                                            }
                                            03=else continue;
                                        }
                                    }
                                    07=dword effect=0;
                                    08=if(Arts[0]==-1 && Arts[1]==1) effect=1;
                                    09=if(Arts[0]==1 && Arts[1]==-1) effect=1;
                                    10=if(Arts[0]==1 && Arts[1]==1) effect=1;
                                    11=if(effect)
                                    12 ^{
                                        01=if(ScriptItemActObject1())
                                        02 ^{
                                            01=if(GetOwner(ScriptItemActObject1())==Kling)
                                            02 ^{
                                                01=if(ItemSubrace(ShipItems(ScriptItemActObject1(),0))==ItemSubrace(cur_item))
                                                02 ^{
                                                    01=SetProgramm(5,GetProgramm(5)+1);
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                14=else
                15 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag1='Radar+1';
                            02=tag2='Scan+1';
                            03=tag3='Def+1';
                            04=defmax=10;
                            05=synchr=0;
                            06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            07 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else
                                04 ^{
                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode2'));
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                    03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                    04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                    05=exit;
                                }
                            }
                            08=if(synchr==7)
                            09 ^{
                                01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode1'));
                                02=Arts=newarray(6);
                                03=for(i=0;i<=5;i=i+1)Arts[i]=0;
                                04=for(i=1;i<=4;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    04=if(EquipmentImageName(item)=='ArtDominator-3')
                                    05 ^{
                                        01=Arts[0]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        03=continue;
                                    }
                                    06=if(EquipmentImageName(item)=='ArtDominator-5')
                                    07 ^{
                                        01=Arts[1]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                        03=continue;
                                    }
                                    08=if(EquipmentImageName(item)=='ArtDominator-7')
                                    09 ^{
                                        01=Arts[2]=-1;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                                        03=continue;
                                    }
                                    10=if(EquipmentImageName(item)=='ArtDominator-8')
                                    11 ^{
                                        01=Arts[3]=-1;
                                        02=continue;
                                    }
                                    12=if(EquipmentImageName(item)=='ArtDominator-20')
                                    13 ^{
                                        01=Arts[4]=-1;
                                        02=continue;
                                    }
                                    14=if(EquipmentImageName(item)=='ArtDominator-22')
                                    15 ^{
                                        01=Arts[5]=-1;
                                        02=continue;
                                    }
                                }
                                06=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                07 ^{
                                    01=item=ShipArts(cur_ship,i);
                                    02=if(ItemSubrace(item)!=ItemSubrace(cur_item))continue;
                                    03=if(EquipmentImageName(item)=='ArtDominator-3')
                                    04 ^{
                                        01=if(Arts[0]==0)
                                        02 ^{
                                            01=Arts[0]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    05=if(EquipmentImageName(item)=='ArtDominator-5')
                                    06 ^{
                                        01=if(Arts[1]==0)
                                        02 ^{
                                            01=Arts[1]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    07=if(EquipmentImageName(item)=='ArtDominator-7')
                                    08 ^{
                                        01=if(Arts[2]==0)
                                        02 ^{
                                            01=Arts[2]=1;
                                            02=energ=CustomArtData(item,1);
                                            03=expaenergo=CustomArtData(item,2);
                                            04=continue;
                                        }
                                        03=else continue;
                                    }
                                    09=if(EquipmentImageName(item)=='ArtDominator-8')
                                    10 ^{
                                        01=if(Arts[3]==0)
                                        02 ^{
                                            01=Arts[3]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    11=if(EquipmentImageName(item)=='ArtDominator-20')
                                    12 ^{
                                        01=if(Arts[4]==0)
                                        02 ^{
                                            01=Arts[4]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                    13=if(EquipmentImageName(item)=='ArtDominator-22')
                                    14 ^{
                                        01=if(Arts[5]==0)
                                        02 ^{
                                            01=Arts[5]=1;
                                            02=continue;
                                        }
                                        03=else continue;
                                    }
                                }
                                08=str text='</color>';
                                09=if(Arts[0]==-1)text=text+'<color=255,0,0>';
                                10=if(Arts[0]==0)text=text+'';
                                11=if(Arts[0]==1)text=text+'<color=255,245,80>';
                                12=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+'</color>, ';
                                13=if(Arts[1]==-1)text=text+'<color=255,0,0>';
                                14=if(Arts[1]==0)text=text+'';
                                15=if(Arts[1]==1)text=text+'<color=255,245,80>';
                                16=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+'</color>, ';
                                17=if(Arts[2]==-1)text=text+'<color=255,0,0>';
                                18=if(Arts[2]==0)text=text+'';
                                19=if(Arts[2]==1)text=text+'<color=255,245,80>';
                                20=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+'</color>, ';
                                21=if(Arts[3]==-1)text=text+'<color=255,0,0>';
                                22=if(Arts[3]==0)text=text+'';
                                23=if(Arts[3]==1)text=text+'<color=255,245,80>';
                                24=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+'</color>, ';
                                25=if(Arts[4]==-1)text=text+'<color=255,0,0>';
                                26=if(Arts[4]==0)text=text+'';
                                27=if(Arts[4]==1)text=text+'<color=255,245,80>';
                                28=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-20.Name')+'</color>, ';
                                29=if(Arts[5]==-1)text=text+'<color=255,0,0>';
                                30=if(Arts[5]==0)text=text+'';
                                31=if(Arts[5]==1)text=text+'<color=255,245,80>';
                                32=text=text+CT('Artefacts.CustomArtefacts.ArtDominator-22.Name')+'</color>.';
                                33=CustomArtTextData(cur_item,2,text);
                                34=if(Arts[1]==1)
                                35 ^{
                                    01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                }
                                36=if(Arts[2]==1)
                                37 ^{
                                    01=i=10+8*ShipSkill(cur_ship,2)/6;
                                    02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                    03 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    04=else
                                    05 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                }
                                38=if(Arts[3]==1)
                                39 ^{
                                    01=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
                                    02 ^{
                                        01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                        02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
                                        03=if(i<1)i=1;
                                    }
                                    03=else
                                    04 ^{
                                        01=i=1+15*min(1+5*expaenergo/GalaxyDiffLevels(),4)/10+energ/250;
                                    }
                                    05=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)))
                                    06 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag3),i);
                                    }
                                    07=else
                                    08 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),i);
                                    }
                                    09=ShipCalcParam(cur_ship);
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-20.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-22.Name')+'.');
                            03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                            04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                            05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.ArtDominator-3.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-5.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-7.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-8.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-20.Name')+', '+CT('Artefacts.CustomArtefacts.ArtDominator-22.Name')+'.');
                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        04=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag3),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag3)));
                        04=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test4')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=3
            Test1=</color><br>Радар: +<color=255,245,80>
            Test2=</color> Сканер: +<color=255,245,80>
            Test3=</color>% гзп: +<color=255,245,80>
            Test4=</color>% Износ: <color=255,245,80>
            Text=Личностная матрица. Содержит базовый номер и более квадриллиона способов переработки различных материй в собственный вид. Подключает арты находящиеся в трюме: <TextData2><TextData1><TextData3>
        }
        ArtDominator-22 ^{
            /=Террон арт
            Broken=(не функционирует)
            BrokenInBattle=Встряска, вызванная последним попаданием по кораблю серьезно повредила файловые носители Акселирина. Похоже без ремонта не обойтись.
            BrokenInUse=Защитные протоколы базы данных Акселирина вдруг вам оказались не по зубам. Подключение оборвалось, что привело к перегрузке и потере большого объема данных. Устройству потребуется ремонт.
            Cost=10
            Description=Подключившись к базе данных искусственной рандомизации личностных матриц мы обнаружили различные сведения по ведению сражению, которые можно использовать для обучения пилотов. К сожалению, полностью извлечь их невозможно из-за защитных протоколов, но некоторые крохи данных возможно. Так что приходится каждый раз «воевать» с защитными протоколами ошметка для получения бесценного опыта.
            Description=Также данный ошметок во время боя пытается подключится к враждебным кораблям, чтобы переписать их личностные матрицы, можно сказать - рандомизировать. Ну, на коалиционных кораблях это не приведет ни к какому эффекту, а вот нетерроноидных доминаторов может заставить попотеть, эффект будет аналогичен антидоминаторской программе «Гатрикс матрица», но действует не более двух дней.
            DescriptionLow=База данных, содержащая данные об искусственной рандомизации личностных матриц. Благодаря подключению к базе данных происходит самообучение. Используя сведения из базы можно попытаться рандомизировать доминатора, эффект аналогичен антидоминаторской программе «Гатрикс матрица», но действует не более двух дней.
            Equipments=72
            Name=Акселирин
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=int i;
							02=dword item;
							03=dword synchr=0;
							04=dword pow=1;
							05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							07 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else
									04 ^{
										01=if(CustomArtData(cur_item,1)>0) CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
										02=exit;
									}
								}
							}
							08=if(synchr==equip)
							09 ^{
								01=ShipFreeExp(cur_ship,10+ShipFreeExp(cur_ship));
								02=dword meta=0;
								03=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
								04 ^{
									01=item=ShipWeapon(cur_ship,i);
									02=if(WeaponTarget(item))
									03 ^{
										01=if(ObjectType(WeaponTarget(item))==5)
										02 ^{
											01=if(GetOwner(WeaponTarget(item))==Kling)
											02 ^{
												01=meta=1;
												02=if(CustomArtData(cur_item,1)<10) CustomArtData(cur_item,1,CustomArtData(cur_item,1)+1);
												03=CustomArtData(cur_item,2,1);
												04=break;
											}
										}
									}
								}
								05=if(!meta && CustomArtData(cur_item,1)>0) CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
								06=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								07=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
								08=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
					03=else
					04 ^{
						01=if(CustomArtData(cur_item,1)>0)
						02 ^{
							01=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
						}
						03=CustomArtData(cur_item,2,0);
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=CustomArtData(cur_item,2,0);
                                03=if(cur_ship==Player())
                                04 ^{
                                    01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                                }
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=if(GetOwner(ScriptItemActObject1())==Kling && ShipTypeN(ScriptItemActObject1())==t_Kling)
                        02 ^{
                            01=if(DomikProgramm(ScriptItemActObject1())!=8 && !ShipInScript(ScriptItemActObject1()))
                            02 ^{
                                01=meta=0;
                                02=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.7'))==0)meta=3;
                                03=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.5'))==0)meta=4;
                                04=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.4'))==0)meta=5;
                                05=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.3'))==0)meta=6;
                                06=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.2'))==0)meta=8;
                                07=if(meta && CustomArtData(cur_item,1)>meta && Rnd(1,100)<=2+CustomArtData(cur_item,1)-meta)
                                08 ^{
                                    01=DomikProgramm(ScriptItemActObject1(),8);
                                    02=DomikProgrammDate(ScriptItemActObject1(),2);
                                    03=ShipAddCustomShipInfo(ScriptItemActObject1(),'Akselerin','',2);
                                    04=OrderNone(ScriptItemActObject1());
                                    05=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-meta);
                                    06=CustomArtData(cur_item,2,0);
                                    07=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    08=i=300*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    09=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                }
                10=else
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=if(!ItemIsBroken(cur_item))
                        03 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=if(ItemSubrace(cur_item)==2)
                                02 ^{
                                    01=synchr=0;
                                    02=synchr2=0;
                                    03=for(i=1;i<=4;i=i+1)
                                    04 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    05=if(!synchr)
                                    06 ^{
                                        01=str art='';
                                        02=if(ItemSubrace(cur_item)==2)
                                        03 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7) art='ArtDominator-21';
                                        }
                                        04=synchr2=0;
                                        05=for(i=1;i<=4;i=i+1)
                                        06 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                02=break;
                                            }
                                        }
                                        07=if(synchr2)
                                        08 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=5
            Test=</color><br>Износ: <color=255,245,80>
            Text=База данных, содержащая данные об искусственной рандомизации личностных матриц. Благодаря подключению к базе данных происходит самообучение. Используя сведения из базы можно попытаться рандомизировать доминатора, эффект аналогичен антидоминаторской программе <color=255,245,80>Гатрикс матрица</color>, но действует не более двух дней.<TextData1><TextData3>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону)</color>
        }
        ArtDominator-23 ^{
            /=Террон арт
            Broken=(критически поврежден)
            BrokenInBattle=Меткое попадание противника вывело из строя Мичурер. Требуется вмешательство специалистов для восстановления работоспособности.
            BrokenInUse=Интенсивная работа Мичурера привела к короткому замыканию. Требуется вмешательство специалистов для восстановления работоспособности.
            Cost=8
            Description=Функционал анализа новых поколений терроноидов и их селекция для коалиции не актуально. Поэтому ресурсы по анализу мы смогли направить на определение расположения оборудования у враждебного корабля и в зависимости от расположения оборудования корректировать системы наведения оружия для сохранения как можно больше оборудования при уничтожении цели. Нашими экспертами также было выявлено его работоспособность в гиперпространстве.
            DescriptionLow=Интеллектуальная приставка к обогатителю. Анализирует расположение оборудования враждебного корабля и производит коррекцию систем наведения оружия с целью сохранения как можно больше оборудования при уничтожении цели. Эффективно работает как в космосе, так и в гиперпространстве.
            Equipments=36
            Name=Мичурер
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnDealingDamage,t_OnWeaponShot2,t_OnMissileShot2,t_OnStartAB,t_OnItemEquip,t_OnItemDeEquip,t_OnABItemDrop,t_OnShowingItemInfo,t_OnNonStandartEqChange,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag1='HookMinSpeed+1';
                                02=str tag2='HookMaxSpeed+1';
                                03=int i;
                                04=dword item;
                                05=dword synchr=0;
                                06=dword pow=1;
                                07=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                09 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                            03=exit;
                                        }
                                    }
                                }
                                10=if(synchr==equip)
                                11 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=i=20;
                                    03=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                    04 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    05=else
                                    06 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                    }
                                    07=i=20;
                                    08=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                    09 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    10=else
                                    11 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                    }
                                    12=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    13=i=200*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    14=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtData(cur_item,2,0);
                    }
                }
                06=if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnDealingDamage))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=if(ScriptItemActParam()>=HullHP(ScriptItemActObject1()))
                        02 ^{
                            01=unknown Equip;
                            02=Equip=newarray(1);
                            03=for(i=1;i<=ShipCntWeapon(ScriptItemActObject1());i=i+1)
                            04 ^{
                                01=item=ShipWeapon(ScriptItemActObject1(),i);
                                02=ArrayAdd(Equip,item);
                            }
                            05=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            06 ^{
                                01=item=ShipEqInSlot(ScriptItemActObject1(),i);
                                02=if(item)ArrayAdd(Equip,item);
                            }
                            07=if(ArrayDim(Equip)>1)
                            08 ^{
                                01=i=Rnd(1,ArrayDim(Equip)-1);
                                02=GetItemFromShip(ScriptItemActObject1(),FindItemInShip(ScriptItemActObject1(),Equip[i]));
                                03=dword X;
                                04=X=CoordX(ScriptItemActObject1());
                                05=dword Y;
                                06=Y=CoordY(ScriptItemActObject1());
                                07=DropItemInSystem(ShipStar(ScriptItemActObject1()),Equip[i],X,Y,X+Rnd(-50,50),Y+Rnd(-50,50));
                                08=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                09=i=300*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                10=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                10=else if(ScriptItemActionType(t_OnWeaponShot2) || ScriptItemActionType(t_OnMissileShot2))
                11 ^{
                    01=if(Rnd(1,100)<=50)
                    02 ^{
                        01=if(CustomArtData(cur_item,2))
                        02 ^{
                            01=dword param;
                            02=param=ScriptItemActParam();
                            03=param=param | 65536;
                            04=ScriptItemActParam(param);
                            05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            06=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                }
                12=else if(ScriptItemActionType(t_OnStartAB))
                13 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
                                01=ABShipModifiers(cur_ship,'luck',ABShipModifiers(cur_ship,'luck')+100);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
                    }
                }
                14=else if(ScriptItemActionType(t_OnItemEquip))
                15 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=pow=1;
                            03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                    03=else exit;
                                }
                            }
                            06=if(synchr==equip)
                            07 ^{
								01=ABShipModifiers(cur_ship,'luck',ABShipModifiers(cur_ship,'luck')+100);
                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                03=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                            }
                        }
					}
				}
                16=else if(ScriptItemActionType(t_OnItemDeEquip))
                17 ^{
                    01=if(ShipInHole(Player()))
                    02 ^{
					    01=if(!ItemIsBroken(cur_item))
                        02 ^{
							01=ABShipModifiers(cur_ship,'luck',ABShipModifiers(cur_ship,'luck')-100);
						}
					}
				}
                18=else if(ScriptItemActionType(t_OnABItemDrop))
                19 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=if(Rnd(1,100)<=50)
                            02 ^{
                                01=synchr=0;
                                02=pow=1;
                                03=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                05 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                06=if(synchr==equip)
                                07 ^{
                                    01=item=ScriptItemActObject1();
                                    02=if(ItemLevel(item)<7 && Rnd(0,1))ItemLevel(item,ItemLevel(item)+1);
									03=int item_type=ItemType(item);
                                    04=if(item_type==t_ArtefactHull)i=2*(12+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    05=else if(item_type==t_ArtefactFuel)i=2*(4+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    06=else if(item_type==t_ArtefactSpeed)i=2*(12+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    07=else if(item_type==t_ArtefactPower)i=2*(7+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    08=else if(item_type==t_ArtefactRadar)i=2*(10+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    09=else if(item_type==t_ArtefactScaner)i=2*(8+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    10=else if(item_type==t_ArtefactDroid)i=2*(10+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    11=else if(item_type==t_ArtefactNano)i=2*(3+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    12=else if(item_type==t_ArtefactHook)i=2*(3+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    13=else if(item_type==t_ArtefactDef)i=2*(12+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    14=else if(item_type==t_ArtefactAnalyzer)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    15=else if(item_type==t_ArtefactMiniExpl)i=2*(10+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    16=else if(item_type==t_ArtefactAntigrav)i=2*(20+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    17=else if(item_type==t_ArtefactTransmitter)i=2*(3+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    18=else if(item_type==t_ArtefactBomb)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    19=else if(item_type==t_ArtefactTranclucator)i=2*(50+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    20=else if(item_type==t_ArtDefToEnergy)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    21=else if(item_type==t_ArtEnergyPulse)i=2*(8+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    22=else if(item_type==t_ArtEnergyDef)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    23=else if(item_type==t_ArtSplinter)i=2*(10+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    24=else if(item_type==t_ArtDecelerate)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    25=else if(item_type==t_ArtMissileDef)i=2*(6+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    26=else if(item_type==t_ArtForsage)i=2*(6+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    27=else if(item_type==t_ArtWeaponToSpeed)i=2*(7+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    28=else if(item_type==t_ArtGiperJump)i=2*(5+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    29=else if(item_type==t_ArtBlackHole)i=2*(3+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    30=else if(item_type==t_ArtDefToArms1)i=2*(9+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    31=else if(item_type==t_ArtDefToArms2)i=2*(7+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    32=else if(item_type==t_ArtArtefactor)i=2*(3+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    33=else if(item_type==t_ArtBio)i=2*(2+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    34=else if(item_type==t_ArtPDTurret)i=2*(10+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    35=else if(item_type==t_ArtFastRacks)i=2*(9+1)*(70+3*GalaxyDiffLevels(4)/10)/100;
                                    36=else if(item_type==t_FuelTanks)i=CT('Items.FuelTanks.AverageSize');
                                    37=else if(item_type==t_Engine)i=CT('Items.Engine.AverageSize');
                                    38=else if(item_type==t_Radar)i=CT('Items.Radar.AverageSize');
                                    39=else if(item_type==t_Scaner)i=CT('Items.Scaner.AverageSize');
                                    40=else if(item_type==t_RepairRobot)i=CT('Items.RepairRobot.AverageSize');
                                    41=else if(item_type==t_CargoHook)i=CT('Items.CargoHook.AverageSize');
                                    42=else if(item_type==t_DefGenerator)i=CT('Items.DefGenerator.AverageSize');
                                    43=else if(item_type==t_Weapon1)i=CT('Items.Weapon.Stats.1.AverageSize');
                                    44=else if(item_type==t_Weapon2)i=CT('Items.Weapon.Stats.2.AverageSize');
                                    45=else if(item_type==t_Weapon3)i=CT('Items.Weapon.Stats.3.AverageSize');
                                    46=else if(item_type==t_Weapon4)i=CT('Items.Weapon.Stats.4.AverageSize');
                                    47=else if(item_type==t_Weapon5)i=CT('Items.Weapon.Stats.5.AverageSize');
                                    48=else if(item_type==t_Weapon6)i=CT('Items.Weapon.Stats.6.AverageSize');
                                    49=else if(item_type==t_Weapon7)i=CT('Items.Weapon.Stats.7.AverageSize');
                                    50=else if(item_type==t_Weapon8)i=CT('Items.Weapon.Stats.8.AverageSize');
                                    51=else if(item_type==t_Weapon9)i=CT('Items.Weapon.Stats.9.AverageSize');
                                    52=else if(item_type==t_Weapon10)i=CT('Items.Weapon.Stats.10.AverageSize');
                                    53=else if(item_type==t_Weapon11)i=CT('Items.Weapon.Stats.11.AverageSize');
                                    54=else if(item_type==t_Weapon12)i=CT('Items.Weapon.Stats.12.AverageSize');
                                    55=else if(item_type==t_Weapon13)i=CT('Items.Weapon.Stats.13.AverageSize');
                                    56=else if(item_type==t_Weapon14)i=CT('Items.Weapon.Stats.14.AverageSize');
                                    57=else if(item_type==t_Weapon15)i=CT('Items.Weapon.Stats.15.AverageSize');
                                    58=else if(item_type==t_Weapon16)i=CT('Items.Weapon.Stats.16.AverageSize');
                                    59=else if(item_type==t_Weapon17)i=CT('Items.Weapon.Stats.17.AverageSize');
                                    60=else if(item_type==t_Weapon18)i=CT('Items.Weapon.Stats.18.AverageSize');
                                    61=else if(item_type==t_CustomWeapon)i=GetCustomWeaponData(GetCustomWeaponInfo(item),'AverageSize');
                                    62=i=i/2;
                                    63=if(ItemSize(item)>i)ItemSize(item,Rnd(i,ItemSize(item)));
                                    64=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    65=i=600*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    66=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                }
                20=else
                21 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag1='HookMinSpeed+1';
                            02=tag2='HookMaxSpeed+1';
                            03=synchr=0;
                            04=dword synchr2=0;
                            05=pow=1;
                            06=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            07=str text='</color>';
                            08=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            09=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            10 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            11=text=text+'<color=200,0,200>)</color>';
                            12=CustomArtTextData(cur_item,1,text);
                            13=if(synchr==equip)
                            14 ^{
                                01=i=20;
                                02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)))
                                03 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag1),i);
                                }
                                04=else
                                05 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),i);
                                }
                                06=i=20;
                                07=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)))
                                08 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag2),i);
                                }
                                09=else
                                10 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),i);
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                            03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag1),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag1)));
                        03=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag2),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag2)));
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=7
            Test=</color><br>Износ: <color=255,245,80>
            Text=Интеллектуальная приставка к обогатителю. Анализирует расположение оборудования враждебного корабля и производит коррекцию систем наведения оружия с целью сохранения как можно больше оборудования при уничтожении цели. Эффективно работает как в космосе, так и в гиперпространстве.<TextData1><TextData3>
        }
        ArtDominator-3 ^{
            Broken=(испорчен)
            BrokenInBattle=Электромагнитный импульс, вызванный одним из выстрелов вашего противника, нанес серьезные повреждения системам Спимера. Устройству потребуется ремонт.
            BrokenInUse=Попытка передачи сигнала была прервана внезапным обрывом канала связи. Системы не успели среагировать на такую резкую смену режима работы, в результате чего произошла перегрузка. Теперь устройству требуется ремонт.
            Cost=10
            Description=В процессе изучения Спимера, мы определили, что если направить опознавательные импульсы радара доминатора в ошметок, то его мощность значительно увеличивалась. Добиться взаимодействия с другим оборудованием не получилось. А вот при подключении Метаблока получили возможность связываться с кораблями доминатора без использования Интеркома.
            DescriptionLow= Датчиковый блок опознавательных импульсов, повышает плотность излучаемых радаром волн, что позволяет перераспределить освободившиеся мощности для увеличения дальности действия. При интеграции с Метаблоком переводит внутренние информационные протоколы корабля на доминаторские стандарты определенной серии, благодаря чему можно выходить на связь с доминаторами без использования <color=255,245,80>Интеркома</color>.
            Equipments=4
            Name=Спимер
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnEnteringForm,t_OnLeavingForm,t_OnShowingItemInfo
			OnActStepTypes=0
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=str tag='Radar+1';
							02=int i;
							03=dword item;
							04=dword synchr=0;
							05=dword pow=1;
							06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							08 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else
									04 ^{
										01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
										02=CustomArtData(cur_item,1,0);
										03=exit;
									}
								}
							}
							09=if(synchr==equip)
							10 ^{
								01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
								02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
								03 ^{
									01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
									02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								04=else
								05 ^{
									01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
									02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								06=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								07=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
								08=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnEnteringForm))
                09 ^{
                    01=if(CurrentForm()=='Talk')
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=cur_ship=Player();
                                02=synchr=0;
                                03=pow=CT('Artefacts.CustomArtefacts.ArtDominator-5.Equipments');
                                04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                05=equip=equip+pow;
                                06=pow=1;
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else exit;
                                    }
                                }
                                09=pow=0;
                                10=for(i=1;i<=4;i=i+1)
                                11 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(EquipmentImageName(item)=='ArtDominator-5')
                                    04 ^{
                                        01=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item)) pow=1;
                                        02=break;
                                    }
                                }
                                12=if(synchr==equip && pow)
                                13 ^{
                                    01=if(ScriptItemActObject1())
                                    02 ^{
                                        01=if(GetOwner(ScriptItemActObject1())==Kling && ShipTypeN(ScriptItemActObject1())==t_Kling)
                                        02 ^{
                                            01=if(ItemSubrace(ShipItems(ScriptItemActObject1(),0))==ItemSubrace(cur_item))
                                            02 ^{
                                                01=SetProgramm(5,GetProgramm(5)+1);
                                                02=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                                03=i=300*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                                04=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                10=else
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='Radar+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=str text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                03 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                04=else
                                05 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        04=if(!ItemIsBroken(cur_item))
                        05 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=synchr=0;
                                02=synchr2=0;
                                03=for(i=1;i<=4;i=i+1)
                                04 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                    04 ^{
                                        01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                        02=break;
                                    }
                                }
                                05=if(!synchr)
                                06 ^{
                                    01=str art='';
                                    02=if(ItemSubrace(cur_item)==0)
                                    03 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==0)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-12';
                                    }
                                    04=if(ItemSubrace(cur_item)==1)
                                    05 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==1)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-15';
                                    }
                                    06=if(ItemSubrace(cur_item)==2)
                                    07 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-21';
                                    }
                                    08=synchr2=0;
                                    09=for(i=1;i<=4;i=i+1)
                                    10 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==art)
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                            02=break;
                                        }
                                    }
                                    11=if(synchr2)
                                    12 ^{
                                        01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                        02 ^{
                                            01=item=ShipArts(cur_ship,i);
                                            02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                            03 ^{
                                                01=if(item==cur_item)
                                                02 ^{
                                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    02=i=510+35*ItemLevel(ShipEqInSlot(cur_ship,t_Radar))+35*ShipSkill(cur_ship,2);
                                                    03=CustomArtData(cur_item,1,i);
                                                }
                                                03=break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(ItemSubrace(cur_item)==0)CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBlazer'));
                    06=if(ItemSubrace(cur_item)==1)CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextKeller'));
                    07=if(ItemSubrace(cur_item)==2)CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextTerron'));
                    08=if(GArtDominatorTest)CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    09=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=9
            Test=</color><br>Износ: <color=255,245,80>
            Text=Датчиковый блок опознавательных импульсов, повышает плотность излучаемых радаром волн, что позволяет перераспределить освободившиеся мощности для увеличения дальности действия на <Data1> млн. км. При интеграции с Метаблоком переводит внутренние информационные протоколы корабля на доминаторские стандарты серии <TextData2>, благодаря чему можно выходить на связь с доминаторами без использования <color=255,245,80>Интеркома</color>.<TextData1><TextData3>
            TextBlazer=Блазер
            TextConnect0=<br><color=255,245,80>(подключен к Релектору)</color>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону)</color>
            TextKeller=Келлер
            TextTerron=Террон
        }
        ArtDominator-4 ^{
            Broken=(ненодоспособен)
            BrokenInBattle=Инбридон не выдержал боевых нагрузок и прекратил генерацию нодов. Устройство нуждается в ремонте.
            BrokenInUse=Устройство попыталось сгенерировать предельное количество нодов, чем сможет пропустить нодофильтр. Требуется вмешательство специалистов.
            Cost=8
            Description=Мы изучили Нод-контейнер, и можем с радостью сказать, что использование его рейнджерами будет оценено. Данный ошметок генерирует ноды, которые потом можно сдать в центр рейнджеров. Генерация нодов происходит при нулевой гравитации.
            DescriptionLow=Нод-контейнер. Устройство, за счет сложнейшей химической реакции, инициирует процесс «размножения» нодов.
            DescriptionLow=Из-за чувствительности структуры нодов к гравитации производство возможно только в невесомости.
            Equipments=72
            Name=Инбридон
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnShowingItemInfo
			OnActStepTypes=10
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=if(ShipInNormalSpace(cur_ship))
							02 ^{
								01=if(ShipFreeSpace(cur_ship)>0)
								02 ^{
									01=int i;
									02=dword item;
									03=dword synchr=0;
									04=dword pow=1;
									05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
									06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
									07 ^{
										01=pow=pow*2;
										02=if((equip & pow/2)==pow/2)
										03 ^{
											01=item=ShipEqInSlot(cur_ship,i);
											02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
											03=else exit;
										}
									}
									08=if(synchr==equip)
									09 ^{
										01=AddItemToShip(cur_ship,CreateNodes(1,ItemSubrace(cur_item)));
										02=if(ItemSubrace(cur_item)==2 && Rnd(1,100)<=50)
										03 ^{
											01=synchr=0;
											02=pow=1;
											03=equip=CT('Artefacts.CustomArtefacts.ArtDominator-19.Equipments');
											04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
											05 ^{
												01=pow=pow*2;
												02=if((equip & pow/2)==pow/2)
												03 ^{
													01=item=ShipEqInSlot(cur_ship,i);
													02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
													03=else break;
												}
											}
											06=if(synchr==equip)
											07 ^{
												01=pow=0;
												02=for(i=1;i<=4;i=i+1)
												03 ^{
													01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
													02=if(item==cur_item)continue;
													03=if(EquipmentImageName(item)=='ArtDominator-19')
													04 ^{
														01=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item)) pow=1;
														02=break;
													}
												}
												04=if(pow && ShipFreeSpace(cur_ship)>0) AddItemToShip(cur_ship,CreateNodes(1,ItemSubrace(cur_item)));
											}
										}
										04=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
										05=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
										06=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
									}
								}
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item) && cur_ship==Player())
                            04 ^{
                                01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else
                09 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=str text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                            11=if(ItemSubrace(cur_item)==2) CustomArtTextData(cur_item,2,'</color>'+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextTerron'));
                            12=else CustomArtTextData(cur_item,2,'');
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                    }
                    05=if(GArtDominatorTest) CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    06=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=2
            Test=</color><br>Износ: <color=255,245,80>
            Text=Нод-контейнер. Устройство, за счет сложнейшей химической реакции, инициирует процесс «размножения» нодов.
            Text=Из-за чувствительности структуры нодов к гравитации производство возможно только в невесомости. <TextData2><TextData1><TextData3>
            TextTerron=При использовании вместе с <color=255,245,80>Обогатителем</color> увеличивает генерацию нодов.
        }
        ArtDominator-5 ^{
            Broken=(заблочен)
            BrokenInBattle=Во время боя у метаблока полностью отказала система дальней связи, так что если теперь он и сможет кого-то завалить спамом, то только вас.
            BrokenInUse=Последняя спам-атака, хоть и прошла успешно, но показала, что доминаторы развили свои системы защиты уже слишком хорошо. Велика вероятность получить ответную атаку, поэтому в соответствии с протоколами безопасности, метаблок отказался функционировать, до тех пор пока не будет обновлено программное обеспечение.
            Cost=8
            Description=В процессе изучения ошметка были изучены директивы логикопостроительного аппарата и возможности применения их в коалиционном оборудовании. Но объем данных настолько огромен, что реализовать их в нашем оборудовании в ближайшем военном времени не предоставляется возможным. Мы лишь можем направить данный поток данных в корабль доминатора, чтобы запутать его ненужными директивами, но данный эффект краткосрочный. Кстати заметили, что при синхронизации ошметка со сканером доминатора увеличивает его производительность.
            DescriptionLow= Логикопостроительный аппарат. Генерирует список действий согласно полученным директивам. Позволяет с некоторым шансом подключиться к борт-компьютеру доминатора и загрузить его бессмысленным потоком данных, вынуждая систему выполнить перезагрузку. Оптимизирует логику работы сканера, увеличивая его мощность.
            Equipments=8
            Name=Метаблок
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnShowingItemInfo,t_OnNonStandartEqChange,t_OnLeavingForm
			OnActStepTypes=0
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=str tag='Scan+1';
							02=int i;
							03=dword item;
							04=dword synchr=0;
							05=dword pow=1;
							06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
							07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							08 ^{
								01=pow=pow*2;
								02=if((equip & pow/2)==pow/2)
								03 ^{
									01=item=ShipEqInSlot(cur_ship,i);
									02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
									03=else
									04 ^{
										01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
										02=if(CustomArtData(cur_item,1)>0) CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
										03=CustomArtData(cur_item,2,0);
										04=exit;
									}
								}
							}
							09=if(synchr==equip)
							10 ^{
								01=i=10+8*ShipSkill(cur_ship,2)/6;
								02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
								03 ^{
									01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
									02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								04=else
								05 ^{
									01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
									02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								06=dword meta=0;
								07=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
								08 ^{
									01=item=ShipWeapon(cur_ship,i);
									02=if(WeaponTarget(item)>0)
									03 ^{
										01=if(ObjectType(WeaponTarget(item))==5)
										02 ^{
											01=if(GetOwner(WeaponTarget(item))==Kling)
											02 ^{
												01=meta=1;
												02=if(CustomArtData(cur_item,1)<10) CustomArtData(cur_item,1,CustomArtData(cur_item,1)+1);
												03=CustomArtData(cur_item,2,1);
												04=break;
											}
										}
									}
								}
								09=if(!meta && CustomArtData(cur_item,1)>0) CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
								10=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								11=i=200*(100-840*ShipSkill(cur_ship,2)/100)/i;
								12=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
					03=else
					04 ^{
						01=if(CustomArtData(cur_item,1)>0)
						02 ^{
							01=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
						}
						03=CustomArtData(cur_item,2,0);
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=CustomArtData(cur_item,2,0);
                                03=if(cur_ship==Player())
                                04 ^{
                                    01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                                }
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=if(GetOwner(ScriptItemActObject1())==Kling && ShipTypeN(ScriptItemActObject1())==t_Kling)
                        02 ^{
                            01=if(DomikProgramm(ScriptItemActObject1())!=11 && !ShipInScript(ScriptItemActObject1()))
                            02 ^{
                                01=meta=0;
                                02=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.7'))==0) meta=3;
                                03=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.5'))==0) meta=4;
                                04=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.4'))==0) meta=5;
                                05=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.3'))==0) meta=6;
                                06=if(findsubstr(Name(ScriptItemActObject1()),CT('ShipType.Dominator.Blazer.2'))==0) meta=8;
                                07=if(meta>0 && CustomArtData(cur_item,1)>meta  && Rnd(1,100)<=2+CustomArtData(cur_item,1)-meta)
                                08 ^{
                                    01=DomikProgramm(ScriptItemActObject1(),11);
                                    02=DomikProgrammDate(ScriptItemActObject1(),1);
                                    03=ShipAddCustomShipInfo(ScriptItemActObject1(),'Metablok','',2);
                                    04=OrderNone(ScriptItemActObject1());
                                    05=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-meta);
                                    06=CustomArtData(cur_item,2,0);
                                    07=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                    08=i=300*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                    09=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                                }
                            }
                        }
                    }
                }
                10=else
                11 ^{
                    01=str text;
                    02=if(ItemIsInUse(cur_item))
                    03 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='Scan+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtTextData(cur_item,2,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        04=CustomArtData(cur_item,1,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=i=10+8*ShipSkill(cur_ship,2)/6;
                                02=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                03 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                04=else
                                05 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                06=CustomArtTextData(cur_item,2,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=CustomArtTextData(cur_item,2,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    04=else
                    05 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=CustomArtTextData(cur_item,2,ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        04=if(!ItemIsBroken(cur_item))
                        05 ^{
                            01=if(cur_ship)
                            02 ^{
                                01=synchr=0;
                                02=synchr2=0;
                                03=for(i=1;i<=4;i=i+1)
                                04 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                    04 ^{
                                        01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                        02=break;
                                    }
                                }
                                05=if(!synchr)
                                06 ^{
                                    01=str art='';
                                    02=if(ItemSubrace(cur_item)==0)
                                    03 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==0)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-12';
                                    }
                                    04=if(ItemSubrace(cur_item)==1)
                                    05 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==1)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-15';
                                    }
                                    06=if(ItemSubrace(cur_item)==2)
                                    07 ^{
                                        01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                        02 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                            03=else exit;
                                        }
                                        03=if(synchr2==7) art='ArtDominator-21';
                                    }
                                    08=for(i=1;i<=4;i=i+1)
                                    09 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==art)
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    10=if(synchr)
                                    11 ^{
                                        01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                        02 ^{
                                            01=item=ShipArts(cur_ship,i);
                                            02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                            03 ^{
                                                01=if(item==cur_item)
                                                02 ^{
                                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                    02=i=10+8*ShipSkill(cur_ship,2)/6;
                                                    03=CustomArtTextData(cur_item,2,i);
                                                }
                                                03=break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    06=if(GArtDominatorTest)
                    07 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+CustomArtData(cur_item,2));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    08=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=6
            Test1=</color><br>Заряд: <color=255,245,80>
            Test2=</color> Готовность: <color=255,245,80>
            Test3=</color> Износ: <color=255,245,80>
            Text=Логикопостроительный аппарат. Генерирует список действий согласно полученным директивам. Позволяет с некоторым шансом подключиться к борт-компьютеру доминатора и загрузить его бессмысленным потоком данных, вынуждая систему выполнить перезагрузку. Оптимизирует логику работы сканера, увеличивая его мощность на <TextData2></color>%.<TextData1><TextData3>
            TextConnect0=<br><color=255,245,80>(подключен к Релектору, функционал ограничен)</color>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону, функционал ограничен)</color>
        }
        ArtDominator-6 ^{
            AverageRadius=500
            Broken=(угроблен)
            BrokenInBattle=Разгерметизация отсека с Гроботом, возникшая в результате одного из попаданий противника, стала причиной потери всех запчастей и материалов. Требуется срочное вмешательство специалистов для восстановления функциональности прибора.
            BrokenInUse=Высокая температура материала, который был выделен Гроботом на операцию, расплавила клапан подачи отсека хранения материала. Необходимо как можно скорее обратиться к техническим специалистам для восстановления функциональности Гробота.
            Cost=14
            Description=Мы изучили этот ошметок и поняли как доминаторы создают свое вооружение. Для этого в заполняется отсек с запчастями других оружий, потом эти запчасти проходят «нодонизацию» и собирается новая единица вооружения. О, и кстати сам ошметок может выступать как оружие, отстреливая разобранными деталями оружия с автоматической системой наведения.
            Description=Накопленный материал хранится под высоким давлением, что серьезно повышает температуру вплоть до образования плазмы. Дабы избежать перегрева при накоплении большого количества избыточного материала гробот начинает автоматически от него избавляться. К сожалению, коалиционные и пиратские модели корпусов не предусматривают для этого специальных выхлопных отверстий, так что подобный выброс может привести к серьезным повреждениям корабля, однако в боевом режиме используя паз орудийной турели сгустку плазмы можно придать ускорение и направить его прямиком во врага.
            DescriptionLow=Универсальный орудийный протокомплекс. Используется для создания нового оружия из деталей других и нодов. Способен работать как автономное оружие, поражающее цели разобранными деталями оружий.
            Equipments=68
            MaxDamage=59
            MinDamage=39
            Name=Гробот
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnAnotherItem2,t_OnShowingItemInfo
			OnActStepTypes=5
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=if(CustomArtData(cur_item,1)>0)
							02 ^{
								01=int i;
								02=dword item;
								03=dword synchr=0;
								04=dword pow=1;
								05=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
								06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
								07 ^{
									01=pow=pow*2;
									02=if((equip & pow/2)==pow/2)
									03 ^{
										01=item=ShipEqInSlot(cur_ship,i);
										02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
										03=else exit;
									}
								}
								08=if(synchr==equip)
								09 ^{
									01=unknown Weapon;
									02=Weapon=newarray(1);
									03=dword level;
									04=level=1+CustomArtData(cur_item,2)/GalaxyDiffLevels();
									05=dword radius;
									06=radius=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.AverageRadius');
									07=radius=radius+10*level;
									08=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
									09 ^{
										01=item=ShipWeapon(cur_ship,i);
										02=if(WeaponTarget(item)>0)
										03 ^{
											01=if(Dist(cur_ship,WeaponTarget(item))<=radius)
											02 ^{
												01=ArrayAdd(Weapon,item);
											}
										}
									}
									10=if(ArrayDim(Weapon)>1)
									11 ^{
										01=i=Rnd(1,ArrayDim(Weapon)-1);
										02=item=CreateEquipment(t_Weapon2,1,1,Kling);
										03=dword mindamage;
										04=dword maxdamage;
										05=mindamage=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MinDamage');
										06=mindamage=mindamage+level;
										07=maxdamage=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MaxDamage');
										08=maxdamage=maxdamage+15*level/10;
										09=SetEquipmentStats(item,radius,2);
										10=SetEquipmentStats(item,mindamage,1);
										11=SetEquipmentStats(item,maxdamage,0);
										12=FireWeapon(cur_ship,WeaponTarget(Weapon[i]),item);
										13=FreeItem(item);
										14=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
										15=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
										16=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
										17=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
									}
								}
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=if(cur_ship==Player()) Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnAnotherItem2))
                09 ^{
                    01=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon)
                    02 ^{
                        01=str text;
                        02=if(CustomArtData(cur_item,1)>=100)
                        03 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextMax');
                            02=MessageBox(text);
                            03=exit;
                        }
                        04=else
                        05 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDetail');
                            02=if(MessageBoxYesNo(text))
                            03 ^{
                                01=CustomArtData(cur_item,1,min(CustomArtData(cur_item,1)+ItemSize(ScriptItemActObject1())/2-Rnd(0,2),100));
                                02=ScriptItemActParam(1);
                            }
                        }
                    }
                }
                10=else
                11 ^{
                    01=level=1+CustomArtData(cur_item,2)/GalaxyDiffLevels();
                    02=radius=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.AverageRadius');
                    03=radius=radius+10*level;
                    04=mindamage=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MinDamage');
                    05=mindamage=mindamage+level;
                    06=maxdamage=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.MaxDamage');
                    07=maxdamage=maxdamage+15*level/10;
                    08=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage0')+mindamage+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage1')+maxdamage+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage2')+radius+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage3');
                    09=CustomArtTextData(cur_item,2,text);
                    10=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextMateria')+CustomArtData(cur_item,1));
                    11=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+level);
                    12=if(ItemIsInUse(cur_item))
                    13 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=dword synchr2=0;
                            03=pow=1;
                            04=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            05=text='</color>';
                            06=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            08 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else text=text+'<color=255,0,0>';
                                    07=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            09=text=text+'<color=200,0,200>)</color>';
                            10=CustomArtTextData(cur_item,1,text);
                        }
                        03=else CustomArtTextData(cur_item,1,'');
                    }
                    14=else
                    15 ^{
                        01=CustomArtTextData(cur_item,1,'');
                    }
                    16=if(GArtDominatorTest)
                    17 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,2));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    18=else CustomArtTextData(cur_item,3,'');
                }
            }
            OnUseCode ^{
                01=dword cur_item=CurItem();
                02=dword cur_ship=ScriptItemActShip();
                03=str text;
                04=if(ItemIsBroken(cur_item))
                05 ^{
                    01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBroken');
                    02=MessageBox(text);
                    03=exit;
                }
                06=else
                07 ^{
                    01=int expa=5;
                    02=int level;
                    03=level=1+CustomArtData(cur_item,2)/GalaxyDiffLevels();
                    04=int i;
                    05=int nodes;
                    06=int materia;
                    07=int techlevel;
					08=int size;
                    09=dword item;
                    10=unknown Weapon;
                    11=Weapon=newarray(1);
                    12=for(i=1;i<=(t_CustomWeapon-t_Weapon1-5);i=i+1)
                    13 ^{
                        01=if(i==13)item=i+2-ItemSubrace(cur_item);
                        02=else item=i;
                        03=techlevel=CT('Items.Weapon.Stats.'+item+'.TechLevel');
                        04=if(level+1>=techlevel)
                        05 ^{
                            01=text='';
                        }
                        06=else
                        07 ^{
                            01=text='<color=100,100,100>';
                        }
                        08=text=text+CT('Items.Weapon.Name.'+item);
                        09=text=text+'</color>';
                        10=ArrayAdd(Weapon,text);
                    }
                    14=ArrayDelete(Weapon,0);
                    15=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextCreate');
                    16=i=ListBox(text,Weapon);
                    17=if(i<0)exit;
                    18=else
                    19 ^{
                        01=if(i==12)item=i+3-ItemSubrace(cur_item);
                        02=else item=i+1;
                        03=techlevel=CT('Items.Weapon.Stats.'+item+'.TechLevel');
                        04=if(level+1<techlevel)
                        05 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoInfo');
                            02=MessageBox(text);
                            03=exit;
                        }
                        06=ArrayClear(Weapon);
                        07=for(techlevel=1; techlevel<=8; techlevel=techlevel+1)
                        08 ^{
                            01=if(techlevel<=1)text='A';
                            02=else if(techlevel==2)text='B';
                            03=else if(techlevel==3)text='C';
                            04=else if(techlevel==4)text='D';
                            05=else if(techlevel==5)text='E';
                            06=else if(techlevel==6)text='F';
                            07=else if(techlevel==7)text='G';
                            08=else if(techlevel>=8)text='H';
                            09=if(i==12)item=i+3-ItemSubrace(cur_item);
                            10=else item=i+1;
                            11=level=CT('Items.Weapon.Stats.'+item+'.TechLevel');
                            12=level=min((1+CustomArtData(cur_item,2)/GalaxyDiffLevels())-level+2,8);
                            13=if(level>=techlevel)
                            14 ^{
                                01=nodes=10*(i+1)*techlevel;
                                02=if(i==12)materia=i+3-ItemSubrace(cur_item);
                                03=else materia=i+1;
                                04=materia=CT('Items.Weapon.Stats.'+materia+'.AverageSize');
                                05=materia=min(materia,100);
                                06=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes || CustomArtData(cur_item,1)<materia)
                                07 ^{
                                    01=text='<color=150,0,0>'+text;
                                }
                                08=text=text+' ('+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNodes')+' '+materia+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextMaterial');
                            }
                            15=else
                            16 ^{
                                01=text='<color=100,100,100>'+text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoImprov');
                            }
                            17=ArrayAdd(Weapon,text);
                        }
                        09=ArrayDelete(Weapon,0);
                        10=techlevel=ListBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextTL'),Weapon);
                        11=if(techlevel<0)exit;
                        12=if(techlevel>=0)
                        13 ^{
                            01=nodes=10*(i+1)*(techlevel+1);
                            02=if(level<techlevel+1 || CustomArtData(cur_item,1)<materia || GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes)
                            03 ^{
                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNo');
                                02=MessageBox(text);
                                03=exit;
                            }
                            04=else
                            05 ^{
                                01=if(i==12)size=i+3-ItemSubrace(cur_item);
                                02=else size=i+1;
                                03=size=CT('Items.Weapon.Stats.'+size+'.AverageSize');
                                04=if(Rnd(1,100)<=4) size=9*size/20;
                                05=else size=Rnd(9*size/20,size);
                                06=if(i==12)item=CreateEquipment(t_Weapon1+i+2-ItemSubrace(cur_item),size,techlevel+1,Kling);
                                07=else item=CreateEquipment(t_Weapon1+i,size,techlevel+1,Kling);
                                08=ItemSubrace(item,ItemSubrace(cur_item));
                                09=AddItemToShip(cur_ship,item);
                                10=nodes=10*(i+1)*min((1+CustomArtData(cur_item,2)/GalaxyDiffLevels())-(techlevel+1)+2,8);
                                11=if(i==12)materia=i+3-ItemSubrace(cur_item);
                                12=else materia=i+1;
                                13=materia=CT('Items.Weapon.Stats.'+materia+'.AverageSize');
                                14=materia=min(materia,100);
                                15=GetNodesFromShip(cur_ship,nodes,ItemSubrace(cur_item));
                                16=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-materia);
                                17=ScriptItemActParam(2);
                                18=Sound('Sound.Repair');
								19=if((1+(expa+CustomArtData(cur_item,2))/GalaxyDiffLevels())>(1+CustomArtData(cur_item,2)/GalaxyDiffLevels()))
                                20 ^{
                                    01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevelUp0')+' '+(1+(expa+CustomArtData(cur_item,2))/GalaxyDiffLevels())+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevelUp1');
                                    02=MessageBox(text);
                                }
                                21=CustomArtData(cur_item,2,expa+min(CustomArtData(cur_item,2),14*GalaxyDiffLevels()));
                                22=ItemDurability(cur_item,ItemDurability(cur_item)-10);
                                23=if(ItemDurability(cur_item)==0) Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                    }
                }
            }
            Size+=10
            Test1=<br></color>Опыт (дата2): <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Универсальный орудийный протокомплекс. Используется для создания нового оружия из деталей других и нодов. Способен работать как автономное оружие поражающее цели разобранными деталями оружий.<TextData2><TextData1><TextData3>
            TextBroken=Невозможно совершить операцию, устройство не работоспособно!
            TextCreate=Выберите создаваемое оружие!
            TextDamage0=</color> Наносит от <color=255,245,80>
            TextDamage1=</color> до <color=255,245,80>
            TextDamage2=</color> ед. ущерба на расстоянии до <color=255,245,80>
            TextDamage3=</color> млн. км.
            TextDetail=Поместить детали оружия в Гробот?
            TextLevel=</color> ед.<br>Технический уровень: <color=255,245,80>
            TextLevelUp0=Гробот получил
            TextLevelUp1= уровень.
            TextMateria=</color><br>Материал: <color=255,245,80>
            TextMaterial= ед. материи)</color>
            TextMax=Гробот заполнен до максимума!
            TextNo=отказано
            TextNoImprov= (не изучено)</color>
            TextNoInfo=В базе данных Гробота недостаточно информации для создания этого оружия!
            TextNodes= нд. и
            TextTL=Выберите технический уровень!
        }
        ArtDominator-7 ^{
            Broken=(опустошён)
            BrokenInBattle=Меткое попадание противника вывело из строя Энергопакет. Требуется вмешательство специалистов для восстановления работоспособности.
            BrokenInUse=Мощный всплеск энергии, в результате короткого замыкания, вывел из строя Энергопакет. Требуется вмешательство специалистов для восстановления работоспособности.
            Cost=10
            Description=О, это хороший источник энергии. Мы как-то подключили его к генератору защитного поля и увидели значительную прибавку его мощности. А еще благодаря накопленной энергии ошметок может улучшить оборудование, прям как на научной базе или даже лучше, времени долго проверять у нас не было. Можете проверить сами и потом сообщить нам результаты.
            DescriptionLow=Практически неистощимый источник энергии, используемый доминаторами. Улучшает оборудование соответствующей серии. На улучшение требуется энергия и ноды. Повышает мощность генератора поля.
            Equipments=127
            Name=Энергопакет
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnAnotherItem,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
					01=if(ItemIsInUse(cur_item))
					02 ^{
						01=if(!ItemIsBroken(cur_item))
						02 ^{
							01=str tag='Def+1';
							02=dword defmax=10;
							03=int i;
							04=dword item;
							05=dword synchr=0;
							06=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
							07 ^{
								01=item=ShipEqInSlot(cur_ship,i);
								02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
								03=else
								04 ^{
									01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
									02=exit;
								}
							}
							08=if(synchr==7 && ShipInNormalSpace(cur_ship))
							09 ^{
								01=i=(550-GalaxyDiffLevels())/100+1;
								02=CustomArtData(cur_item,1,min(CustomArtData(cur_item,1)+i,1000));
								03=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
								04 ^{
									01=i=1+15*min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4)/10+CustomArtData(cur_item,1)/250;
									02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
									03=if(i<1)i=1;
								}
								05=else i=1+15*min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4)/10+CustomArtData(cur_item,1)/250;
								06=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
								07 ^{
									01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
									02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								08=else
								09 ^{
									01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
									02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
								}
								10=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
								11=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
								12=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
							}
						}
					}
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=if(cur_ship==Player()) Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnAnotherItem))
                09 ^{
                    01=str text;
                    02=if(ItemType(ScriptItemActObject1())>t_Hull && ItemType(ScriptItemActObject1())<=t_CustomWeapon)
                    03 ^{
                        01=if(ItemIsBroken(cur_item))
                        02 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBroken');
                            02=MessageBox(text);
                            03=exit;
                        }
                        03=else
                        04 ^{
                            01=if(ItemOwner(ScriptItemActObject1())!=Kling)
                            02 ^{
                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoImprovOwner');
                                02=MessageBox(text);
                                03=exit;
                            }
                            03=else
                            04 ^{
                                01=if(ItemSubrace(ScriptItemActObject1())!=ItemSubrace(cur_item))
                                02 ^{
                                    01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoImprovSubrace');
                                    02=MessageBox(text);
                                    03=exit;
                                }
                                03=else
                                04 ^{
                                    01=if(ItemImprovement(ScriptItemActObject1()))
                                    01 ^{
                                        00=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoImprov');
                                        01=MessageBox(text);
                                        02=exit;
                                    }
                                    02=else
                                    02 ^{
                                        01=dword nodes;
                                        02=dword energ;
                                        03=unknown ImprovName;
                                        04=ImprovName=newarray(1);
                                        05=for(i=0;i<=3;i=i+1)
                                        06 ^{
                                            01=nodes=max(4*ItemCost(ScriptItemActObject1())*(i+1)/1000,i+1);
                                            02=energ=(i+1)*(1+3*ItemLevel(ScriptItemActObject1()));
                                            03=if(CustomArtData(cur_item,2)>=(i*2)*GalaxyDiffLevels()/10)
                                            04 ^{
                                                01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<=nodes || CustomArtData(cur_item,1)/10<=energ)text='<color=150,0,0>';
                                                02=else text='';
                                                03=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprov'+i);
                                                04=text=text+' ('+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNodes')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg')+')';
                                            }
                                            05=else
                                            06 ^{
                                                01=text='<color=100,100,100>';
                                                02=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprov'+i)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovNo');
                                                03=text=text+'</color>';
                                            }
                                            07=ArrayAdd(ImprovName,text);
                                        }
                                        07=ArrayDelete(ImprovName,0);
                                        08=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovCount');
                                        09=i=ListBox(text,ImprovName);
                                        10=if(i<0)exit;
                                        11=if(CustomArtData(cur_item,2)<(i*2)*GalaxyDiffLevels()/10)
                                        12 ^{
                                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoInfo');
                                            02=MessageBox(text);
                                            03=exit;
                                        }
                                        13=nodes=max(4*ItemCost(ScriptItemActObject1())*(i+1)/1000,i+1);
                                        14=energ=(i+1)*(1+3*ItemLevel(ScriptItemActObject1()));
                                        15=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes || CustomArtData(cur_item,1)/10<energ)
                                        16 ^{
                                            01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes && CustomArtData(cur_item,1)/10<energ)
                                            02 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNodes')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                            03=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes)
                                            04 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNod');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                            05=if(CustomArtData(cur_item,1)/10<energ)
                                            06 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovNeed')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                        }
                                        17=if(i>=0 && i<3)
                                        18 ^{
                                            01=if(ItemType(ScriptItemActObject1())==t_Engine || ItemType(ScriptItemActObject1())==t_CargoHook || (ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon))
                                            02 ^{
                                                01=ArrayClear(ImprovName);
                                                02=ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovRnd'));
                                                03=if(ItemType(ScriptItemActObject1())==t_Engine) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed'));
                                                04=if(ItemType(ScriptItemActObject1())==t_Engine) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump'));
                                                05=if(ItemType(ScriptItemActObject1())==t_CargoHook) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextHookRadius'));
                                                06=if(ItemType(ScriptItemActObject1())==t_CargoHook) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextHookPower'));
                                                07=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWDamage'));
                                                08=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWRadius'));
                                                09=ArrayDelete(ImprovName,0);
                                                10=item=ListBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovName'),ImprovName);
                                                11=if(item<0)exit;
                                                12=ItemImprovement(ScriptItemActObject1(),i,item);
                                            }
                                            03=else ItemImprovement(ScriptItemActObject1(),i);
                                        }
                                        19=if(i==3)
                                        20 ^{
                                            01=if(ItemType(ScriptItemActObject1())==t_Engine || ItemType(ScriptItemActObject1())==t_CargoHook || (ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon))
                                            02 ^{
                                                01=ArrayClear(ImprovName);
                                                02=if(ItemType(ScriptItemActObject1())==t_Engine) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextSpeed'));
                                                03=if(ItemType(ScriptItemActObject1())==t_Engine) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextJump'));
                                                04=if(ItemType(ScriptItemActObject1())==t_CargoHook) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextHookRadius'));
                                                05=if(ItemType(ScriptItemActObject1())==t_CargoHook) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextHookPower'));
                                                06=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWDamage'));
                                                07=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<=t_CustomWeapon) ArrayAdd(ImprovName,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextWRadius'));
                                                08=ArrayDelete(ImprovName,0);
                                                09=item=ListBox(CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextImprovName'),ImprovName);
                                                10=if(item<0)exit;
                                                11=if(item==0)
                                                12 ^{
                                                    01=if(ItemType(ScriptItemActObject1())==t_Engine) SetEquipmentStats(ScriptItemActObject1(),70+GetEquipmentStats(ScriptItemActObject1(),0)+10*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                    02=if(ItemType(ScriptItemActObject1())==t_Engine) SetEquipmentStats(ScriptItemActObject1(),7+GetEquipmentStats(ScriptItemActObject1(),1),1);
                                                    03=if(ItemType(ScriptItemActObject1())==t_CargoHook) SetEquipmentStats(ScriptItemActObject1(),6+GetEquipmentStats(ScriptItemActObject1(),0)+5*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                    04=if(ItemType(ScriptItemActObject1())==t_CargoHook) SetEquipmentStats(ScriptItemActObject1(),30+GetEquipmentStats(ScriptItemActObject1(),1),1);
                                                    05=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<t_CustomWeapon)
                                                    06 ^{
                                                        01=maxdamage=0;
                                                        02=maxdamage=CT('Items.Weapon.Stats.'+(ItemType(ScriptItemActObject1())-t_DefGenerator)+'.MaxDamage');
                                                        03=SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+13*GetEquipmentStats(ScriptItemActObject1(),0)/100+40*maxdamage/100,0);
                                                        04=averageradius=0;
                                                        05=averageradius=CT('Items.Weapon.Stats.'+(ItemType(ScriptItemActObject1())-t_DefGenerator)+'.AverageRadius');
                                                        06=SetEquipmentStats(ScriptItemActObject1(),GetEquipmentStats(ScriptItemActObject1(),2)+5*GetEquipmentStats(ScriptItemActObject1(),2)/100+7*averageradius/100,2);
                                                    }
                                                    07=if(ItemType(ScriptItemActObject1())==t_CustomWeapon)
                                                    08 ^{
                                                        01=maxdamage=0;
                                                        02=maxdamage=GetCustomWeaponData(CustomWeaponType(ScriptItemActObject1()),'MaxDamage');
                                                        03=SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+13*GetEquipmentStats(ScriptItemActObject1(),0)/100+40*maxdamage/100,0);
                                                        04=averageradius=0;
                                                        05=averageradius=GetCustomWeaponData(CustomWeaponType(ScriptItemActObject1()),'AverageRadius');
                                                        06=SetEquipmentStats(ScriptItemActObject1(),GetEquipmentStats(ScriptItemActObject1(),2)+5*GetEquipmentStats(ScriptItemActObject1(),2)/100+7*averageradius/100,1);
                                                    }
                                                }
                                                13=if(item==1)
                                                14 ^{
                                                    01=if(ItemType(ScriptItemActObject1())==t_Engine) SetEquipmentStats(ScriptItemActObject1(),50+GetEquipmentStats(ScriptItemActObject1(),0)+5*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                    02=if(ItemType(ScriptItemActObject1())==t_Engine) SetEquipmentStats(ScriptItemActObject1(),15+GetEquipmentStats(ScriptItemActObject1(),1),1);
                                                    03=if(ItemType(ScriptItemActObject1())==t_CargoHook) SetEquipmentStats(ScriptItemActObject1(),20+GetEquipmentStats(ScriptItemActObject1(),0)+15*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                    04=if(ItemType(ScriptItemActObject1())==t_CargoHook) SetEquipmentStats(ScriptItemActObject1(),10+GetEquipmentStats(ScriptItemActObject1(),1),1);
                                                    05=if(ItemType(ScriptItemActObject1())>=t_Weapon1 && ItemType(ScriptItemActObject1())<t_CustomWeapon)
                                                    06 ^{
                                                        01=dword maxdamage=0;
                                                        02=maxdamage=CT('Items.Weapon.Stats.'+(ItemType(ScriptItemActObject1())-t_DefGenerator)+'.MaxDamage');
                                                        03=SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+7*GetEquipmentStats(ScriptItemActObject1(),0)/100+25*maxdamage/100,0);
                                                        04=dword averageradius=0;
                                                        05=averageradius=CT('Items.Weapon.Stats.'+(ItemType(ScriptItemActObject1())-t_DefGenerator)+'.AverageRadius');
                                                        06=SetEquipmentStats(ScriptItemActObject1(),GetEquipmentStats(ScriptItemActObject1(),2)+8*GetEquipmentStats(ScriptItemActObject1(),2)/100+12*averageradius/100,2);
                                                    }
                                                    07=if(ItemType(ScriptItemActObject1())==t_CustomWeapon)
                                                    08 ^{
                                                        01=maxdamage=0;
                                                        02=maxdamage=GetCustomWeaponData(CustomWeaponType(ScriptItemActObject1()),'MaxDamage');
                                                        03=SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+7*GetEquipmentStats(ScriptItemActObject1(),0)/100+25*maxdamage/100,0);
                                                        04=averageradius=0;
                                                        05=averageradius=GetCustomWeaponData(CustomWeaponType(ScriptItemActObject1()),'AverageRadius');
                                                        06=SetEquipmentStats(ScriptItemActObject1(),GetEquipmentStats(ScriptItemActObject1(),2)+8*GetEquipmentStats(ScriptItemActObject1(),2)/100+12*averageradius/100,1);
                                                    }
                                                }
                                            }
                                            03=else
                                            04 ^{
                                                01=if(ItemType(ScriptItemActObject1())==t_FuelTanks) SetEquipmentStats(ScriptItemActObject1(),7+GetEquipmentStats(ScriptItemActObject1(),0)+20*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                02=if(ItemType(ScriptItemActObject1())==t_Radar) SetEquipmentStats(ScriptItemActObject1(),600+GetEquipmentStats(ScriptItemActObject1(),0)+10*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                03=if(ItemType(ScriptItemActObject1())==t_Scaner) SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+10*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                04=if(ItemType(ScriptItemActObject1())==t_RepairRobot) SetEquipmentStats(ScriptItemActObject1(),10+GetEquipmentStats(ScriptItemActObject1(),0)+15*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                                05=if(ItemType(ScriptItemActObject1())==t_DefGenerator) SetEquipmentStats(ScriptItemActObject1(),5+GetEquipmentStats(ScriptItemActObject1(),0)+12*GetEquipmentStats(ScriptItemActObject1(),0)/100,0);
                                            }
                                        }
                                        21=GetNodesFromShip(cur_ship,nodes,ItemSubrace(cur_item));
                                        22=ScriptItemActParam(2);
                                        23=Sound('Sound.Repair');
                                        24=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-energ*10);
                                        25=if((1+5*(CustomArtData(cur_item,2)+(i+1))/GalaxyDiffLevels())>(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels()))
                                        26 ^{
                                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevelUp0')+' '+(1+5*(CustomArtData(cur_item,2)+(i+1))/GalaxyDiffLevels())+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevelUp1');
                                            02=MessageBox(text);
                                        }
                                        27=CustomArtData(cur_item,2,min(CustomArtData(cur_item,2)+i+1,6*GalaxyDiffLevels()/10));
                                        28=item=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                        29=i=(250*(i+1))*(100-840*ShipSkill(cur_ship,2)/100)/item;
                                    }
                                }
                            }
                        }
                    }
                }
                10=else
                11 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='Def+1';
                            02=defmax=10;
                            03=synchr=0;
                            04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            05 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else
                                03 ^{
                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode2'));
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                    04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDef')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                    05=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4));
                                    06=exit;
                                }
                            }
                            06=if(synchr==7)
                            07 ^{
                                01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode1'));
                                02=if(ShipProtectability(cur_ship)-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))>=defmax+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0))
                                03 ^{
                                    01=i=1+15*min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4)/10+CustomArtData(cur_item,1)/250;
                                    02=i=i-ShipProtectability(cur_ship)+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+GetEquipmentStats(ShipEqInSlot(cur_ship,t_DefGenerator),0)+defmax;
                                    03=if(i<1)i=1;
                                }
                                04=else i=1+15*min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4)/10+CustomArtData(cur_item,1)/250;
                                05=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                06 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                07=else
                                08 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                09=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                10=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDef')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag('Def+1')));
                                11=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                            03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDef')+'0');
                            04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4));
                            05=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        }
                    }
                    03=else
                    04 ^{
                        01=tag='Def+1';
                        02=CustomArtTextData(cur_item,1,'');
                        03=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDef')+'0');
                        05=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4));
                        06=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        07=if(!ItemIsBroken(cur_item))
                        08 ^{
                            01=if(ItemSubrace(cur_item)!=1)
                            02 ^{
                                01=if(cur_ship)
                                02 ^{
                                    01=synchr=0;
                                    02=dword synchr2=0;
                                    03=dword param=0;
                                    04=for(i=1;i<=4;i=i+1)
                                    05 ^{
                                        01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                        02=if(item==cur_item)continue;
                                        03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                        04 ^{
                                            01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                            02=break;
                                        }
                                    }
                                    06=if(!synchr)
                                    07 ^{
                                        01=str art='';
                                        02=if(ItemSubrace(cur_item)==0)
                                        03 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==0)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7) art='ArtDominator-12';
                                        }
                                        04=if(ItemSubrace(cur_item)==2)
                                        05 ^{
                                            01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(cur_ship,i);
                                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                                03=else exit;
                                            }
                                            03=if(synchr2==7) art='ArtDominator-21';
                                        }
                                        06=synchr2=0;
                                        07=for(i=1;i<=4;i=i+1)
                                        08 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==art)
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                02 ^{
                                                    01=synchr2=1;
                                                    02=param=ItemExtraSpecialsCountByType(item,FindBonusByCustomTag(tag));
                                                }
                                                03=break;
                                            }
                                        }
                                        09=if(synchr2)
                                        10 ^{
                                            01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                            02 ^{
                                                01=item=ShipArts(cur_ship,i);
                                                02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                03 ^{
                                                    01=if(item==cur_item)
                                                    02 ^{
                                                        01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                        02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                                        03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDef')+param);
                                                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+5*CustomArtData(cur_item,2)/GalaxyDiffLevels(),4));
                                                    }
                                                    03=break;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+CustomArtData(cur_item,2));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=7
            Test1=</color><br>Энергия (дата1): <color=255,245,80>
            Test2=</color> Опыт (дата2): <color=255,245,80>
            Test3=</color> Износ: <color=255,245,80>
            Text=Практически неистощимый источник энергии, используемый доминаторами. Улучшает оборудование соответствующей серии. На улучшение требуется энергия и ноды.<TextData2><TextData1><TextData3>
            TextBroken=Невозможно улучшить оборудование, Энергопакет неисправен!
            TextConnect0=<br><color=255,245,80>(подключен к Релектору)</color>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону)</color>
            TextDef=</color>%<br>Генератор поля: <color=255,245,80>
            TextEnerg=% энергии
            TextEnergy=</color><br>Энергия: <color=255,245,80>
            TextHookPower=Мощность
            TextHookRadius=Дальность
            TextImprov0=Начальный
            TextImprov1=Базовый
            TextImprov2=Профессиональный
            TextImprov3=Экстра
            TextImprovCount=Выберите улучшение!
            TextImprovName=На какой из характеристик <br>сделать упор?
            TextImprovNeed=Для улучшения необходимо
            TextImprovNo= (не изучено)
            TextImprovRnd=(на любую)
            TextJump=Прыжок
            TextLevel=</color>%<br>Уровень улучшений: <color=255,245,80>
            TextLevelUp0=Энергопакет получил
            TextLevelUp1= уровень.
            TextNdEnerg= нд. энергии:
            TextNoImprov=Невозможно совершить операцию, оборудование уже улучшено!
            TextNoImprovOwner=Невозможно улучшить, оборудование имеет несовместимого производителя!
            TextNoImprovSubrace=Невозможно улучшить, оборудование имеет несовместимую серию производителя!
            TextNoInfo=В базе данных Энергопакета недостаточно информации по улучшениям, чтобы совершить данную операцию!
            TextNod= нодов.
            TextNodes= нд. и
            TextSpeed=Скорость
            TextWDamage=Урон
            TextWRadius=Дальность
        }
        ArtDominator-8 ^{
            Broken=(обесточена)
            BrokenInBattle=В ходе тяжелого боя были полностью уничтожены 4 из пяти энергетических блока Базовой конструкции. Пятый блок не справился с резко возросшей нагрузкой и также отказался работать. Теперь устройству потребуется серьезный ремонт.
            BrokenInUse=В результате длительного и активного использования проводка энергетических блоков Базовой конструкции сильно потрепалась, что серьезно снизило ее проводимость, а следовательно и КПД энергогенератора, который больше не в состоянии поддерживать в рабочем состоянии систему. Проводка требует ремонта... да и энергетические блоки тоже.
            Cost=6
            Description=Мы думали, что этот ошметок - это какая-то незавершенная деталь оборудования. В действительности все оказалось совсем не так. Благодаря этому ошметку производится модификация оборудования до следующего технического уровня. Для преобразования он используют накопленную у себя энергию и ноды. Еще этот ошметок воздействует на систему вооружения увеличивая ее мощность. А мы то все думали почему у доминаторов мощнее оружия при аналогичных у нас.
            DescriptionLow=Модифицирует оборудование соответствующей серии. Помимо запчастей на этот процесс еще потребуются ноды. Повышает урон вооружения.
            Equipments=127
            Name=Базовая конструкция
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnWeaponShot,t_OnMissileShot,t_OnShowingItemInfo,t_OnAnotherItem
			OnActStepTypes=0,10,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=int i;
                                02=dword item;
                                03=dword synchr=0;
                                04=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                05 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                    03=else exit;
                                }
                                06=if(synchr==7) CustomArtData(cur_item,2,1);
                            }
                        }
                    }
                    03=else if(ScriptItemActParam()==10)
                    04 ^{
                        01=if(CustomArtData(cur_item,2) && ShipInNormalSpace(cur_ship))
                        02 ^{
                            01=i=(550-GalaxyDiffLevels())/100+1;
                            02=CustomArtData(cur_item,1,min(CustomArtData(cur_item,1)+i,1000));
                            03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                            04=i=100*(100-840*ShipSkill(cur_ship,2)/100)/i;
                            05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                        }
                    }
                    05=else
                    06 ^{
                        01=if(CustomArtData(cur_item,2))
                        02 ^{
                            01=CustomArtData(cur_item,2,0);
                        }
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=if(cur_ship==Player()) Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnWeaponShot))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=param=ScriptItemActParam();
                        02=ScriptItemActParam(param+(10*param)/100);
                        03=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        04=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        05=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else if(ScriptItemActionType(t_OnMissileShot))
                11 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=dword param=MissileMinDamage(ScriptItemActObject1());
                        02=MissileMinDamage(ScriptItemActObject1(),param+(10*param)/100);
                        03=param=MissileMaxDamage(ScriptItemActObject1());
                        04=MissileMaxDamage(ScriptItemActObject1(),param+(10*param)/100);
                        05=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        06=i=150*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        07=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                12=else if(ScriptItemActionType(t_OnShowingItemInfo))
                13 ^{
                    01=if(ItemIsInUse(cur_item))
                    02 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=synchr=0;
                            02=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            03 ^{
                                01=item=ShipEqInSlot(cur_ship,i);
                                02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr+1;
                                03=else
                                04 ^{
                                    01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode2'));
                                    02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                    03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage')+'0');
                                    04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+GalaxyTechLevel(),8));
                                }
                            }
                            04=if(synchr==7)
                            05 ^{
                                01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.Mode1'));
                                02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage')+'10');
                                04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+GalaxyTechLevel(),8));
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                            03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage')+'0');
                            04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+GalaxyTechLevel(),8));
                        }
                    }
                    03=else
                    04 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                        03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage')+'0');
                        04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+GalaxyTechLevel(),8));
                        05=if(!ItemIsBroken(cur_item))
                        06 ^{
                            01=if(ItemSubrace(cur_item)!=0)
                            02 ^{
                                01=if(cur_ship)
                                02 ^{
                                    01=if(ItemSubrace(cur_item)>=1)
                                    02 ^{
                                        01=synchr=0;
                                        02=dword synchr2=0;
                                        03=for(i=1;i<=4;i=i+1)
                                        04 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)==EquipmentImageName(cur_item))
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                                02=break;
                                            }
                                        }
                                        05=if(!synchr)
                                        06 ^{
                                            01=str art='';
                                            02=if(ItemSubrace(cur_item)==1)
                                            03 ^{
                                                01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                                02 ^{
                                                    01=item=ShipEqInSlot(cur_ship,i);
                                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==1)synchr2=synchr2+1;
                                                    03=else exit;
                                                }
                                                03=if(synchr2==7) art='ArtDominator-15';
                                            }
                                            04=if(ItemSubrace(cur_item)==2)
                                            05 ^{
                                                01=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                                02 ^{
                                                    01=item=ShipEqInSlot(cur_ship,i);
                                                    02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==2)synchr2=synchr2+1;
                                                    03=else exit;
                                                }
                                                03=if(synchr2==7)art='ArtDominator-21';
                                            }
                                            06=synchr2=0;
                                            07=for(i=1;i<=4;i=i+1)
                                            08 ^{
                                                01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                                02=if(item==cur_item)continue;
                                                03=if(EquipmentImageName(item)==art)
                                                04 ^{
                                                    01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr2=1;
                                                    02=break;
                                                }
                                            }
                                            09=if(synchr2)
                                            10 ^{
                                                01=for(i=1;i<=ShipArts(cur_ship);i=i+1)
                                                02 ^{
                                                    01=item=ShipArts(cur_ship,i);
                                                    02=if(EquipmentImageName(item)==EquipmentImageName(cur_item) && ItemSubrace(item)==ItemSubrace(cur_item))
                                                    03 ^{
                                                        01=if(item==cur_item)
                                                        02 ^{
                                                            01=CustomArtTextData(cur_item,1,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextConnect'+ItemSubrace(cur_item)));
                                                            02=CustomArtTextData(cur_item,2,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnergy')+CustomArtData(cur_item,1)/10);
                                                            03=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDamage')+'10');
                                                            04=CustomArtTextData(cur_item,2,CustomArtTextData(cur_item,2)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextLevel')+min(1+GalaxyTechLevel(),8));
                                                        }
                                                        03=break;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    05=if(GArtDominatorTest)
                    06 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+CustomArtData(cur_item,1));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    07=else CustomArtTextData(cur_item,3,'');
                }
                14=else
                15 ^{
                    01=str text;
                    02=if(ItemType(ScriptItemActObject1())>t_Hull && ItemType(ScriptItemActObject1())<=t_CustomWeapon)
                    03 ^{
                        01=if(ItemIsBroken(cur_item))
                        02 ^{
                            01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextBroken');
                            02=MessageBox(text);
                            03=exit;
                        }
                        03=else
                        04 ^{
                            01=if(ItemOwner(ScriptItemActObject1())!=Kling)
                            02 ^{
                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoUpgradeOwner');
                                02=MessageBox(text);
                                03=exit;
                            }
                            03=else
                            04 ^{
                                01=if(ItemSubrace(ScriptItemActObject1())!=ItemSubrace(cur_item))
                                02 ^{
                                    01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoUpgradeSubrace');
                                    02=MessageBox(text);
                                    03=exit;
                                }
                                03=else
                                04 ^{
                                    01=if(ItemLevel(ScriptItemActObject1())>=min(1+GalaxyTechLevel(),8))
                                    02 ^{
                                        01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNoUpgrade');
                                        02=MessageBox(text);
                                        03=exit;
                                    }
                                    03=else
                                    04 ^{
                                        01=dword nodes;
                                        02=dword energ;
                                        03=i=min(1+ItemLevel(ScriptItemActObject1()),8);
                                        04=nodes=max(2*ItemCost(ScriptItemActObject1())*i/1000,i*5);
                                        05=energ=24+ItemLevel(ScriptItemActObject1())*i;
                                        06=if(GetNodesFromShip(cur_ship)<nodes || CustomArtData(cur_item,1)<energ*10)
                                        07 ^{
                                            01=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes && CustomArtData(cur_item,1)<energ*10)
                                            02 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextUpgradeNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNodes')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                            03=if(GetNodesFromShip(cur_ship,0,ItemSubrace(cur_item))<nodes)
                                            04 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextUpgradeNeed')+' '+nodes+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextNod');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                            05=if(CustomArtData(cur_item,1)<energ*10)
                                            06 ^{
                                                01=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextUpgradeNeed')+' '+energ+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEnerg');
                                                02=MessageBox(text);
                                                03=exit;
                                            }
                                        }
                                        08=text=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextUpgrade');
                                        09=if(MessageBoxYesNo(text))
                                        10 ^{
                                            01=ItemLevel(ScriptItemActObject1(),i);
                                            02=GetNodesFromShip(cur_ship,nodes,ItemSubrace(cur_item));
                                            03=CustomArtData(cur_item,1,CustomArtData(cur_item,1)-energ*10);
                                            04=Sound('Sound.Repair');
                                            05=ScriptItemActParam(2);
                                            06=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                                            07=i=1000*(100-840*ShipSkill(cur_ship,2)/100)/i;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            Size+=6
            Test1=</color><br>Энергия (дата1): <color=255,245,80>
            Test2=</color> Износ: <color=255,245,80>
            Text=Модуль апгрейда оборудования соответствующей серии. На улучшение требуется энергия и ноды. Оказывает влияние на мощность выстрелов оружия.<TextData2><TextData1><TextData3>
            TextBroken=Невозможно совершить апгрейд, Базовая конструкция неисправна!
            TextConnect0=<br><color=255,245,80>(подключен к Релектору)</color>
            TextConnect1=<br><color=255,245,80>(подключен к Стабилитрону)</color>
            TextConnect2=<br><color=255,245,80>(подключен к Гнездотрону)</color>
            TextDamage=</color>%<br>Урон: +<color=255,245,80>
            TextEnerg=% энергии.
            TextEnergy=</color><br>Энергия: <color=255,245,80>
            TextLevel=</color>%<br>Уровень апгрейда: <color=255,245,80>
            TextNoUpgrade=Невозможно совершить операцию, оборудование имеет максимальный технический уровень!
            TextNoUpgradeOwner=Невозможно совершить апгрейд, оборудование имеет несовместимого производителя!
            TextNoUpgradeSubrace=Невозможно совершить апгрейд, оборудование имеет несовместимую серию производителя!
            TextNod= нодов.
            TextNodes= нд. и
            TextUpgrade=Будете повышать технический уровень данного оборудования?
            TextUpgradeNeed=Для апгрейда необходимо
        }
        ArtDominator-9 ^{
            /=Блазер арт
            Broken=(отказывается работать)
            BrokenInBattle=Похоже, что вычислительные мощности Стригера не справились с количеством переменных, которые возникли в таком жарком бою как этот. Прибор отключился и напрочь отказывается включаться.
            BrokenInUse=В вычисления Стригера закралась крохотная ошибка, которая, тем не менее, умудрилась полностью исказить большую часть записанных данных. Похоже пора отдавать железку в ремонт.
            Cost=10
            Description=Истинный блазероидный ошметок, теперь понятно почему они так любят ракетное оружие. Он позволяет увеличить урон снарядов ракетного оружия, а если еще подключить к нему деструкторизатор, то урон еще больше может увеличится.
            DescriptionLow=Контроллер боевых ракетных систем. Производит захват цели, наводку, стрельбу и перезарядку, что позволяет увеличить урон.
            DescriptionLow=Полученные во время сражения данные сохраняются в матрицу памяти <color=255,245,80>деструкторизатора</color>.
            Equipments=12
            Name=Стригер
			OnActCodeTypes=t_OnStep,t_OnReduceEqUse,t_OnMissileShot,t_OnShowingItemInfo,t_OnLeavingForm
			OnActStepTypes=0,11
            OnActCode ^{
				01=dword cur_ship=ScriptItemActShip();
				02=if(!cur_ship)exit;
				03=dword cur_item=CurItem();
                04=if(ScriptItemActionType(t_OnStep))
                05 ^{
                    01=if(ScriptItemActParam()==0)
                    02 ^{
                        01=if(ItemIsInUse(cur_item))
                        02 ^{
                            01=if(!ItemIsBroken(cur_item))
                            02 ^{
                                01=str tag='WMissile+1';
                                02=int i;
                                03=dword item;
                                04=dword synchr=0;
                                05=dword pow=1;
                                06=dword equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                                07=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                08 ^{
                                    01=pow=pow*2;
                                    02=if((equip & pow/2)==pow/2)
                                    03 ^{
                                        01=item=ShipEqInSlot(cur_ship,i);
                                        02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                        03=else
                                        04 ^{
                                            01=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                            02=if(CustomArtData(cur_item,1)>0) CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
                                            03=exit;
                                        }
                                    }
                                }
                                09=if(synchr==equip)
                                10 ^{
                                    01=CustomArtData(cur_item,2,1);
                                    02=synchr=0;
                                    03=pow=1;
                                    04=equip=CT('Artefacts.CustomArtefacts.ArtDominator-10.Equipments');
                                    05=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                                    06 ^{
                                        01=pow=pow*2;
                                        02=if((equip & pow/2)==pow/2)
                                        03 ^{
                                            01=item=ShipEqInSlot(cur_ship,i);
                                            02=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))synchr=synchr | pow/2;
                                            03=else exit;
                                        }
                                    }
                                    07=pow=0;
                                    08=if(synchr==equip)
                                    09 ^{
                                        01=pow=0;
                                        02=for(i=1;i<=4;i=i+1)
                                        03 ^{
                                            01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                            02=if(item==cur_item)continue;
                                            03=if(EquipmentImageName(item)=='ArtDominator-10')
                                            04 ^{
                                                01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item)) pow=1;
                                                02=break;
                                            }
                                        }
                                    }
                                    10=if(pow)
                                    11 ^{
                                        01=for(i=1;i<=ShipCntWeapon(cur_ship);i=i+1)
                                        02 ^{
                                            01=item=ShipWeapon(cur_ship,i);
                                            02=if(GetEquipmentStats(item,3)==2)
                                            03 ^{
                                                01=if(WeaponTarget(item)>0)
                                                02 ^{
                                                    01=if(ObjectType(WeaponTarget(item))==5)
                                                    02 ^{
                                                        01=if(CustomArtData(cur_item,1)<50) CustomArtData(cur_item,1,CustomArtData(cur_item,1)+1);
                                                        02=break;
                                                    }
                                                }
                                            }
                                        }
                                        03=i=22+3*ShipSkill(cur_ship,2);
                                        04=i=i+i*CustomArtData(cur_item,1)/100;
                                    }
                                    12=else
                                    13 ^{
                                        01=if(CustomArtData(cur_item,1)>0)CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
                                        02=i=22+3*ShipSkill(cur_ship,2);
                                    }
                                    14=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                    15 ^{
                                        01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                        02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                    16=else
                                    17 ^{
                                        01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                    }
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=if(CustomArtData(cur_item,1)>0)CustomArtData(cur_item,1,CustomArtData(cur_item,1)-1);
                        }
                    }
                    03=else
                    04 ^{
                        01=if(CustomArtData(cur_item,2))
                        02 ^{
                            01=CustomArtData(cur_item,2,0);
                        }
                    }
                }
                06=else if(ScriptItemActionType(t_OnReduceEqUse))
                07 ^{
                    01=if(ScriptItemActObject1()==cur_item)
                    02 ^{
                        01=if(CustomArtData(cur_item,3)>0)
                        02 ^{
                            01=ScriptItemActParam(CustomArtData(cur_item,3));
                            02=CustomArtData(cur_item,3,0);
                            03=if(ItemIsBroken(cur_item))
                            04 ^{
                                01=CustomArtData(cur_item,1,0);
                                02=if(cur_ship==Player())
                                03 ^{
                                    01=Ether(8,'Поломался '+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Name'),CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.BrokenInUse'));
                                }
                            }
                        }
                        03=else ScriptItemActParam(0);
                    }
                }
                08=else if(ScriptItemActionType(t_OnMissileShot))
                09 ^{
                    01=if(CustomArtData(cur_item,2))
                    02 ^{
                        01=i=1000/(7+3*(GalaxyDiffLevels(3)/50-1));
                        02=i=250*(100-840*ShipSkill(cur_ship,2)/100)/i;
                        03=CustomArtData(cur_item,3,CustomArtData(cur_item,3)+i);
                    }
                }
                10=else
                11 ^{
                    01=str text='';
                    02=if(ItemIsInUse(cur_item))
                    03 ^{
                        01=if(!ItemIsBroken(cur_item))
                        02 ^{
                            01=tag='WMissile+1';
                            02=synchr=0;
                            03=dword synchr2=0;
                            04=pow=1;
                            05=equip=CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Equipments');
                            06=text='</color>';
                            07=text=text+CT('Artefacts.CustomArtefacts.Synchr')+' </color>';
                            08=for(i=t_FuelTanks;i<t_FuelTanks+7;i=i+1)
                            09 ^{
                                01=pow=pow*2;
                                02=if((equip & pow/2)==pow/2)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,i);
                                    02=if(synchr2>0)text=text+'<color=200,0,200>, </color>';
                                    03=synchr2=synchr2+1;
                                    04=if(!ItemIsBroken(item) && ItemOwner(item)==Kling && ItemSubrace(item)==ItemSubrace(cur_item))
                                    05 ^{
                                        01=synchr=synchr | pow/2;
                                        02=text=text+'<color=255,245,80>';
                                    }
                                    06=else
                                    07 ^{
                                        01=text=text+'<color=255,0,0>';
                                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                                        03=CustomArtTextData(cur_item,2,'</color>на <color=255,245,80>'+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))+'</color> ед. ');
                                    }
                                    08=text=text+CT('Artefacts.CustomArtefacts.Equip'+(i-t_Hull))+'</color>';
                                }
                            }
                            10=text=text+'<color=200,0,200>)</color>';
                            11=CustomArtTextData(cur_item,1,text);
                            12=if(synchr==equip)
                            13 ^{
                                01=synchr=0;
                                02=for(i=1;i<=4;i=i+1)
                                03 ^{
                                    01=item=ShipEqInSlot(cur_ship,t_Artefact,i);
                                    02=if(item==cur_item)continue;
                                    03=if(EquipmentImageName(item)=='ArtDominator-10')
                                    04 ^{
                                        01=if(ItemSubrace(cur_item)==ItemSubrace(item) && !ItemIsBroken(item))synchr=1;
                                        02=break;
                                    }
                                }
                                04=if(synchr)
                                05 ^{
                                    01=i=22+3*ShipSkill(cur_ship,2);
                                    02=i=i+i*CustomArtData(cur_item,1)/100;
                                }
                                06=else
                                07 ^{
                                    01=i=22+3*ShipSkill(cur_ship,2);
                                }
                                08=if(i>ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)))
                                09 ^{
                                    01=i=i-ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=ItemExtraSpecialsAddByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                10=else
                                11 ^{
                                    01=i=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag))-i;
                                    02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),i);
                                }
                                12=if(synchr)
                                13 ^{
                                    01=text=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=text=text+'</color>'+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEd');
                                    03=text=text+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextDestruct')+CustomArtData(cur_item,1)+'</color>%.';
                                    04=CustomArtTextData(cur_item,2,text);
                                }
                                14=else
                                15 ^{
                                    01=text=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                                    02=text=text+'</color>'+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEd');
                                    03=CustomArtTextData(cur_item,2,text);
                                }
                            }
                        }
                        03=else
                        04 ^{
                            01=CustomArtTextData(cur_item,1,'');
                            02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                            03=text=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                            04=text=text+'</color>'+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEd');
                            05=CustomArtTextData(cur_item,2,text);
                        }
                    }
                    04=else
                    05 ^{
                        01=CustomArtTextData(cur_item,1,'');
                        02=ItemExtraSpecialsDeleteByType(cur_item,FindBonusByCustomTag(tag),ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        03=text=ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag));
                        04=text=text+'</color>'+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.TextEd');
                        05=CustomArtTextData(cur_item,2,text);
                    }
                    06=if(GArtDominatorTest)
                    07 ^{
                        01=CustomArtTextData(cur_item,3,CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test1')+ItemExtraSpecialsCountByType(cur_item,FindBonusByCustomTag(tag)));
                        02=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test2')+CustomArtData(cur_item,1));
                        03=CustomArtTextData(cur_item,3,CustomArtTextData(cur_item,3)+CT('Artefacts.CustomArtefacts.'+EquipmentImageName(cur_item)+'.Test3')+(100-ItemDurability(cur_item))+'</color>% (testing)');
                    }
                    08=else CustomArtTextData(cur_item,3,'');
                }
            }
            Size+=5
            Test1=</color><br>Урон общий: <color=255,245,80>
            Test2=</color> Доп урон (дата1):<color=255,245,80>
            Test3=</color>% Износ: <color=255,245,80>
            Text=Контроллер боевых ракетных систем. Производит захват цели, наводку, стрельбу и перезарядку, что позволяет увеличить урон на <color=255,245,80><TextData2><TextData1><TextData3>
            TextDestruct=</color> Полученные во время сражения данные сохраняются в матрицу памяти <color=255,245,80>Деструкторизатора</color>. Эффективность +<color=255,245,80>
            TextEd=</color> ед.
            TextNa=</color>на <color=255,245,80>
        }
        Equip1=Стекбаррелем
        Equip2=Торсионным реактором
        Equip3=Сенсотроном
        Equip4=Тех-детектором
        Equip5=Дианодом
        Equip6=Ментощупом
        Equip7=Пикселитом
        Mode1=<br>(синхронизирован)
        Mode2=<br><color=255,0,0>(не синхронизирован)
        Synchr=<br><color=200,0,200>(синхронизация с
        Version EvoArtDominator=1.1.0
    }
}
FormRuins ^{
    SB ^{
        Scn2 ^{
            EtherExamine=исследован. Ознакомится с исследованиями можно на ближайшей научной базе.
            EtherSBDestroyed=Все научные базы уничтожены. Некоторые исследования по изучению доминаторов и их модулей утеряны.
            FullSetSubrace0=Приобрести оборудование серии <color=50,0,0>Блазер</color>
            FullSetSubrace1=Приобрести оборудование серии <color=0,0,50>Келлер</color>
            FullSetSubrace2=Приобрести оборудование серии <color=0,50,0>Террон</color>
            ItemSubrace0=т., серия - <color=50,0,0>Блазер</color>)
            ItemSubrace1=т., серия - <color=0,0,50>Келлер</color>)
            ItemSubrace2=т., серия - <color=0,50,0>Террон</color>)
            PlayerAsk=Отдел исследований доминаторских модулей
            PlayerBuyArtNo=Хорошо, приду в другой раз
            PlayerNo=Покинуть отдел исследований
            PlayerPassArts=Сдать модули на исследование
            PlayerSaleAllArts=Возьмите все оборудование доминаторов
            PlayerSaleNoArts=У меня нет нужных модулей для исследования
            PlayerSectionBack=Назад
            PlayerToArts=Преобразовать модули
            SBAnswer=Как известно, у доминаторов есть оборудование непонятного назначения, тут мы занимаемся его исследованием, для возможности использования против наших агрессоров. Для каждой серии мы выработали собственную исследовательскую стратегию и одну общую, которая прослеживается у всех серий доминаторов.
            SBArtPrize=В качестве награды за наше старание мы даем вам первый опытный образец совершенно бесплатно. Но чтобы использовать возможности данного модуля на любом коалиционном корабле, ваше оборудование должно быть доминаторским и одной серии производителя, т.к. используются специальные протоколы, поддерживаемые только у доминаторов.
            SBFullSet=Если у вас нет сейчас необходимого оборудования, мы можем предоставить вам оборудование, оставшееся после изучения в отделе антидоминаторского исследования. Оно правда не в лучшем виде и не полностью функциональное, да и не бесплатно, но это лучше, чем ничего. Данное оборудование мы можем предложить за
            SBModulEnd=Исследования успешно завершены.
            SBModulEnd=-------------------------------
            SBModulGDRP=Исследования приостановлены, необходимы оперативные данные из отделов антидоминаторских исследований.
            SBModulGDRP=-------------------------------
            SBModulGTL=Исследования приостановлены, необходимо новое технологическое оборудование для изучения.
            SBModulGTL=-------------------------------
            SBModulInfo=-------------------------------
            SBModulInfo0=Исследуемый модуль:
            SBModulInfo1=Колличество материала:
            SBModulInfo1_=ед.
            SBModulInfo2=Процент исследования:
            SBModulInfo3=Расчетное время: _Day_ дн.
            SBModulMaterial=Исследования приостановлены, требуется материал для исследований.
            SBModulMaterial=-------------------------------
            SBModulNo=К исследованиям не приступали.
            SBModulNo=-------------------------------
            SBModulOk=Исследования ведутся.
            SBModulOk=-------------------------------
            SBNeedCost=Стоимость такой процедуры составит
            SBNeedCostArt=<Player>, у вас недостаточно денежных средств для изготовления модуля.
            SBPrize=Награда:
            SBRemainsToArt=Если желаете, то можем встроить в ошметок адаптационное устройство чтобы использовать возможности данного модуля на любом коалиционном корабле, но при этом ваше оборудование должно быть доминаторским и одной серии производителя, т.к. используются специальные протоколы, поддерживаемые только у доминаторов.
            SBSectionInfo=Перечень исследуемых модулей доминаторов:
            SBSectionInfo=------------------------------------------------------<br><br>
            SBSectionInfoEnd=------------------------------------------------------
            SBSectionInfoEnd=Скорость работы ученых зависит от наличия материалов для исследований, уровня исследований технологий доминаторов и уровня развития технического прогресса. Если у вас есть для нас необходимый материал, то вы можете его безвозмездно сдать на изучение.
            SBSectionInfoEnd=Вы можете более подробно ознакомиться с процессом исследования и даже получить опытный образец, если исследования уже завершены.
            SBSeeItems=Мы просканировали ваш трюм на предмет интересующих нас образцов технологий доминаторов. Вот список того, что нам не помешало бы иметь:
            SBSeeItems=------------------------------------------------------<br><br>
            SBSeeItemsHaveItems=------------------------------------------------------
            SBSeeItemsHaveItems=Какие из этих предметов вы намерены безвозмездно передать нашему отделу?
            SBSeeItemsNotHaveItems=------------------------------------------------------<br>...
            SBSeeItemsNotHaveItems=Извините, но мы не нашли никаких доминаторских модулей, которые можно было бы исследовать.
            Status_1=(изучен)
            Status_2=изучается)
            Status_3=(не изучен)
            Status_4=приостановлено)
        }
    }
}
Script ^{
    Mod_EvoArtDominator ^{
        2=<br>
        1=<0>
    }
}
MicroModuls ^{
    EvoArtDominator_ArtKling01 ^{
		Equipments=None
        CustomTag=Hull+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonHull=1
    }
    EvoArtDominator_ArtKling02 ^{
		Equipments=None
        CustomTag=Speed+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonSpeed=1
    }
    EvoArtDominator_ArtKling03 ^{
		Equipments=None
        CustomTag=Jump+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonJump=1
    }
    EvoArtDominator_ArtKling04 ^{
		Equipments=None
        CustomTag=Radar+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonRadar=1
    }
    EvoArtDominator_ArtKling05 ^{
		Equipments=None
        CustomTag=Scan+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonScan=3
    }
    EvoArtDominator_ArtKling06 ^{
		Equipments=None
        CustomTag=Def+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonDef=1
    }
    EvoArtDominator_ArtKling07 ^{
		Equipments=None
        CustomTag=WEnergy+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonWEnergy=1
    }
    EvoArtDominator_ArtKling08 ^{
		Equipments=None
        CustomTag=WSplinter+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonWSplinter=1
    }
    EvoArtDominator_ArtKling09 ^{
		Equipments=None
        CustomTag=WMissile+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonWMissile=1
    }
    EvoArtDominator_ArtKling10 ^{
		Equipments=None
        CustomTag=WRadius+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonWRadius=1
    }
    EvoArtDominator_ArtKling11 ^{
		Equipments=None
        CustomTag=HookMinSpeed+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonHookMinSpeed=1
    }
    EvoArtDominator_ArtKling12 ^{
		Equipments=None
        CustomTag=HookMaxSpeed+1
        Special=1
		LockedAcryn=3
		NonSearchable=1
        bonHookMaxSpeed=1
    }
}
ShipInfo ^{
    AddInfo ^{
        CustomInfos ^{
            Akselerin ^{
                Description=Корабль загружен вычислениями вражеского Акселерина.<br>Дней до завершения перезагрузки: <Data1>
                Icon=50
                Name=Перезагрузка от Акселерина
				OnActCodeTypes=t_OnStep
				OnActStepTypes=11
                OnActCode ^{
					01=dword cur_ship=ScriptItemActShip();
					02=dword cur_info=CurInfo();
					03=if(ShipCustomShipInfoData(0,cur_info,1)>1)
					04 ^{
						01=ShipCustomShipInfoData(0,cur_info,1,ShipCustomShipInfoData(0,cur_info,1)-1);
					}
					05=else
					06 ^{
						01=DomikProgrammDate(cur_ship,0);
						02=DomikProgramm(cur_ship,0);
						03=ShipDeleteCustomShipInfo(cur_ship,'Akselerin');
					}
                }
            }
            Metablok ^{
                Description=Корабль загружен вычислениями вражеского Метаблока.<br>Дней до завершения перезагрузки: <Data1>
                Icon=51
                Name=Перезагрузка от Метаблока
				OnActCodeTypes=t_OnStep
				OnActStepTypes=11
                OnActCode ^{
					01=dword cur_ship=ScriptItemActShip();
					02=dword cur_info=CurInfo();
					03=if(ShipCustomShipInfoData(0,cur_info,1)>1)
					04 ^{
						01=ShipCustomShipInfoData(0,cur_info,1,ShipCustomShipInfoData(0,cur_info,1)-1);
					}
					05=else
					06 ^{
						01=DomikProgrammDate(cur_ship,0);
						02=DomikProgramm(cur_ship,0);
						03=ShipDeleteCustomShipInfo(cur_ship,'Metablok');
					}
                }
            }
        }
    }
}