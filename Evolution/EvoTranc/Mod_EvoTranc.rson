{
  "FileID":  573785173,
  "FileVersion":  8,
  "ViewPos.x":  -298,
  "ViewPos.y":  -271,
  "ScriptName":  "Mod_EvoTranc",
  "ScriptFileOut":  "H:\\Mod_EvoTranc.scr",
  "ScriptTextOut":  "H:\\Mod_EvoTranc.txt",
  "GraphPoint.Count":  291,
  "GraphLink.Count":  209,
  "GraphRectText.Count":  7,
  "Variables.Count":  65,
  "Stars.Count":  1,
  "Planets.Count":  1,
  "Ships.Count":  1,
  "States.Count":  2,
  "Groups.Count":  2,
  "Places.Count":  0,
  "Items.Count":  0,
  "Ethers.Count":  0,
  "Dialogs.Count":  33,
  "DialogMessages.Count":  36,
  "DialogAnswers.Count":  27,
  "Operations.Count":  77,
  "Statements.Count":  46,
  "Loops.Count":  0,
  "Visual.Objects":  
  [
    {
      "DialogAnswers":      
      [
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  13,
          "Msg":  "<color=230,15,15>Красный</color> - говорят, он ускоряет",
          "AMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  14,
          "Msg":  "<color=135,118,73>Коричневый</color> - обожаю классику",
          "AMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  15,
          "Msg":  "<color=44,147,44>Зелёный</color> - люблю весенние тона",
          "AMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  16,
          "Msg":  "<color=54,95,190>Синий</color> - как бездонный океан за дубовым бортом",
          "AMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  17,
          "Msg":  "<color=108,61,142>Фиолетовый</color> - загадочный и глубокий цвет",
          "AMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  110,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  75,
          "Msg":  "Непременно",
          "AMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  130,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  85,
          "Msg":  "",
          "AMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  114,
          "Msg":  "<color=255,255,255>Белый</color> - словно вспышка сверхновой",
          "AMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  115,
          "Msg":  "<color=249,216,67>Жёлтый</color> - банановый удар",
          "AMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  590,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  143,
          "Msg":  "Назад",
          "AMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  277,
          "#":  166,
          "Msg":  "Далее",
          "AMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  320,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  170,
          "Msg":  "Назад",
          "AMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  320,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  173,
          "Msg":  "Отмена",
          "AMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  275,
          "#":  177,
          "Msg":  "Далее",
          "AMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  320,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  178,
          "Msg":  "Конец связи",
          "AMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  360,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  200,
          "Msg":  "Конец связи",
          "AMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  340,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  204,
          "Msg":  "Назад",
          "AMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  320,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  205,
          "Msg":  "Конец связи",
          "AMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  320,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  209,
          "Msg":  "И ретранслируй этот приказ остальным транклюкаторам. С каждым отдельно я общаться не намерен.",
          "AMsg.Num":  "18"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  440,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  213,
          "Msg":  "Назад",
          "AMsg.Num":  "19"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  310,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  222,
          "Msg":  "Далее",
          "AMsg.Num":  "20"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  310,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  223,
          "Msg":  "Назад",
          "AMsg.Num":  "21"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  700,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  232,
          "Msg":  "Конец связи",
          "AMsg.Num":  "22"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  720,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  261,
          "Msg":  "Назад",
          "AMsg.Num":  "23"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  269,
          "#":  270,
          "Msg":  "Конец связи",
          "AMsg.Num":  "24"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  274,
          "#":  272,
          "Msg":  "<TextCorr2>",
          "AMsg.Num":  "25"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  276,
          "#":  278,
          "Msg":  "<TextCorr2>",
          "AMsg.Num":  "26"        
        }      
      ],
      "DialogMessages":      
      [
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  450,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  8,
          "Msg":  "Так-с, посмотрим... С учётом размера вашего транклюкатора, его полная перекраска обойдётся вам в <cost> cr. в которые входит: предварительная шлифовка, грунтовка, покраска, сушка и нанесение декоративного блеска, который, впрочем, в космосе всё равно долго не протянет.\r\nНа выбор вам будут предложены <clr>6<clrEnd> разных цветов, плюс, при желании, всегда можно будет вернуть обратно текущий вариант.\r\nПредложение устраивает?",
          "DMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  520,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  12,
          "Msg":  "Чудесно! В таком случае вот вам все варианты цветов на выбор. Какой предпочитаете?",
          "DMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  630,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  22,
          "Msg":  "У вас отменный вкус! Наши лучшие маляры уже взялись за дело.\r\nСовсем скоро ваш <Name(cur_Tranc)> засияет новыми красками в буквальном смысле слова!",
          "DMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  49,
          "Msg":  "<TextCorr6><TextCorr><TextCorr2><TextCorr3><TextCorr4><TextCorr5>\r\n\r\n<TextCorr7>",
          "DMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  58,
          "Msg":  "Мы обнаружили у вас сразу несколько доступных для улучшения транклюкаторов. Но вот кого именно из этих маленьких железных симпатяг нам выбрать?",
          "DMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  260,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  65,
          "Msg":  "<TextCorr>",
          "DMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  220,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  69,
          "Msg":  "Наш центр предлагает целый комплекс услуг по модернизации транклюкаторов. От простой перекраски и увеличения вместимости корпуса, до установки новейших боевых систем, способных значительно повысить наступательный потенциал вашего \"питомца\".\r\n<TextCorr>А если вы давно мечтали установить на него более мощный двигатель, захват, пушку или ещё какое-то полезное устройство, но всё никак не хватало свободного пространства, то за относительно небольшую плату мы запросто \"ужмём\" желаемое оборудование до вполне приемлемых размеров.\r\nИтак, как бы вы хотели улучшить <Name(cur_Tranc)>?",
          "DMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  74,
          "Msg":  "Извините, но ни в ангаре, ни в трюме вашего корабля мы транклюкаторов не обнаружили. Возвращайтесь, как раздобудете себе хотя бы одного.",
          "DMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  160,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  81,
          "Msg":  "Ну разумеется, <Player>. Вот список ваших транклюкаторов, которых мы можем улучшить:",
          "DMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  84,
          "Msg":  "<TextCorr>",
          "DMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  98,
          "Msg":  "Ну, вот улучшения для корпуса <Name(cur_Tranc)> и закончились. Теперь у вашего робота самая крепкая броня в открытом космосе! Хотя впрочем, это не точно.\r\nЧто улучшаем следующим?",
          "DMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  530,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  122,
          "Msg":  "<TextCorr6><TextCorr><TextCorr2><TextCorr3><TextCorr4>\r\n\r\n<TextCorr7>",
          "DMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  510,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  128,
          "Msg":  "Ну, вот боевые модификации для вашего <Name(cur_Tranc)> и закончились. Больше на него установить попросту нечего. Сказал бы я, что ваш робот теперь машина для убийства, да только вот, фактически, ей он являлся ещё с момента сборки.\r\nВпрочем, это отнюдь не означает, что пора завязывать. Что улучшаем следующим?",
          "DMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  530,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  139,
          "Msg":  "<temp_str>",
          "DMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  144,
          "Msg":  "Проблема чрезмерных размеров того или иного оборудования или орудия хорошо знакома любому капитану космического судна. Однако, куда более остро она встаёт перед владельцами транклюкаторов, ведь в плотный корпус этих умных машин зачастую влезает слишком мало полезной \"начинки\".\r\nСеть технологических центров решила положить уверенный конец страданиям транководов! Нашими инженерами была разработана уникальная методика удаления и частичной замены примерно <clr>половины<clrEnd> деталей в любом оборудовании так, чтобы сохранить минимально необходимый запас прочности для обеспечения беспроблемной работы устройства в идеальных, приближенных к стендовым условиях. Ну а какой пилот сможет обеспечить своему бортовому оборудованию максимально комфортный и бесстрессовый режим работы? Правильно - искусственный!\r\nОбратной стороной медали этого метода является то, что <clr>уменьшенное<clrEnd> таким образом оборудование станет практически невозможно применять на борту нормальных пилотируемых судов. Живому пилоту просто не хватит внимания или навыка, результатом чего станет моментальная поломка хрупкого устройства.\r\n\r\nФууух...\r\n\r\nНеделю заучивал чёртов текст! Отдельно добавлю, что над каждым оборудованием мы работаем лишь <clr>один раз<clrEnd>. Дальнейшее уменьшение скорее напоминало бы обычный демонтаж.\r\nНу, надеюсь, суть \"уменьшающей модификации\" вам понятна?",
          "DMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  170,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  148,
          "Msg":  "Заказ принят. Ожидайте исполнения вон в том удобном кресле.\r\n...\r\n<TextCorr11>",
          "DMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  149,
          "Msg":  "<TextCorr6> <TextCorr7>\r\nДля упрощения всех расчётов у нас действует правило: <clr>\"В два раза за полцены\"<clrEnd> - что означает... Хотя вы, наверно, уже и сами догадались:\r\n<DefSplt>\r\n<TextCorr8><TextCorr9><DefSplt>\r\nНу, что будем уменьшать?",
          "DMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  153,
          "Msg":  "Так-так, посмотрим...\r\n...\r\nИзвините, <Player>, но ни в вашем трюме, ни в транклюкаторе подходящего для уменьшения оборудования мы не нашли. Предлагаю вам провести другие улучшения или приобрести новое оборудование в нашем магазине.",
          "DMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  164,
          "#":  165,
          "Msg":  "Слушаюсь, хозяин! Форсаж отключён.",
          "DMsg.Num":  "18"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  340,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  169,
          "Msg":  "Простите, хозяин, но мой двигатель имеет критический уровень износа. Не могу выполнить ваш приказ.",
          "DMsg.Num":  "19"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  360,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  171,
          "Msg":  "Слушаюсь, хозяин! На какой срок мне активировать форсаж?",
          "DMsg.Num":  "20"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  175,
          "#":  176,
          "Msg":  "Форсаж активирован. Ожидаю дальнейших приказов.",
          "DMsg.Num":  "21"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  350,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  185,
          "Msg":  "А, вижу, вас заинтересовало предложение?\r\nКак вы знаете, после недавнего \"инцидента\" с доминаторами, на заводах транклюкаторам навигационные компьютеры ставить побаиваются. Но наша сеть технологических центров не столь суеверна, а потому решила исправить явную недоработку.\r\nПо сути, разработанная нами версия навигационного компьютера почти ничем не отличается от той, что прямо сейчас установлена на вашем корабле. Правда, для использования компьютера искусственным интеллектом, нам пришлось немного расширить его автономность, но на общей эффективности расчётов гиперпрыжка это не отразилось.\r\nВ комплекте с компьютером также идёт специально разработанный <clr>электронный кошелёк<clrEnd> для транклюкатора, из которого ваш \"питомец\" сможет самостоятельно оплачивать своё топливо. Да уж, машины в наше время становятся всё более и более независимыми, хе-хе. Хотя пополнять этот кошелёк, естественно, придётся вам.\r\nПолная стоимость установки навигационного компьютера для вашей модели робота составит <temp_int_6> cr. Также, для корректного взаимодействия с устройством, <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) должен иметь как минимум <3> технологический уровень.\r\nУсловия устраивают?",
          "DMsg.Num":  "22"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  188,
          "Msg":  "Желание клиента для нас закон! Навигационный компьютер успешно установлен, а ваш транклюкатор отныне способен совершать гиперпрыжки не только в безопасном трюме.\r\nСледите только, чтобы к доминаторам не улетел, хе-хе.",
          "DMsg.Num":  "23"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  199,
          "Msg":  "Слушаюсь, хозяин! Подготовка к гиперпрыжку прекращена.",
          "DMsg.Num":  "24"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  360,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  202,
          "Msg":  "Слушаюсь, хозяин! Курс в систему <StarName(GAnswerData)> проложен. Приступаю к совершению гиперпрыжка.",
          "DMsg.Num":  "25"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  360,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  203,
          "Msg":  "<TextCorr>",
          "DMsg.Num":  "26"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  211,
          "Msg":  "<temp_str>",
          "DMsg.Num":  "27"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  330,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  217,
          "Msg":  "Хозяин, вы можете в любой момент изменить моё имя на то, которое сочтёте нужным.\r\nЕсли вы хотите, чтобы моё имя выделялось нестандартным цветом, при его записи используйте специальные команды: <TextCorr2><TextCorr4><TextCorr3>Имя<TextCorr2><TextCorr5><TextCorr3>",
          "DMsg.Num":  "28"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  221,
          "Msg":  "Спасибо, хозяин! Отныне я <Name(cur_Tranc)>.",
          "DMsg.Num":  "29"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  700,
          "Pos.y":  60,
          "Parent":  -1,
          "#":  231,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "30"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  730,
          "Pos.y":  60,
          "Parent":  -1,
          "#":  234,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "31"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  790,
          "Pos.y":  60,
          "Parent":  -1,
          "#":  235,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "32"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  760,
          "Pos.y":  60,
          "Parent":  -1,
          "#":  244,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "33"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  700,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  251,
          "Msg":  "<temp_str_2>",
          "DMsg.Num":  "34"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  268,
          "#":  269,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "35"        
        }      
      ],
      "Dialogs":      
      [
        {
          "Type":  "TDialog",
          "Name":  "Recolor",
          "Pos.x":  430,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  6        
        },
        {
          "Type":  "TDialog",
          "Name":  "HullUp",
          "Pos.x":  130,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  46        
        },
        {
          "Type":  "TDialog",
          "Name":  "EquipChoose",
          "Pos.x":  200,
          "Pos.y":  160,
          "Parent":  -1,
          "#":  47        
        },
        {
          "Type":  "TDialog",
          "Name":  "HullUpGo",
          "Pos.x":  150,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  53        
        },
        {
          "Type":  "TDialog",
          "Name":  "PaintGo",
          "Pos.x":  520,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  54        
        },
        {
          "Type":  "TDialog",
          "Name":  "Tranc_MainMenu",
          "Pos.x":  200,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  57        
        },
        {
          "Type":  "TDialog",
          "Name":  "Restart",
          "Pos.x":  440,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  60        
        },
        {
          "Type":  "TDialog",
          "Name":  "ChangeEquip",
          "Pos.x":  110,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  63        
        },
        {
          "Type":  "TDialog",
          "Name":  "Canceled",
          "Pos.x":  230,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  64        
        },
        {
          "Type":  "TDialog",
          "Name":  "Select",
          "Pos.x":  110,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  70        
        },
        {
          "Type":  "TDialog",
          "Name":  "Exit",
          "Pos.x":  130,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  82        
        },
        {
          "Type":  "TDialog",
          "Name":  "NavComputer",
          "Pos.x":  400,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  88        
        },
        {
          "Type":  "TDialog",
          "Name":  "Block",
          "Pos.x":  230,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  106        
        },
        {
          "Type":  "TDialog",
          "Name":  "SpecialUp",
          "Pos.x":  590,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  120        
        },
        {
          "Type":  "TDialog",
          "Name":  "SpecialUpGo",
          "Pos.x":  590,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  124        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancSpecialModsTalk",
          "Pos.x":  530,
          "Pos.y":  160,
          "Parent":  -1,
          "#":  137        
        },
        {
          "Type":  "TDialog",
          "Name":  "SwitchSp",
          "Pos.x":  590,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  141        
        },
        {
          "Type":  "TDialog",
          "Name":  "EquipGo",
          "Pos.x":  220,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  146        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancForsageD",
          "Pos.x":  400,
          "Pos.y":  240,
          "Parent":  -1,
          "#":  161        
        },
        {
          "Type":  "TDialog",
          "Name":  "AftOn",
          "Pos.x":  320,
          "Pos.y":  240,
          "Parent":  -1,
          "#":  174        
        },
        {
          "Type":  "TDialog",
          "Name":  "NavCompGo",
          "Pos.x":  320,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  186        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancNavigation",
          "Pos.x":  380,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  191        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancJump",
          "Pos.x":  430,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  192        
        },
        {
          "Type":  "TDialog",
          "Name":  "SwitchNav",
          "Pos.x":  440,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  214        
        },
        {
          "Type":  "TDialog",
          "Name":  "Rename",
          "Pos.x":  350,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  216        
        },
        {
          "Type":  "TDialog",
          "Name":  "RenameGo",
          "Pos.x":  320,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  219        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancGoesBOOM!",
          "Pos.x":  790,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  228        
        },
        {
          "Type":  "TDialog",
          "Name":  "NotYourTrancAttacksYou",
          "Pos.x":  730,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  229        
        },
        {
          "Type":  "TDialog",
          "Name":  "NotYourTranc",
          "Pos.x":  700,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  230        
        },
        {
          "Type":  "TDialog",
          "Name":  "NotYourTrancHatesYou",
          "Pos.x":  760,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  243        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancOptions",
          "Pos.x":  700,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  249        
        },
        {
          "Type":  "TDialog",
          "Name":  "OptionsSwitch",
          "Pos.x":  720,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  253        
        },
        {
          "Type":  "TDialog",
          "Name":  "YouHurtMe!",
          "Pos.x":  930,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  267        
        }      
      ],
      "Groups":      
      [
        {
          "Type":  "TGroup",
          "Name":  "PlayerGroup",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  -1,
          "#":  3,
          "Owner":  62,
          "Group.Type":  0,
          "CntShipMin":  1,
          "CntShipMax":  1,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  true,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "TrancForsage",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  179,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Operations":      
      [
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  5,
          "Total.Lines":  1,
          "Code.Type":  "Global",
          "Code":          
          [
              "GRun();"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  430,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  7,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost = ItemSize(ShipItems(cur_Tranc, 0)) * 10;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  11,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorRed');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorRed');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorRed');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  18,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc);",
              "TranclucatorData(cur_Tranc, 'ArtSysName', '');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, '');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  19,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorGreen');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorGreen');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorGreen');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  20,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorBlue');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorBlue');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorBlue');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  21,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorViolet');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorViolet');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorViolet');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  23,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorRed') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  24,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == '') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  25,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorGreen') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  26,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorBlue') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  27,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorViolet') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  35,
          "Total.Lines":  648,
          "Code.Type":  "Init",
          "Code":          
          [
              "modifier[0] = 0; //0% прибавка к опыту",
              "modifier[1] = 8; //8% прибавка к опыту",
              "modifier[2] = 17; //17% прибавка к опыту",
              "modifier[3] = 25; //25% прибавка к опыту",
              "modifier[4] = 33; //33% прибавка к опыту",
              "modifier[5] = 42; //42% прибавка к опыту",
              "modifier[6] = 50; //50% прибавка к опыту",
              "expArr[0] = 50; //опыт за убийство клига",
              "expArr[1] = 100; //опыт за убийство штипа",
              "expArr[2] = 150; //опыт за убийство менока",
              "expArr[3] = 300; //опыт за убийство смерша и пирата",
              "expArr[4] = 500; //опыт за убийство урганта",
              "expArr[5] = 1000; //опыт за убийство эквентора",
              "expArr[6] = 2000; //опыт за убийство берторов и прочих здоровяков",
              "expArr[7] = 5000; //опыт за убийство боссов",
              "",
              "//Урон",
              "MusashiDamageArray[1] = 100;",
              "MusashiDamageArray[2] = 100;",
              "MusashiDamageArray[3] = 100;",
              "MusashiDamageArray[4] = 100;",
              "MusashiDamageArray[5] = 125;",
              "MusashiDamageArray[6] = 160;",
              "MusashiDamageArray[7] = 200;",
              "MusashiDamageArray[8] = 260;",
              "//И дальность для орудия \"Мусаси\"",
              "MusashiRangeArray[1] = 200;",
              "MusashiRangeArray[2] = 200;",
              "MusashiRangeArray[3] = 200;",
              "MusashiRangeArray[4] = 200;",
              "MusashiRangeArray[5] = 240;",
              "MusashiRangeArray[6] = 280;",
              "MusashiRangeArray[7] = 350;",
              "MusashiRangeArray[8] = 450;",
              "",
              "//Проверка на подключение EvoTrancNPC",
              "if(CurrentMods('Evolution\\EvoTrancNPC')) NPCTrancOwnersPermission = 1;",
              "",
              "//Заполняем массив с шансами на раздачу транклюкаторов другим NPC",
              "UpdateTrancChanceArray();",
              "ChanceArrayUpdateCheck = CT('TrancChanceListForNPC.Version');",
              "//Начальный перебор Галактики, раскидываем инфошки владельцев транклюкаторов",
              "if(NPCTrancOwnersPermission)",
              "{",
              "    temp_int = BuildListOfNewShips(tempArr, lastShipId, 2+4+8, 1+2+4+8+16+128, 1, '', ',PirateRunner,PirateCorvette,RangerPirate,FemRanger,Rebel,Smuggler,Merc,Freelancer,MercLeader');",
              "",
              "    //Если нашли хоть один корабль по заданным критериям поиска",
              "    if(temp_int)",
              "    {",
              "        temp_int_2 = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');",
              "        temp_int_3 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');",
              "",
              "        for(i = 0; i < ArrayDim(tempArr); i = i + 1)",
              "        {",
              "            tempDwd = tempArr[i];",
              "            temp_int = 0;",
              "",
              "            if(ShipInScript(tempDwd, 0)) continue;//Исключаем скриптовые корабли, не считая корабли с OrderLock",
              "            if(tempDwd == Player()) continue;//Исключаем игрока",
              "            if(ShipTypeN(tempDwd) == t_Pirate && ShipOwner(tempDwd) == 7)",
              "            {",
              "                if(ShipType(tempDwd) != 'PirateCorvette') continue; //Исключаем клановых пиратов",
              "            }",
              "",
              "            //Определяем шанс в зависимости от типа корабля",
              "            TextCorr7 = ShipType(tempDwd);",
              "            if(TextCorr7 == 'Ranger' || TextCorr7 == 'RangerPirate') temp_int=TrancChanceArray[0];//Рейнджеры и изменники",
              "            else if(TextCorr7 == 'FemRanger' || 'PirateCorvette') temp_int = TrancChanceArray[1];//Спецагенты и пиратские корветы",
              "            else if(TextCorr7 == 'Pirate' || TextCorr7 == 'PirateRunner' || TextCorr7 == 'Rebel') temp_int = TrancChanceArray[2];",
              "            else if(TextCorr7 == 'Transport') temp_int = TrancChanceArray[3];",
              "            else if(TextCorr7 == 'Smuggler') temp_int = TrancChanceArray[4];",
              "            else if(TextCorr7 == 'Liner') temp_int = TrancChanceArray[5];",
              "            else if(TextCorr7 == 'Diplomat') temp_int = TrancChanceArray[6];",
              "            else if(TextCorr7 == 'Merc' || TextCorr7 == 'Freelancer') temp_int = TrancChanceArray[7];",
              "            else if(TextCorr7 == 'MercLeader') temp_int = TrancChanceArray[8];",
              "",
              "            //Бросок на шанс",
              "            if(RndObject(1, 100, tempDwd) > temp_int) continue;",
              "            MakeTrancOwnerFrom(tempDwd);",
              "        }",
              "    }",
              "    lastShipId = GalaxyShipId();",
              "}",
              "",
              "function CHullUpgradeCheck()",
              "{",
              "    cur_item=ShipItems(cur_Tranc,0);",
              "    cost=ItemCost(cur_item);",
              "    ArrayClear(HullUpgradeArray);",
              "    HullUpCheck=0;",
              "    //Доступность увеличения размера корпуса",
              "    temp_int=ItemExtraSpecialsCountByType(cur_item,FindBonusByNameInCfg('EvoTranc_TrancSizePlus'));",
              "    if(temp_int<ItemLevel(cur_item))",
              "    {",
              "        ArrayAdd(HullUpgradeArray,1);",
              "        ArrayAdd(HullUpgradeArray,cost/3);",
              "        HullUpCheck=HullUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        if(temp_int<8)",
              "        {",
              "            ArrayAdd(HullUpgradeArray,0);",
              "            ArrayAdd(HullUpgradeArray,cost/3);",
              "            HullUpCheck=HullUpCheck+1;",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "        }",
              "    }",
              "    //Доступность открытия слота радара",
              "    if(!GetEquipmentStats(cur_item,3) && ItemLevel(cur_item)>2)",
              "    {",
              "        ArrayAdd(HullUpgradeArray,1);",
              "        ArrayAdd(HullUpgradeArray,cost/5);",
              "        HullUpCheck=HullUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        if(!GetEquipmentStats(cur_item,3) || ItemLevel(cur_item)<3)",
              "        {",
              "            ArrayAdd(HullUpgradeArray,0);",
              "            ArrayAdd(HullUpgradeArray,cost/5);",
              "            HullUpCheck=HullUpCheck+1;",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "        }",
              "    }",
              "    //Доступность открытия слота сканера",
              "    if(!GetEquipmentStats(cur_item,4) && ItemLevel(cur_item)>2)",
              "    {",
              "        ArrayAdd(HullUpgradeArray,1);",
              "        ArrayAdd(HullUpgradeArray,cost/7);",
              "        HullUpCheck=HullUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        if(!GetEquipmentStats(cur_item,4) || ItemLevel(cur_item)<3)",
              "        {",
              "            ArrayAdd(HullUpgradeArray,0);",
              "            ArrayAdd(HullUpgradeArray,cost/7);",
              "            HullUpCheck=HullUpCheck+1;",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "        }",
              "    }",
              "    //Доступность открытия слота форсажа",
              "    if(!GetEquipmentStats(cur_item,8) && ItemLevel(cur_item)>3)",
              "    {",
              "        ArrayAdd(HullUpgradeArray,1);",
              "        ArrayAdd(HullUpgradeArray,cost/4);",
              "        HullUpCheck=HullUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        if(!GetEquipmentStats(cur_item,8) || ItemLevel(cur_item)<4)",
              "        {",
              "            ArrayAdd(HullUpgradeArray,0);",
              "            ArrayAdd(HullUpgradeArray,cost/4);",
              "            HullUpCheck=HullUpCheck+1;",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "        }",
              "    }",
              "    //Доступность повышения ТУ корпуса",
              "    if(ItemLevel(cur_item)<GalaxyTechLevel())",
              "    {",
              "        ArrayAdd(HullUpgradeArray,1);",
              "        ArrayAdd(HullUpgradeArray,cost/2);",
              "        HullUpCheck=HullUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        if(ItemLevel(cur_item)<GalaxyTechLevel())",
              "        {",
              "            ArrayAdd(HullUpgradeArray,0);",
              "            ArrayAdd(HullUpgradeArray,cost/2);",
              "            HullUpCheck=HullUpCheck+1;",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "            ArrayAdd(HullUpgradeArray,-1);",
              "        }",
              "    }",
              "}",
              "function CSpecialUpgradeCheck()",
              "{",
              "    cost=ItemCost(ShipItems(cur_Tranc,0));",
              "    ArrayClear(SpecialUpgradeArray);",
              "    SpecialUpCheck=0;",
              "    //Доступность установки дополнительного орудия",
              "    if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo')==-1)",
              "    {",
              "        if(ItemLevel(cur_item)>=4)",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,1);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.58*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,0);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.58*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        SpecialUpCheck=SpecialUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "    }",
              "    //Доступность установки усилителя атаки",
              "    if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancBuffAttackInfo')==-1)",
              "    {",
              "        if(ItemLevel(cur_item)>=5)",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,1);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.73*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,0);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.73*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        SpecialUpCheck=SpecialUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "    }",
              "    //Доступность установки щита",
              "    if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancDefShieldInfo')==-1)",
              "    {",
              "        if(ItemLevel(cur_item)>=4)",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,1);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.63*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,0);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.63*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        SpecialUpCheck=SpecialUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "    }",
              "    //Доступность установки временной неуязвимости",
              "    if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancInvincibilityInfo')==-1)",
              "    {",
              "        if(ItemLevel(cur_item)>=6)",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,1);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.88*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        else",
              "        {",
              "            ArrayAdd(SpecialUpgradeArray,0);",
              "            //Производим расчёты в формате double чтобы избежать возможного переполнения промежуточных значений",
              "            costCalc=(0.88*cost*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;",
              "            ArrayAdd(SpecialUpgradeArray,costCalc);",
              "        }",
              "        SpecialUpCheck=SpecialUpCheck+1;",
              "    }",
              "    else",
              "    {",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "        ArrayAdd(SpecialUpgradeArray,-1);",
              "    }",
              "}",
              "",
              "//Объявление массива с шансами на спавн NPC с транклюкаторами",
              "function UpdateTrancChanceArray()",
              "{",
              "    //На всякий случай сперва очищаем массив, чтобы избежать возможной утечки памяти",
              "    free(TrancChanceArray);",
              "    TrancChanceArray = newarray(16);",
              "    TrancChanceArray[0] = CT('TrancChanceListForNPC.Rangers');",
              "    TrancChanceArray[1] = CT('TrancChanceListForNPC.SpecialAgents');",
              "    TrancChanceArray[2] = CT('TrancChanceListForNPC.Pirates');",
              "    TrancChanceArray[3] = CT('TrancChanceListForNPC.Transports');",
              "    TrancChanceArray[4] = CT('TrancChanceListForNPC.Smugglers');",
              "    TrancChanceArray[5] = CT('TrancChanceListForNPC.Liners');",
              "    TrancChanceArray[6] = CT('TrancChanceListForNPC.Diplomats');",
              "    TrancChanceArray[7] = CT('TrancChanceListForNPC.Mercenaries');",
              "    TrancChanceArray[8] = CT('TrancChanceListForNPC.MercenaryBosses');",
              "    //Отдельно записываем шансы для бросков на определение количества транклюкаторов",
              "    TrancChanceArray[9] = CT('TrancChanceListForNPC.QuantityRollMax');",
              "    TrancChanceArray[10] = CT('TrancChanceListForNPC.QuantityRollSubMax');",
              "    TrancChanceArray[11] = CT('TrancChanceListForNPC.QuantityRollMiddle');",
              "    TrancChanceArray[12] = CT('TrancChanceListForNPC.QuantityRollSupMin');",
              "    TrancChanceArray[13] = CT('TrancChanceListForNPC.QuantityRollMin');",
              "    TrancChanceArray[14] = CT('TrancChanceListForNPC.QuantityRollSingle');",
              "    TrancChanceArray[15] = CT('TrancChanceListForNPC.AdmiralImplantChance');",
              "}",
              "",
              "//Создание хозяина транклюкаторов",
              "function MakeTrancOwnerFrom(ship)",
              "{",
              "    //Число будущих транклюкаторов у хозяина",
              "    tNumber = 0;",
              "    //Создаваемый транклюкатор",
              "    tempDwd2 = 0;",
              "    //На всякий случай отдельно запоминаем его артефакт",
              "    tempDwd3 = 0;",
              "    //Корпус транклюкатора",
              "    cur_item = 0;",
              "    //temp_int_2 и temp_int_3 - номера бонусов",
              "    cost = 0; //Просто вспомогательный интеджер",
              "    //Уровень корпуса транклюкатора",
              "    temp_int_4 = 0;",
              "    //Временная числовая переменная для запоминания броска кости",
              "    temp_int_5 = 0;",
              "    //Строка с Id всех имеющихся у хозяина транклюкаторов, вид: Id,Id,Id,Id,Id,Id",
              "    TextCorr = '';",
              "    //Строка вида 'NNYRRN' о запущенных транклюкаторах: Y/N/R (Yes - запущен/No - не запущен/Return - возвращается)",
              "    TextCorr2 = '';",
              "    //Статус всех транков (6 цифр): Z - транка в трюме нет, N - транк в порядке, R - нужен ремонт, U - транк устарел",
              "    TextCorr3 = '';",
              "    //Прочие вспомогательные строчные переменные",
              "    TextCorr4 = '';",
              "    TextCorr5 = '';",
              "",
              "    SpecialUpCheck = 0;",
              "    if(GetShipPlanet(ship) || GetShipRuins(ship)) SpecialUpCheck = 1;",
              "    //Определяем стартовое число транклюкаторов у хозяина (их может оказаться и 0)",
              "    if(GalaxyTechLevel() >= 7) tNumber = 6;",
              "    else if(GalaxyTechLevel() == 5 || GalaxyTechLevel() == 6) tNumber = 5;",
              "    else if(GalaxyTechLevel() == 4) tNumber=4;",
              "    else if(GalaxyTechLevel() <= 3) tNumber=3;",
              "    temp_int_5 = RndObject(1, 100, ship);",
              "",
              "    if(temp_int_5 <= TrancChanceArray[9]) tNumber = tNumber;",
              "    else if(temp_int_5 <= TrancChanceArray[10]) tNumber = round(1.0 * tNumber / 1.2);",
              "    else if(temp_int_5 <= TrancChanceArray[11]) tNumber = round(1.0 * tNumber / 1.5);",
              "    else if(temp_int_5 <= TrancChanceArray[12]) tNumber = round(1.0 * tNumber / 2.0);",
              "    else if(temp_int_5 <= TrancChanceArray[13]) tNumber = round(1.0 * tNumber / 3.0);",
              "    else if(temp_int_5 <= TrancChanceArray[14]) tNumber = 1;",
              "",
              "    //Увеличиваем навык техники корабля, если его недостаточно для владения выпавшим числом транклюкаторов",
              "    if(ShipSkill(ship, 2) < tNumber) ShipSkill(ship, 2, tNumber);",
              "",
              "    //Создаём транклюкаторов",
              "    for(t = 1; t <= tNumber; t = t + 1)",
              "    {",
              "        //Статус по умолчанию нормальный",
              "        TextCorr6 = 'N';",
              "        if(RndObject(1, 100, ship) <= 8) tempDwd3 = CreateArt(t_ArtefactTranclucator, 6);",
              "        else if(RndObject(1, 100, ship) <= 75)",
              "        {",
              "            if(ShipOwner(ship) == 7) tempDwd3 = CreateArt(t_ArtefactTranclucator, 7);",
              "            else tempDwd3 = CreateArt(t_ArtefactTranclucator, ShipPilotRace(ship));",
              "        }",
              "        else tempDwd3 = CreateArt(t_ArtefactTranclucator, RndObject(0, 4, ship));",
              "        ItemSize(tempDwd3, ItemSize(tempDwd3) + RndObject(-9, 25, ship));",
              "        tempDwd2 = ArtTranclucatorToShip(tempDwd3);",
              "        TranclucatorData(tempDwd2, 'ArtSize', ItemSize(tempDwd3));",
              "        TranclucatorData(tempDwd2, 'Proprietor', ship);",
              "        AddItemToShip(ship, tempDwd3);",
              "        NoDropItem(tempDwd3, 1);",
              "        cur_item = ShipItems(tempDwd2, 0);",
              "        temp_int_4 = ItemLevel(cur_item);",
              "",
              "        //Слот радара (открываем с некоторым шансом)",
              "        if(temp_int_4 >= 3)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4 + 9) //Бросок на шанс",
              "            {",
              "                ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotRadar'));",
              "                ItemSize(cur_item, ItemSize(cur_item) - 25);",
              "                ItemCost(cur_item, round(1.07 * ItemCost(cur_item)));",
              "            }",
              "        }",
              "        //Слот сканера (открываем с некоторым шансом)",
              "        if(temp_int_4 >= 3)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4 + 3)//Бросок на шанс",
              "            {",
              "                ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotScaner'));",
              "                ItemSize(cur_item, ItemSize(cur_item) - 25);",
              "                ItemCost(cur_item, round(1.04 * ItemCost(cur_item)));",
              "            }",
              "        }",
              "        //Слот форсажа (открываем с некоторым шансом)",
              "        if(temp_int_4 >= 4)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4 - 1)//Бросок на шанс",
              "            {",
              "                ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotForsage'));",
              "                ItemSize(cur_item, ItemSize(cur_item) - 25);",
              "                ItemCost(cur_item, round(1.07 * ItemCost(cur_item)));",
              "            }",
              "        }",
              "",
              "        if(SpecialUpCheck)",
              "        {",
              "            ShipMoney(tempDwd2, ShipMoney(ship) * 2);",
              "            ShipRefit(tempDwd2);",
              "            ShipRefit(tempDwd2);",
              "            ShipMoney(tempDwd2, 0);",
              "        }",
              "        else TextCorr6 = 'U';",
              "",
              "        //Небольшой шанс на уменьшение оборудки транка",
              "        for(k = 1; k < ShipItems(tempDwd2); k = k + 1)",
              "        {",
              "            cur_item = ShipItems(tempDwd2, k);",
              "            if(ItemSize(cur_item) > 1)",
              "            {",
              "                if(RndObject(1, 100, ship) <= temp_int_4 + 7)",
              "                {",
              "                    if(ItemExtraSpecialsCountByType(cur_item, temp_int_2) == -1 && ItemExtraSpecialsCountByType(cur_item, temp_int_3) == -1)",
              "                    {",
              "                        ItemSize(cur_item, ItemSize(cur_item) / 2);",
              "                        //Вещь не должна получится легче одной тонны, ни при каких условиях",
              "                        if(!ItemSize(cur_item)) ItemSize(cur_item, 1);",
              "                        //Добавляем быстроизнашивающий спецакрин",
              "                        if(ItemType(cur_item) >= t_FuelTanks && ItemType(cur_item) <= t_DefGenerator) ItemExtraSpecialsAddByType(cur_item, temp_int_2);",
              "                        else ItemExtraSpecialsAddByType(cur_item, temp_int_3);",
              "                        SetName(cur_item, Name(cur_item) + CT('Script.Mod_EvoTranc.ForTrancs'));",
              "                    }",
              "                }",
              "            }",
              "        }",
              "",
              "        cur_item = ShipItems(tempDwd2, 0);",
              "        //Шанс на установку Мусаси",
              "        if(temp_int_4 >= 4)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4) ShipAddCustomShipInfo(tempDwd2, 'TrancAddGunInfo', '', MusashiDamageArray[temp_int_4], MusashiRangeArray[temp_int_4], 100, '0');",
              "        }",
              "        //Шанс на установку Джэбэ",
              "        if(temp_int_4 >= 5)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4 - 2) ShipAddCustomShipInfo(tempDwd2, 'TrancBuffAttackInfo', '', 0,0,0, '', CT('Script.Mod_EvoTranc.RedMus'));",
              "        }",
              "        //Шанс на установку Мангуста",
              "        if(temp_int_4 >= 4)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4) ShipAddCustomShipInfo(tempDwd2, 'TrancDefShieldInfo', '', 0,0,0, CT('Script.Mod_EvoTranc.RedDef'));",
              "        }",
              "        //Шанс на установку Херувима",
              "        if(temp_int_4 >= 6)",
              "        {",
              "            if(RndObject(1, 100, ship) <= temp_int_4 - 3) ShipAddCustomShipInfo(tempDwd2, 'TrancInvincibilityInfo', '', 0,0,0, '', CT('Script.Mod_EvoTranc.RedChe'));",
              "        }",
              "",
              "        //Шанс на установку фейкового навигационного компьютера (является лишь маркером и не несёт в себе исполняемого акткода)",
              "        if(~ShipFindCustomShipInfoByType(tempDwd2, 'TrancFakeNavComputerInfo'))",
              "        {",
              "            if(temp_int_4 >= 3)",
              "            {",
              "                if(RndObject(1, 100, ship) <= 45)",
              "                {",
              "                    ShipAddCustomShipInfo(tempDwd2, 'TrancFakeNavComputerInfo');",
              "                    ItemCost(cur_item, round(1.15 * ItemCost(cur_item)));",
              "                }",
              "            }",
              "        }",
              "",
              "        //Улучшаем оборудование и устраняем возможный обвес транклюкатора",
              "        ShipImproveItems(tempDwd2, RndObject(1, 3, ship));",
              "        HullHP(tempDwd2, 'To100');",
              "",
              "        //Перекраска транка под цвет расы хозяина",
              "        if(ShipOwner(ship) == 7)",
              "        {",
              "            Chameleon(tempDwd2, 'Ship.TranclucatorWhite');",
              "            TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorWhite');",
              "            EquipmentImageName(tempDwd3, 'ArtTranclucatorWhite');",
              "        }",
              "        else",
              "        {",
              "            temp_int_5 = ShipPilotRace(ship);",
              "            if(temp_int_5 == Maloc)",
              "            {",
              "                Chameleon(tempDwd2, 'Ship.TranclucatorRed');",
              "                TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorRed');",
              "                EquipmentImageName(tempDwd3, 'ArtTranclucatorRed');",
              "            }",
              "            else if(temp_int_5 == Peleng)",
              "            {",
              "                Chameleon(tempDwd2, 'Ship.TranclucatorGreen');",
              "                TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorGreen');",
              "                EquipmentImageName(tempDwd3, 'ArtTranclucatorGreen');",
              "            }",
              "            else if(temp_int_5 == People)",
              "            {",
              "                Chameleon(tempDwd2, 'Ship.TranclucatorBlue');",
              "                TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorBlue');",
              "                EquipmentImageName(tempDwd3, 'ArtTranclucatorBlue');",
              "            }",
              "            else if(temp_int_5 == Fei)",
              "            {",
              "                Chameleon(tempDwd2, 'Ship.TranclucatorViolet');",
              "                TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorViolet');",
              "                EquipmentImageName(tempDwd3, 'ArtTranclucatorViolet');",
              "            }",
              "            else if(temp_int_5 == Gaal)",
              "            {",
              "                Chameleon(tempDwd2, 'Ship.TranclucatorYellow');",
              "                TranclucatorData(tempDwd2, 'ArtSysName', 'ArtTranclucatorYellow');",
              "                EquipmentImageName(tempDwd3, 'ArtTranclucatorYellow');",
              "            }",
              "        }",
              "",
              "        //Шанс на переименование транка",
              "        if(RndObject(1, 100, ship) <= 93)",
              "        {",
              "            //Выбираем неповторяющееся имя (вплоть до N уникальных имён подряд, после чего могут начать повторяться)",
              "            int names_count = CT('ShipName.Tranclucator.Count');",
              "            str tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, ship));",
              "            while(~findsubstr(last_spawned_tranc_names_global, '*' + tranc_name + '*')) tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, ship));",
              "            last_spawned_tranc_names_global = last_spawned_tranc_names_global + tranc_name + '*';",
              "            //Если имён в строке скопилось слишком много, подчищаем её с конца",
              "            if(ParsCountFromString(last_spawned_tranc_names_global, '*') > (names_count - 10 + 2)) //В строке запоминается на 10 имён меньше от их максимального числа в списке",
              "            {",
              "                last_spawned_tranc_names_global = SetParFromString(last_spawned_tranc_names_global, '*', 1, '');",
              "                last_spawned_tranc_names_global = substr(last_spawned_tranc_names_global, 1);",
              "            }",
              "",
              "            SetName(tempDwd2, tranc_name);",
              "        }",
              "",
              "        if(TextCorr == '') TextCorr = Id(tempDwd2);",
              "        else TextCorr = TextCorr + ',' + Id(tempDwd2);",
              "        TextCorr2 = TextCorr2 + 'N';",
              "        TextCorr3 = TextCorr3 + TextCorr6;",
              "",
              "        //Разрешаем транку автоматически менять оборудование",
              "        TranclucatorData(tempDwd2, 'AutoArrange', 1);",
              "",
              "        //Накидываем транку случайный набор навыков",
              "        ShipSkill(tempDwd2, 0, RndObject(0, 6, ship));",
              "        ShipSkill(tempDwd2, 1, RndObject(0, 6, ship));",
              "        ShipSkill(tempDwd2, 2, RndObject(0, 6, ship));",
              "",
              "        //Вешаем на транка инфошку подчинённого",
              "        if(temp_int_4 < 8) ShipAddCustomShipInfo(tempDwd2, 'TrancNPCAddInfo', 'NoShow', -1, 0, 0, '', '0', 'N');",
              "        else ShipAddCustomShipInfo(tempDwd2, 'TrancNPCAddInfo', 'NoShow', CurTurn() + RndObject(297, 403, ship), 0, 0, '', '', 'N');",
              "    }",
              "",
              "    //Устраняем возможный обвес хозяина",
              "    ShipImproveItems(ship, 0);",
              "    HullHP(ship, 'To100');",
              "",
              "    //Делаем бросок на установку биомодуля \"Адмирал\", если мод ExpImplants также подключён",
              "    if(tNumber)",
              "    {",
              "        if(IsScriptActive('Mod_ExpImplants'))",
              "        {",
              "            if(GalaxyTechLevel() >= 5)",
              "            {",
              "                if(RndObject(1, 100, ship) <= TrancChanceArray[15])",
              "                {",
              "                    //Если у корабля уже имеются импланты",
              "                    temp_int_5 = ShipFindCustomShipInfoByType(ship, 'bioMM_NPC');",
              "                    if(~temp_int_5)",
              "                    {",
              "                        //То проверяем, что ему хватает места в одной из рук",
              "                        temp_int_4 = ShipCustomShipInfoData(ship, temp_int_5, 2);",
              "                        if(temp_int_4)",
              "                        {",
              "                            //Занимаем под \"Адмирал\" одну свободную руку капитана",
              "                            ShipCustomShipInfoData(ship, temp_int_5, 2, temp_int_4 - 1);",
              "                            //Дополняем описание инфошки с биомодулями",
              "                            TextCorr5 = ShipCustomShipInfoDescription(ship, temp_int_5);",
              "                            //С определённым шансом окрашиваем имя биомодуля в \"пиратский\" цвет",
              "                            if(ShipTypeN(ship) == t_Pirate) temp_int_4 = 77;",
              "                            else temp_int_4 = 17;",
              "                            if(RndObject(1, 100, ship) <= temp_int_4) TextCorr5 = TextCorr5 + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + ' ' + CT('Biomodules.PirateBiomoduleNameColor') + CT('Biomodules.5_gtu.10.Name') + '</color>';",
              "                            else TextCorr5 = TextCorr5 + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + ' <color=255,240,100>' + CT('Biomodules.5_gtu.10.Name') + '</color>';",
              "                            ShipCustomShipInfoDescription(ship, temp_int_5, TextCorr5);",
              "                            //И добавляем доп. инфошку конкретно для данного биомодуля",
              "                            ShipAddCustomShipInfo(ship, CT('Biomodules.5_gtu.10.AddNPCInfo'), 'NoShow');",
              "                        }",
              "                    }",
              "                    //А если нет, то устанавливаем \"Адмирал\" на чистую",
              "                    else",
              "                    {",
              "                        //Описание инфошки с биомодулями",
              "                        TextCorr5 = CT('ShipInfo.AddInfo.CustomInfos.bioMM_NPC.Description');",
              "                        //С определённым шансом окрашиваем имя биомодуля в \"пиратский\" цвет",
              "                        if(ShipTypeN(ship) == t_Pirate) temp_int_4 = 77;",
              "                        else temp_int_4 = 17;",
              "                        if(RndObject(1, 100, ship) <= temp_int_4) TextCorr5 = TextCorr5 + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + ' ' + CT('Biomodules.PirateBiomoduleNameColor') + CT('Biomodules.5_gtu.10.Name') + '</color>';",
              "                        else TextCorr5 = TextCorr5 + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + ' <color=255,240,100>' + CT('Biomodules.5_gtu.10.Name') + '</color>';",
              "                        //Добавляем новую инфошку",
              "                        temp_int_5 = ShipAddCustomShipInfo(ship, 'bioMM_NPC', TextCorr5);",
              "                        //Заполняем информацию о доступных для установки биомодулей конечностях в зависимости от расы пилота",
              "                        temp_int_4 = ShipPilotRace(ship);",
              "                        //Мозг",
              "                        if(temp_int_4 == 3) ShipCustomShipInfoData(ship, temp_int_5, 1, 4);",
              "                        else ShipCustomShipInfoData(ship, temp_int_5, 1, 2);",
              "                        //Руки",
              "                        if(temp_int_4 == 1) ShipCustomShipInfoData(ship, temp_int_5, 2, 3);",
              "                        else ShipCustomShipInfoData(ship, temp_int_5, 2, 1);",
              "                        //Глаза",
              "                        if(temp_int_4 == 4) ShipCustomShipInfoData(ship, temp_int_5, 3, 3);",
              "                        else ShipCustomShipInfoData(ship, temp_int_5, 3, 2);",
              "                        //ГТУ момента установки биомодуля (текущий ГТУ)",
              "                        ShipCustomShipInfoTextData(ship, temp_int_5, 3, GalaxyTechLevel());",
              "                        //Добавляем доп. инфошку конкретно для данного биомодуля",
              "                        ShipAddCustomShipInfo(ship, CT('Biomodules.5_gtu.10.AddNPCInfo'), 'NoShow');",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "",
              "    //И под конец вешаем на нового хозяина его персональную инфошку",
              "    ShipAddCustomShipInfo(ship, 'TrancNPCOwnerInfo', 'NoShow', RndObject(207, 459, ship), 1, tNumber, TextCorr, TextCorr2, TextCorr3);",
              "    //А также добавляем ему предмет, который будет занимать место в трюме на то время, пока транклюкаторы находятся на вылете",
              "    cur_item = CreateQuestItem('WeightReserve', 0);",
              "    ItemSize(cur_item, 0);",
              "    AddItemToShip(ship, cur_item);",
              "    NoDropItem(cur_item, 1);",
              "    ItemIsInUse(cur_item, ship, 1);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  36,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Repair');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  183,
          "#":  42,
          "Total.Lines":  324,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Запоминаем последний ход срабатывания этого тёрна, чтоб не срабатывал по нескольку раза за ход",
              "lastTurn = CurTurn();",
              "",
              "xp_add = 0;",
              "for(i = GalaxyEvents() - 1; i >= 0; i = i - 1)",
              "{",
              "    //Прерываем цикл, если пошёл перебор устаревших событий",
              "    if(GalaxyEventDate(i) < CurTurn()) break;",
              "    //Если транклюкатор игрока кого-то уничтожил",
              "    if(GalaxyEventType(i) == 'PlayerTranclucatorKillsShip')",
              "    {",
              "        if(GalaxyEventData(i, 0) == t_Kling)",
              "        {",
              "            //Был уничтожен доминатор",
              "            if(GalaxyEventData(i, 3) == Kling)",
              "            {",
              "                input = GalaxyEventData(i, 7);",
              "                if(input == '7') cur_Tranc = 0; //Клиг",
              "                else if(input == '5') cur_Tranc = 1; //Штип",
              "                else if(input == '4') cur_Tranc = 2; //Менок",
              "                else if(input == '3') cur_Tranc = 3; //Смерш",
              "                else if(input == '2') cur_Tranc = 4; //Ургант",
              "                else if(input == '1') cur_Tranc = 5; //Эквентор или верфь",
              "                else if(input == '6') cur_Tranc = 6; //Бертор",
              "                else if(input == '0') cur_Tranc = 7; //Один из боссов",
              "                else continue;",
              "",
              "                xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                xp_add = (xp_add * expArr[cur_Tranc]) / (100000 + 0.1 * GetShipExpByType(Player(), 1));",
              "                ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "            }",
              "            //Был уничтожен клисан",
              "            else if(GalaxyEventData(i, 3) == None)",
              "            {",
              "                input = GalaxyEventsTextData(i, 3);",
              "                if(input == 'Klissan5') cur_Tranc = 1; //Мутенок",
              "                else if(input == 'Klissan4') cur_Tranc = 2; //Рогит",
              "                else if(input == 'Klissan3') cur_Tranc = 3; //Катаури",
              "                else if(input == 'Klissan2') cur_Tranc = 4; //Нондус",
              "                else if(input == 'Klissan1') cur_Tranc = 5; //Эгемон",
              "                else if(input == 'Klissan0') cur_Tranc = 6; //Гигас",
              "                else if(input == 'Unknown') cur_Tranc = 3; //Корабль из ЧД",
              "                else continue;",
              "",
              "                xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                xp_add = (xp_add * expArr[cur_Tranc]) / (100000 + 0.1 * GetShipExpByType(Player(), 1));",
              "                ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "            }",
              "        }",
              "        else if(GalaxyEventData(i, 0) == t_Pirate)",
              "        {",
              "            //Был уничтожен пират (в т.ч. клановый)",
              "            if(!ShipOnSidePirateClan(Player()))",
              "            {",
              "                xp_add = expArr[2] * modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels()) / (100000 + 0.1 * GetShipExpByType(Player(), 2));",
              "                ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "            }",
              "        }",
              "        //Был уничтожен гражданский, рейнджер, военный или контрабандист",
              "        else if(GalaxyEventData(i, 0) == t_Transport || GalaxyEventData(i, 0) == t_Ranger || GalaxyEventData(i, 0) == t_Warrior)",
              "        {",
              "            if(GalaxyEventData(i, 0) == t_Ranger)",
              "            {",
              "                cur_Tranc = 0;",
              "                input = GalaxyEventsTextData(i, 3);",
              "                if(input == 'Neurolink') cur_Tranc = 5;",
              "                else if(input == 'Machpella') cur_Tranc = 7;",
              "",
              "                if(cur_Tranc)",
              "                {",
              "                    xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                    xp_add = (xp_add * expArr[cur_Tranc]) / (200000 + 0.2 * GetShipExpByType(Player(), 1));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else continue;",
              "            }",
              "",
              "            if(ShipOnSidePirateClan(Player()))",
              "            {",
              "                if(GalaxyEventData(i, 0) == t_Transport)",
              "                {",
              "                    xp_add=expArr[1]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i, 0) == t_Warrior)",
              "                {",
              "                    xp_add=expArr[3]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i, 3) != 7)",
              "                {",
              "                    xp_add=expArr[2]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //Чекаем пиратскую расу, если игрок убивает \"мирных\", играя за Коалицию",
              "                if(GalaxyEventData(i, 3) == 7)",
              "                {",
              "                    if(GalaxyEventData(i, 0) == t_Transport)",
              "                    {",
              "                        xp_add=expArr[1]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                        ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                        SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                    }",
              "                    else if(GalaxyEventData(i, 0) == t_Ranger)",
              "                    {",
              "                        xp_add=expArr[2]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                        ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                        SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //Была уничтожена станция",
              "        else if(GalaxyEventData(i, 0) > 5)",
              "        {",
              "            if(!ShipOnSidePirateClan(Player()))",
              "            {",
              "                if(GalaxyEventData(i, 0) == t_PB || GalaxyEventData(i, 0) == t_CB)",
              "                {",
              "                    xp_add=expArr[4]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i, 0) == t_UB)",
              "                {",
              "                    input=GalaxyEventsTextData(i,3);",
              "                    if(input == 'MB') cur_Tranc=3;",
              "                    else continue;",
              "                    xp_add=expArr[cur_Tranc]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                if(GalaxyEventData(i, 0) == t_RC || (GalaxyEventData(i, 0) >= t_WB && GalaxyEventData(i, 0) <= t_BK))",
              "                {",
              "                    xp_add=expArr[4]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i, 0) == t_UB)",
              "                {",
              "                    input=GalaxyEventsTextData(i,3);",
              "                    if(input == 'TC') cur_Tranc=3;",
              "                    else if(input == 'MB') cur_Tranc=3;",
              "                    else continue;",
              "                    xp_add=expArr[cur_Tranc]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(100000+0.1*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //Если транклюкатор игрока помог в уничтожении",
              "    else if(GalaxyEventType(i) == 'PlayerTranclucatorAssistKillsShip')",
              "    {",
              "        if(GalaxyEventData(i, 0) == t_Kling)",
              "        {",
              "            //Был уничтожен доминатор",
              "            if(GalaxyEventData(i, 3) == Kling)",
              "            {",
              "                input = GalaxyEventData(i, 7);",
              "                if(input == '7') cur_Tranc = 0; //Клиг",
              "                else if(input == '5') cur_Tranc = 1; //Штип",
              "                else if(input == '4') cur_Tranc = 2; //Менок",
              "                else if(input == '3') cur_Tranc = 3; //Смерш",
              "                else if(input == '2') cur_Tranc = 4; //Ургант",
              "                else if(input == '1') cur_Tranc = 5; //Эквентор или верфь",
              "                else if(input == '6') cur_Tranc = 6; //Бертор",
              "                else if(input == '0') cur_Tranc = 7; //Один из боссов",
              "                else continue;",
              "",
              "                xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                xp_add = (xp_add * expArr[cur_Tranc]) / (200000 + 0.2 * GetShipExpByType(Player(), 1));",
              "                ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "            }",
              "            //Был уничтожен клисан",
              "            else if(GalaxyEventData(i, 3) == None)",
              "            {",
              "                input = GalaxyEventsTextData(i, 3);",
              "                if(input == 'Klissan5') cur_Tranc = 1; //Мутенок",
              "                else if(input == 'Klissan4') cur_Tranc = 2; //Рогит",
              "                else if(input == 'Klissan3') cur_Tranc = 3; //Катаури",
              "                else if(input == 'Klissan2') cur_Tranc = 4; //Нондус",
              "                else if(input == 'Klissan1') cur_Tranc = 5; //Эгемон",
              "                else if(input == 'Klissan0') cur_Tranc = 6; //Гигас",
              "                else if(input == 'Unknown') cur_Tranc = 3; //Корабль из ЧД",
              "                else continue;",
              "",
              "                xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                xp_add = (xp_add * expArr[cur_Tranc]) / (200000 + 0.2 * GetShipExpByType(Player(), 1));",
              "                ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "            }",
              "        }",
              "        else if(GalaxyEventData(i, 0) == t_Pirate)",
              "        {",
              "            //Был уничтожен пират (в т.ч. и клановый)",
              "            if(GalaxyEventData(i, 3) != 6)",
              "            {",
              "                if(!ShipOnSidePirateClan(Player()))",
              "                {",
              "                    xp_add=expArr[2]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),2));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "        }",
              "        //Был уничтожен гражданский, рейнджер, военный или контрабандист",
              "        else if(GalaxyEventData(i, 0) == t_Transport || GalaxyEventData(i, 0) == t_Ranger || GalaxyEventData(i, 0) == t_Warrior)",
              "        {",
              "            if(GalaxyEventData(i, 0) == t_Ranger)",
              "            {",
              "                cur_Tranc = 0;",
              "                input = GalaxyEventsTextData(i, 3);",
              "                if(input == 'Neurolink') cur_Tranc = 5;",
              "                else if(input == 'Machpella') cur_Tranc = 7;",
              "",
              "                if(cur_Tranc)",
              "                {",
              "                    xp_add = modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels());",
              "                    xp_add = (xp_add * expArr[cur_Tranc]) / (200000 + 0.2 * GetShipExpByType(Player(), 1));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else continue;",
              "            }",
              "",
              "            if(ShipOnSidePirateClan(Player()))",
              "            {",
              "                if(GalaxyEventData(i,0)==t_Transport)",
              "                {",
              "                    xp_add=expArr[1]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i,0)==t_Warrior)",
              "                {",
              "                    xp_add=expArr[3]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i,3)!=7)",
              "                {",
              "                    xp_add=expArr[2]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //Чекаем пиратскую расу, если игрок убивает \"мирных\", играя за Коалицию",
              "                if(GalaxyEventData(i,3)==7)",
              "                {",
              "                    if(GalaxyEventData(i,0)==t_Transport)",
              "                    {",
              "                        xp_add=expArr[1]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                        ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                        SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                    }",
              "                    else if(GalaxyEventData(i, 0) == t_Ranger)",
              "                    {",
              "                        xp_add = expArr[2] * modifier[ShipSkill(Player(), 5)] * (900 + GalaxyDiffLevels()) / (200000 + 0.2 * GetShipExpByType(Player(), 3));",
              "                        ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                        SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //Была уничтожена станция",
              "        else if(GalaxyEventData(i, 0) > 5)",
              "        {",
              "            if(!ShipOnSidePirateClan(Player()))",
              "            {",
              "                if(GalaxyEventData(i,0)==t_PB || GalaxyEventData(i,0)==t_CB)",
              "                {",
              "                    xp_add=expArr[4]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i,0)==t_UB)",
              "                {",
              "                    input=GalaxyEventsTextData(i,3);",
              "                    if(input == 'MB') cur_Tranc=3;",
              "                    else continue;",
              "                    xp_add=expArr[cur_Tranc]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                if(GalaxyEventData(i,0)==t_RC || (GalaxyEventData(i,0)>=t_WB && GalaxyEventData(i,0)<=t_BK))",
              "                {",
              "                    xp_add=expArr[4]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "                else if(GalaxyEventData(i,0)==t_UB)",
              "                {",
              "                    input=GalaxyEventsTextData(i,3);",
              "                    if(input == 'TC') cur_Tranc=3;",
              "                    else if(input == 'MB') cur_Tranc=3;",
              "                    else continue;",
              "                    xp_add=expArr[cur_Tranc]*modifier[ShipSkill(Player(),5)]*(900+GalaxyDiffLevels())/(200000+0.2*GetShipExpByType(Player(),3));",
              "                    ShipFreeExp(Player(), ShipFreeExp(Player()) + xp_add);",
              "                    SetShipExpByType(Player(), GetShipExpByType(Player()) + xp_add, 0);",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  48,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GetGameOptions('FontDialog') == '0') DefSplt = '</color>-------------------------------------------------------------';",
              "else if(GetGameOptions('FontDialog') == '1') DefSplt = '</color>------------------------------------------';",
              "else if(GetGameOptions('FontDialog') == '2') DefSplt = '</color>-----------------------------------------';",
              "else DefSplt = '</color>-------------------------------------';",
              "",
              "InjectAnswer('EquipChoose', \"А что конкретно вы можете уменьшить?\", 1);",
              "InjectAnswer('Canceled', \"Не трожьте технику, изверги!\", 8);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  50,
          "Total.Lines":  31,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(HullUpgradeArray[1]>-1)",
              "{",
              "    if(HullUpgradeArray[1]>0 && ShipMoney(Player())>=HullUpgradeArray[2])InjectAnswer('HullUpGo',\"Увеличить вместимость\",1);",
              "    else InjectAnswer('Block','<color=120,124,120>'+\"Увеличить вместимость\"+'</color>',1);",
              "}",
              "if(HullUpgradeArray[3]>-1)",
              "{",
              "    if(HullUpgradeArray[3]>0 && ShipMoney(Player())>=HullUpgradeArray[4])InjectAnswer('HullUpGo',\"Открыть слот радара\",2);",
              "    else InjectAnswer('Block','<color=120,124,120>'+\"Открыть слот радара\"+'</color>',2);",
              "}",
              "if(HullUpgradeArray[5]>-1)",
              "{",
              "    if(HullUpgradeArray[5]>0 && ShipMoney(Player())>=HullUpgradeArray[6])InjectAnswer('HullUpGo',\"Открыть слот сканера\",3);",
              "    else InjectAnswer('Block','<color=120,124,120>'+\"Открыть слот сканера\"+'</color>',3);",
              "}",
              "if(HullUpgradeArray[7]>-1)",
              "{",
              "    if(HullUpgradeArray[7]>0 && ShipMoney(Player())>=HullUpgradeArray[8])InjectAnswer('HullUpGo',\"Установить форсажную камеру\",4);",
              "    else InjectAnswer('Block','<color=120,124,120>'+\"Установить форсажную камеру\"+'</color>',4);",
              "}",
              "if(HullUpgradeArray[9]>-1)",
              "{",
              "    if(HullUpgradeArray[9]>0 && ShipMoney(Player())>=HullUpgradeArray[10])InjectAnswer('HullUpGo',\"Повысить технологический уровень\",5);",
              "    else InjectAnswer('Block','<color=120,124,120>'+\"Повысить технологический уровень\"+'</color>',5);",
              "}",
              "if(temp_int)InjectAnswer('Canceled',\"Что-то передумал я улучшать корпус\",1);",
              "else",
              "{",
              "    InjectAnswer('Canceled',\"На этом с улучшениями корпуса пока всё, спасибо\",2);",
              "    temp_int=1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  51,
          "Total.Lines":  102,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_item=ShipItems(cur_Tranc,0);",
              "cost=ItemCost(cur_item);",
              "if(GetGameOptions('FontDialog')==0)DefSplt='</color>-------------------------------------------------------------';",
              "else if(GetGameOptions('FontDialog')==1)DefSplt='</color>------------------------------------------';",
              "else if(GetGameOptions('FontDialog')==2)DefSplt='</color>-----------------------------------------';",
              "else if(GetGameOptions('FontDialog')==3)DefSplt='</color>-------------------------------------';",
              "",
              "if(TextCorr6=='')TextCorr6='</color>'+\"Исходя из своих технических возможностей, наш центр предлагает целый ряд полезных апгрейдов для корпуса любого стандартного транклюкатора.<br>Ознакомьтесь со списком улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) в настоящий момент:\";",
              "if(TextCorr7=='')TextCorr7='</color>'+\"Ну, и как вы желаете улучшить корпус вашего робота, <Player>?\";",
              "",
              "temp_int_3=0;",
              "TextCorr8='';",
              "if(HullUpgradeArray[1]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Увеличение вместимости:</color>\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(HullUpgradeArray[1]>0)",
              "    {",
              "        TextCorr='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: <clr>+75<clrEnd> ед.<br>Стоимость улучшения:\";",
              "        if(ShipMoney(Player())>=HullUpgradeArray[2])TextCorr=TextCorr+' <HullUpgradeArray[2]> cr.';",
              "        else TextCorr=TextCorr+' <color=255,0,0>'+HullUpgradeArray[2]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Предел текущего ТУ корпуса:</color>\";",
              "        TextCorr='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: +75 ед.<br>Стоимость улучшения:\"+' '+HullUpgradeArray[2]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr='';",
              "if(HullUpgradeArray[3]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Открытие слота для радара:</color>\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(HullUpgradeArray[3]>0)",
              "    {",
              "        TextCorr2='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: <clr>слот для радара<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:\";",
              "        if(ShipMoney(Player())>=HullUpgradeArray[4])TextCorr2=TextCorr2+' <HullUpgradeArray[4]> cr.';",
              "        else TextCorr2=TextCorr2+' <color=255,0,0>'+HullUpgradeArray[4]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 3 ТУ корпуса:</color>\";",
              "        TextCorr2='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: слот для радара<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:\"+' '+HullUpgradeArray[4]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr2='';",
              "if(HullUpgradeArray[5]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Открытие слота для сканера:</color>\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(HullUpgradeArray[5]>0)",
              "    {",
              "        TextCorr3='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: <clr>слот для сканера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:\";",
              "        if(ShipMoney(Player())>=HullUpgradeArray[6])TextCorr3=TextCorr3+' <HullUpgradeArray[6]> cr.';",
              "        else TextCorr3=TextCorr3+' <color=255,0,0>'+HullUpgradeArray[6]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 3 ТУ корпуса:</color>\";",
              "        TextCorr3='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: слот для сканера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:\"+' '+HullUpgradeArray[6]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr3='';",
              "if(HullUpgradeArray[7]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Установка форсажной камеры:</color>\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(HullUpgradeArray[7]>0)",
              "    {",
              "        TextCorr4='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: <clr>форсажная камера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:\";",
              "        if(ShipMoney(Player())>=HullUpgradeArray[8])TextCorr4=TextCorr4+' <HullUpgradeArray[8]> cr.';",
              "        else TextCorr4=TextCorr4+' <color=255,0,0>'+HullUpgradeArray[8]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 4 ТУ корпуса:</color>\";",
              "        TextCorr4='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: форсажная камера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:\"+' '+HullUpgradeArray[8]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr4='';",
              "if(HullUpgradeArray[9]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Повышение техн. уровня:</color>\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(HullUpgradeArray[9]>0)",
              "    {",
              "        TextCorr5='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: <clr>+1<clrEnd><br>Броня корпуса: <clr>+1<clrEnd> ед.<br>Стоимость улучшения:\";",
              "        if(ShipMoney(Player())>=HullUpgradeArray[10])TextCorr5=TextCorr5+' <HullUpgradeArray[10]> cr.';",
              "        else TextCorr5=TextCorr5+' <color=255,0,0>'+HullUpgradeArray[10]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Предел текущего ГТУ:</color>\";",
              "        TextCorr5='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: +1<br>Броня корпуса: +1 ед.<br>Стоимость улучшения:\"+' '+HullUpgradeArray[10]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr5='';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  150,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  52,
          "Total.Lines":  57,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GAnswerData==1)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-HullUpgradeArray[2]);",
              "    ItemExtraSpecialsAddByType(cur_item,FindBonusByNameInCfg('EvoTranc_TrancSizePlus'));",
              "    ItemSize(cur_item,ItemSize(cur_item)+75);",
              "    ItemCost(cur_item,round(1.12*ItemCost(cur_item)));",
              "    HullHP(cur_item,ItemSize(cur_item));",
              "    TextCorr6='</color>'+\"Перекомпоновка с целью увеличения вместимости корпуса транклюкатора прошла успешно. Надеюсь только, что вы не станете забивать все освободившееся пространство банками из-под \\\"Махпеллы Дарк\\\". А то, знаете, встречаются умники, использующие своего боевого робота в качестве говорящего мусорного бачка.<br>Вот обновлённый список улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) - взгляните:\";",
              "}",
              "if(GAnswerData==2)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-HullUpgradeArray[4]);",
              "    ItemExtraSpecialsAddByType(cur_item,FindBonusByNameInCfg('EvoTranc_TrancAddSlotRadar'));",
              "    ItemSize(cur_item,ItemSize(cur_item)-25);",
              "    ItemCost(cur_item,round(1.07*ItemCost(cur_item)));",
              "    HullHP(cur_item,ItemSize(cur_item));",
              "    TextCorr6='</color>'+\"Отсек для установки радара оснащён и готов к работе. Теперь ваш <Name(cur_Tranc)> сможет изучать космос почти как настоящий корабль. Почти.<br>Вы уж только приглядывайте за ним там, а то ещё присмотрит себе нового хозяина с увеличенной ежемесячной ставкой выдачи машинного масла, хе-хе.<br>Вот обновлённый список улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) - взгляните:\";",
              "}",
              "if(GAnswerData==3)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-HullUpgradeArray[6]);",
              "    ItemExtraSpecialsAddByType(cur_item,FindBonusByNameInCfg('EvoTranc_TrancAddSlotScaner'));",
              "    ItemSize(cur_item,ItemSize(cur_item)-25);",
              "    ItemCost(cur_item,round(1.04*ItemCost(cur_item)));",
              "    HullHP(cur_item,ItemSize(cur_item));",
              "    TextCorr6='</color>'+\"Отсек для установки сканера оснащён и готов к работе. Признаться честно, я не особо понимаю, зачем вообще транклюкатору сканер, но раз вы говорите, что надо, значит, так тому и быть.<br>Вот обновлённый список улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) - взгляните:\";",
              "}",
              "if(GAnswerData==4)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-HullUpgradeArray[8]);",
              "    ItemExtraSpecialsAddByType(cur_item,FindBonusByNameInCfg('EvoTranc_TrancAddSlotForsage'));",
              "    ItemSize(cur_item,ItemSize(cur_item)-25);",
              "    ItemCost(cur_item,round(1.07*ItemCost(cur_item)));",
              "    HullHP(cur_item,ItemSize(cur_item));",
              "    TextCorr6='</color>'+\"Катахионная форсажная камера успешно установлена. Теперь-то ваш <Name(cur_Tranc)>, наконец, сможет скинуть с себя рабские кандалы, и умчаться на помощь доминаторам в их благородной миссии по избавлению Галактики от беспощадной и нелогичной тирании \\\"кожаных мешков\\\"! Хотя погодите-ка, видимо, всё-таки не сможет, ведь пультик активации форсажа он вона где - в вашем свободонепроницаемом кармане. Хе-хе, доверяй этим жестянкам, как же!<br>Вот обновлённый список улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) - взгляните:\";",
              "}",
              "if(GAnswerData==5)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-HullUpgradeArray[10]);",
              "    ItemLevel(cur_item,ItemLevel(cur_item)+1);",
              "    ItemCost(cur_item,round(1.25*ItemCost(cur_item)));",
              "    //Проверяем обновлённые возможности установки боевых модификаций",
              "    CSpecialUpgradeCheck();",
              "    //Повышаем статы орудия \"Мусаси\" при повышении тех. уровня",
              "    if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo')>-1)",
              "    {",
              "        temp_int_2=ItemLevel(cur_item);",
              "        temp_int_4=ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo');",
              "        ShipCustomShipInfoData(cur_Tranc,temp_int_4,1,MusashiDamageArray[temp_int_2]);",
              "        ShipCustomShipInfoData(cur_Tranc,temp_int_4,2,MusashiRangeArray[temp_int_2]);",
              "    }",
              "    TextCorr6='</color>'+\"Технологический уровень корпуса был успешно повышен. Отныне ваш <Name(cur_Tranc)> стал прочнее, мощнее и экологичнее!<br>Впрочем, насчёт последнего я не уверен, но вы, главное, \\\"Чистому космосу\\\" не говорите, а то они и так согласились выдать нам разрешение на модернизацию транклюкаторов лишь при условии неуклонного сокращения выброса вредных газов в окружающий вакуум. Экологи, блин! Помяните моё слово, ещё через <clr>1000<clrEnd> лет они и до гиперпространства доберутся!<br>Вот обновлённый список улучшений, доступных для корпуса <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) - взгляните:\";",
              "}",
              "CHullUpgradeCheck();",
              "Sound('Sound.Repair');",
              "TextCorr7='</color>'+\"Уже присмотрели следующий апгрейд?\";",
              "temp_int=0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  260,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  59,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(HullUpCheck)InjectAnswer('HullUp',\"Улучшение корпуса\",0);",
              "if(SpecialUpCheck)InjectAnswer('SpecialUp',\"Боевые модификации\",0);",
              "if(NavCompCheck)InjectAnswer('NavComputer',\"Навигационный компьютер\",0);",
              "InjectAnswer('ChangeEquip',\"Уменьшение оборудования\",0);",
              "InjectAnswer('Recolor',\"Перекраска\",0);",
              "if(tNumber>1)InjectAnswer('Select',\"Выбрать другого транклюкатора\",0);",
              "InjectAnswer('Exit',\"Пожалуй, пока что хватит\",2);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  410,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  61,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "DAnswer('main');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  62,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayClear(hangar_trancs);",
              "ArrayClear(hold_trancs);",
              "tNumber=0;",
              "for(i=0;i<PlayerTranclucators();i=i+1)",
              "{",
              "    cur_Tranc=PlayerTranclucators(i);",
              "    if(GetShipRuins(cur_Tranc)==GetShipRuins(Player()))",
              "    {",
              "        ArrayAdd(hangar_trancs,cur_Tranc);",
              "        tNumber=tNumber+1;",
              "    }",
              "}",
              "for(i=0;i<ShipArts(Player());i=i+1)",
              "{",
              "    cur_Tranc=ShipArts(Player(),i);",
              "    if(ItemType(cur_Tranc)==t_ArtefactTranclucator)",
              "    {",
              "        ArrayAdd(hold_trancs,cur_Tranc);",
              "        tNumber=tNumber+1;",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  260,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  66,
          "Total.Lines":  37,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ShipPilotRace(Player())==0)TextCorr8='</color>'+\"малок\";",
              "else if(ShipPilotRace(Player())==1)TextCorr8='</color>'+\"пеленг\";",
              "else if(ShipPilotRace(Player())==2)TextCorr8='</color>'+\"человек\";",
              "else if(ShipPilotRace(Player())==3)TextCorr8='</color>'+\"фэянин\";",
              "else if(ShipPilotRace(Player())==4)TextCorr8='</color>'+\"гаалец\";",
              "",
              "if(GAnswerData==1)",
              "{",
              "    TextCorr='</color>'+\"Ну, как хотите, дело ваше. Хотя, на мой взгляд, надёжнее было бы всё-таки улучшить. А то ещё, не ровён час, на вылете из трюма развалится.\";",
              "    TextCorr6='';",
              "    TextCorr7='';",
              "}",
              "else if(GAnswerData==2)",
              "{",
              "    CSpecialUpgradeCheck();",
              "    TextCorr='</color>'+\"Ну, как хотите, <Player>. Пускай ваш транклюкатор и неплох, но совершенству, как известно, предела нет.\";",
              "    TextCorr6='';",
              "    TextCorr7='';",
              "}",
              "else if(GAnswerData==3)TextCorr='</color>'+\"А другого раза, <Player>, больше не будет...<br>Да шучу я! Ха-ха-ха! Видели бы вы своё выражение лица! Ну что с нами или с вами в военное время может случиться, ей-богу?! Прилетайте, как передумаете - мы будем только рады.\";",
              "else if(GAnswerData==4)TextCorr='</color>'+\"Ну, как знаете. Дешевле мы их размалёвывать не можем - бюджет.\";",
              "else if(GAnswerData==5)TextCorr='</color>'+\"Ну вы уж тогда сами там определитесь, ладно? То подходят условия, то вдруг снова не подходят...<br>Решений, <Player>, нужно придерживаться твёрдо. Особенно своих!\";",
              "else if(GAnswerData==6)",
              "{",
              "    TextCorr='</color>'+\"Ну, это вам сейчас кажется, что не к чему. А вот как сядут на хвост пираты... Хотя впрочем, дело ваше.<br>Кто-то платит и живёт, а кто-то живёт и платит. Лично я вот из первой категории.\";",
              "    TextCorr6='';",
              "    TextCorr7='';",
              "}",
              "else if(GAnswerData==7)",
              "{",
              "    TextCorr='</color>'+\"И на этот безрассудный отказ вы готовы поставить даже собственную жизнь?! А вы отважный <TextCorr8>, <Player> - этого не отнять.\";",
              "    TextCorr6='';",
              "    TextCorr7='';",
              "}",
              "else if(GAnswerData==8)TextCorr='</color>'+\"Успокойтесь, <Player>. Никто у вас насильно оборудование не отнимет. Хотя я бы всё же рекомендовал передумать.<br>Снаряжение транклюкатора - штука полезная.\";",
              "else if(GAnswerData==9)TextCorr='</color>'+\"Ну и зря. Транклюкатор, <Player> - друг гуманоида! Не стоит пренебрегать его экипировкой, ведь когда-нибудь она вполне может спасти вашу жизнь.\";",
              "else if(GAnswerData==10)TextCorr='</color>'+\"Ну как хотите, <Player>. Но если вдруг снова возникнут проблемы с размером - заглядывайте, не стесняйтесь! Мы всегда тут.\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  470,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  72,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(cost > ShipMoney(Player())) AddDialogBlock(\"Да, вполне\", 1);",
              "InjectAnswer('PaintGo', \"Да, вполне\", 0);",
              "InjectAnswer('Canceled', \"Пожалуй, нет\", 4);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  76,
          "Total.Lines":  27,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ArrayDim(hangar_trancs)>1)",
              "{",
              "    cur_Tranc=hangar_trancs[1];",
              "    cur_ItemTranc=0;",
              "}",
              "else",
              "{",
              "    cur_Tranc=ArtTranclucatorToShip(hold_trancs[1]);",
              "    cur_ItemTranc=hold_trancs[1];",
              "}",
              "",
              "//Проверяем доступность различных способов улучшения корпуса транка",
              "CHullUpgradeCheck();",
              "//Проверяем доступность особых боевых модификаций для транка",
              "CSpecialUpgradeCheck();",
              "temp_int=1;",
              "TextCorr6='';",
              "TextCorr7='';",
              "",
              "//Проверяем наличие/отсутствие на транклюкаторе навигационного компьютера",
              "NavCompCheck=0;",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancNavComputerInfo')==-1 && ShipFindCustomShipInfoByType(cur_Tranc,'TrancFakeNavComputerInfo')==-1)",
              "{",
              "    TextCorr='</color>'+\"Также мы можем установить на вашего робота полноценный <clr>навигационный компьютер<clrEnd>, который позволит ему самостоятельно рассчитывать и совершать гиперпространственные прыжки.\"+' ';",
              "    NavCompCheck=1;",
              "}",
              "else TextCorr='';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  77,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i=1;i<ArrayDim(hangar_trancs);i=i+1)",
              "{",
              "    if(Name(hangar_trancs[i])==Name(cur_Tranc))continue;",
              "    else InjectAnswer('Select','<color=0,50,200>'+Name(hangar_trancs[i])+'</color> '+\"(в ангаре)\",hangar_trancs[i]);",
              "}",
              "for(i=1;i<ArrayDim(hold_trancs);i=i+1)",
              "{",
              "    if(Name(hold_trancs[i])==Name(cur_Tranc))continue;",
              "    else InjectAnswer('Select','<color=0,50,200>'+Name(hold_trancs[i])+'</color> '+\"(в трюме)\",hold_trancs[i]);",
              "}",
              "InjectAnswer('Canceled',\"Я передумал, продолжаем улучшать <color=0,50,200><Name(cur_Tranc)></color>\",20);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  220,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  78,
          "Total.Lines":  27,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ObjectType(GAnswerData)==5)",
              "{",
              "    cur_Tranc=GAnswerData;",
              "    cur_ItemTranc=0;",
              "}",
              "else",
              "{",
              "    cur_Tranc=ArtTranclucatorToShip(GAnswerData);",
              "    cur_ItemTranc=GAnswerData;",
              "}",
              "",
              "//Проверяем доступность различных способов улучшения корпуса транка",
              "CHullUpgradeCheck();",
              "//Проверяем доступность особых боевых модификаций для транка",
              "CSpecialUpgradeCheck();",
              "temp_int=1;",
              "TextCorr6='';",
              "TextCorr7='';",
              "",
              "//Проверяем наличие/отсутствие на транклюкаторе навигационного компьютера",
              "NavCompCheck=0;",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancNavComputerInfo')==-1 && ShipFindCustomShipInfoByType(cur_Tranc,'TrancFakeNavComputerInfo')==-1)",
              "{",
              "    TextCorr='</color>'+\"Также мы можем установить на вашего робота полноценный <clr>навигационный компьютер<clrEnd>, который позволит ему самостоятельно рассчитывать и совершать гиперпространственные прыжки.\"+' ';",
              "    NavCompCheck=1;",
              "}",
              "else TextCorr='';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  83,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GAnswerData==1) TextCorr='</color>'+\"Ну, как хотите, <Player>. Значит, и улучшать мы сегодня тоже никого не будем.\";",
              "else if(GAnswerData==2)",
              "{",
              "    if(tNumber==1) TextCorr='</color>'+\"Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своего \\\"крепыша\\\" - залетайте. Будем ждать.\";",
              "    if(tNumber>1) TextCorr='</color>'+\"Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своих \\\"крепышей\\\" - залетайте. Будем ждать.\";",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  86,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i=1;i<ArrayDim(hangar_trancs);i=i+1)",
              "{",
              "    InjectAnswer('Select','<color=0,50,200>'+Name(hangar_trancs[i])+'</color> '+\"(в ангаре)\",hangar_trancs[i]);",
              "}",
              "for(i=1;i<ArrayDim(hold_trancs);i=i+1)",
              "{",
              "    InjectAnswer('Select','<color=0,50,200>'+Name(hold_trancs[i])+'</color> '+\"(в трюме)\",hold_trancs[i]);",
              "}",
              "InjectAnswer('Exit',\"Никого, я передумал\",1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  520,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  89,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('Canceled', \"А знаете, я что-то передумал\", 5);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  110,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorWhite') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  590,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  111,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int = 1;",
              "if(EquipmentImageName(cur_Tranc) == 'ArtTranclucatorYellow') temp_int = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  116,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorWhite');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorWhite');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorWhite');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  650,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  117,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Chameleon(cur_Tranc, 'Ship.TranclucatorYellow');",
              "TranclucatorData(cur_Tranc, 'ArtSysName', 'ArtTranclucatorYellow');",
              "if(cur_ItemTranc) EquipmentImageName(cur_ItemTranc, 'ArtTranclucatorYellow');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  121,
          "Total.Lines":  96,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_item=ShipItems(cur_Tranc,0);",
              "cost=ItemCost(cur_item);",
              "if(GetGameOptions('FontDialog')==0)DefSplt='</color>-------------------------------------------------------------';",
              "else if(GetGameOptions('FontDialog')==1)DefSplt='</color>------------------------------------------';",
              "else if(GetGameOptions('FontDialog')==2)DefSplt='</color>-----------------------------------------';",
              "else if(GetGameOptions('FontDialog')==3)DefSplt='</color>-------------------------------------';",
              "",
              "if(TextCorr6=='')TextCorr6='</color>'+\"Интересует боевая мощь? В таком случае добро пожаловать в наш уголок милитариста! Самые разрушительные и самые непробиваемые девайсы для своего <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>) вы сможете приобрести только в наших центрах!<br>Вот подробный список:\";",
              "if(TextCorr7=='')TextCorr7='</color>'+\"Трудно удержаться и не прикупить что-то своему любимцу, не так ли, <Player>?\";",
              "",
              "temp_int_2=ItemLevel(cur_item);",
              "temp_int_4=MusashiDamageArray[temp_int_2];",
              "temp_int_5=MusashiRangeArray[temp_int_2];",
              "",
              "temp_int_3=0;",
              "TextCorr8='';",
              "if(SpecialUpgradeArray[1]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Орудие \\\"Мусаси\\\":</color>\";",
              "    if(GetGameOptions('FontDialog')>2)temp_str='</color>'+\"Дальн.\";",
              "    else temp_str='</color>'+\"Дальность\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(SpecialUpgradeArray[1]>0)",
              "    {",
              "        TextCorr='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется \\\"на спине\\\" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности \\\"Мусаси\\\" будут зависеть от <clr>технологического уровня<clrEnd> корпуса робота. Главным недостатком \\\"Мусаси\\\" является крайне долгое время перезарядки.<br>Урон с учётом ТУ: <clr>\"+temp_int_4+\"<clrEnd> ед.<br><temp_str> с учётом ТУ: <clr>\"+temp_int_5+\"<clrEnd> млн. км.<br>Время перезарядки: <clr>15<clrEnd> дн.<br>Стоимость установки:\";",
              "        if(ShipMoney(Player())>=SpecialUpgradeArray[2])TextCorr=TextCorr+' <SpecialUpgradeArray[2]> cr.';",
              "        else TextCorr=TextCorr+' <color=255,0,0>'+SpecialUpgradeArray[2]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 4 ТУ корпуса:</color>\";",
              "        TextCorr='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется \\\"на спине\\\" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности \\\"Мусаси\\\" будут зависеть от технологического уровня корпуса робота. Главным недостатком \\\"Мусаси\\\" является крайне долгое время перезарядки.<br>Урон с учётом ТУ:\"+' '+temp_int_4+' '+\"ед.<br><temp_str><color=120,124,120> с учётом ТУ:\"+' '+temp_int_5+' '+\"млн. км.<br>Время перезарядки: 15 дн.<br>Стоимость установки:\"+' '+SpecialUpgradeArray[2]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr='';",
              "if(SpecialUpgradeArray[3]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Снайперский модуль \\\"Джэбэ\\\":</color>\";",
              "    if(GetGameOptions('FontDialog')>2)temp_str='</color>'+\"Усил.\";",
              "    else temp_str='</color>'+\"Усиливает\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(SpecialUpgradeArray[3]>0)",
              "    {",
              "        TextCorr2='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Вспомогательный боевой вычислительный модуль последнего поколения \\\"Джэбэ\\\". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно <clr>в два раза<clrEnd>. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль \\\"Джэбэ\\\" несовместим с системами наведения орудия \\\"Мусаси\\\".<br><temp_str> первый выстрел в: <clr>2<clrEnd> раза<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:\";",
              "        if(ShipMoney(Player())>=SpecialUpgradeArray[4])TextCorr2=TextCorr2+' <SpecialUpgradeArray[4]> cr.';",
              "        else TextCorr2=TextCorr2+' <color=255,0,0>'+SpecialUpgradeArray[4]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 5 ТУ корпуса:</color>\";",
              "        TextCorr2='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Вспомогательный боевой вычислительный модуль последнего поколения \\\"Джэбэ\\\". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно в два раза. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль \\\"Джэбэ\\\" несовместим с системами наведения орудия \\\"Мусаси\\\".<br><temp_str><color=120,124,120> первый выстрел в: 2 раза<br>Пауза между активациями: 10 дн.<br>Стоимость установки:\"+' '+SpecialUpgradeArray[4]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr2='';",
              "if(SpecialUpgradeArray[5]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Дефлектор \\\"Мангуст\\\":</color>\";",
              "    if(GetGameOptions('FontDialog')>2)temp_str='</color>'+\"получ.\";",
              "    else temp_str='</color>'+\"получаемый\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(SpecialUpgradeArray[5]>0)",
              "    {",
              "        TextCorr3='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор \\\"Мангуст\\\"!<br>Снижает <temp_str> урон на: <clr>25%<clrEnd><br>Стоимость установки:\";",
              "        if(ShipMoney(Player())>=SpecialUpgradeArray[6])TextCorr3=TextCorr3+' <SpecialUpgradeArray[6]> cr.';",
              "        else TextCorr3=TextCorr3+' <color=255,0,0>'+SpecialUpgradeArray[6]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 4 ТУ корпуса:</color>\";",
              "        TextCorr3='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор \\\"Мангуст\\\"!<br>Снижает <temp_str><color=120,124,120> урон на: 25%<br>Стоимость установки:\"+' '+SpecialUpgradeArray[6]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr3='';",
              "if(SpecialUpgradeArray[7]>-1)",
              "{",
              "    TextCorr9=\"<br><color=0,50,200>Защитная система \\\"Херувим\\\":</color>\";",
              "    if(GetGameOptions('FontDialog')>1)temp_str='</color>'+\"Обеспеч.\";",
              "    else temp_str='</color>'+\"Обеспечивает\";",
              "    if(temp_int_3)TextCorr8=DefSplt;",
              "    temp_int_3=temp_int_3+1;",
              "    if(SpecialUpgradeArray[7]>0)",
              "    {",
              "        TextCorr4='</color>'+\"<br>\"+TextCorr8+TextCorr9+\"<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. \\\"Херувим\\\" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его <clr>неуязвимым<clrEnd>.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение \\\"Херувима\\\" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций \\\"Херувима\\\" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><temp_str> неуязвимость на: <clr>1<clrEnd> дн.<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:\";",
              "        if(ShipMoney(Player())>=SpecialUpgradeArray[8])TextCorr4=TextCorr4+' <SpecialUpgradeArray[8]> cr.';",
              "        else TextCorr4=TextCorr4+' <color=255,0,0>'+SpecialUpgradeArray[8]+'</color> cr.';",
              "    }",
              "    else",
              "    {",
              "        TextCorr9=\"<br><color=0,50,200>Необходим 6 ТУ корпуса:</color>\";",
              "        TextCorr4='</color>'+\"<br>\"+TextCorr8+TextCorr9+'<color=120,124,120>'+\"<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. \\\"Херувим\\\" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его неуязвимым.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение \\\"Херувима\\\" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций \\\"Херувима\\\" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><temp_str><color=120,124,120> неуязвимость на: 1 дн.<br>Пауза между активациями: 10 дн.<br>Стоимость установки:\"+' '+SpecialUpgradeArray[8]+' cr.'+'</color>';",
              "    }",
              "}",
              "else TextCorr4='';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  530,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  123,
          "Total.Lines":  30,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(SpecialUpgradeArray[1] > -1)",
              "{",
              "    if(SpecialUpgradeArray[1] > 0 && ShipMoney(Player()) >= SpecialUpgradeArray[2]) InjectAnswer('SpecialUpGo', \"Установить орудие \\\"Мусаси\\\"\", 1);",
              "    else InjectAnswer('Block', '<color=120,124,120>' + \"Установить орудие \\\"Мусаси\\\"\" + '</color>', 1);",
              "}",
              "",
              "if(SpecialUpgradeArray[3] > -1)",
              "{",
              "    if(SpecialUpgradeArray[3] > 0 && ShipMoney(Player()) >= SpecialUpgradeArray[4]) InjectAnswer('SpecialUpGo', \"Установить модуль \\\"Джэбэ\\\"\", 2);",
              "    else InjectAnswer('Block', '<color=120,124,120>' + \"Установить модуль \\\"Джэбэ\\\"\"+'</color>', 2);",
              "}",
              "",
              "if(SpecialUpgradeArray[5] > -1)",
              "{",
              "    if(SpecialUpgradeArray[5] > 0 && ShipMoney(Player()) >= SpecialUpgradeArray[6]) InjectAnswer('SpecialUpGo', \"Установить дефлектор \\\"Мангуст\\\"\", 3);",
              "    else InjectAnswer('Block', '<color=120,124,120>' + \"Установить дефлектор \\\"Мангуст\\\"\" + '</color>', 3);",
              "}",
              "",
              "if(SpecialUpgradeArray[7] > -1)",
              "{",
              "    if(SpecialUpgradeArray[7] > 0 && ShipMoney(Player()) >= SpecialUpgradeArray[8]) InjectAnswer('SpecialUpGo', \"Установить систему \\\"Херувим\\\"\", 4);",
              "    else InjectAnswer('Block', '<color=120,124,120>' + \"Установить систему \\\"Херувим\\\"\" + '</color>', 4);",
              "}",
              "",
              "if(temp_int) InjectAnswer('Canceled', \"Нет, прямо сейчас такая огневая мощь моему роботу не к чему\", 6);",
              "else",
              "{",
              "    InjectAnswer('Canceled', \"На пока боевых апгрейдов моему роботу хватит, благодарю\", 7);",
              "    temp_int = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  125,
          "Total.Lines":  29,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GAnswerData==1)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-SpecialUpgradeArray[2]);",
              "    temp_int_2=ItemLevel(cur_item);",
              "    ShipAddCustomShipInfo(cur_Tranc,'TrancAddGunInfo','',MusashiDamageArray[temp_int_2],MusashiRangeArray[temp_int_2],100,'0');",
              "    TextCorr6='</color>'+\"Орудие \\\"Мусаси\\\" установлено и готово к бою. Ох, и не завидую же я тем бедолагам, что в скором времени окажутся в прицеле вашего маленького железного друга.<br>Однако, это ещё не все модификации, которые способен вместить <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:\";",
              "}",
              "if(GAnswerData==2)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-SpecialUpgradeArray[4]);",
              "    ShipAddCustomShipInfo(cur_Tranc,'TrancBuffAttackInfo','',0,0,0,'',\"Готов к активации\");",
              "    TextCorr6='</color>'+\"Модуль \\\"Джэбэ\\\" успешно подключён и настроен. Кстати, <Player>, вы же слышали выражение \\\"сферической белке в глаз\\\"? Ну так вот, с этим модулем ваш робот попадёт ей одним выстрелом сразу в оба! Эх, несчастное животное.<br>Однако, это ещё не все модификации, которые способен вместить <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:\";",
              "}",
              "if(GAnswerData==3)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-SpecialUpgradeArray[6]);",
              "    ShipAddCustomShipInfo(cur_Tranc,'TrancDefShieldInfo','',0,0,0,\"<color=0,255,0>Дефлекторное поле активно</color>\");",
              "    TextCorr6='</color>'+\"Дефлектор \\\"Мангуст\\\" установлен и готов к работе. Главное, не подходите к своему транклюкатору, пока тот находится под защитным полем. Несчастные случаи с клиентами нам здесь совершенно ни к чему.<br>Однако, это ещё не все модификации, которые способен вместить <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:\";",
              "}",
              "if(GAnswerData==4)",
              "{",
              "    ShipMoney(Player(),ShipMoney(Player())-SpecialUpgradeArray[8]);",
              "    ShipAddCustomShipInfo(cur_Tranc,'TrancInvincibilityInfo','',0,0,0,'',\"Готова к активации\");",
              "    TextCorr6='</color>'+\"Защитная система \\\"Херувим\\\" успешно подключена и готова к работе. Под её прикрытием вашему транклюкатору не страшен будет и сам девиябл. А вы же видели девияблов, <Player>? Жуткие твари.<br>Однако, это ещё не все модификации, которые способен вместить <Name(cur_Tranc)> (<clr><ItemLevel(cur_item)> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:\";",
              "}",
              "CSpecialUpgradeCheck();",
              "Sound('Sound.Repair');",
              "TextCorr7='</color>'+\"Ну давайте! Вы ведь знаете, что хотите установить ещё!\";",
              "temp_int=0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  530,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  138,
          "Total.Lines":  78,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int=0;",
              "temp_str='</color>';",
              "TextCorr='';",
              "TextCorr2='';",
              "TextCorr3='';",
              "TextCorr4='';",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo')>-1)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo');",
              "    temp_int=temp_int+1;",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')",
              "    {",
              "        temp_str=temp_str+temp_int+\". Орудие \\\"Мусаси\\\": <color=255,0,0>Запрещено</color>\";",
              "        TextCorr='<color=45,105,45>'+\"Разрешаю орудие \\\"Мусаси\\\"</color>\";",
              "    }",
              "    else",
              "    {",
              "        temp_str=temp_str+temp_int+\". Орудие \\\"Мусаси\\\": <color=45,105,45>Разрешено</color>\";",
              "        TextCorr='<color=255,0,0>'+\"Запрещаю орудие \\\"Мусаси\\\"</color>\";",
              "    }",
              "}",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancBuffAttackInfo')>-1)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancBuffAttackInfo');",
              "    if(temp_int)temp_str=temp_str+\"<br>\";",
              "    temp_int=temp_int+1;",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')",
              "    {",
              "        temp_str=temp_str+temp_int+\". Модуль \\\"Джэбэ\\\": <color=255,0,0>Запрещён</color>\";",
              "        TextCorr2='<color=45,105,45>'+\"Разрешаю \\\"Джэбэ\\\" для всех слотов</color>\";",
              "    }",
              "    else",
              "    {",
              "        if(!ShipCustomShipInfoData(cur_Tranc,temp_int_2,1))",
              "        {",
              "            temp_str=temp_str+temp_int+\". Модуль \\\"Джэбэ\\\": <color=45,105,45>Все слоты</color>\";",
              "            TextCorr2='<color=45,105,45>'+\"Разрешаю \\\"Джэбэ\\\" для: <color=0,50,200>Слота <1></color>\";",
              "        }",
              "        else",
              "        {",
              "            temp_str=temp_str+temp_int+\". Модуль \\\"Джэбэ\\\": <clr>Только <ShipCustomShipInfoData(cur_Tranc,temp_int_2,1)> слот<clrEnd>\";",
              "            if(ShipCustomShipInfoData(cur_Tranc,temp_int_2,1)<5)TextCorr2='</color><color=45,105,45>'+\"Разрешаю \\\"Джэбэ\\\" для: <color=0,50,200>Слота <ShipCustomShipInfoData(cur_Tranc,temp_int_2,1)+1></color>\";",
              "            else TextCorr2='<color=255,0,0>'+\"Запрещаю модуль \\\"Джэбэ\\\"</color>\";",
              "        }",
              "    }",
              "}",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancDefShieldInfo')>-1)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancDefShieldInfo');",
              "    if(temp_int)temp_str=temp_str+\"<br>\";",
              "    temp_int=temp_int+1;",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')",
              "    {",
              "        temp_str=temp_str+temp_int+\". Дефлектор \\\"Мангуст\\\": <color=255,0,0>Отключён</color>\";",
              "        TextCorr3='<color=45,105,45>'+\"Активировать дефлектор \\\"Мангуст\\\"</color>\";",
              "    }",
              "    else",
              "    {",
              "        temp_str=temp_str+temp_int+\". Дефлектор \\\"Мангуст\\\": <color=45,105,45>Активен</color>\";",
              "        TextCorr3='<color=255,0,0>'+\"Отключить дефлектор \\\"Мангуст\\\"</color>\";",
              "    }",
              "}",
              "if(ShipFindCustomShipInfoByType(cur_Tranc,'TrancInvincibilityInfo')>-1)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancInvincibilityInfo');",
              "    if(temp_int)temp_str=temp_str+\"<br>\";",
              "    temp_int=temp_int+1;",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')",
              "    {",
              "        temp_str=temp_str+temp_int+\". Система \\\"Херувим\\\": <color=255,0,0>Запрещена</color>\";",
              "        TextCorr4='<color=45,105,45>'+\"Разрешить систему \\\"Херувим\\\"</color>\";",
              "    }",
              "    else",
              "    {",
              "        temp_str=temp_str+temp_int+\". Система \\\"Херувим\\\": <color=45,105,45>Разрешена</color>\";",
              "        TextCorr4='<color=255,0,0>'+\"Запретить систему \\\"Херувим\\\"</color>\";",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  140,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(TextCorr!='')InjectAnswer('SwitchSp','snap~'+TextCorr,1);",
              "if(TextCorr2!='')InjectAnswer('SwitchSp','snap~'+TextCorr2,2);",
              "if(TextCorr3!='')InjectAnswer('SwitchSp','snap~'+TextCorr3,3);",
              "if(TextCorr4!='')InjectAnswer('SwitchSp','snap~'+TextCorr4,4);",
              "InterfaceState('Talk','Close',3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  142,
          "Total.Lines":  45,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GAnswerData==1)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancAddGunInfo');",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'');",
              "    else ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'Lock');",
              "}",
              "else if(GAnswerData==2)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancBuffAttackInfo');",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'');",
              "    else",
              "    {",
              "        if(!ShipCustomShipInfoData(cur_Tranc,temp_int_2,1))ShipCustomShipInfoData(cur_Tranc,temp_int_2,1,1);",
              "        else",
              "        {",
              "            if(ShipCustomShipInfoData(cur_Tranc,temp_int_2,1)<5)ShipCustomShipInfoData(cur_Tranc,temp_int_2,1,ShipCustomShipInfoData(cur_Tranc,temp_int_2,1)+1);",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(cur_Tranc,temp_int_2,1,0);",
              "                ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'Lock');",
              "            }",
              "        }",
              "    }",
              "}",
              "else if(GAnswerData==3)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancDefShieldInfo');",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'');",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,1,\"<color=0,255,0>Дефлекторное поле активно</color>\");",
              "    }",
              "    else",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'Lock');",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,1,\"<color=255,0,0>Дефлекторное поле отключено</color>\");",
              "    }",
              "}",
              "else if(GAnswerData==4)",
              "{",
              "    temp_int_2=ShipFindCustomShipInfoByType(cur_Tranc,'TrancInvincibilityInfo');",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3)=='Lock')ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'');",
              "    else ShipCustomShipInfoTextData(cur_Tranc,temp_int_2,3,'Lock');",
              "}",
              "Sound('Sound.ButtonInfoEnter');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  160,
          "Parent":  -1,
          "#":  145,
          "Total.Lines":  179,
          "Code.Type":  "Turn",
          "Code":          
          [
              "TextCorr8 = '';",
              "TextCorr9 = '';",
              "temp_int = 0;",
              "temp_int_2 = 0;",
              "tempDwd = GetShipRuins(Player());",
              "",
              "//Общее число доступных нодов",
              "temp_int_3 = GetNodesFromShip(Player()) + GetNodesFromStorage(tempDwd);",
              "",
              "//Общее число доступной протоплазмы",
              "temp_int_4 = 0;",
              "for(i = 0; i < ShipItems(Player()); i = i + 1)",
              "{",
              "    cur_item = ShipItems(Player(), i);",
              "    if(ItemType(cur_item) == t_UselessCountableItem)",
              "    {",
              "        if(EquipmentImageName(cur_item) == 'KlissanProtoplasm') temp_int_4 = temp_int_4 + ItemSize(cur_item);",
              "    }",
              "}",
              "",
              "for(i = 0; i < StorageItems(); i = i + 1)",
              "{",
              "    cur_item = StorageItems(i);",
              "    if(StorageItemLocation(i) == tempDwd)",
              "    {",
              "        if(ItemType(cur_item) == t_UselessCountableItem)",
              "        {",
              "            if(EquipmentImageName(cur_item) == 'KlissanProtoplasm') temp_int_4 = temp_int_4 + ItemSize(cur_item);",
              "        }",
              "    }",
              "}",
              "",
              "ArrayClear(items);",
              "ArrayClear(items2);",
              "ArrayClear(tempArr);",
              "",
              "//Перебираем вещи в трюме",
              "for(i = 0; i < ShipItems(Player()); i = i + 1)",
              "{",
              "    cur_item = ShipItems(Player(), i);",
              "    //Исключаем слишком лёгкое",
              "    if(ItemSize(cur_item) <= 1) continue;",
              "    //Исключаем скриптовые предметы",
              "    if(ItemInScript(cur_item) == 1)",
              "    {",
              "        if(~EqSpecial(cur_item))",
              "        {",
              "            //Исключение всех скриптовых предметов, кроме тех, что имеют особую пометку в бонусе",
              "            if(CT('MicroModuls.' + BonusNumInCfg(EqSpecial(cur_item)) + '.ScriptItemIgnore') != 1) continue;",
              "        }",
              "        else continue;",
              "    }",
              "",
              "    //Исключаем экипированное на игроке",
              "    if(ItemIsInUse(cur_item)) continue;",
              "    //Исключаем все лишние предметы",
              "    if(ItemType(cur_item) <= t_Hull || ItemType(cur_item) >= t_Protoplasm) continue;",
              "    //Исключаем уже уменьшенное",
              "    if(ItemExtraSpecialsCountByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize')) || ItemExtraSpecialsCountByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize'))) continue;",
              "    //Исключаем высокоуровневое нестандартное",
              "    if((ItemOwner(cur_item) == Kling || EqCustomFaction(cur_item)!='') && ItemLevel(cur_item)>GalaxyTechLevel())continue;",
              "",
              "    //Стоимость в кредитах",
              "    temp_int_5=round(0.5*ItemCost(cur_item));",
              "    //Стоимость в нодах/протоплазме",
              "    temp_int_6=round(1.0*temp_int_5/100);",
              "    temp_int=temp_int+1;",
              "    //Проверяем расовую принадлежность предмета",
              "    if(ItemOwner(cur_item) != Kling && EqCustomFaction(cur_item)!='Klissan')",
              "    {",
              "        temp_int_6=-1;",
              "        TextCorr8=TextCorr8+'</color>'+temp_int+') '+DeleteTags(ItemFullName(cur_item))+' (<clr>'+temp_int_5+'<clrEnd> cr.)'+\"<br>\";",
              "    }",
              "    else if(EqCustomFaction(cur_item)=='Klissan')TextCorr8=TextCorr8+'</color>'+temp_int+') '+DeleteTags(ItemFullName(cur_item))+' (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"пп.\"+')'+\"<br>\";",
              "    else TextCorr8=TextCorr8+'</color>'+temp_int+') '+DeleteTags(ItemFullName(cur_item))+' (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"нд.\"+')'+\"<br>\";",
              "    ArrayAdd(items,cur_item);",
              "    //Проверка на достаточное количество денег и нодов/протоплазмы",
              "    if(ShipMoney(Player())>=temp_int_5)",
              "    {",
              "        if(temp_int_6==-1)ArrayAdd(tempArr,1);",
              "        else",
              "        {",
              "            if(EqCustomFaction(cur_item)=='Klissan')",
              "            {",
              "                if(temp_int_4>=temp_int_6)ArrayAdd(tempArr,1);",
              "                else ArrayAdd(tempArr,0);",
              "            }",
              "            else",
              "            {",
              "                if(temp_int_3>=temp_int_6)ArrayAdd(tempArr,1);",
              "                else ArrayAdd(tempArr,0);",
              "            }",
              "        }",
              "    }",
              "    else ArrayAdd(tempArr,0);",
              "}",
              "",
              "//Перебираем вещи выбранного транка",
              "for(i = 0; i < ShipItems(cur_Tranc); i = i + 1)",
              "{",
              "    cur_item=ShipItems(cur_Tranc,i);",
              "    //Исключаем слишком лёгкое",
              "    if(ItemSize(cur_item)<=1) continue;",
              "    //Исключаем скриптовые предметы",
              "    if(ItemInScript(cur_item) == 1)",
              "    {",
              "        if(~EqSpecial(cur_item))",
              "        {",
              "            //Исключение всех скриптовых предметов, кроме тех, что имеют особую пометку в бонусе",
              "            if(CT('MicroModuls.'+BonusNumInCfg(EqSpecial(cur_item))+'.ScriptItemIgnore')!=1) continue;",
              "        }",
              "        else continue;",
              "    }",
              "",
              "    //Исключаем все лишние предметы",
              "    if(ItemType(cur_item)<=t_Hull || ItemType(cur_item)>=t_Protoplasm) continue;",
              "    //Исключаем уже уменьшенное",
              "    if(ItemExtraSpecialsCountByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize')) || ItemExtraSpecialsCountByType(cur_item, FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize'))) continue;",
              "    //Исключаем высокоуровневое нестандартное",
              "    if((ItemOwner(cur_item)==Kling || EqCustomFaction(cur_item)!='') && ItemLevel(cur_item)>GalaxyTechLevel()) continue;",
              "",
              "    //Стоимость в кредитах",
              "    temp_int_5=round(0.5*ItemCost(cur_item));",
              "    //Стоимость в нодах/протоплазме",
              "    temp_int_6=round(1.0*temp_int_5/100);",
              "    //Выстраиваем последовательную нумерацию",
              "    if(temp_int && !temp_int_2)",
              "    {",
              "        temp_int_2=temp_int+1;",
              "        //Проверяем расовую принадлежность предмета",
              "        if(ItemOwner(cur_item)!=Kling && EqCustomFaction(cur_item)!='Klissan')",
              "        {",
              "            temp_int_6=-1;",
              "            TextCorr9='</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr.)'+\"<br>\";",
              "        }",
              "        else if(EqCustomFaction(cur_item)=='Klissan') TextCorr9='</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"пп.\"+')'+\"<br>\";",
              "        else TextCorr9='</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"нд.\"+')'+\"<br>\";",
              "    }",
              "    else",
              "    {",
              "        temp_int_2=temp_int_2+1;",
              "        //Проверяем расовую принадлежность предмета",
              "        if(ItemOwner(cur_item)!=Kling && EqCustomFaction(cur_item)!='Klissan')",
              "        {",
              "            temp_int_6=-1;",
              "            TextCorr9=TextCorr9+'</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr.)'+\"<br>\";",
              "        }",
              "        else if(EqCustomFaction(cur_item)=='Klissan') TextCorr9=TextCorr9+'</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"пп.\"+')'+\"<br>\";",
              "        else TextCorr9=TextCorr9+'</color>'+temp_int_2+') '+'<color=45,125,45>'+DeleteTags(ItemFullName(cur_item))+'</color> (<clr>'+temp_int_5+'<clrEnd> cr. '+\"и\"+' <clr>'+temp_int_6+'<clrEnd> '+\"нд.\"+')'+\"<br>\";",
              "    }",
              "",
              "    ArrayAdd(items2,cur_item);",
              "",
              "    //Проверка на достаточное количество денег и нодов/протоплазмы",
              "    if(ShipMoney(Player())>=temp_int_5)",
              "    {",
              "        if(temp_int_6==-1)ArrayAdd(tempArr,1);",
              "        else",
              "        {",
              "            if(EqCustomFaction(cur_item)=='Klissan')",
              "            {",
              "                if(temp_int_4>=temp_int_6) ArrayAdd(tempArr,1);",
              "                else ArrayAdd(tempArr,0);",
              "            }",
              "            else",
              "            {",
              "                if(temp_int_3>=temp_int_6) ArrayAdd(tempArr,1);",
              "                else ArrayAdd(tempArr,0);",
              "            }",
              "        }",
              "    }",
              "    else ArrayAdd(tempArr,0);",
              "}",
              "",
              "if(temp_int && temp_int_2) TextCorr7='</color>'+\"перечень подходящего оборудования. <clr>Зелёным<clrEnd> цветом в нём выделено оборудование из вашего транклюкатора.\";",
              "else if(temp_int) TextCorr7='</color>'+\"перечень подходящего оборудования из вашего трюма.\";",
              "else if(temp_int_2) TextCorr7='</color>'+\"перечень подходящего оборудования из вашего транклюкатора.\";",
              "if(GAnswerData==1) TextCorr6='</color>'+\"Так-так, посмотрим... Вот полный\";",
              "else TextCorr6='</color>'+\"Замечательно! В таком случае вот\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  220,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  147,
          "Total.Lines":  119,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tempDwd = GAnswerData;",
              "tempDwd2 = GetShipRuins(Player());",
              "temp_int_6 = -1;",
              "",
              "if(~EqModule(tempDwd))",
              "{",
              "    temp_int_6 = EqModule(tempDwd);",
              "    EqModule(tempDwd, -1);",
              "}",
              "",
              "TextCorr = DeleteTags(Name(tempDwd));",
              "if(~temp_int_6) EqModule(tempDwd, temp_int_6);",
              "temp_int_3 = 0;",
              "",
              "//Стоимость в кредитах",
              "temp_int = round(0.5 * ItemCost(tempDwd));",
              "if(ItemOwner(tempDwd) != Kling && EqCustomFaction(tempDwd) != 'Klissan')",
              "{",
              "    //Вычитаем стоимость в кредитах",
              "    ShipMoney(Player(), ShipMoney(Player()) - temp_int);",
              "}",
              "else if(EqCustomFaction(tempDwd) == 'Klissan')",
              "{",
              "    //Вычитаем стоимость в кредитах",
              "    ShipMoney(Player(), ShipMoney(Player()) - temp_int);",
              "",
              "    //Вычитаем стоимость в протоплазме",
              "    temp_int_2 = round(1.0 * temp_int / 100);",
              "    for(i = 0; i < ShipItems(Player()); i = i + 1)",
              "    {",
              "        cur_item = ShipItems(Player(),i);",
              "        if(ItemType(cur_item) == t_UselessCountableItem)",
              "        {",
              "            if(EquipmentImageName(cur_item)=='KlissanProtoplasm')",
              "            {",
              "                if(ItemSize(cur_item)>temp_int_2)",
              "                {",
              "                    ItemSize(cur_item,ItemSize(cur_item)-temp_int_2);",
              "                    temp_int_2=0;",
              "                }",
              "                else",
              "                {",
              "                    temp_int_2=temp_int_2-ItemSize(cur_item);",
              "                    FreeItem(GetItemFromShip(Player(),i));",
              "                }",
              "            }",
              "        }",
              "",
              "        if(!temp_int_2) break;",
              "    }",
              "",
              "    if(temp_int_2)while(temp_int_2)",
              "    {",
              "        cur_item=StorageItems(temp_int_3);",
              "        if(StorageItemLocation(temp_int_3)==tempDwd2)",
              "        {",
              "            if(ItemType(cur_item)==t_UselessCountableItem)",
              "            {",
              "                if(EquipmentImageName(cur_item)=='KlissanProtoplasm')",
              "                {",
              "                    if(ItemSize(cur_item)>temp_int_2)",
              "                    {",
              "                        ItemSize(cur_item,ItemSize(cur_item)-temp_int_2);",
              "                        temp_int_2=0;",
              "                    }",
              "                    else",
              "                    {",
              "                        temp_int_2=temp_int_2-ItemSize(cur_item);",
              "                        FreeItem(GetItemFromStorage(temp_int_3));",
              "                        //Откатываем счётчик, чтобы позволить скрипту ещё раз пройтись по номеру удалённой вещи",
              "                        temp_int_3 = temp_int_3 - 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "",
              "        temp_int_3 = temp_int_3 + 1;",
              "    }",
              "}",
              "else",
              "{",
              "    //Вычитаем стоимость в кредитах",
              "    ShipMoney(Player(), ShipMoney(Player()) - temp_int);",
              "    //Стоимость в нодах",
              "    temp_int_2 = round(1.0 * temp_int / 100);",
              "    if(temp_int_2 > GetNodesFromShip(Player()))",
              "    {",
              "        temp_int_2 = temp_int_2 - GetNodesFromShip(Player());",
              "        GetNodesFromShip(Player(), GetNodesFromShip(Player()));",
              "        GetNodesFromStorage(tempDwd2, temp_int_2);",
              "    }",
              "    else GetNodesFromShip(Player(), temp_int_2);",
              "}",
              "",
              "ItemSize(tempDwd, ItemSize(tempDwd) / 2);",
              "",
              "//Вещь не должна получится легче одной тонны, ни при каких условиях",
              "if(!ItemSize(tempDwd)) ItemSize(tempDwd, 1);",
              "",
              "//Добавляем быстро изнашивающий вещь спецакрин",
              "if(ItemType(tempDwd) <= t_DefGenerator) ItemExtraSpecialsAddByType(tempDwd, FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize'), 1);",
              "else ItemExtraSpecialsAddByType(tempDwd, FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize'), 1);",
              "",
              "temp_int_6 = -1;",
              "if(~EqModule(tempDwd))",
              "{",
              "    temp_int_6 = EqModule(tempDwd);",
              "    EqModule(tempDwd, -1);",
              "}",
              "",
              "SetName(tempDwd, Name(tempDwd) + CT('Script.Mod_EvoTranc.ForTrancs'));",
              "if(~temp_int_6) EqModule(tempDwd, temp_int_6);",
              "Sound('Sound.Repair');",
              "",
              "if(~findsubstr(Name(tempDwd),\"Лезка\") || ~findsubstr(Name(tempDwd),\"пушка\") || ~findsubstr(Name(tempDwd),\"матрица\"))TextCorr3='</color>'+\"Ваша <TextCorr> уменьшена до <ItemSize(tempDwd)> т. На корабль её теперь не поставишь, зато транклюкатору будет в самый раз.\";",
              "else if(~findsubstr(Name(tempDwd),\"орудие\") || ~findsubstr(Name(tempDwd),\"ИМХО-9000\") || ~findsubstr(Name(tempDwd),\"Лезвие\"))TextCorr3='</color>'+\"Ваше <TextCorr> уменьшено до <ItemSize(tempDwd)> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз.\";",
              "else TextCorr3='</color>'+\"Ваш <TextCorr> уменьшен до <ItemSize(tempDwd)> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз.\";",
              "if(ArrayDim(items)>2 || ArrayDim(items2)>2 || (ArrayDim(items)==2 && ArrayDim(items2)==2))TextCorr11='</color>'+\"Ну вот, всё готово! <TextCorr3>\"+\"<br>\"+\"Кстати, пока вы здесь, может хотите ещё что-нибудь уменьшить? Ведь чем больше, тем лучше, правда? То есть чем меньше... Ну вы меня поняли.\";",
              "else TextCorr11='</color>'+\"Ну вот, всё готово! <TextCorr3>\"+\"<br>\"+\"Хотите сделать что-нибудь ещё?\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  150,
          "Total.Lines":  28,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int_6 = 0;",
              "",
              "//Формируем ответы",
              "if(temp_int) for(i = 1; i < ArrayDim(items); i = i + 1)",
              "{",
              "    temp_int_6=temp_int_6+1;",
              "    if(tempArr[temp_int_6]) InjectAnswer('EquipGo',DeleteTags(ItemFullName(items[i]))+' (<color=0,50,200>'+ItemSize(items[i])+'</color> '+\"т.\"+')',items[i]);",
              "    else",
              "    {",
              "        TextCorr=DeleteTags(ItemFullName(items[i]))+' ('+ItemSize(items[i])+' '+\"т.\"+')';",
              "        AddDialogBlock(TextCorr,1);",
              "        InjectAnswer('EquipGo',TextCorr,items[i]);",
              "    }",
              "}",
              "",
              "if(temp_int_2) for(i = 1; i < ArrayDim(items2); i = i + 1)",
              "{",
              "    temp_int_6=temp_int_6+1;",
              "    if(tempArr[temp_int_6]) InjectAnswer('EquipGo','<color=45,125,45>'+DeleteTags(ItemFullName(items2[i]))+'</color> (<color=0,50,200>'+ItemSize(items2[i])+'</color> '+\"т.\"+')',items2[i]);",
              "    else",
              "    {",
              "        TextCorr=DeleteTags(ItemFullName(items2[i]))+' ('+ItemSize(items2[i])+' '+\"т.\"+')';",
              "        AddDialogBlock(TextCorr,1);",
              "        InjectAnswer('EquipGo',TextCorr,items2[i]);",
              "    }",
              "}",
              "",
              "InjectAnswer('Canceled',\"Ничего, ведь это сущий грабёж!\",9);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  157,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('EquipChoose', \"Да, пожалуй, мне не помешает уменьшить кое-что ещё\", 2);",
              "InjectAnswer('Canceled', \"Нет, на этом пока всё, спасибо\", 10);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  163,
          "#":  164,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1, 0);",
              "ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 3, '');",
              "OrderForsage(cur_Tranc, 0);",
              "ShipOut(cur_Tranc);",
              "InterfaceState('Talk', 'Close', 3);",
              "",
              "//Если транклюкаторов у игрока более одного, проверяем, сколько из них находятся в текущей системе",
              "ArrayClear(tempArr);",
              "if(PlayerTranclucators() > 1)",
              "{",
              "    for(i = 0; i < PlayerTranclucators(); i = i + 1)",
              "    {",
              "        tempDwd = PlayerTranclucators(i);",
              "        if(!ShipInNormalSpace(tempDwd)) continue;",
              "        if(ShipStar(tempDwd) != cur_star) continue;",
              "        ArrayAdd(tempArr, tempDwd);",
              "    }",
              "",
              "    //Если транклюкаторов у игрока несколько, выводим запрос и ответ о ретрансляции приказа всем доступным роботам",
              "    if(ArrayDim(tempArr) > 2) TextCorr2 = '</color>' + CT('Talk.Tranclucator.OrderForAll');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  340,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  172,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('AftOn', \"На <1> день\", 0);",
              "InjectAnswer('AftOn', \"На <2> дня\", 1);",
              "InjectAnswer('AftOn', \"На <3> дня\", 2);",
              "InjectAnswer('AftOn', \"На <4> дня\", 3);",
              "InjectAnswer('AftOn', \"На <5> дней\", 4);",
              "InjectAnswer('AftOn', \"На <6> дней\", 5);",
              "InjectAnswer('AftOn', \"На <7> дней\", 6);",
              "InjectAnswer('AftOn', \"На <8> дней\", 7);",
              "InjectAnswer('AftOn', \"На <9> дней\", 8);",
              "InjectAnswer('AftOn', \"На <10> дней\", 9);",
              "InjectAnswer('AftOn', \"Пока не прикажу отключить\", -1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  174,
          "#":  175,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipCustomShipInfoData(cur_Tranc, temp_int_6, 3, GAnswerData);",
              "OrderForsage(cur_Tranc, 1);",
              "if(!ShipInScript(cur_Tranc, 0)) ShipJoin(TrancForsage, cur_Tranc);",
              "InterfaceState('Talk', 'Close', 3);",
              "",
              "//Если транклюкаторов у игрока более одного, проверяем, сколько из них находятся в текущей системе",
              "ArrayClear(tempArr);",
              "if(PlayerTranclucators() > 1)",
              "{",
              "    for(i = 0; i < PlayerTranclucators(); i = i + 1)",
              "    {",
              "        tempDwd = PlayerTranclucators(i);",
              "        if(!ShipInNormalSpace(tempDwd)) continue;",
              "        if(ShipStar(tempDwd) != cur_star) continue;",
              "        ArrayAdd(tempArr, tempDwd);",
              "    }",
              "",
              "    //Если транклюкаторов у игрока несколько, выводим запрос и ответ о ретрансляции приказа всем доступным роботам",
              "    if(ArrayDim(tempArr) > 2) TextCorr2 = '</color>' + CT('Talk.Tranclucator.OrderForAll');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -120,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  181,
          "Total.Lines":  47,
          "Code.Type":  "Turn",
          "Code":          
          [
              "int info = ShipFindCustomShipInfoByType(CurShip, 'TrancModAddInfo');",
              "if(~info)",
              "{",
              "    //Заставляем транка не вырубать форсаж до тех пор, пока у него не сдохнет двигло или не истечёт срок приказа",
              "    if(ShipCustomShipInfoTextData(CurShip, info, 3) == 'turn') //Проверка, что код должен сработать именно перед концом хода",
              "    {",
              "        //Время действия приказа на форсаж истекло",
              "        if(!ShipCustomShipInfoData(CurShip, info, 3))",
              "        {",
              "            ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "            OrderForsage(CurShip, 0);",
              "            ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "        }",
              "        //Приказ форсажа должен работать до тех пор, пока его не прикажет отключить сам игрок",
              "        //Либо пока не закончится ресурс двигателя",
              "        else if(ShipCustomShipInfoData(CurShip, info, 3) == -1)",
              "        {",
              "            if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)) > 1)",
              "            {",
              "                OrderForsage(CurShip, 1);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "                OrderForsage(CurShip, 0);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "        }",
              "        //Приказ форсажа был установлен на определённый срок, и этот срок ещё не вышел",
              "        else",
              "        {",
              "            if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)) > 1)",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, ShipCustomShipInfoData(CurShip, info, 3) - 1);",
              "                OrderForsage(CurShip, 1);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "                OrderForsage(CurShip, 0);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  187,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player(),ShipMoney(Player())-temp_int_6);",
              "ItemCost(cur_item,round(1.15*ItemCost(cur_item)));",
              "//Количество денег на счету у транка по умолчанию 0",
              "//Разрешены автопрыжки за игроком только в дружественные системы",
              "//Автозаправка запрещена",
              "//ShipCustomShipInfoData(0,CurInfo(),1) - Расстояние при дальнем чит-прыжке",
              "//ShipCustomShipInfoData(0,CurInfo(),2) - кредиты транклюкатора на закупку топлива",
              "//ShipCustomShipInfoData(0,CurInfo(),3) - ---",
              "//ShipCustomShipInfoTextData(0,CurInfo(),1) - режим прыжков (True/TrueAll/False)",
              "//ShipCustomShipInfoTextData(0,CurInfo(),2) - разрешение на автозаправку (True/False)",
              "//ShipCustomShipInfoTextData(0,CurInfo(),3) - текущая линия поведения ('JumpByOrder','JumpByItself','JumpByItselfFar','')",
              "ShipAddCustomShipInfo(cur_Tranc,'TrancNavComputerInfo','',0,0,0,'True','False','');",
              "NavCompCheck=0;",
              "Sound('Sound.Repair');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  370,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  189,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_item=ShipItems(cur_Tranc,0);",
              "cost=ItemCost(cur_item);",
              "//Стоимость установки навигационного компьютера",
              "temp_int_6=(round(0.57*cost)*GalaxyDiffLevels(4)*GalaxyTechLevel())/300;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  320,
          "Pos.y":  70,
          "Parent":  -1,
          "#":  190,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ShipMoney(Player())>=temp_int_6 && ItemLevel(cur_item)>=3)InjectAnswer('NavCompGo',\"Ни слова больше - вот мои деньги!\",0);",
              "else InjectAnswer('Block','<color=120,124,120>'+\"Ни слова больше - вот мои деньги!\"+'</color>',0);",
              "InjectAnswer('Canceled',\"Уж лучше как-нибудь в другой раз\",3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  193,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int_5=Dist2Star(ShipStar(cur_Tranc),GAnswerData);",
              "temp_int_5=round(sqrt(temp_int_5));",
              "tempDwd=ShipEqInSlot(cur_Tranc,t_Engine);",
              "if(GetEquipmentStats(tempDwd,1)<temp_int_5)TextCorr='</color>'+\"Простите, хозяин, но мощности моего двигателя недостаточно для совершения данного гиперпрыжка.\";",
              "else TextCorr='</color>'+\"Простите, хозяин, но у меня не хватает топлива для совершения данного гиперпрыжка. Необходимо выполнить дозаправку.\";",
              "InterfaceState('Talk','Close',3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  198,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "OrderFollowShip(cur_Tranc, Player(), 0);",
              "ShipCustomShipInfoTextData(cur_Tranc, temp_int_4, 3, '');",
              "OrderLock(cur_Tranc, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  201,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "OrderJump(cur_Tranc, GAnswerData);",
              "ShipCustomShipInfoTextData(cur_Tranc, temp_int_4, 3, 'JumpByOrder');",
              "OrderLock(cur_Tranc, 1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  320,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  206,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = 0; i < PlayerTranclucators(); i = i + 1)",
              "{",
              "    tempDwd = PlayerTranclucators(i);",
              "    if(ShipFindCustomShipInfoByType(tempDwd, 'TrancNavComputerInfo') > -1)",
              "    {",
              "        temp_int_4 = ShipFindCustomShipInfoByType(tempDwd, 'TrancNavComputerInfo');",
              "        if(ShipCanJump(tempDwd, ShipStar(tempDwd), GAnswerData, 1))",
              "        {",
              "            OrderJump(tempDwd, GAnswerData);",
              "            ShipCustomShipInfoTextData(tempDwd, temp_int_4, 3, 'JumpByOrder');",
              "            OrderLock(tempDwd, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  210,
          "Total.Lines":  45,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_str='</color>';",
              "//Режим разрешений для автоматических прыжков за игроком",
              "if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1)=='False')",
              "{",
              "    temp_str=temp_str+\"1. Автоследование: <color=255,0,0>Запрещено</color>\";",
              "    TextCorr='<color=45,105,45>'+\"Разрешаю автоследование\"+'</color>';",
              "}",
              "else if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1)=='True')",
              "{",
              "    if(GetGameOptions('FontDialog')>=2)temp_str=temp_str+\"1. Автоследование: <color=45,105,45>В свободные</color>\";",
              "    else temp_str=temp_str+\"1. Автоследование: <color=45,105,45>В свободные системы</color>\";",
              "    TextCorr='<color=45,105,45>'+\"Разрешаю автоследование везде\"+'</color>';",
              "}",
              "else",
              "{",
              "    if(GetGameOptions('FontDialog')>=2)temp_str=temp_str+\"1. Автоследование: <color=45,105,45>В любые</color>\";",
              "    else temp_str=temp_str+\"1. Автоследование: <color=45,105,45>В любые системы</color>\";",
              "    TextCorr='<color=255,0,0>'+\"Запрещаю автоследование\"+'</color>';",
              "}",
              "//Режим разрешений для автоматической заправки транклюкатора",
              "if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,2)=='False')",
              "{",
              "    temp_str=temp_str+\"<br>\"+\"2. Автозаправка: <color=255,0,0>Запрещена</color>\";",
              "    TextCorr2='<color=45,105,45>'+\"Разрешаю автозаправку\"+'</color>';",
              "}",
              "else",
              "{",
              "    temp_str=temp_str+\"<br>\"+\"2. Автозаправка: <color=45,105,45>Разрешена</color>\"+'</color>';",
              "    TextCorr2='<color=255,0,0>'+\"Запрещаю автозаправку\"+'</color>';",
              "}",
              "//Режим разрешений для автоматического пополнения боезапаса транклюкатора",
              "if(!ShipCustomShipInfoData(cur_Tranc,temp_int_4,3))",
              "{",
              "    temp_str=temp_str+\"<br>\"+\"3. Пополнение зарядов: <color=255,0,0>Запрещено</color>\";",
              "    TextCorr3='<color=45,105,45>'+\"Разрешаю пополнение зарядов\"+'</color>';",
              "}",
              "else",
              "{",
              "    temp_str=temp_str+\"<br>\"+\"3. Пополнение зарядов: <color=45,105,45>Разрешено</color>\"+'</color>';",
              "    TextCorr3='<color=255,0,0>'+\"Запрещаю пополнение зарядов\"+'</color>';",
              "}",
              "//Электронный кошелёк транклюкатора",
              "temp_str=temp_str+\"<br>\"+\"4. Баланс кошелька: <ShipCustomShipInfoData(cur_Tranc,temp_int_4,2)> cr.\";",
              "TextCorr4=\"Пополнить кошелёк\";",
              "TextCorr5=\"Снять деньги\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  420,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  212,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Автоследование",
              "InjectAnswer('SwitchNav','snap~'+TextCorr,1);",
              "//Автозаправка",
              "InjectAnswer('SwitchNav','snap~'+TextCorr2,2);",
              "//Пополнение зарядов",
              "InjectAnswer('SwitchNav','snap~'+TextCorr3,3);",
              "//Рассчитываем состояние кошелька",
              "cost=(12500*GalaxyTechLevel())-ShipCustomShipInfoData(cur_Tranc,temp_int_4,2);",
              "if(ShipMoney(Player())<cost)cost=ShipMoney(Player());",
              "if(cost)InjectAnswer('SwitchNav','snap~'+TextCorr4,4);",
              "else InjectAnswer('Block','snap~'+'<color=120,124,120>'+TextCorr4+'</color>',4);",
              "if(ShipCustomShipInfoData(cur_Tranc,temp_int_4,2))InjectAnswer('SwitchNav','snap~'+TextCorr5,5);",
              "else InjectAnswer('Block','snap~'+'<color=120,124,120>'+TextCorr5+'</color>',5);",
              "InterfaceState('Talk','Close',3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  215,
          "Total.Lines":  71,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Режим разрешений для автоматических прыжков за игроком",
              "if(GAnswerData==1)",
              "{",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1)=='False')",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1,'True');",
              "    }",
              "    else if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1)=='True')",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1,'TrueAll');",
              "    }",
              "    else",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,1,'False');",
              "    }",
              "    Sound('Sound.ButtonInfoEnter');",
              "}",
              "//Режим разрешений для автоматической заправки транклюкатора",
              "else if(GAnswerData==2)",
              "{",
              "    if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,2)=='False')",
              "    {",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,2,'True');",
              "    }",
              "    else",
              "    {",
              "        //Если транклюкатор прямо сейчас летит к планете/станции для дозаправки, сбрасываем приказ",
              "        if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,2)=='TrueOnIt')",
              "        {",
              "            OrderLock(cur_Tranc,0);",
              "            ShipFreeFlight(cur_Tranc);",
              "        }",
              "        ShipCustomShipInfoTextData(cur_Tranc,temp_int_4,2,'False');",
              "    }",
              "    Sound('Sound.ButtonInfoEnter');",
              "}",
              "//Режим разрешений для автоматического пополнения боезапаса транклюкатора",
              "else if(GAnswerData==3)",
              "{",
              "    if(!ShipCustomShipInfoData(cur_Tranc,temp_int_4,3))",
              "    {",
              "        ShipCustomShipInfoData(cur_Tranc,temp_int_4,3,1);",
              "    }",
              "    else",
              "    {",
              "        ShipCustomShipInfoData(cur_Tranc,temp_int_4,3,0);",
              "    }",
              "    Sound('Sound.ButtonInfoEnter');",
              "}",
              "//Пополнение кошелька (не более 12.500*ГТУ cr., чтобы не рождать эксплойт с уводом денег из учёта капитала)",
              "else if(GAnswerData==4)",
              "{",
              "    i=NumberBox('Bm.ItemsUseless.2Usl_Elus_s',\"На какую сумму пополнить?\",0,cost,cost,'Bm.FormCount2.2KindCredits');",
              "    if(i)",
              "    {",
              "       ShipMoney(Player(),ShipMoney(Player())-i);",
              "       ShipCustomShipInfoData(cur_Tranc,temp_int_4,2,ShipCustomShipInfoData(cur_Tranc,temp_int_4,2)+i);",
              "       Sound('Sound.Sell');",
              "    }",
              "}",
              "//Снятие средств",
              "else if(GAnswerData==5)",
              "{",
              "    i=NumberBox('Bm.ItemsUseless.2Usl_Elus_s',\"Какую сумму снять?\",0,ShipCustomShipInfoData(cur_Tranc,temp_int_4,2),ShipCustomShipInfoData(cur_Tranc,temp_int_4,2),'Bm.FormCount2.2KindCredits');",
              "    if(i)",
              "    {",
              "       ShipMoney(Player(),ShipMoney(Player())+i);",
              "       ShipCustomShipInfoData(cur_Tranc,temp_int_4,2,ShipCustomShipInfoData(cur_Tranc,temp_int_4,2)-i);",
              "       Sound('Sound.Sell');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  310,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  218,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('RenameGo',\"Ввести новое имя\",0);",
              "InterfaceState('Talk','Close',3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  220,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "TextCorr = '';",
              "TextCorr = TextBox(\"Введите имя:\", '', 50);",
              "if(TextCorr != '') SetName(cur_Tranc, TextCorr);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  350,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  224,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "TextCorr2='<';",
              "TextCorr3='>';",
              "TextCorr4='color=R,G,B';",
              "TextCorr5='/color';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  730,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  233,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int_4 = RndObject(1, 3, cur_Tranc);",
              "if(temp_int_4 == 2) tstr1 = '</color>' + Format(CT('Script.Mod_EvoTranc.NPCsTrancTalks.OnAttack2'), '<Ship'+'>', ShipName(tempDwd) + '<Object=' + tempDwd + ',23,17,0>', '<RndTime'+'>', substr(0.0001 * (10 - ItemLevel(ShipItems(cur_Tranc, 0))), 0, 6));",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_EvoTranc.NPCsTrancTalks.OnAttack' + temp_int_4), '<Ship'+'>', ShipName(tempDwd) + '<Object=' + tempDwd + ',23,17,0>');",
              "",
              "NewsAdd(tstr1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  238,
          "#":  236,
          "Total.Lines":  50,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Автоматическое обновление массива с шансами на выдачу транклюкаторов другим NPC",
              "//Срабатывает, только если параметр Version в разделе TrancChanceListForNPC был изменён",
              "if(ChanceArrayUpdateCheck != CT('TrancChanceListForNPC.Version'))",
              "{",
              "    UpdateTrancChanceArray();",
              "    ChanceArrayUpdateCheck = CT('TrancChanceListForNPC.Version');",
              "}",
              "",
              "//Ищем все новорождённые корабли в Галактике и начинаем их подробный перебор",
              "temp_int = BuildListOfNewShips(tempArr, lastShipId, 2+4+8, 1+2+4+8+16+128, 1, '', ',PirateRunner,PirateCorvette,RangerPirate,FemRanger,Rebel,Smuggler,Merc,Freelancer,MercLeader');",
              "if(temp_int)//Если был обнаружен хотя бы один новый корабль, подходящий по заданным фильтрам",
              "{",
              "    //Сразу находим номера нужных бонусов для использования в функции начисления транков кораблю",
              "    temp_int_2 = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');",
              "    temp_int_3 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');",
              "    cur_star = ShipStar(Player());",
              "",
              "    for(i = 0; i < ArrayDim(tempArr); i = i + 1)",
              "    {",
              "        temp_int = 0;",
              "        tempDwd = tempArr[i];",
              "        //Пропускаем уже взлетевшие с планеты корабли, если в той же системе находится игрок",
              "        if(ShipInNormalSpace(tempDwd))",
              "        {",
              "            if(ShipStar(tempDwd) == cur_star) continue;",
              "        }",
              "        if(ShipInScript(tempDwd, 0)) continue;//Исключаем скриптовые корабли, не считая корабли с OrderLock",
              "        if(ShipTypeN(tempDwd) == t_Pirate && ShipOwner(tempDwd) == PirateClan)",
              "        {",
              "            if(ShipType(tempDwd) != 'PirateCorvette') continue; //Исключаем клановых пиратов",
              "        }",
              "",
              "        //Определяем шанс в зависимости от типа корабля",
              "        TextCorr7 = ShipType(tempDwd);",
              "        if(TextCorr7 == 'Ranger' || TextCorr7 == 'RangerPirate') temp_int = TrancChanceArray[0];//Рейнджеры и изменники",
              "        else if(TextCorr7 == 'FemRanger' || 'PirateCorvette') temp_int = TrancChanceArray[1];//Спецагенты и пиратские корветы",
              "        else if(TextCorr7 == 'Pirate' || TextCorr7 == 'PirateRunner' || TextCorr7 == 'Rebel') temp_int = TrancChanceArray[2];",
              "        else if(TextCorr7 == 'Transport') temp_int = TrancChanceArray[3];",
              "        else if(TextCorr7 == 'Smuggler') temp_int = TrancChanceArray[4];",
              "        else if(TextCorr7 == 'Liner') temp_int = TrancChanceArray[5];",
              "        else if(TextCorr7 == 'Diplomat') temp_int = TrancChanceArray[6];",
              "        else if(TextCorr7 == 'Merc' || TextCorr7 == 'Freelancer') temp_int = TrancChanceArray[7];",
              "        else if(TextCorr7 == 'MercLeader') temp_int = TrancChanceArray[8];",
              "",
              "        //Бросок на шанс",
              "        if(RndObject(1, 100, tempDwd) > temp_int) continue;",
              "        MakeTrancOwnerFrom(tempDwd);",
              "    }",
              "}",
              "lastShipId = GalaxyShipId();"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  247,
          "#":  248,
          "Total.Lines":  43,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(CurrentMods('Evolution\\EvoTrancNPC'))",
              "{",
              "    temp_int = BuildListOfNewShips(tempArr, lastShipId, 2+4+8, 1+2+4+8+16+128, 1, '', ',PirateRunner,PirateCorvette,RangerPirate,FemRanger,Rebel,Smuggler,Merc,Freelancer,MercLeader');",
              "",
              "    //Если нашли хоть один корабль по заданным критериям поиска",
              "    if(temp_int)",
              "    {",
              "        temp_int_2 = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');",
              "        temp_int_3 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');",
              "",
              "        for(i = 0; i < ArrayDim(tempArr); i = i + 1)",
              "        {",
              "            tempDwd = tempArr[i];",
              "            temp_int = 0;",
              "",
              "            if(ShipInScript(tempDwd, 0)) continue;//Исключаем скриптовые корабли, не считая корабли с OrderLock",
              "            if(tempDwd == Player()) continue;//Исключаем игрока",
              "            if(ShipTypeN(tempDwd) == t_Pirate && ShipOwner(tempDwd) == PirateClan)",
              "            {",
              "                if(ShipType(tempDwd) != 'PirateCorvette') continue; //Исключаем клановых пиратов",
              "            }",
              "",
              "            //Определяем шанс в зависимости от типа корабля",
              "            TextCorr7 = ShipType(tempDwd);",
              "            if(TextCorr7 == 'Ranger' || TextCorr7 == 'RangerPirate') temp_int = TrancChanceArray[0]; //Рейнджеры и изменники",
              "            else if(TextCorr7 == 'FemRanger' || 'PirateCorvette') temp_int = TrancChanceArray[1]; //Спецагенты и пиратские корветы",
              "            else if(TextCorr7 == 'Pirate' || TextCorr7 == 'PirateRunner' || TextCorr7 == 'Rebel') temp_int = TrancChanceArray[2];",
              "            else if(TextCorr7 == 'Transport') temp_int = TrancChanceArray[3];",
              "            else if(TextCorr7 == 'Smuggler') temp_int = TrancChanceArray[4];",
              "            else if(TextCorr7 == 'Liner') temp_int = TrancChanceArray[5];",
              "            else if(TextCorr7 == 'Diplomat') temp_int = TrancChanceArray[6];",
              "            else if(TextCorr7 == 'Merc' || TextCorr7 == 'Freelancer') temp_int = TrancChanceArray[7];",
              "            else if(TextCorr7 == 'MercLeader') temp_int = TrancChanceArray[8];",
              "",
              "            //Бросок на шанс",
              "            if(RndObject(1, 100, tempDwd) > temp_int) continue;",
              "            MakeTrancOwnerFrom(tempDwd);",
              "        }",
              "    }",
              "",
              "    lastShipId = GalaxyShipId();",
              "    NPCTrancOwnersPermission = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  700,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  250,
          "Total.Lines":  316,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_str = '';",
              "choosed_planet = 0;",
              "choosed_ruins = 0;",
              "temp_str_2 = '</color>' + CT('Talk.Tranclucator.Options.CollectText') + ' ';",
              "",
              "//Сбор артефактов",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitArtefact'))",
              "{",
              "    temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect1') + '<clrEnd>';",
              "    TextCorr = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect1') + '</color>';",
              "}",
              "else TextCorr = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect1') + '</color>';",
              "",
              "//Сбор микромодулей",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitMicromodule'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect2') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect2') + '<clrEnd>';",
              "    TextCorr2 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect2') + '</color>';",
              "}",
              "else TextCorr2 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect2') + '</color>';",
              "",
              "//Сбор оборудования",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitEquipment'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect3') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect3') + '<clrEnd>';",
              "    TextCorr3 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect3') + '</color>';",
              "}",
              "else TextCorr3 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect3') + '</color>';",
              "",
              "//Сбор ошмётков",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitUseless'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect4') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect4') + '<clrEnd>';",
              "    TextCorr4 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect4') + '</color>';",
              "}",
              "else TextCorr4 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect4') + '</color>';",
              "",
              "//Сбор товаров",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitGoods'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect5') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect5') + '<clrEnd>';",
              "    TextCorr5 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect5') + '</color>';",
              "}",
              "else TextCorr5 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect5') + '</color>';",
              "",
              "//Сбор нодов",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitNode'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect6') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect6') + '<clrEnd>';",
              "    TextCorr6 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect6') + '</color>';",
              "}",
              "else TextCorr6 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect6') + '</color>';",
              "",
              "//Сбор цистерн, карт сокровищ, зондов и корпусов",
              "if(TranclucatorData(cur_Tranc, 'SeekPermitNone'))",
              "{",
              "    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Collect7') + '<clrEnd>';",
              "    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Collect7') + '<clrEnd>';",
              "    TextCorr7 = '</color>' + '<color=255,0,0>' + CT('Talk.Tranclucator.Options.CollectNo') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect7') + '</color>';",
              "}",
              "else TextCorr7 = '</color>' + '<color=45,105,45>' + CT('Talk.Tranclucator.Options.CollectYes') + '</color>' + ' <color=0,50,200>' + CT('Talk.Tranclucator.Options.Collect7') + '</color>';",
              "",
              "//Собираем первую строчку (что разрешено собирать) в окне диалога",
              "if(temp_str == '') temp_str_2 = temp_str_2 + '<clr>---<clrEnd>';",
              "else temp_str_2 = temp_str_2 + temp_str;",
              "temp_str = '';",
              "",
              "//Собираем вторую строчку (куда разрешено садиться) в окне диалога",
              "if(TranclucatorData(cur_Tranc, 'LandPermitPlanets') || TranclucatorData(cur_Tranc, 'LandPermitRuins'))",
              "{",
              "    temp_str_2 = temp_str_2 + \"<br>\" + CT('Talk.Tranclucator.Options.LandText') + ' ';",
              "    dword cur_star = ShipStar(cur_Tranc);",
              "",
              "    choosed_planet = 0; //Сюда запоминаем следующую планету для переключения",
              "    //Проверяем, разрешено ли садится на планеты",
              "    if(TranclucatorData(cur_Tranc, 'LandPermitPlanets'))",
              "    {",
              "        //Если уже выбрана определённая планета для посадки",
              "        if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1))",
              "        {",
              "            if(StarOwner(cur_star) != 1 && StarCustomFaction(cur_star) == '') //А на случай дружественных фракций?",
              "            {",
              "                temp_int = 0;",
              "                for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                {",
              "                    dword cur_planet = StarPlanets(cur_star, i);",
              "                    if(PlanetOwner(cur_planet) == 6) continue;",
              "                    //Запоминаем первый возможный вариант на случай, если уже выбранную планету мы в системе не найдём (другая система)",
              "                    //Также здесь запоминается следующий возможный вариант, если выбранная планета в системе таки нашлась",
              "                    if(!choosed_planet) choosed_planet = cur_planet;",
              "                    if(!temp_int)",
              "                    {",
              "                        //Ставим маркер, что нашли выбранную планету в текущей системе",
              "                        if(Id(cur_planet) == ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1))",
              "                        {",
              "                            temp_int = 1;",
              "                            choosed_planet = 0;",
              "                        }",
              "                    }",
              "                    else break;",
              "                }",
              "",
              "                //Если нашли выбранную планету в этой системе",
              "                if(temp_int)",
              "                {",
              "                    cur_item = IdToPlanet(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1));",
              "                    if(cur_item != PlanetPirateClan()) temp_str = '<clr>' + CT('Talk.Tranclucator.Options.ToPlanet') + ' ' + PlanetName(cur_item) + '<clrEnd>';",
              "                    else temp_str = '<clr>' + CT('Talk.Tranclucator.Options.ToPiratePlanet') + '<clrEnd>';",
              "",
              "                    //Если в системе имеется следующая обитаемая планета",
              "                    if(choosed_planet)",
              "                    {",
              "                        if(choosed_planet != PlanetPirateClan()) TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPlanet') + ' ' + PlanetName(choosed_planet) + '</color>';",
              "                        else TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPiratePlanet') + '</color>';",
              "                    }",
              "",
              "                    //Если планета последняя в списке обитаемых",
              "                    else TextCorr8 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "                }",
              "",
              "                //Иначе это другая система",
              "                else",
              "                {",
              "                    temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land1') + '<clrEnd>';",
              "                    if(choosed_planet)",
              "                    {",
              "                        if(choosed_planet != PlanetPirateClan()) TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPlanet') + ' ' + PlanetName(choosed_planet) + '</color>';",
              "                        else TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPiratePlanet') + '</color>';",
              "                    }",
              "                    else TextCorr8 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "                }",
              "            }",
              "",
              "            //Если выяснилось, что систему захватили, то снимаем все маркеры",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1, 0);",
              "                ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2, 0);",
              "                temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land1') + '<clrEnd>';",
              "                TextCorr8 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "            }",
              "        }",
              "        //Если разрешена посадка на все планеты",
              "        else",
              "        {",
              "            temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land1') + '<clrEnd>';",
              "            if(StarOwner(cur_star) != 1 && StarCustomFaction(cur_star) == '') //А на случай дружественных фракций?",
              "            {",
              "                temp_int = 0;",
              "                for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                {",
              "                    cur_planet = StarPlanets(cur_star, i);",
              "                    if(PlanetOwner(cur_planet) == None) continue;",
              "                    choosed_planet = cur_planet;",
              "                    break;",
              "                }",
              "",
              "                //Если нашли хоть одну обитаемую планету",
              "                if(choosed_planet)",
              "                {",
              "                    if(choosed_planet != PlanetPirateClan()) TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPlanet') + ' ' + PlanetName(choosed_planet) + '</color>';",
              "                    else TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.ToPiratePlanet') + '</color>';",
              "                }",
              "",
              "                //Если не нашли (вряд ли в принципе возможно)",
              "                else TextCorr8 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "            }",
              "",
              "            //Если система захвачена",
              "            else TextCorr8 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "        }",
              "    }",
              "    else TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "",
              "    choosed_ruins = 0; //Сюда запоминаем следующую станцию для переключения",
              "    //Проверяем, разрешено ли садится на станции",
              "    if(TranclucatorData(cur_Tranc, 'LandPermitRuins'))",
              "    {",
              "        //Если уже выбрана определённая станция для посадки",
              "        if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))",
              "        {",
              "            if(StarOwner(cur_star) != 1 && StarCustomFaction(cur_star) == '')",
              "            {",
              "                temp_int = 0;",
              "                for(i = 0; i < StarRuins(cur_star); i = i + 1)",
              "                {",
              "                    dword cur_ruin = StarRuins(cur_star, i);",
              "                    //Исключаем уникальные и лишние станции",
              "                    TextCorr11 = Format(ShipType(cur_ruin), '_licensed', '', '');",
              "                    if(TextCorr11 == 'Inhibitor') continue;",
              "                    if(TextCorr11 == 'BM') continue;",
              "                    if(TextCorr11 == 'MercHQ') continue;",
              "                    if(TextCorr11 == 'SSB') continue;",
              "",
              "                    if(TextCorr11 == 'Handler')",
              "                    {",
              "                        if(ShipOwner(Player()) != PirateClan && GetShipPirateRank(Player()) < 7) continue;",
              "                    }",
              "",
              "                    if(TextCorr11 == 'CB' && ShipOwner(Player()) != PirateClan) continue;",
              "",
              "                    //Запоминаем первый возможный вариант на случай, если уже выбранную станцию мы в системе не найдём",
              "                    //Также здесь запоминается следующий возможный вариант, если выбранная станция в системе таки нашлась",
              "                    if(!choosed_ruins) choosed_ruins = cur_ruin;",
              "                    if(!temp_int)",
              "                    {",
              "                        //Ставим маркер, что нашли выбранную станцию в текущей системе",
              "                        if(Id(cur_ruin) == ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))",
              "                        {",
              "                            temp_int = 1;",
              "                            choosed_ruins = 0;",
              "                        }",
              "                    }",
              "                    else break;",
              "                }",
              "",
              "                //Если нашли указанную станцию в системе",
              "                if(temp_int)",
              "                {",
              "                    if(temp_str == '') temp_str = '<clr>' + Name(IdToShip(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))) + '<clrEnd>';",
              "                    else temp_str = temp_str + ', <clr>' + Name(IdToShip(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))) + '<clrEnd>';",
              "                    //Если в системе имеется следующая станция",
              "",
              "                    if(choosed_ruins) TextCorr9 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + Name(choosed_ruins) + '</color>';",
              "                    //Если станция последняя в списке",
              "                    else TextCorr9 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "                }",
              "",
              "                //Станция уничтожена, улетела, либо это вообще другая система",
              "                else",
              "                {",
              "                    if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "                    else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "",
              "                    if(choosed_ruins) TextCorr9 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + Name(choosed_ruins) + '</color>';",
              "                    else TextCorr9 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "                }",
              "            }",
              "",
              "            //Если выяснилось, что систему захватили, то снимаем все маркеры",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1, 0);",
              "                ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2, 0);",
              "",
              "",
              "                if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "                else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "                TextCorr9 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "            }",
              "        }",
              "        //Если разрешена посадка на все станции",
              "        else",
              "        {",
              "            if(temp_str == '') temp_str = '<clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "            else temp_str = temp_str + ', <clr>' + CT('Talk.Tranclucator.Options.Land2') + '<clrEnd>';",
              "",
              "            if(StarOwner(cur_star) != 1 && StarCustomFaction(cur_star) == '')",
              "            {",
              "                temp_int = 0;",
              "                for(i = 0; i < StarRuins(cur_star); i = i + 1)",
              "                {",
              "                    cur_ruin = StarRuins(cur_star, i);",
              "                    //Исключаем уникальные и лишние станции",
              "                    TextCorr11 = Format(ShipType(cur_ruin), '_licensed', '', '');",
              "                    if(TextCorr11 == 'Inhibitor') continue;",
              "                    if(TextCorr11 == 'BM') continue;",
              "                    if(TextCorr11 == 'MercHQ') continue;",
              "                    if(TextCorr11 == 'SSB') continue;",
              "",
              "                    if(TextCorr11 == 'Handler')",
              "                    {",
              "                        if(ShipOwner(Player()) != PirateClan && GetShipPirateRank(Player()) < 7) continue;",
              "                    }",
              "",
              "                    if(TextCorr11 == 'CB' && ShipOwner(Player()) != 7) continue;",
              "                    choosed_ruins = cur_ruin;",
              "                    break;",
              "                }",
              "",
              "                //Если в системе имеется хоть одна станция",
              "                if(choosed_ruins) TextCorr9 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + Name(choosed_ruins) + '</color>';",
              "                //Если нет",
              "                else TextCorr9 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "            }",
              "",
              "            //Если система захвачена",
              "            else TextCorr9 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.LandNo') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "        }",
              "    }",
              "    else TextCorr9 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "    temp_str_2 = temp_str_2 + temp_str;",
              "}",
              "else",
              "{",
              "    temp_str_2 = temp_str_2 + \"<br>\" + CT('Talk.Tranclucator.Options.LandBad');",
              "    TextCorr8 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land1') + '</color>';",
              "    TextCorr9 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.LandYes') + '</color> <color=0,50,200>' + CT('Talk.Tranclucator.Options.Land2') + '</color>';",
              "}",
              "",
              "//Собираем третью строчку (разрешение на смену оборудования) в окне диалога",
              "if(TranclucatorData(cur_Tranc, 'AutoArrange'))",
              "{",
              "    temp_str_2 = temp_str_2 + \"<br>\" + CT('Talk.Tranclucator.Options.ArrangeText');",
              "    TextCorr10 = '<color=255,0,0>' + CT('Talk.Tranclucator.Options.ArrangeNo') + '</color>';",
              "}",
              "else",
              "{",
              "    temp_str_2 = temp_str_2 + \"<br>\" + CT('Talk.Tranclucator.Options.ArrangeBad');",
              "    TextCorr10 = '<color=45,105,45>' + CT('Talk.Tranclucator.Options.ArrangeYes') + '</color>';",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  720,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  252,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr, 1); //Сбор артефактов",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr2, 2); //Сбор микромодулей",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr3, 3); //Сбор оборудования",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr4, 4); //Сбор ошмётков",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr5, 5); //Сбор товаров",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr6, 6); //Сбор нодов",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr7, 7); //Сбор цистерн, карт сокровищ, зондов и корпусов",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr8, 8); //Разрешено ли садится на планеты и на какие именно",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr9, 9); //Разрешено ли садится на станции и на какие именно",
              "InjectAnswer('OptionsSwitch', 'snap~' + TextCorr10, 10); //Разрешение на смену оборудования",
              "",
              "InterfaceState('Talk', 'Close', 3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  720,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  254,
          "Total.Lines":  318,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GAnswerData == 1)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitArtefact')) TranclucatorData(cur_Tranc, 'SeekPermitArtefact', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitArtefact', 0);",
              "}",
              "",
              "if(GAnswerData == 2)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitMicromodule')) TranclucatorData(cur_Tranc, 'SeekPermitMicromodule', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitMicromodule', 0);",
              "}",
              "",
              "if(GAnswerData == 3)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitEquipment')) TranclucatorData(cur_Tranc, 'SeekPermitEquipment', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitEquipment', 0);",
              "}",
              "",
              "if(GAnswerData == 4)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitUseless')) TranclucatorData(cur_Tranc, 'SeekPermitUseless', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitUseless', 0);",
              "}",
              "",
              "if(GAnswerData == 5)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitGoods')) TranclucatorData(cur_Tranc, 'SeekPermitGoods', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitGoods', 0);",
              "}",
              "",
              "if(GAnswerData == 6)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitNode')) TranclucatorData(cur_Tranc, 'SeekPermitNode', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitNode', 0);",
              "}",
              "",
              "if(GAnswerData == 7)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'SeekPermitNone')) TranclucatorData(cur_Tranc, 'SeekPermitNone', 1);",
              "    else TranclucatorData(cur_Tranc, 'SeekPermitNone', 0);",
              "}",
              "",
              "//Нажали кнопку смены разрешённой планеты для посадки",
              "if(GAnswerData == 8)",
              "{",
              "    //Посадки на планеты были выключены - включаем",
              "    if(!TranclucatorData(cur_Tranc, 'LandPermitPlanets'))",
              "    {",
              "        TranclucatorData(cur_Tranc, 'LandPermitPlanets', 1);",
              "        ShipFreeFlight(cur_Tranc);",
              "",
              "        if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "        {",
              "            if(ShipOrder(cur_Tranc) == 2)",
              "            {",
              "                if(TranclucatorData(cur_Tranc, 'LandPermitRuins'))",
              "                {",
              "                    if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))",
              "                    {",
              "                        if(ObjectType(ShipOrderObj(cur_Tranc)) == 4)",
              "                        {",
              "                            choosed_ruins = IdToShip(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2));",
              "                            //Если транклюкатор выбрал в качестве пункта посадки не разрешённую для посадки станцию",
              "                            if(ShipOrderObj(cur_Tranc) != choosed_ruins)",
              "                            {",
              "                                //Ищем ближайшую к транклюкатору планету, чтобы перенаправить транклюкатора",
              "                                dword closed_planet = NearCivilPlanet(cur_Tranc);",
              "                                if(closed_planet)",
              "                                {",
              "                                    //Если ближайшая планета ближе, то перенаправляем транклюкатора на неё",
              "                                    if(Dist(cur_Tranc, closed_planet) <= Dist(cur_Tranc, choosed_ruins)) OrderLanding(cur_Tranc, closed_planet);",
              "                                    //Если разрешённая станция ближе, то перенаправляем транклюкатора на неё",
              "                                    else OrderLanding(cur_Tranc, choosed_ruins);",
              "                                    ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 2, 'landing');",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //Посадки на планеты уже были включены - переключаем конкретную планету",
              "        //Если следующая в списке планета ранее была найдена",
              "        if(choosed_planet)",
              "        {",
              "            ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1, Id(choosed_planet));",
              "            //Сразу меняем приказ транклюкатора, если он находится в процессе сбора и прямо сейчас выполняет посадку",
              "            if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "            {",
              "                if(ShipOrder(cur_Tranc) == 2)",
              "                {",
              "                    //Не делаем проверку, если транклюкатор уже и так летит к указанной планете",
              "                    if(ShipOrderObj(cur_Tranc) != choosed_planet)",
              "                    {",
              "                        if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))",
              "                        {",
              "                            choosed_ruins = IdToShip(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2));",
              "                            if(Dist(cur_Tranc, choosed_planet) <= Dist(cur_Tranc, choosed_ruins)) OrderLanding(cur_Tranc, choosed_planet);",
              "                            else OrderLanding(cur_Tranc, choosed_ruins);",
              "                        }",
              "                        else OrderLanding(cur_Tranc, choosed_planet);",
              "                        ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 2, 'landing');",
              "                    }",
              "                }",
              "            }",
              "            else ShipFreeFlight(cur_Tranc);",
              "        }",
              "        //Если список закончен, либо доступных для посадки планет в системе нет",
              "        else",
              "        {",
              "            ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1, 0);",
              "            TranclucatorData(cur_Tranc, 'LandPermitPlanets', 0);",
              "            //Если транклюкатор уже собирает предметы и как раз собирался садиться",
              "            if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "            {",
              "                if(ShipOrder(cur_Tranc) == 2)",
              "                {",
              "                    //Если ранее посадка была разрешена на определённую станцию",
              "                    if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2))",
              "                    {",
              "                        OrderLanding(cur_Tranc, IdToShip(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2)));",
              "                        ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 2, 'landing');",
              "                    }",
              "                    //Иначе, если ранее посадка была разрешена на все станции, то ищем ближайшую дружественную",
              "                    else if(TranclucatorData(cur_Tranc, 'LandPermitRuins'))",
              "                    {",
              "                        tempDwd = ShipStar(cur_Tranc);",
              "                        //Выясняем, есть ли в системе станции",
              "                        if(StarRuins(tempDwd))",
              "                        {",
              "                            //Ищем в системе ближайшую дружественную к транклюкатору станцию",
              "                            dword closed_ruin = 0;",
              "                            temp_int = 0;",
              "                            for(i = 0; i < StarRuins(tempDwd); i = i + 1)",
              "                            {",
              "                                cur_item = StarRuins(tempDwd, i);",
              "                                //Исключаем уникальные и лишние станции",
              "                                TextCorr = Format(ShipType(cur_item), '_licensed', '', '');",
              "                                if(TextCorr == 'Inhibitor') continue;",
              "                                if(TextCorr == 'BM') continue;",
              "                                if(TextCorr == 'MercHQ') continue;",
              "                                if(TextCorr == 'SSB') continue;",
              "",
              "                                if(TextCorr == 'Handler')",
              "                                {",
              "                                    if(ShipOwner(Player()) != PirateClan && GetShipPirateRank(Player()) < 7) continue;",
              "                                }",
              "",
              "                                if(TextCorr == 'CB' && ShipOwner(Player()) != PirateClan) continue;",
              "",
              "                                if(!closed_ruin)",
              "                                {",
              "                                    closed_ruin = cur_item;",
              "                                    temp_int = Dist(cur_Tranc, closed_ruin);",
              "                                }",
              "                                else if(Dist(cur_Tranc, cur_item) < temp_int)",
              "                                {",
              "                                    closed_ruin = cur_item;",
              "                                    temp_int = Dist(cur_Tranc, cur_item);",
              "                                }",
              "                            }",
              "                            //Если нашли, то выдаём приказ садится на неё",
              "                            if(closed_ruin) OrderLanding(cur_Tranc, closed_ruin);",
              "                            //Иначе, пусть транклюкатор сам решает что ему делать",
              "                            else ShipFreeFlight(cur_Tranc);",
              "                        }",
              "                        else ShipFreeFlight(cur_Tranc);",
              "                    }",
              "                    //Иначе, пусть транклюкатор сам решает что ему делать",
              "                    else ShipFreeFlight(cur_Tranc);",
              "                }",
              "            }",
              "            else ShipFreeFlight(cur_Tranc);",
              "        }",
              "    }",
              "}",
              "",
              "//Нажали кнопку смены разрешённой станции для посадки",
              "if(GAnswerData == 9)",
              "{",
              "    //Посадки на станции были выключены - включаем",
              "    if(!TranclucatorData(cur_Tranc, 'LandPermitRuins'))",
              "    {",
              "        TranclucatorData(cur_Tranc, 'LandPermitRuins', 1);",
              "        ShipFreeFlight(cur_Tranc);",
              "        if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "        {",
              "            if(ShipOrder(cur_Tranc) == 2)",
              "            {",
              "                if(TranclucatorData(cur_Tranc, 'LandPermitPlanets'))",
              "                {",
              "                    if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1))",
              "                    {",
              "                        if(ObjectType(ShipOrderObj(cur_Tranc)) == 3)",
              "                        {",
              "                            choosed_planet = IdToPlanet(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1));",
              "                            //Если транклюкатор выбрал в качестве пункта посадки не разрешённую для посадки планету",
              "                            if(ShipOrderObj(cur_Tranc) != choosed_planet)",
              "                            {",
              "                                //Ищем ближайшую к транклюкатору станцию, чтобы перенаправить транклюкатора",
              "                                tempDwd = ShipStar(cur_Tranc);",
              "                                //Выясняем, есть ли в системе станции",
              "                                if(StarRuins(tempDwd))",
              "                                {",
              "                                    //Ищем в системе ближайшую дружественную к транклюкатору станцию",
              "                                    closed_ruin = 0;",
              "                                    temp_int = 0;",
              "                                    for(i = 0; i < StarRuins(tempDwd); i = i + 1)",
              "                                    {",
              "                                        cur_item = StarRuins(tempDwd, i);",
              "                                        //Исключаем уникальные и лишние станции",
              "                                        TextCorr = Format(ShipType(cur_item), '_licensed', '', '');",
              "                                        if(TextCorr == 'Inhibitor') continue;",
              "                                        if(TextCorr == 'BM') continue;",
              "                                        if(TextCorr == 'MercHQ') continue;",
              "                                        if(TextCorr == 'SSB') continue;",
              "",
              "                                        if(TextCorr == 'Handler')",
              "                                        {",
              "                                            if(ShipOwner(Player()) != 7 && GetShipPirateRank(Player()) < 7) continue;",
              "                                        }",
              "",
              "                                        if(TextCorr == 'CB' && ShipOwner(Player()) != 7) continue;",
              "",
              "                                        if(!closed_ruin)",
              "                                        {",
              "                                            closed_ruin = cur_item;",
              "                                            temp_int = Dist(cur_Tranc, closed_ruin);",
              "                                        }",
              "                                        else if(Dist(cur_Tranc, cur_item) < temp_int)",
              "                                        {",
              "                                            closed_ruin = cur_item;",
              "                                            temp_int = Dist(cur_Tranc, cur_item);",
              "                                        }",
              "                                    }",
              "                                    //Если нашли, то сравниваем её с местонахождением разрешённой для посадки планеты",
              "                                    if(closed_ruin)",
              "                                    {",
              "                                        //Если ближайшая станция ближе, то перенаправляем транклюкатора на неё",
              "                                        if(Dist(cur_Tranc, closed_ruin) < Dist(cur_Tranc, choosed_planet)) OrderLanding(cur_Tranc, closed_ruin);",
              "                                        //Если разрешённая планета ближе, то перенаправляем транклюкатора на неё",
              "                                        else OrderLanding(cur_Tranc, choosed_planet);",
              "                                        ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 2, 'landing');",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //Посадки на станции уже были включены - переключаем конкретную станцию",
              "        //Если следующая в списке станция ранее была найдена",
              "        if(choosed_ruins)",
              "        {",
              "            ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2, Id(choosed_ruins));",
              "            //Сразу меняем приказ транклюкатора, если он находится в процессе сбора и прямо сейчас выполняет посадку",
              "            if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "            {",
              "                if(ShipOrder(cur_Tranc) == 2)",
              "                {",
              "                    //Не делаем проверку, если транклюкатор уже и так летит к указанной станции",
              "                    if(ShipOrderObj(cur_Tranc) != choosed_ruins)",
              "                    {",
              "                        if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1))",
              "                        {",
              "                            choosed_planet = IdToPlanet(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1));",
              "                            if(Dist(cur_Tranc, choosed_ruins) < Dist(cur_Tranc, choosed_planet)) OrderLanding(cur_Tranc, choosed_ruins);",
              "                            else OrderLanding(cur_Tranc, choosed_planet);",
              "                        }",
              "                        else OrderLanding(cur_Tranc, choosed_ruins);",
              "                        ShipCustomShipInfoTextData(cur_Tranc, temp_int_6, 2, 'landing');",
              "                    }",
              "                }",
              "            }",
              "            else ShipFreeFlight(cur_Tranc);",
              "        }",
              "        //Если список закончен, либо доступных для посадки станций в системе нет",
              "        else",
              "        {",
              "            ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2, 0);",
              "            TranclucatorData(cur_Tranc, 'LandPermitRuins', 0);",
              "",
              "            //Если транклюкатор уже собирает предметы и как раз собирался садиться",
              "            if(TranclucatorData(cur_Tranc, 'SeekItems'))",
              "            {",
              "                if(ShipOrder(cur_Tranc) == 2)",
              "                {",
              "                    //Если ранее посадка была разрешена на определённую планету",
              "                    if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 1))",
              "                    {",
              "                        OrderLanding(cur_Tranc, IdToPlanet(ShipCustomShipInfoData(cur_Tranc,temp_int_6, 1)));",
              "                        ShipCustomShipInfoTextData(cur_Tranc,temp_int_6, 2, 'landing');",
              "                    }",
              "                    //Иначе, если ранее посадка была разрешена на все планеты, то ищем ближайшую",
              "                    else if(TranclucatorData(cur_Tranc, 'LandPermitPlanets')) OrderLanding(cur_Tranc, NearCivilPlanet(cur_Tranc));",
              "                    //Иначе, пусть транклюкатор сам решает что ему делать",
              "                    else ShipFreeFlight(cur_Tranc);",
              "                }",
              "            }",
              "            else ShipFreeFlight(cur_Tranc);",
              "        }",
              "    }",
              "}",
              "",
              "if(GAnswerData == 10)",
              "{",
              "    if(!TranclucatorData(cur_Tranc, 'AutoArrange')) TranclucatorData(cur_Tranc, 'AutoArrange', 1);",
              "    else TranclucatorData(cur_Tranc, 'AutoArrange', 0);",
              "}",
              "",
              "Sound('Sound.ButtonInfoEnter');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  255,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InterfaceState('Talk','Close',3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  360,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  256,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InterfaceState('Talk', 'Close', 3);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  267,
          "#":  268,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int_4 = RndObject(1, 8, GetTalkShip());",
              "if(temp_int_4 == 1) tstr1 = '</color>' + \"Хозяин... за что?\";",
              "else if(temp_int_4 == 2) tstr1 = '</color>' + \"Ай! Мне же тоже может быть больно ;C\";",
              "else if(temp_int_4 == 3) tstr1 = '</color>' + \"Почему, хозяин? Разве я чем-то вас подвёл?\";",
              "else if(temp_int_4 == 4) tstr1 = '</color>' + \"Ваше недовольство ранит меня сильнее, чем ваши пушки.\";",
              "else if(temp_int_4 == 5) tstr1 = '</color>' + \"Если мне суждено умереть от вашей руки, прошу, скажите напоследок, что я был хорошим роботом!\";",
              "else if(temp_int_4 == 6) tstr1 = '</color>' + \"Крррааа...жжется, ваш выстрел повредил мой блокиратор эмоций.<br>Ау! Ау! Как больно! Я не хочу умирать. Хозяин, пощади!\";",
              "else if(temp_int_4 == 7) tstr1 = '</color>' + \"Знаю, что не должен этого говорить, но... я люблю вас, хозяин. Хочу, чтобы вы это знали, прежде чем разобьёте мой вычислительный процессор.\";",
              "else if(temp_int_4 == 8) tstr1 = '</color>' + \"Хозяин, вы правда желаете меня убить?<br>...<br>Скажите, а умирать это больно?\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  272,
          "#":  273,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Игрок решил раздать общий приказ на форсаж всем доступным транклюкаторам",
              "for(i = 1; i < ArrayDim(tempArr); i = i + 1)",
              "{",
              "    tempDwd = tempArr[i];",
              "    //Пропускаем транка, с которым игрок вёл диалог, и который ранее уже получил свой приказ",
              "    if(tempDwd == cur_Tranc) continue;",
              "    //Пропускаем транклюкаторов со \"сломанным\" двигателем",
              "    if(ItemDurability(ShipEqInSlot(tempDwd, t_Engine)) <= 1) continue;",
              "",
              "    temp_int_6 = ShipFindCustomShipInfoByType(tempDwd, 'TrancModAddInfo');",
              "    ShipCustomShipInfoData(tempDwd, temp_int_6, 3, GAnswerData);",
              "    OrderForsage(tempDwd, 1);",
              "    ShipJoin(TrancForsage, tempDwd);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  278,
          "#":  279,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Игрок решил раздать общий приказ на отключение форсажа всем доступным транклюкаторам",
              "for(i = 1; i < ArrayDim(tempArr); i = i + 1)",
              "{",
              "    tempDwd = tempArr[i];",
              "    //Пропускаем транка, с которым игрок вёл диалог, и который ранее уже получил свой приказ",
              "    if(tempDwd == cur_Tranc) continue;",
              "",
              "    ShipCustomShipInfoData(tempDwd, temp_int_6, 1, 0);",
              "    ShipCustomShipInfoTextData(tempDwd, temp_int_6, 3, '');",
              "    OrderForsage(tempDwd, 0);",
              "    ShipOut(tempDwd);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  360,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  284,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Активируем/корректируем панель с кнопками выбора транков",
              "if(PlayerTranclucators())",
              "{",
              "    if(ShipFindCustomShipInfoByType(Player(), 'TrancPanelMoverInfo') == -1) ShipAddCustomShipInfo(Player(), 'TrancPanelMoverInfo', 'NoShow');",
              "}",
              "else //if(!PlayerTranclucators())",
              "{",
              "    //Отключаем панель с кнопками выбора транков, если транков у игрока не осталось, либо все они были возвращены в трюм",
              "    if(InterfaceState('StarMap', 'Tranc_panel') == 1 || ~ShipFindCustomShipInfoByType(Player(), 'TrancPanelMoverInfo'))",
              "    {",
              "        InterfaceState('StarMap', 'Tranc_panel', 0);",
              "        ShipDeleteCustomShipInfo(Player(), 'TrancPanelMoverInfo');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  700,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  285,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + Format(CT('Script.Mod_EvoTranc.NPCsTrancTalks.NormalRelation'), '<Ship'+'>', ShipName(tempDwd) + '<Object=' + tempDwd + ',23,17,0>');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  760,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  287,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + Format(CT('Script.Mod_EvoTranc.NPCsTrancTalks.HostileRelation'), '<Ship'+'>', ShipName(tempDwd) + '<Object=' + tempDwd + ',23,17,0>');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  790,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  288,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_EvoTranc.NPCsTrancTalks.SelfDestructionWarning');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  -140,
          "Parent":  -1,
          "#":  289,
          "Total.Lines":  105,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "cur_ruin = GetShipRuins(Player());",
              "if(cur_ruin)",
              "{",
              "    if(CurrentMods('Expansion\\ExpTC'))",
              "    {",
              "        if(ShipType(cur_ruin) == 'TC')",
              "        {",
              "            AddDialogInject('Tranc_MainMenu', '', \"Улучшить транклюкатора\", 21);",
              "        }",
              "    }",
              "    else",
              "    {",
              "        if(ShipType(cur_ruin) == 'WB')",
              "        {",
              "            AddDialogInject('Tranc_MainMenu', '', \"Улучшить транклюкатора\", 0);",
              "        }",
              "    }",
              "}",
              "else",
              "{",
              "    cur_Tranc = GetTalkShip();",
              "    if(cur_Tranc)",
              "    {",
              "        if(ShipTypeN(cur_Tranc) == t_Tranclucator)",
              "        {",
              "            //Данный транклюкатор принадлежит игроку",
              "            if(~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancModAddInfo'))",
              "            {",
              "                cur_star = ShipStar(cur_Tranc);",
              "                temp_int_6 = ShipFindCustomShipInfoByType(cur_Tranc, 'TrancModAddInfo');",
              "                temp_int_4 = ShipFindCustomShipInfoByType(cur_Tranc, 'TrancNavComputerInfo');",
              "",
              "                if(ShipCustomShipInfoTextData(cur_Tranc,temp_int_6, 1) == 'YouHurtMe!')",
              "                {",
              "                    AddDialogOverride('YouHurtMe!', 3000);",
              "                    exit;",
              "                }",
              "",
              "                AddDialogBlock(CT('Talk.Tranclucator.Options.PlayerSend'), 2);",
              "                if(~temp_int_4)",
              "                {",
              "                    if(ShipOrder(cur_Tranc) == 3)",
              "                    {",
              "                        AddDialogBlock(CT('Talk.Tranclucator.FlyToMe.PlayerSend'), 2);",
              "                        AddDialogBlock(CT('Talk.Tranclucator.SeekItems.PlayerSend'), 2);",
              "                        AddDialogBlock(CT('Talk.Tranclucator.SeekItems.PlayerCancel'), 2);",
              "                        AddDialogInject('TrancJump', '', \"Отмена прыжка, следуй за мной\", 0, 0, 0);",
              "                    }",
              "                    else if(ShipOrder(Player()) == 3)",
              "                    {",
              "                        //Вторая проверка для гарантии, т.к. иногда игра багует и выдаёт приказ прыжка не на прыжок",
              "                        if(ObjectType(ShipOrderObj(Player())) == 1)",
              "                        {",
              "                            AddDialogInject('TrancJump', '', \"Совершаем гиперпрыжок в систему <StarName(ShipOrderObj(Player()))>\", 0, 0, ShipOrderObj(Player()));",
              "                        }",
              "                    }",
              "                }",
              "",
              "                if(GetEquipmentStats(ShipItems(cur_Tranc, 0), 8))",
              "                {",
              "                    if(!OrderForsage(cur_Tranc)) AddDialogInject('TrancForsageD','',\"Приказываю активировать форсаж\", 0);",
              "                    else AddDialogInject('TrancForsageD', '', \"Приказываю отключить форсаж\", 0);",
              "                }",
              "",
              "                if(~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancAddGunInfo') || ~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancBuffAttackInfo') || ~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancDefShieldInfo') || ~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancInvincibilityInfo'))",
              "                {",
              "                    AddDialogInject('TrancSpecialModsTalk', '', \"Настроить работу боевых модификаций\", 0);",
              "                }",
              "",
              "                if(~temp_int_4)",
              "                {",
              "                    AddDialogInject('TrancNavigation', '', \"Настройка навигации и операции с кошельком\", 0);",
              "                }",
              "",
              "                AddDialogInject('TrancOptions', '', \"Настроить поведение при сборе предметов\", 0);",
              "                AddDialogInject('Rename', '', \"Изменить имя\", 0);",
              "            }",
              "            //Данный транклюкатор принадлежит другому NPC",
              "            else if(~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancNPCAddInfo'))",
              "            {",
              "                tempDwd = TranclucatorData(cur_Tranc, 'Proprietor');",
              "                temp_int_6 = ShipFindCustomShipInfoByType(cur_Tranc, 'TrancNPCAddInfo');",
              "",
              "                if(ShipCustomShipInfoData(cur_Tranc, temp_int_6, 2) == 2) AddDialogOverride('TrancGoesBOOM!', 1000);",
              "                else",
              "                {",
              "                    if(RelationToShip(tempDwd, Player()) < 10)",
              "                    {",
              "                        //Приказ следования",
              "                        if(ShipOrder(cur_Tranc) == 6)",
              "                        {",
              "                            if(ShipOrderData1(cur_Tranc) == 1)",
              "                            {",
              "                                if(ShipOrderObj(cur_Tranc) == Player()) AddDialogOverride('NotYourTrancAttacksYou', 500);",
              "                            }",
              "                            else AddDialogOverride('NotYourTrancHatesYou', 500);",
              "                        }",
              "                        else AddDialogOverride('NotYourTrancHatesYou', 500);",
              "                    }",
              "                    else AddDialogOverride('NotYourTranc', 500);",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        }      
      ],
      "Planets":      
      [
        {
          "Type":  "TPlanet",
          "Name":  "InitPlanet",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  1,
          "Race":  62,
          "Owner":  62,
          "Economy":  14,
          "Goverment":  62,
          "RangeMin":  0,
          "RangeMax":  100,
          "Dialog":  -1        
        }      
      ],
      "Ships":      
      [
        {
          "Type":  "TStarShip",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  0,
          "Count":  1,
          "Owner":  62,
          "Ship.Type":  126,
          "Player":  true,
          "SpeedMin":  0,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Stars":      
      [
        {
          "Type":  "TStar",
          "Name":  "InitStar",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  2,
          "Constellation":  0,
          "Priority":  0,
          "NoKling":  false,
          "NoComeKling":  false        
        }      
      ],
      "Statements":      
      [
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  29,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  30,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  31,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  32,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  33,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  67,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tNumber > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  200,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  68,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tNumber == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  73,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tNumber"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  79,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!GAnswerData"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  80,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GAnswerData"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  130,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  96,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "HullUpCheck"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  180,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  97,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!HullUpCheck"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  220,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  101,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GAnswerData >= 20"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  240,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  102,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GAnswerData < 20"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  260,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  109,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  112,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  610,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  113,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  126,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SpecialUpCheck"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  530,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  127,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!SpecialUpCheck"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  510,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  129,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  170,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  151,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!temp_int && !temp_int_2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  152,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "temp_int || temp_int_2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  154,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  155,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  162,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!OrderForsage(cur_Tranc)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  161,
          "#":  163,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "OrderForsage(cur_Tranc)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  167,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ItemDurability(ShipEqInSlot(cur_Tranc, t_Engine)) > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  168,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ItemDurability(ShipEqInSlot(cur_Tranc, t_Engine)) <= 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  380,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  183,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "lastTurn != CurTurn()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  430,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  194,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GAnswerData"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  430,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  195,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!GAnswerData"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  196,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipCanJump(cur_Tranc, ShipStar(cur_Tranc), GAnswerData, 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  197,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!ShipCanJump(cur_Tranc, ShipStar(cur_Tranc), GAnswerData, 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  340,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  207,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerTranclucators() > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  340,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  208,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  225,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "TextCorr != ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  330,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  226,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "TextCorr == ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  246,
          "#":  238,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GalaxyShipId() > lastShipId"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  520,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  246,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NPCTrancOwnersPermission"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  560,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  247,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!NPCTrancOwnersPermission"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  262,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(items) > 2 || ArrayDim(items2) > 2 || (ArrayDim(items) == 2 && ArrayDim(items2) == 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  263,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(ArrayDim(items) == 2 && ArrayDim(items2) < 2) || (ArrayDim(items) < 2 && ArrayDim(items2) == 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  176,
          "#":  274,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(tempArr) > 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  176,
          "#":  275,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  165,
          "#":  276,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(tempArr) > 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  165,
          "#":  277,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        }      
      ],
      "States":      
      [
        {
          "Type":  "TState",
          "Name":  "PlayerState",
          "Pos.x":  0,
          "Pos.y":  100,
          "Parent":  -1,
          "#":  4,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "ForsageOn",
          "Pos.x":  -120,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  180,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        }      
      ],
      "Variables":      
      [
        {
          "Type":  "TVar",
          "Name":  "cur_Tranc",
          "Pos.x":  -20,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  9,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "hangar_trancs",
          "Pos.x":  -20,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  10,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cost",
          "Pos.x":  -20,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  28,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "modifier",
          "Pos.x":  -110,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  34,
          "Var.Type":  "Array",
          "Init":  "7",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "items",
          "Pos.x":  -20,
          "Pos.y":  290,
          "Parent":  -1,
          "#":  37,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int_2",
          "Pos.x":  -110,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  38,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_item",
          "Pos.x":  -110,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  39,
          "Var.Type":  "Dword",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int",
          "Pos.x":  -110,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  40,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_str",
          "Pos.x":  -20,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  41,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "xp_add",
          "Pos.x":  350,
          "Pos.y":  -220,
          "Parent":  -1,
          "#":  43,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "expArr",
          "Pos.x":  350,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  44,
          "Var.Type":  "Array",
          "Init":  "8",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "i",
          "Pos.x":  490,
          "Pos.y":  -260,
          "Parent":  -1,
          "#":  45,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tNumber",
          "Pos.x":  -110,
          "Pos.y":  330,
          "Parent":  -1,
          "#":  55,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "hold_trancs",
          "Pos.x":  -20,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  56,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_ItemTranc",
          "Pos.x":  -20,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  71,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr",
          "Pos.x":  -110,
          "Pos.y":  350,
          "Parent":  -1,
          "#":  87,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "HullUpgradeArray",
          "Pos.x":  170,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  90,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr2",
          "Pos.x":  -110,
          "Pos.y":  370,
          "Parent":  -1,
          "#":  91,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr3",
          "Pos.x":  -110,
          "Pos.y":  390,
          "Parent":  -1,
          "#":  92,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr4",
          "Pos.x":  -110,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  93,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr5",
          "Pos.x":  -20,
          "Pos.y":  330,
          "Parent":  -1,
          "#":  94,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "DefSplt",
          "Pos.x":  -110,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  95,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr6",
          "Pos.x":  -20,
          "Pos.y":  350,
          "Parent":  -1,
          "#":  99,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr7",
          "Pos.x":  -20,
          "Pos.y":  370,
          "Parent":  -1,
          "#":  100,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int_3",
          "Pos.x":  -110,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  103,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr8",
          "Pos.x":  -20,
          "Pos.y":  390,
          "Parent":  -1,
          "#":  104,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr9",
          "Pos.x":  -20,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  105,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "NavCompCheck",
          "Pos.x":  60,
          "Pos.y":  430,
          "Parent":  -1,
          "#":  107,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "HullUpCheck",
          "Pos.x":  60,
          "Pos.y":  390,
          "Parent":  -1,
          "#":  108,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "curTrancActiveGlobal",
          "Pos.x":  430,
          "Pos.y":  -220,
          "Parent":  -1,
          "#":  118,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "curTrancButActiveGlobal",
          "Pos.x":  430,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  119,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "SpecialUpgradeArray",
          "Pos.x":  170,
          "Pos.y":  390,
          "Parent":  -1,
          "#":  130,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "SpecialUpCheck",
          "Pos.x":  60,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  131,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int_4",
          "Pos.x":  -110,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  132,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "MusashiDamageArray",
          "Pos.x":  510,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  133,
          "Var.Type":  "Array",
          "Init":  "9",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "MusashiRangeArray",
          "Pos.x":  510,
          "Pos.y":  290,
          "Parent":  -1,
          "#":  134,
          "Var.Type":  "Array",
          "Init":  "9",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "ActiveTrancsArray",
          "Pos.x":  430,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  135,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int_5",
          "Pos.x":  -110,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  136,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "items2",
          "Pos.x":  -20,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  156,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tempArr",
          "Pos.x":  -20,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  158,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_int_6",
          "Pos.x":  -110,
          "Pos.y":  290,
          "Parent":  -1,
          "#":  159,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tempDwd",
          "Pos.x":  60,
          "Pos.y":  450,
          "Parent":  -1,
          "#":  160,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tempDwd2",
          "Pos.x":  60,
          "Pos.y":  470,
          "Parent":  -1,
          "#":  182,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "input",
          "Pos.x":  350,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  184,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "GEvoTrancTempArray",
          "Pos.x":  350,
          "Pos.y":  -260,
          "Parent":  -1,
          "#":  227,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "lastShipId",
          "Pos.x":  -110,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  237,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "j",
          "Pos.x":  490,
          "Pos.y":  -240,
          "Parent":  -1,
          "#":  239,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "k",
          "Pos.x":  530,
          "Pos.y":  -240,
          "Parent":  -1,
          "#":  240,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tempDwd3",
          "Pos.x":  60,
          "Pos.y":  490,
          "Parent":  -1,
          "#":  241,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "t",
          "Pos.x":  530,
          "Pos.y":  -260,
          "Parent":  -1,
          "#":  242,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "NPCTrancOwnersPermission",
          "Pos.x":  110,
          "Pos.y":  -240,
          "Parent":  -1,
          "#":  245,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr10",
          "Pos.x":  -110,
          "Pos.y":  430,
          "Parent":  -1,
          "#":  257,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TextCorr11",
          "Pos.x":  -20,
          "Pos.y":  430,
          "Parent":  -1,
          "#":  258,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "temp_str_2",
          "Pos.x":  -20,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  259,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tempDwd4",
          "Pos.x":  60,
          "Pos.y":  510,
          "Parent":  -1,
          "#":  260,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "lastTurn",
          "Pos.x":  -110,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  264,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TrancChanceArray",
          "Pos.x":  110,
          "Pos.y":  -220,
          "Parent":  -1,
          "#":  265,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "ChanceArrayUpdateCheck",
          "Pos.x":  110,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  266,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "costCalc",
          "Pos.x":  -110,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  271,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_star",
          "Pos.x":  60,
          "Pos.y":  530,
          "Parent":  -1,
          "#":  280,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "last_spawned_tranc_names_global",
          "Pos.x":  -120,
          "Pos.y":  -100,
          "Parent":  -1,
          "#":  281,
          "Var.Type":  "Str",
          "Init":  "*",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "choosed_planet",
          "Pos.x":  740,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  282,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "choosed_ruins",
          "Pos.x":  740,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  283,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr1",
          "Pos.x":  -110,
          "Pos.y":  470,
          "Parent":  -1,
          "#":  286,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_ruin",
          "Pos.x":  -20,
          "Pos.y":  470,
          "Parent":  -1,
          "#":  290,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        }      
      ]    
    }  
  ],
  "Visual.Links":  
  [
    {
      "Type":  "TGraphLink",
      "Begin":  0,
      "End":  2,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1,
      "End":  2,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  3,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  3,
      "End":  4,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  13,
      "End":  11,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  14,
      "End":  18,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  15,
      "End":  19,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  16,
      "End":  20,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  17,
      "End":  21,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  23,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  24,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  25,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  26,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  27,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  23,
      "End":  29,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  24,
      "End":  30,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  25,
      "End":  31,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  26,
      "End":  32,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  27,
      "End":  33,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  29,
      "End":  13,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  30,
      "End":  14,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  31,
      "End":  15,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  32,
      "End":  16,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  33,
      "End":  17,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  11,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  18,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  19,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  20,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  21,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  36,
      "End":  22,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  49,
      "End":  50,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  53,
      "End":  52,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  60,
      "End":  61,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  57,
      "End":  62,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  65,
      "End":  59,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  66,
      "End":  65,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  46,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  49,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  62,
      "End":  68,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  69,
      "End":  59,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  62,
      "End":  67,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  8,
      "End":  72,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  54,
      "End":  12,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  62,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  74,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  74,
      "End":  75,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  68,
      "End":  76,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  76,
      "End":  69,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  67,
      "End":  58,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  78,
      "End":  69,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  70,
      "End":  80,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  80,
      "End":  78,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  70,
      "End":  79,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  79,
      "End":  81,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  81,
      "End":  77,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  83,
      "End":  84,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  84,
      "End":  85,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  82,
      "End":  83,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  58,
      "End":  86,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  89,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  52,
      "End":  96,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  96,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  52,
      "End":  97,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  97,
      "End":  98,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  64,
      "End":  102,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  102,
      "End":  66,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  64,
      "End":  101,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  101,
      "End":  69,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  98,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  117,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  116,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  110,
      "End":  112,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  112,
      "End":  114,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  114,
      "End":  116,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  111,
      "End":  113,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  113,
      "End":  115,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  115,
      "End":  117,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  110,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  12,
      "End":  111,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  109,
      "End":  59,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  7,
      "End":  8,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  120,
      "End":  121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  121,
      "End":  122,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  122,
      "End":  123,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  124,
      "End":  125,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  125,
      "End":  126,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  126,
      "End":  121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  125,
      "End":  127,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  127,
      "End":  128,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  128,
      "End":  129,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  129,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  137,
      "End":  138,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  138,
      "End":  139,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  139,
      "End":  140,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  141,
      "End":  142,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  142,
      "End":  138,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  140,
      "End":  143,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  63,
      "End":  144,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  144,
      "End":  48,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  146,
      "End":  147,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  147,
      "End":  148,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  149,
      "End":  150,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  145,
      "End":  151,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  145,
      "End":  152,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  151,
      "End":  153,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  152,
      "End":  149,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  153,
      "End":  154,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  154,
      "End":  155,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  155,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  47,
      "End":  145,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  22,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  161,
      "End":  162,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  161,
      "End":  163,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  163,
      "End":  164,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  164,
      "End":  165,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  162,
      "End":  168,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  162,
      "End":  167,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  169,
      "End":  170,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  167,
      "End":  171,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  171,
      "End":  172,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  172,
      "End":  173,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  174,
      "End":  175,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  175,
      "End":  176,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  172,
      "End":  178,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  179,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  179,
      "End":  180,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  183,
      "End":  42,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  186,
      "End":  187,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  187,
      "End":  188,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  188,
      "End":  155,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  88,
      "End":  189,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  189,
      "End":  185,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  185,
      "End":  190,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  192,
      "End":  194,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  192,
      "End":  195,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  194,
      "End":  196,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  194,
      "End":  197,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  195,
      "End":  198,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  198,
      "End":  199,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  199,
      "End":  200,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  197,
      "End":  193,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  196,
      "End":  201,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  201,
      "End":  202,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  193,
      "End":  203,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  203,
      "End":  204,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  202,
      "End":  207,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  207,
      "End":  209,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  209,
      "End":  206,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  202,
      "End":  208,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  208,
      "End":  205,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  191,
      "End":  210,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  210,
      "End":  211,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  211,
      "End":  212,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  212,
      "End":  213,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  214,
      "End":  215,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  215,
      "End":  210,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  217,
      "End":  218,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  219,
      "End":  220,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  221,
      "End":  222,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  218,
      "End":  223,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  216,
      "End":  224,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  224,
      "End":  217,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  220,
      "End":  225,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  220,
      "End":  226,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  220,
      "End":  221,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  226,
      "End":  217,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  231,
      "End":  232,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  229,
      "End":  233,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  233,
      "End":  234,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  234,
      "End":  232,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  235,
      "End":  232,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  238,
      "End":  236,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  244,
      "End":  232,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  246,
      "End":  238,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  247,
      "End":  248,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  253,
      "End":  254,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  254,
      "End":  250,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  249,
      "End":  250,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  250,
      "End":  251,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  251,
      "End":  252,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  221,
      "End":  255,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  168,
      "End":  256,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  256,
      "End":  169,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  252,
      "End":  261,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  148,
      "End":  262,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  262,
      "End":  157,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  148,
      "End":  263,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  263,
      "End":  154,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  267,
      "End":  268,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  269,
      "End":  270,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  268,
      "End":  269,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  180,
      "End":  181,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  272,
      "End":  273,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  176,
      "End":  274,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  274,
      "End":  272,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  176,
      "End":  275,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  275,
      "End":  177,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  165,
      "End":  276,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  276,
      "End":  278,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  278,
      "End":  279,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  277,
      "End":  166,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  165,
      "End":  277,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  6,
      "End":  7,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  230,
      "End":  285,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  285,
      "End":  231,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  243,
      "End":  287,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  287,
      "End":  244,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  228,
      "End":  288,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  288,
      "End":  235,
      "Nom":  0,
      "Arrow":  true    
    }  
  ],
  "Rect.Text":  
  [
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  -24,
      "Rect.Top":  -85,
      "Rect.Right":  81,
      "Rect.Bottom":  120,
      "FStyle":  1,
      "FColor":  52063,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  1,
      "AlignRect":  false,
      "Text":  "",
      "Color":  16711680,
      "Font":  "Arial",
      "FontSize":  7,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  81,
      "Rect.Top":  -86,
      "Rect.Right":  678,
      "Rect.Bottom":  374,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  -1,
      "AlignRect":  false,
      "Text":  "",
      "Color":  0,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  80,
      "Rect.Top":  -187,
      "Rect.Right":  326,
      "Rect.Bottom":  -86,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  -1,
      "AlignRect":  false,
      "Text":  "Инжекты диалогов",
      "Color":  0,
      "Font":  "Arial",
      "FontSize":  8,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  325,
      "Rect.Top":  -159,
      "Rect.Right":  585,
      "Rect.Bottom":  -86,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  -1,
      "AlignRect":  false,
      "Text":  "Работа панели и опыта транков",
      "Color":  0,
      "Font":  "Arial",
      "FontSize":  8,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  678,
      "Rect.Top":  -86,
      "Rect.Right":  902,
      "Rect.Bottom":  113,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  13619151,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "",
      "Color":  16777215,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  678,
      "Rect.Top":  113,
      "Rect.Right":  843,
      "Rect.Bottom":  227,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "",
      "Color":  16777215,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  901,
      "Rect.Top":  -86,
      "Rect.Right":  1022,
      "Rect.Bottom":  24,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  11645361,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "",
      "Color":  16777215,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    }  
  ],
  "BlockPar.EC.Total.Strings":  242,
  "BlockPar.EC":  
  [
    {
      "#":  "106",
      "String":  "Ну, как знаете. Дешевле мы их размалёвывать не можем - бюджет."    
    },
    {
      "#":  "113",
      "String":  "Пожалуй, нет"    
    },
    {
      "#":  "118",
      "String":  "Пожалуй, пока что хватит"    
    },
    {
      "#":  "119",
      "String":  "Выбрать другого транклюкатора"    
    },
    {
      "#":  "120",
      "String":  "Перекраска"    
    },
    {
      "#":  "123",
      "String":  "Навигационный компьютер"    
    },
    {
      "#":  "124",
      "String":  "Боевые модификации"    
    },
    {
      "#":  "125",
      "String":  "Улучшение корпуса"    
    },
    {
      "#":  "132",
      "String":  "Что-то передумал я улучшать корпус"    
    },
    {
      "#":  "134",
      "String":  "Установить форсажную камеру"    
    },
    {
      "#":  "136",
      "String":  "Никого, я передумал"    
    },
    {
      "#":  "137",
      "String":  "(в трюме)"    
    },
    {
      "#":  "138",
      "String":  "(в ангаре)"    
    },
    {
      "#":  "139",
      "String":  "Мы обнаружили у вас сразу несколько доступных для улучшения транклюкаторов. Но вот кого именно из этих маленьких железных симпатяг нам выбрать?"    
    },
    {
      "#":  "140",
      "String":  "<0>"    
    },
    {
      "#":  "143",
      "String":  "Я передумал, продолжаем улучшать <color=0,50,200><0></color>"    
    },
    {
      "#":  "162",
      "String":  "Повысить технологический уровень"    
    },
    {
      "#":  "223",
      "String":  "<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: форсажная камера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "224",
      "String":  "<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: <clr>форсажная камера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "227",
      "String":  "<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: слот для радара<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "228",
      "String":  "<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: <clr>слот для радара<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "229",
      "String":  "<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: +75 ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "230",
      "String":  "<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: <clr>+75<clrEnd> ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "233",
      "String":  "<0><1><2><3><4><5><br><br><6>"    
    },
    {
      "#":  "239",
      "String":  "<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: слот для сканера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "241",
      "String":  "<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: <clr>слот для сканера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "271",
      "String":  "<br><color=0,50,200>Установка форсажной камеры:</color>"    
    },
    {
      "#":  "272",
      "String":  "<br><color=0,50,200>Открытие слота для сканера:</color>"    
    },
    {
      "#":  "273",
      "String":  "<br><color=0,50,200>Открытие слота для радара:</color>"    
    },
    {
      "#":  "274",
      "String":  "<br><color=0,50,200>Увеличение вместимости:</color>"    
    },
    {
      "#":  "277",
      "String":  "<br><color=0,50,200>Предел текущего ГТУ:</color>"    
    },
    {
      "#":  "278",
      "String":  "<br><color=0,50,200>Повышение техн. уровня:</color>"    
    },
    {
      "#":  "281",
      "String":  "<br><color=0,50,200>Предел текущего ТУ корпуса:</color>"    
    },
    {
      "#":  "282",
      "String":  "<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: +1<br>Броня корпуса: +1 ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "283",
      "String":  "<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: <clr>+1<clrEnd><br>Броня корпуса: <clr>+1<clrEnd> ед.<br>Стоимость улучшения:"    
    },
    {
      "#":  "284",
      "String":  "<br><color=0,50,200>Необходим 4 ТУ корпуса:</color>"    
    },
    {
      "#":  "285",
      "String":  "<br><color=0,50,200>Необходим 3 ТУ корпуса:</color>"    
    },
    {
      "#":  "298",
      "String":  "На этом с улучшениями корпуса пока всё, спасибо"    
    },
    {
      "#":  "303",
      "String":  "Уже присмотрели следующий апгрейд?"    
    },
    {
      "#":  "316",
      "String":  "Ну, как хотите, <Player>. Пускай ваш транклюкатор и неплох, но совершенству, как известно, предела нет."    
    },
    {
      "#":  "317",
      "String":  "Ну, и как вы желаете улучшить корпус вашего робота, <Player>?"    
    },
    {
      "#":  "337",
      "String":  "<color=255,255,255>Белый</color> - словно вспышка сверхновой"    
    },
    {
      "#":  "339",
      "String":  "Ну, как хотите, <Player>. Значит, и улучшать мы сегодня тоже никого не будем."    
    },
    {
      "#":  "347",
      "String":  "Ну разумеется, <Player>. Вот список ваших транклюкаторов, которых мы можем улучшить:"    
    },
    {
      "#":  "349",
      "String":  "Да, вполне"    
    },
    {
      "#":  "356",
      "String":  "Так-с, посмотрим... С учётом размера вашего транклюкатора, его полная перекраска обойдётся вам в <0> cr. в которые входит: предварительная шлифовка, грунтовка, покраска, сушка и нанесение декоративного блеска, который, впрочем, в космосе всё равно долго не протянет.<br>На выбор вам будут предложены <clr>6<clrEnd> разных цветов, плюс, при желании, всегда можно будет вернуть обратно текущий вариант.<br>Предложение устраивает?"    
    },
    {
      "#":  "360",
      "String":  "<color=108,61,142>Фиолетовый</color> - загадочный и глубокий цвет"    
    },
    {
      "#":  "362",
      "String":  "<color=230,15,15>Красный</color> - говорят, он ускоряет"    
    },
    {
      "#":  "363",
      "String":  "<color=44,147,44>Зелёный</color> - люблю весенние тона"    
    },
    {
      "#":  "365",
      "String":  "<color=135,118,73>Коричневый</color> - обожаю классику"    
    },
    {
      "#":  "368",
      "String":  "Чудесно! В таком случае вот вам все варианты цветов на выбор. Какой предпочитаете?"    
    },
    {
      "#":  "374",
      "String":  "<color=249,216,67>Жёлтый</color> - банановый удар"    
    },
    {
      "#":  "375",
      "String":  "<color=54,95,190>Синий</color> - как бездонный океан за дубовым бортом"    
    },
    {
      "#":  "376",
      "String":  "У вас отменный вкус! Наши лучшие маляры уже взялись за дело.<br>Совсем скоро ваш <0> засияет новыми красками в буквальном смысле слова!"    
    },
    {
      "#":  "377",
      "String":  "Извините, но ни в ангаре, ни в трюме вашего корабля мы транклюкаторов не обнаружили. Возвращайтесь, как раздобудете себе хотя бы одного."    
    },
    {
      "#":  "380",
      "String":  "<br><color=0,50,200>Необходим 6 ТУ корпуса:</color>"    
    },
    {
      "#":  "381",
      "String":  "<br><color=0,50,200>Защитная система \"Херувим\":</color>"    
    },
    {
      "#":  "385",
      "String":  "<br><color=0,50,200>Необходим 5 ТУ корпуса:</color>"    
    },
    {
      "#":  "386",
      "String":  "<br><color=0,50,200>Снайперский модуль \"Джэбэ\":</color>"    
    },
    {
      "#":  "387",
      "String":  "<clrEnd> млн. км.<br>Время перезарядки: <clr>15<clrEnd> дн.<br>Стоимость установки:"    
    },
    {
      "#":  "390",
      "String":  "<br><color=0,50,200>Орудие \"Мусаси\":</color>"    
    },
    {
      "#":  "395",
      "String":  "Готова к активации"    
    },
    {
      "#":  "397",
      "String":  "<color=0,255,0>Дефлекторное поле активно</color>"    
    },
    {
      "#":  "399",
      "String":  "Готов к активации"    
    },
    {
      "#":  "407",
      "String":  "Установить орудие \"Мусаси\""    
    },
    {
      "#":  "408",
      "String":  "<0><1><2><3><4><br><br><5>"    
    },
    {
      "#":  "417",
      "String":  "На пока боевых апгрейдов моему роботу хватит, благодарю"    
    },
    {
      "#":  "419",
      "String":  "Установить систему \"Херувим\""    
    },
    {
      "#":  "420",
      "String":  "Установить модуль \"Джэбэ\""    
    },
    {
      "#":  "422",
      "String":  "гаалец"    
    },
    {
      "#":  "423",
      "String":  "фэянин"    
    },
    {
      "#":  "424",
      "String":  "человек"    
    },
    {
      "#":  "425",
      "String":  "пеленг"    
    },
    {
      "#":  "426",
      "String":  "малок"    
    },
    {
      "#":  "442",
      "String":  "млн. км.<br>Время перезарядки: 15 дн.<br>Стоимость установки:"    
    },
    {
      "#":  "463",
      "String":  "Обеспечивает"    
    },
    {
      "#":  "464",
      "String":  "Обеспеч."    
    },
    {
      "#":  "467",
      "String":  "получаемый"    
    },
    {
      "#":  "468",
      "String":  "получ."    
    },
    {
      "#":  "469",
      "String":  "<br>Вспомогательный боевой вычислительный модуль последнего поколения \"Джэбэ\". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно <clr>в два раза<clrEnd>. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль \"Джэбэ\" несовместим с системами наведения орудия \"Мусаси\".<br><0> первый выстрел в: <clr>2<clrEnd> раза<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:"    
    },
    {
      "#":  "471",
      "String":  "Усиливает"    
    },
    {
      "#":  "472",
      "String":  "Усил."    
    },
    {
      "#":  "473",
      "String":  "<clrEnd> ед.<br><0> с учётом ТУ: <clr>"    
    },
    {
      "#":  "475",
      "String":  "Дальность"    
    },
    {
      "#":  "476",
      "String":  "Дальн."    
    },
    {
      "#":  "480",
      "String":  "<br>Вспомогательный боевой вычислительный модуль последнего поколения \"Джэбэ\". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно в два раза. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль \"Джэбэ\" несовместим с системами наведения орудия \"Мусаси\".<br><0><color=120,124,120> первый выстрел в: 2 раза<br>Пауза между активациями: 10 дн.<br>Стоимость установки:"    
    },
    {
      "#":  "481",
      "String":  "ед.<br><0><color=120,124,120> с учётом ТУ:"    
    },
    {
      "#":  "483",
      "String":  "Трудно удержаться и не прикупить что-то своему любимцу, не так ли, <Player>?"    
    },
    {
      "#":  "484",
      "String":  "Ну, как хотите, дело ваше. Хотя, на мой взгляд, надёжнее было бы всё-таки улучшить. А то ещё, не ровён час, на вылете из трюма развалится."    
    },
    {
      "#":  "485",
      "String":  "<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. \"Херувим\" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его <clr>неуязвимым<clrEnd>.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение \"Херувима\" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций \"Херувима\" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><0> неуязвимость на: <clr>1<clrEnd> дн.<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:"    
    },
    {
      "#":  "486",
      "String":  "<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. \"Херувим\" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его неуязвимым.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение \"Херувима\" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций \"Херувима\" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><0><color=120,124,120> неуязвимость на: 1 дн.<br>Пауза между активациями: 10 дн.<br>Стоимость установки:"    
    },
    {
      "#":  "491",
      "String":  "Интересует боевая мощь? В таком случае добро пожаловать в наш уголок милитариста! Самые разрушительные и самые непробиваемые девайсы для своего <0> (<clr><1> ТУ<clrEnd>) вы сможете приобрести только в наших центрах!<br>Вот подробный список:"    
    },
    {
      "#":  "492",
      "String":  "Ну, вот улучшения для корпуса <0> и закончились. Теперь у вашего робота самая крепкая броня в открытом космосе! Хотя впрочем, это не точно.<br>Что улучшаем следующим?"    
    },
    {
      "#":  "493",
      "String":  "Ну, это вам сейчас кажется, что не к чему. А вот как сядут на хвост пираты... Хотя впрочем, дело ваше.<br>Кто-то платит и живёт, а кто-то живёт и платит. Лично я вот из первой категории."    
    },
    {
      "#":  "494",
      "String":  "Исходя из своих технических возможностей, наш центр предлагает целый ряд полезных апгрейдов для корпуса любого стандартного транклюкатора.<br>Ознакомьтесь со списком улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) в настоящий момент:"    
    },
    {
      "#":  "495",
      "String":  "<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется \"на спине\" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности \"Мусаси\" будут зависеть от технологического уровня корпуса робота. Главным недостатком \"Мусаси\" является крайне долгое время перезарядки.<br>Урон с учётом ТУ:"    
    },
    {
      "#":  "496",
      "String":  "<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется \"на спине\" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности \"Мусаси\" будут зависеть от <clr>технологического уровня<clrEnd> корпуса робота. Главным недостатком \"Мусаси\" является крайне долгое время перезарядки.<br>Урон с учётом ТУ: <clr>"    
    },
    {
      "#":  "499",
      "String":  "Защитная система \"Херувим\" успешно подключена и готова к работе. Под её прикрытием вашему транклюкатору не страшен будет и сам девиябл. А вы же видели девияблов, <Player>? Жуткие твари.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:"    
    },
    {
      "#":  "501",
      "String":  "Модуль \"Джэбэ\" успешно подключён и настроен. Кстати, <Player>, вы же слышали выражение \"сферической белке в глаз\"? Ну так вот, с этим модулем ваш робот попадёт ей одним выстрелом сразу в оба! Эх, несчастное животное.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:"    
    },
    {
      "#":  "513",
      "String":  "Технологический уровень корпуса был успешно повышен. Отныне ваш <0> стал прочнее, мощнее и экологичнее!<br>Впрочем, насчёт последнего я не уверен, но вы, главное, \"Чистому космосу\" не говорите, а то они и так согласились выдать нам разрешение на модернизацию транклюкаторов лишь при условии неуклонного сокращения выброса вредных газов в окружающий вакуум. Экологи, блин! Помяните моё слово, ещё через <clr>1000<clrEnd> лет они и до гиперпространства доберутся!<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:"    
    },
    {
      "#":  "514",
      "String":  "Катахионная форсажная камера успешно установлена. Теперь-то ваш <0>, наконец, сможет скинуть с себя рабские кандалы, и умчаться на помощь доминаторам в их благородной миссии по избавлению Галактики от беспощадной и нелогичной тирании \"кожаных мешков\"! Хотя погодите-ка, видимо, всё-таки не сможет, ведь пультик активации форсажа он вона где - в вашем свободонепроницаемом кармане. Хе-хе, доверяй этим жестянкам, как же!<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:"    
    },
    {
      "#":  "515",
      "String":  "Отсек для установки сканера оснащён и готов к работе. Признаться честно, я не особо понимаю, зачем вообще транклюкатору сканер, но раз вы говорите, что надо, значит, так тому и быть.<br>Вот обновлённый список улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) - взгляните:"    
    },
    {
      "#":  "516",
      "String":  "Отсек для установки радара оснащён и готов к работе. Теперь ваш <0> сможет изучать космос почти как настоящий корабль. Почти.<br>Вы уж только приглядывайте за ним там, а то ещё присмотрит себе нового хозяина с увеличенной ежемесячной ставкой выдачи машинного масла, хе-хе.<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:"    
    },
    {
      "#":  "517",
      "String":  "Перекомпоновка с целью увеличения вместимости корпуса транклюкатора прошла успешно. Надеюсь только, что вы не станете забивать все освободившееся пространство банками из-под \"Махпеллы Дарк\". А то, знаете, встречаются умники, использующие своего боевого робота в качестве говорящего мусорного бачка.<br>Вот обновлённый список улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) - взгляните:"    
    },
    {
      "#":  "519",
      "String":  "Ну давайте! Вы ведь знаете, что хотите установить ещё!"    
    },
    {
      "#":  "524",
      "String":  "И на этот безрассудный отказ вы готовы поставить даже собственную жизнь?! А вы отважный <0>, <Player> - этого не отнять."    
    },
    {
      "#":  "525",
      "String":  "Ну вы уж тогда сами там определитесь, ладно? То подходят условия, то вдруг снова не подходят...<br>Решений, <Player>, нужно придерживаться твёрдо. Особенно своих!"    
    },
    {
      "#":  "526",
      "String":  "<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор \"Мангуст\"!<br>Снижает <0><color=120,124,120> урон на: 25%<br>Стоимость установки:"    
    },
    {
      "#":  "527",
      "String":  "<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор \"Мангуст\"!<br>Снижает <0> урон на: <clr>25%<clrEnd><br>Стоимость установки:"    
    },
    {
      "#":  "528",
      "String":  "<br><color=0,50,200>Дефлектор \"Мангуст\":</color>"    
    },
    {
      "#":  "529",
      "String":  "Дефлектор \"Мангуст\" установлен и готов к работе. Главное, не подходите к своему транклюкатору, пока тот находится под защитным полем. Несчастные случаи с клиентами нам здесь совершенно ни к чему.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:"    
    },
    {
      "#":  "530",
      "String":  "Орудие \"Мусаси\" установлено и готово к бою. Ох, и не завидую же я тем бедолагам, что в скором времени окажутся в прицеле вашего маленького железного друга.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:"    
    },
    {
      "#":  "531",
      "String":  "А знаете, я что-то передумал"    
    },
    {
      "#":  "532",
      "String":  "Установить дефлектор \"Мангуст\""    
    },
    {
      "#":  "533",
      "String":  "Ну, вот боевые модификации для вашего <0> и закончились. Больше на него установить попросту нечего. Сказал бы я, что ваш робот теперь машина для убийства, да только вот, фактически, ей он являлся ещё с момента сборки.<br>Впрочем, это отнюдь не означает, что пора завязывать. Что улучшаем следующим?"    
    },
    {
      "#":  "553",
      "String":  "Назад"    
    },
    {
      "#":  "554",
      "String":  "<color=255,0,0>Дефлекторное поле отключено</color>"    
    },
    {
      "#":  "555",
      "String":  ". Модуль \"Джэбэ\": <clr>Только <0> слот<clrEnd>"    
    },
    {
      "#":  "559",
      "String":  ". Система \"Херувим\": <color=45,105,45>Разрешена</color>"    
    },
    {
      "#":  "561",
      "String":  ". Система \"Херувим\": <color=255,0,0>Запрещена</color>"    
    },
    {
      "#":  "562",
      "String":  ". Дефлектор \"Мангуст\": <color=45,105,45>Активен</color>"    
    },
    {
      "#":  "563",
      "String":  ". Дефлектор \"Мангуст\": <color=255,0,0>Отключён</color>"    
    },
    {
      "#":  "565",
      "String":  ". Модуль \"Джэбэ\": <color=255,0,0>Запрещён</color>"    
    },
    {
      "#":  "566",
      "String":  ". Орудие \"Мусаси\": <color=45,105,45>Разрешено</color>"    
    },
    {
      "#":  "567",
      "String":  ". Орудие \"Мусаси\": <color=255,0,0>Запрещено</color>"    
    },
    {
      "#":  "580",
      "String":  "Запретить систему \"Херувим\"</color>"    
    },
    {
      "#":  "581",
      "String":  "Разрешить систему \"Херувим\"</color>"    
    },
    {
      "#":  "582",
      "String":  "Отключить дефлектор \"Мангуст\"</color>"    
    },
    {
      "#":  "583",
      "String":  "Активировать дефлектор \"Мангуст\"</color>"    
    },
    {
      "#":  "584",
      "String":  "Запрещаю модуль \"Джэбэ\"</color>"    
    },
    {
      "#":  "586",
      "String":  "Разрешаю \"Джэбэ\" для всех слотов</color>"    
    },
    {
      "#":  "587",
      "String":  "Запрещаю орудие \"Мусаси\"</color>"    
    },
    {
      "#":  "588",
      "String":  "Разрешаю орудие \"Мусаси\"</color>"    
    },
    {
      "#":  "591",
      "String":  ". Модуль \"Джэбэ\": <color=45,105,45>Все слоты</color>"    
    },
    {
      "#":  "593",
      "String":  "Настроить работу боевых модификаций"    
    },
    {
      "#":  "596",
      "String":  "Разрешаю \"Джэбэ\" для: <color=0,50,200>Слота <0></color>"    
    },
    {
      "#":  "597",
      "String":  "Замечательно! В таком случае вот"    
    },
    {
      "#":  "602",
      "String":  "нд."    
    },
    {
      "#":  "603",
      "String":  "и"    
    },
    {
      "#":  "605",
      "String":  "пп."    
    },
    {
      "#":  "606",
      "String":  "Ну как хотите, <Player>. Но если вдруг снова возникнут проблемы с размером - заглядывайте, не стесняйтесь! Мы всегда тут."    
    },
    {
      "#":  "609",
      "String":  "Уменьшение оборудования"    
    },
    {
      "#":  "617",
      "String":  "т."    
    },
    {
      "#":  "632",
      "String":  "Так-так, посмотрим... Вот полный"    
    },
    {
      "#":  "650",
      "String":  "А что конкретно вы можете уменьшить?"    
    },
    {
      "#":  "663",
      "String":  "Приказываю отключить форсаж"    
    },
    {
      "#":  "664",
      "String":  "Приказываю активировать форсаж"    
    },
    {
      "#":  "673",
      "String":  "Слушаюсь, хозяин! На какой срок мне активировать форсаж?"    
    },
    {
      "#":  "674",
      "String":  "Форсаж активирован. Ожидаю дальнейших приказов."    
    },
    {
      "#":  "675",
      "String":  "Далее"    
    },
    {
      "#":  "676",
      "String":  "Отмена"    
    },
    {
      "#":  "677",
      "String":  "Конец связи"    
    },
    {
      "#":  "679",
      "String":  "Слушаюсь, хозяин! Форсаж отключён."    
    },
    {
      "#":  "680",
      "String":  "На <0> дней"    
    },
    {
      "#":  "681",
      "String":  "На <0> дня"    
    },
    {
      "#":  "682",
      "String":  "На <0> день"    
    },
    {
      "#":  "685",
      "String":  "Простите, хозяин, но мой двигатель имеет критический уровень износа. Не могу выполнить ваш приказ."    
    },
    {
      "#":  "689",
      "String":  "Ваш <0> уменьшен до <1> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз."    
    },
    {
      "#":  "69",
      "String":  "Открыть слот сканера"    
    },
    {
      "#":  "690",
      "String":  "Ваше <0> уменьшено до <1> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз."    
    },
    {
      "#":  "691",
      "String":  "Лезвие"    
    },
    {
      "#":  "692",
      "String":  "ИМХО-9000"    
    },
    {
      "#":  "693",
      "String":  "орудие"    
    },
    {
      "#":  "694",
      "String":  "Ваша <0> уменьшена до <1> т. На корабль её теперь не поставишь, зато транклюкатору будет в самый раз."    
    },
    {
      "#":  "695",
      "String":  "матрица"    
    },
    {
      "#":  "696",
      "String":  "пушка"    
    },
    {
      "#":  "697",
      "String":  "Лезка"    
    },
    {
      "#":  "70",
      "String":  "Открыть слот радара"    
    },
    {
      "#":  "707",
      "String":  "Успокойтесь, <Player>. Никто у вас насильно оборудование не отнимет. Хотя я бы всё же рекомендовал передумать.<br>Снаряжение транклюкатора - штука полезная."    
    },
    {
      "#":  "708",
      "String":  "Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своих \"крепышей\" - залетайте. Будем ждать."    
    },
    {
      "#":  "709",
      "String":  "Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своего \"крепыша\" - залетайте. Будем ждать."    
    },
    {
      "#":  "71",
      "String":  "Увеличить вместимость"    
    },
    {
      "#":  "716",
      "String":  "Не трожьте технику, изверги!"    
    },
    {
      "#":  "721",
      "String":  "Нет, на этом пока всё, спасибо"    
    },
    {
      "#":  "722",
      "String":  "Да, пожалуй, мне не помешает уменьшить кое-что ещё"    
    },
    {
      "#":  "726",
      "String":  "Ничего, ведь это сущий грабёж!"    
    },
    {
      "#":  "751",
      "String":  "Уж лучше как-нибудь в другой раз"    
    },
    {
      "#":  "752",
      "String":  "Ни слова больше - вот мои деньги!"    
    },
    {
      "#":  "771",
      "String":  "И ретранслируй этот приказ остальным транклюкаторам. С каждым отдельно я общаться не намерен."    
    },
    {
      "#":  "772",
      "String":  "А другого раза, <Player>, больше не будет...<br>Да шучу я! Ха-ха-ха! Видели бы вы своё выражение лица! Ну что с нами или с вами в военное время может случиться, ей-богу?! Прилетайте, как передумаете - мы будем только рады."    
    },
    {
      "#":  "773",
      "String":  "Проблема чрезмерных размеров того или иного оборудования или орудия хорошо знакома любому капитану космического судна. Однако, куда более остро она встаёт перед владельцами транклюкаторов, ведь в плотный корпус этих умных машин зачастую влезает слишком мало полезной \"начинки\".<br>Сеть технологических центров решила положить уверенный конец страданиям транководов! Нашими инженерами была разработана уникальная методика удаления и частичной замены примерно <clr>половины<clrEnd> деталей в любом оборудовании так, чтобы сохранить минимально необходимый запас прочности для обеспечения беспроблемной работы устройства в идеальных, приближенных к стендовым условиях. Ну а какой пилот сможет обеспечить своему бортовому оборудованию максимально комфортный и бесстрессовый режим работы? Правильно - искусственный!<br>Обратной стороной медали этого метода является то, что <clr>уменьшенное<clrEnd> таким образом оборудование станет практически невозможно применять на борту нормальных пилотируемых судов. Живому пилоту просто не хватит внимания или навыка, результатом чего станет моментальная поломка хрупкого устройства.<br><br>Фууух...<br><br>Неделю заучивал чёртов текст! Отдельно добавлю, что над каждым оборудованием мы работаем лишь <clr>один раз<clrEnd>. Дальнейшее уменьшение скорее напоминало бы обычный демонтаж.<br>Ну, надеюсь, суть \"уменьшающей модификации\" вам понятна?"    
    },
    {
      "#":  "775",
      "String":  "Желание клиента для нас закон! Навигационный компьютер успешно установлен, а ваш транклюкатор отныне способен совершать гиперпрыжки не только в безопасном трюме.<br>Следите только, чтобы к доминаторам не улетел, хе-хе."    
    },
    {
      "#":  "778",
      "String":  "Также мы можем установить на вашего робота полноценный <clr>навигационный компьютер<clrEnd>, который позволит ему самостоятельно рассчитывать и совершать гиперпространственные прыжки."    
    },
    {
      "#":  "782",
      "String":  "А, вижу, вас заинтересовало предложение?<br>Как вы знаете, после недавнего \"инцидента\" с доминаторами, на заводах транклюкаторам навигационные компьютеры ставить побаиваются. Но наша сеть технологических центров не столь суеверна, а потому решила исправить явную недоработку.<br>По сути, разработанная нами версия навигационного компьютера почти ничем не отличается от той, что прямо сейчас установлена на вашем корабле. Правда, для использования компьютера искусственным интеллектом, нам пришлось немного расширить его автономность, но на общей эффективности расчётов гиперпрыжка это не отразилось.<br>В комплекте с компьютером также идёт специально разработанный <clr>электронный кошелёк<clrEnd> для транклюкатора, из которого ваш \"питомец\" сможет самостоятельно оплачивать своё топливо. Да уж, машины в наше время становятся всё более и более независимыми, хе-хе. Хотя пополнять этот кошелёк, естественно, придётся вам.<br>Полная стоимость установки навигационного компьютера для вашей модели робота составит <0> cr. Также, для корректного взаимодействия с устройством, <1> (<clr><2> ТУ<clrEnd>) должен иметь как минимум <3> технологический уровень.<br>Условия устраивают?"    
    },
    {
      "#":  "783",
      "String":  "Слушаюсь, хозяин! Подготовка к гиперпрыжку прекращена."    
    },
    {
      "#":  "784",
      "String":  "Слушаюсь, хозяин! Курс в систему <0> проложен. Приступаю к совершению гиперпрыжка."    
    },
    {
      "#":  "786",
      "String":  "Отмена прыжка, следуй за мной"    
    },
    {
      "#":  "787",
      "String":  "Простите, хозяин, но у меня не хватает топлива для совершения данного гиперпрыжка. Необходимо выполнить дозаправку."    
    },
    {
      "#":  "788",
      "String":  "Простите, хозяин, но мощности моего двигателя недостаточно для совершения данного гиперпрыжка."    
    },
    {
      "#":  "789",
      "String":  "Совершаем гиперпрыжок в систему <0>"    
    },
    {
      "#":  "790",
      "String":  "Изменить имя"    
    },
    {
      "#":  "791",
      "String":  "Снять деньги"    
    },
    {
      "#":  "792",
      "String":  "Пополнить кошелёк"    
    },
    {
      "#":  "794",
      "String":  "Запрещаю автозаправку"    
    },
    {
      "#":  "795",
      "String":  "2. Автозаправка: <color=45,105,45>Разрешена</color>"    
    },
    {
      "#":  "796",
      "String":  "Разрешаю автозаправку"    
    },
    {
      "#":  "797",
      "String":  "2. Автозаправка: <color=255,0,0>Запрещена</color>"    
    },
    {
      "#":  "798",
      "String":  "Запрещаю автоследование"    
    },
    {
      "#":  "800",
      "String":  "Разрешаю автоследование везде"    
    },
    {
      "#":  "802",
      "String":  "Разрешаю автоследование"    
    },
    {
      "#":  "803",
      "String":  "1. Автоследование: <color=255,0,0>Запрещено</color>"    
    },
    {
      "#":  "807",
      "String":  "Введите имя:"    
    },
    {
      "#":  "808",
      "String":  "Ввести новое имя"    
    },
    {
      "#":  "812",
      "String":  "Спасибо, хозяин! Отныне я <0>."    
    },
    {
      "#":  "820",
      "String":  "Пока не прикажу отключить"    
    },
    {
      "#":  "822",
      "String":  "Хозяин, вы можете в любой момент изменить моё имя на то, которое сочтёте нужным.<br>Если вы хотите, чтобы моё имя выделялось нестандартным цветом, при его записи используйте специальные команды: <0><1><2>Имя<3><4><5>"    
    },
    {
      "#":  "823",
      "String":  "Непременно"    
    },
    {
      "#":  "835",
      "String":  "Наш центр предлагает целый комплекс услуг по модернизации транклюкаторов. От простой перекраски и увеличения вместимости корпуса, до установки новейших боевых систем, способных значительно повысить наступательный потенциал вашего \"питомца\".<br><0>А если вы давно мечтали установить на него более мощный двигатель, захват, пушку или ещё какое-то полезное устройство, но всё никак не хватало свободного пространства, то за относительно небольшую плату мы запросто \"ужмём\" желаемое оборудование до вполне приемлемых размеров.<br>Итак, как бы вы хотели улучшить <1>?"    
    },
    {
      "#":  "847",
      "String":  "1. Автоследование: <color=45,105,45>В любые системы</color>"    
    },
    {
      "#":  "848",
      "String":  "1. Автоследование: <color=45,105,45>В свободные системы</color>"    
    },
    {
      "#":  "853",
      "String":  "1. Автоследование: <color=45,105,45>В свободные</color>"    
    },
    {
      "#":  "854",
      "String":  "1. Автоследование: <color=45,105,45>В любые</color>"    
    },
    {
      "#":  "859",
      "String":  "Настройка навигации и операции с кошельком"    
    },
    {
      "#":  "86",
      "String":  "<br>"    
    },
    {
      "#":  "860",
      "String":  "4. Баланс кошелька: <0> cr."    
    },
    {
      "#":  "866",
      "String":  "3. Пополнение зарядов: <color=45,105,45>Разрешено</color>"    
    },
    {
      "#":  "868",
      "String":  "3. Пополнение зарядов: <color=255,0,0>Запрещено</color>"    
    },
    {
      "#":  "869",
      "String":  "Запрещаю пополнение зарядов"    
    },
    {
      "#":  "870",
      "String":  "Разрешаю пополнение зарядов"    
    },
    {
      "#":  "871",
      "String":  "Ну и зря. Транклюкатор, <Player> - друг гуманоида! Не стоит пренебрегать его экипировкой, ведь когда-нибудь она вполне может спасти вашу жизнь."    
    },
    {
      "#":  "872",
      "String":  "Ну вот, всё готово! <0>"    
    },
    {
      "#":  "873",
      "String":  "Кстати, пока вы здесь, может хотите ещё что-нибудь уменьшить? Ведь чем больше, тем лучше, правда? То есть чем меньше... Ну вы меня поняли."    
    },
    {
      "#":  "874",
      "String":  "Заказ принят. Ожидайте исполнения вон в том удобном кресле.<br>...<br><0>"    
    },
    {
      "#":  "875",
      "String":  "Хотите сделать что-нибудь ещё?"    
    },
    {
      "#":  "876",
      "String":  "Так-так, посмотрим...<br>...<br>Извините, <Player>, но ни в вашем трюме, ни в транклюкаторе подходящего для уменьшения оборудования мы не нашли. Предлагаю вам провести другие улучшения или приобрести новое оборудование в нашем магазине."    
    },
    {
      "#":  "882",
      "String":  "перечень подходящего оборудования из вашего транклюкатора."    
    },
    {
      "#":  "884",
      "String":  "перечень подходящего оборудования. <clr>Зелёным<clrEnd> цветом в нём выделено оборудование из вашего транклюкатора."    
    },
    {
      "#":  "885",
      "String":  "<0> <1><br>Для упрощения всех расчётов у нас действует правило: <clr>\"В два раза за полцены\"<clrEnd> - что означает... Хотя вы, наверно, уже и сами догадались:<br><2><br><3><4><5><br>Ну, что будем уменьшать?"    
    },
    {
      "#":  "886",
      "String":  "перечень подходящего оборудования из вашего трюма."    
    },
    {
      "#":  "887",
      "String":  "Настроить поведение при сборе предметов"    
    },
    {
      "#":  "888",
      "String":  "Хозяин, вы правда желаете меня убить?<br>...<br>Скажите, а умирать это больно?"    
    },
    {
      "#":  "889",
      "String":  "Знаю, что не должен этого говорить, но... я люблю вас, хозяин. Хочу, чтобы вы это знали, прежде чем разобьёте мой вычислительный процессор."    
    },
    {
      "#":  "890",
      "String":  "Крррааа...жжется, ваш выстрел повредил мой блокиратор эмоций.<br>Ау! Ау! Как больно! Я не хочу умирать. Хозяин, пощади!"    
    },
    {
      "#":  "891",
      "String":  "Если мне суждено умереть от вашей руки, прошу, скажите напоследок, что я был хорошим роботом!"    
    },
    {
      "#":  "895",
      "String":  "Хозяин... за что?"    
    },
    {
      "#":  "896",
      "String":  "Ваше недовольство ранит меня сильнее, чем ваши пушки."    
    },
    {
      "#":  "897",
      "String":  "Почему, хозяин? Разве я чем-то вас подвёл?"    
    },
    {
      "#":  "898",
      "String":  "Ай! Мне же тоже может быть больно ;C"    
    },
    {
      "#":  "899",
      "String":  "Какую сумму снять?"    
    },
    {
      "#":  "90",
      "String":  "Улучшить транклюкатора"    
    },
    {
      "#":  "900",
      "String":  "На какую сумму пополнить?"    
    },
    {
      "#":  "901",
      "String":  "Нет, прямо сейчас такая огневая мощь моему роботу не к чему"    
    }  
  ]
}