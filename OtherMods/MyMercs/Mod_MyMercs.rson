{
  "FileID":  573785173,
  "FileVersion":  8,
  "ViewPos.x":  -1590,
  "ViewPos.y":  -84,
  "ScriptName":  "Mod_ShuMercsHQ",
  "ScriptFileOut":  "H:\\Mod_ShuMercsHQ.scr",
  "ScriptTextOut":  "H:\\Mod_ShuMercsHQ.txt",
  "GraphPoint.Count":  1130,
  "GraphLink.Count":  1043,
  "GraphRectText.Count":  2,
  "Variables.Count":  71,
  "Stars.Count":  1,
  "Planets.Count":  2,
  "Ships.Count":  1,
  "States.Count":  36,
  "Groups.Count":  15,
  "Places.Count":  6,
  "Items.Count":  4,
  "Ethers.Count":  0,
  "Dialogs.Count":  54,
  "DialogMessages.Count":  114,
  "DialogAnswers.Count":  216,
  "Operations.Count":  297,
  "Statements.Count":  313,
  "Loops.Count":  0,
  "Visual.Objects":  
  [
    {
      "DialogAnswers":      
      [
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  22,
          "#":  27,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  29,
          "#":  30,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  32,
          "#":  33,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  38,
          "#":  36,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  37,
          "#":  39,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  51,
          "#":  52,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -30,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  59,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  68,
          "#":  69,
          "Msg":  "",
          "AMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  71,
          "#":  79,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  72,
          "#":  80,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  73,
          "#":  81,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  74,
          "#":  82,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  75,
          "#":  83,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  76,
          "#":  84,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  77,
          "#":  85,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  78,
          "#":  86,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  95,
          "#":  96,
          "Msg":  "<tstr6>",
          "AMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -90,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  101,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  102,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "18"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -20,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  103,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "19"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  -40,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  105,
          "Msg":  "",
          "AMsg.Num":  "20"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  -70,
          "Pos.y":  80,
          "Parent":  -1,
          "#":  110,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "21"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "planet",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  114,
          "#":  115,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "22"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  116,
          "#":  117,
          "Msg":  "",
          "AMsg.Num":  "23"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  118,
          "#":  119,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "24"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  120,
          "#":  121,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "25"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  -430,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  128,
          "Msg":  "",
          "AMsg.Num":  "26"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -130,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  131,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "27"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -110,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  132,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "28"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -180,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  138,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "29"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  -150,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  144,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "30"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  51,
          "#":  145,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "31"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -320,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  148,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "32"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -430,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  160,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "33"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -410,
          "Pos.y":  10,
          "Parent":  -1,
          "#":  162,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "34"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -350,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  168,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "35"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  -120,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  173,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "36"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  177,
          "#":  178,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "37"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  179,
          "#":  180,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "38"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  197,
          "#":  190,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "39"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  184,
          "#":  191,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "40"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  185,
          "#":  192,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "41"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  186,
          "#":  193,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "42"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  195,
          "#":  196,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "43"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  199,
          "#":  200,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "44"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  207,
          "#":  210,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "45"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  208,
          "#":  211,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "46"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  209,
          "#":  212,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "47"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  214,
          "#":  215,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "48"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  219,
          "#":  220,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "49"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  225,
          "#":  226,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "50"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  253,
          "#":  256,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "51"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  254,
          "#":  257,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "52"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  255,
          "#":  258,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "53"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  272,
          "#":  270,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "54"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  273,
          "#":  271,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "55"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  275,
          "#":  276,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "56"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  277,
          "#":  279,
          "Msg":  "",
          "AMsg.Num":  "57"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  283,
          "#":  284,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "58"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  282,
          "#":  285,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "59"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  290,
          "#":  291,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "60"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  296,
          "#":  297,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "61"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  295,
          "#":  298,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "62"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  310,
          "#":  311,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "63"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  309,
          "#":  312,
          "Msg":  "<tstr1>",
          "AMsg.Num":  "64"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  313,
          "#":  315,
          "Msg":  "<tstr1>",
          "AMsg.Num":  "65"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  318,
          "#":  320,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "66"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  319,
          "#":  321,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "67"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  333,
          "#":  336,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "68"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  334,
          "#":  337,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "69"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  343,
          "#":  344,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "70"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  346,
          "#":  348,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "71"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  347,
          "#":  349,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "72"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  351,
          "#":  352,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "73"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  355,
          "#":  356,
          "Msg":  "<tstr6>",
          "AMsg.Num":  "74"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  392,
          "#":  393,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "75"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  419,
          "#":  416,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "76"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  420,
          "#":  417,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "77"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  421,
          "#":  418,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "78"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  424,
          "#":  423,
          "Msg":  "",
          "AMsg.Num":  "79"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  494,
          "#":  497,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "80"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  498,
          "#":  499,
          "Msg":  "",
          "AMsg.Num":  "81"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  505,
          "#":  507,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "82"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  506,
          "#":  508,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "83"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  509,
          "#":  510,
          "Msg":  "<tstr7>",
          "AMsg.Num":  "84"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  521,
          "#":  522,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "85"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  520,
          "#":  523,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "86"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  519,
          "#":  524,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "87"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  518,
          "#":  525,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "88"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  517,
          "#":  526,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "89"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  532,
          "#":  533,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "90"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  536,
          "#":  537,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "91"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  542,
          "#":  543,
          "Msg":  "<tstr6>",
          "AMsg.Num":  "92"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  547,
          "#":  548,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "93"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  594,
          "#":  549,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "94"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  593,
          "#":  550,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "95"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  551,
          "#":  555,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "96"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  552,
          "#":  556,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "97"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  553,
          "#":  557,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "98"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  554,
          "#":  558,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "99"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  559,
          "#":  560,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "100"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  568,
          "#":  570,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "101"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  569,
          "#":  571,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "102"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  579,
          "#":  580,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "103"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  586,
          "#":  587,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "104"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  595,
          "#":  596,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "105"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  599,
          "#":  603,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "106"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  608,
          "#":  609,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "107"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  619,
          "#":  614,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "108"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  618,
          "#":  615,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "109"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  617,
          "#":  616,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "110"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  624,
          "#":  626,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "111"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  625,
          "#":  627,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "112"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  632,
          "#":  633,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "113"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  637,
          "#":  636,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "114"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  638,
          "#":  639,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "115"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  640,
          "#":  641,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "116"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  643,
          "#":  645,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "117"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  656,
          "#":  646,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "118"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  647,
          "#":  650,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "119"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  648,
          "#":  651,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "120"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  649,
          "#":  652,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "121"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  658,
          "#":  659,
          "Msg":  "",
          "AMsg.Num":  "122"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  664,
          "#":  672,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "123"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  673,
          "#":  674,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "124"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  678,
          "#":  679,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "125"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  689,
          "#":  690,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "126"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  693,
          "#":  694,
          "Msg":  "<tstr7>",
          "AMsg.Num":  "127"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  699,
          "#":  700,
          "Msg":  "<tstr6>",
          "AMsg.Num":  "128"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  707,
          "#":  708,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "129"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  713,
          "#":  714,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "130"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  719,
          "#":  720,
          "Msg":  "<tstr6>",
          "AMsg.Num":  "131"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  727,
          "#":  729,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "132"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  728,
          "#":  730,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "133"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  732,
          "#":  734,
          "Msg":  "",
          "AMsg.Num":  "134"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  740,
          "#":  741,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "135"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  742,
          "#":  743,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "136"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  747,
          "#":  754,
          "Msg":  "<tstr1>",
          "AMsg.Num":  "137"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  752,
          "#":  755,
          "Msg":  "<tstr1>",
          "AMsg.Num":  "138"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  753,
          "#":  756,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "139"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  748,
          "#":  757,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "140"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  749,
          "#":  758,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "141"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  751,
          "#":  759,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "142"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  776,
          "#":  760,
          "Msg":  "",
          "AMsg.Num":  "143"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  768,
          "#":  764,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "144"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  767,
          "#":  769,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "145"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  766,
          "#":  777,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "146"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  781,
          "#":  782,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "147"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  788,
          "#":  789,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "148"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  793,
          "#":  794,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "149"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  792,
          "#":  795,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "150"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  799,
          "#":  800,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "151"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  801,
          "#":  802,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "152"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  805,
          "#":  807,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "153"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  806,
          "#":  808,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "154"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  815,
          "#":  817,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "155"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  816,
          "#":  818,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "156"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  824,
          "#":  825,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "157"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  826,
          "#":  827,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "158"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  840,
          "#":  841,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "159"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  848,
          "#":  849,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "160"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  864,
          "#":  866,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "161"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  865,
          "#":  867,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "162"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  870,
          "#":  871,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "163"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  872,
          "#":  873,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "164"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  874,
          "#":  875,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "165"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  876,
          "#":  878,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "166"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  880,
          "#":  882,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "167"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  881,
          "#":  883,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "168"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  891,
          "#":  892,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "169"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  893,
          "#":  894,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "170"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  861,
          "#":  899,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "171"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  905,
          "#":  903,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "172"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  904,
          "#":  906,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "173"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "fastexit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  909,
          "#":  910,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "174"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  915,
          "#":  916,
          "Msg":  "",
          "AMsg.Num":  "175"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  922,
          "#":  919,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "176"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  923,
          "#":  921,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "177"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  924,
          "#":  925,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "178"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -80,
          "Parent":  927,
          "#":  930,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "179"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  682,
          "#":  934,
          "Msg":  "",
          "AMsg.Num":  "180"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  940,
          "#":  943,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "181"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  941,
          "#":  944,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "182"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  942,
          "#":  945,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "183"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  951,
          "#":  952,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "184"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  953,
          "#":  955,
          "Msg":  "<tstr5>",
          "AMsg.Num":  "185"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  948,
          "#":  957,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "186"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  965,
          "#":  963,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "187"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  966,
          "#":  964,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "188"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1056,
          "#":  971,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "189"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  975,
          "#":  976,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "190"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  980,
          "#":  982,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "191"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  981,
          "#":  983,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "192"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  984,
          "#":  985,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "193"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  986,
          "#":  987,
          "Msg":  "",
          "AMsg.Num":  "194"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  997,
          "#":  998,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "195"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  996,
          "#":  999,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "196"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1005,
          "#":  1007,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "197"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1006,
          "#":  1008,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "198"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1014,
          "#":  1016,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "199"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1015,
          "#":  1017,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "200"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1021,
          "#":  1022,
          "Msg":  "<tstr4>",
          "AMsg.Num":  "201"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "continue",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1030,
          "#":  1031,
          "Msg":  "",
          "AMsg.Num":  "202"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1039,
          "#":  1043,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "203"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  1039,
          "#":  1044,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "204"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1048,
          "#":  1049,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "205"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "block",
          "Pos.x":  -1580,
          "Pos.y":  330,
          "Parent":  -1,
          "#":  1054,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "206"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "continue",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1057,
          "#":  1058,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "207"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1090,
          "#":  1091,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "208"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1097,
          "#":  1098,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "209"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  1101,
          "#":  1103,
          "Msg":  "<tstr2>",
          "AMsg.Num":  "210"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  1102,
          "#":  1104,
          "Msg":  "<tstr3>",
          "AMsg.Num":  "211"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1113,
          "#":  1114,
          "Msg":  "<tstr1>",
          "AMsg.Num":  "212"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1117,
          "#":  1118,
          "Msg":  "",
          "AMsg.Num":  "213"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -1040,
          "Pos.y":  -90,
          "Parent":  -1,
          "#":  1121,
          "Msg":  "<tstr8>",
          "AMsg.Num":  "214"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  -850,
          "Pos.y":  -80,
          "Parent":  -1,
          "#":  1128,
          "Msg":  "<tstr8>",
          "AMsg.Num":  "215"        
        }      
      ],
      "DialogMessages":      
      [
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  20,
          "#":  22,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  28,
          "#":  29,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  31,
          "#":  32,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  34,
          "#":  35,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  50,
          "#":  51,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  53,
          "#":  54,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  57,
          "#":  58,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  67,
          "#":  68,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  100,
          "Pos.y":  0,
          "Parent":  65,
          "#":  89,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -90,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  100,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  104,
          "Msg":  "<tstr4>",
          "DMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  50,
          "Parent":  93,
          "#":  112,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  50,
          "Parent":  92,
          "#":  113,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -430,
          "Pos.y":  -110,
          "Parent":  -1,
          "#":  127,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  135,
          "#":  137,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -320,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  149,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -430,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  159,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -350,
          "Pos.y":  -110,
          "Parent":  -1,
          "#":  167,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -150,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  172,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "18"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  175,
          "#":  176,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "19"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  181,
          "#":  183,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "20"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  194,
          "#":  195,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "21"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  198,
          "#":  197,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "22"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  205,
          "#":  206,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "23"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  213,
          "#":  214,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "24"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  221,
          "#":  219,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "25"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  0,
          "Parent":  224,
          "#":  225,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "26"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  251,
          "#":  252,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "27"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  268,
          "#":  269,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "28"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  274,
          "#":  277,
          "Msg":  "<tstr4>",
          "DMsg.Num":  "29"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  280,
          "#":  278,
          "Msg":  "<tstr5>",
          "DMsg.Num":  "30"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  266,
          "#":  281,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "31"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  285,
          "#":  286,
          "Msg":  "<tstr5>",
          "DMsg.Num":  "32"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  289,
          "#":  290,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "33"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  293,
          "#":  294,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "34"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  308,
          "#":  314,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "35"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  316,
          "#":  317,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "36"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  330,
          "#":  331,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "37"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  336,
          "#":  338,
          "Msg":  "<tstr7>",
          "DMsg.Num":  "38"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  341,
          "#":  342,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "39"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  345,
          "#":  351,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "40"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  391,
          "#":  392,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "41"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  407,
          "#":  408,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "42"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  409,
          "#":  415,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "43"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  425,
          "#":  424,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "44"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  493,
          "#":  494,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "45"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  501,
          "#":  498,
          "Msg":  "<tstr3>",
          "DMsg.Num":  "46"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  503,
          "#":  504,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "47"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  515,
          "#":  516,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "48"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  540,
          "#":  541,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "49"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  545,
          "#":  546,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "50"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  561,
          "#":  565,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "51"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  563,
          "#":  566,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "52"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  564,
          "#":  567,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "53"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  527,
          "#":  586,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "54"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  597,
          "#":  598,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "55"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  606,
          "#":  607,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "56"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  611,
          "#":  628,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "57"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  630,
          "#":  631,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "58"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  662,
          "#":  642,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "59"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  657,
          "#":  658,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "60"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  671,
          "#":  663,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "61"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  676,
          "#":  677,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "62"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  920,
          "#":  681,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "63"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  688,
          "#":  689,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "64"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  562,
          "#":  695,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "65"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  725,
          "#":  726,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "66"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  733,
          "#":  732,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "67"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  738,
          "#":  740,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "68"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  741,
          "#":  742,
          "Msg":  "<tstr3>",
          "DMsg.Num":  "69"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  743,
          "#":  744,
          "Msg":  "<tstr5>",
          "DMsg.Num":  "70"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  739,
          "#":  746,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "71"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  763,
          "#":  765,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "72"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  770,
          "#":  771,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "73"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  759,
          "#":  776,
          "Msg":  "",
          "DMsg.Num":  "74"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  777,
          "#":  778,
          "Msg":  "<tstr4>",
          "DMsg.Num":  "75"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  780,
          "#":  781,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "76"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  786,
          "#":  785,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "77"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  790,
          "#":  791,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "78"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  357,
          "#":  799,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "79"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  804,
          "#":  803,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "80"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  813,
          "#":  814,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "81"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  823,
          "#":  824,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "82"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  819,
          "#":  826,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "83"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  839,
          "#":  840,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "84"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  847,
          "#":  848,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "85"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  852,
          "#":  855,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "86"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  868,
          "#":  872,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "87"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  895,
          "#":  876,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "88"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  877,
          "#":  879,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "89"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  890,
          "#":  891,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "90"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  901,
          "#":  902,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "91"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  20,
          "Parent":  908,
          "#":  909,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "92"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  913,
          "#":  914,
          "Msg":  "",
          "DMsg.Num":  "93"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  680,
          "#":  918,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "94"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  919,
          "#":  926,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "95"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  946,
          "#":  948,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "96"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  947,
          "#":  949,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "97"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  939,
          "#":  950,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "98"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  1059,
          "#":  970,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "99"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  978,
          "#":  979,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "100"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  977,
          "#":  986,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "101"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  969,
          "#":  995,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "102"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1004,
          "#":  1011,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "103"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  961,
          "#":  1012,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "104"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1023,
          "#":  1028,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "105"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1018,
          "#":  1030,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "106"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  1041,
          "#":  1039,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "107"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1089,
          "#":  1090,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "108"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  1099,
          "#":  1100,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "109"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1110,
          "#":  1111,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "110"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  1114,
          "#":  1119,
          "Msg":  "<tstr2>",
          "DMsg.Num":  "111"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  -1040,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  1123,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "112"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1126,
          "#":  1127,
          "Msg":  "<tstr1>",
          "DMsg.Num":  "113"        
        }      
      ],
      "Dialogs":      
      [
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogMB",
          "Pos.x":  130,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  21        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogBridge",
          "Pos.x":  -50,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  45        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogBridge_Choosed",
          "Pos.x":  -50,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  56        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogPlanet",
          "Pos.x":  -320,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  63        
        },
        {
          "Type":  "TDialog",
          "Name":  "OutOfPrison",
          "Pos.x":  -430,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  125        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogDeliver",
          "Pos.x":  -190,
          "Pos.y":  -150,
          "Parent":  -1,
          "#":  170        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogWB/Dom",
          "Pos.x":  -600,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  174        
        },
        {
          "Type":  "TDialog",
          "Name":  "BuildOwnBase_Name",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  211,
          "#":  217        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogRC/PB",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  174,
          "#":  223        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseRenameDialogMB",
          "Pos.x":  320,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  250        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerMercsDialog",
          "Pos.x":  -940,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  265        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerMercsMoneyCall",
          "Pos.x":  -940,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  267        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerMercsLeaving",
          "Pos.x":  -1120,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  288        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerMercsAttack",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  286,
          "#":  292        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQBridgeDialog",
          "Pos.x":  -1280,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  307        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerMercsStrikeGroup",
          "Pos.x":  -1120,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  329        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerStrikeAttack",
          "Pos.x":  0,
          "Pos.y":  110,
          "Parent":  329,
          "#":  340        
        },
        {
          "Type":  "TDialog",
          "Name":  "QuestHQShipDialog",
          "Pos.x":  -1210,
          "Pos.y":  1040,
          "Parent":  -1,
          "#":  390        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQQuestsDialog",
          "Pos.x":  -1260,
          "Pos.y":  790,
          "Parent":  -1,
          "#":  406        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQQuestChoose",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  426,
          "#":  427        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQIntroDialog",
          "Pos.x":  -1280,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  492        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQMercsDialog",
          "Pos.x":  -1440,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  502        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQFinanceDialog",
          "Pos.x":  -1440,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  514        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQStrikeDialog",
          "Pos.x":  -1470,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  539        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQScienceDialog",
          "Pos.x":  -1760,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  544        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQStrikeFire",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  576,
          "#":  577        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQStrikeHire",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  579,
          "#":  578        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQScienceSpeedUp",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  599,
          "#":  600        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQScienceReliabilityImprove",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  608,
          "#":  610        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQMedicineDialog",
          "Pos.x":  -1950,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  629        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQMedicineTreat",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  664,
          "#":  665        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQShipyardDialog",
          "Pos.x":  -1970,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  670        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQArmoryDialog",
          "Pos.x":  -1780,
          "Pos.y":  -180,
          "Parent":  -1,
          "#":  675        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQImproveDialog",
          "Pos.x":  -1780,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  686        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQStrikeRefit",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  696,
          "#":  697        
        },
        {
          "Type":  "TDialog",
          "Name":  "GluonGunsQuestDialog1",
          "Pos.x":  -1590,
          "Pos.y":  680,
          "Parent":  -1,
          "#":  724        
        },
        {
          "Type":  "TDialog",
          "Name":  "GluonGunsQuestDialog2",
          "Pos.x":  -1420,
          "Pos.y":  680,
          "Parent":  -1,
          "#":  735        
        },
        {
          "Type":  "TDialog",
          "Name":  "GluonGunsQuestDialog3",
          "Pos.x":  -1260,
          "Pos.y":  680,
          "Parent":  -1,
          "#":  779        
        },
        {
          "Type":  "TDialog",
          "Name":  "OwnBaseDialogLock",
          "Pos.x":  40,
          "Pos.y":  100,
          "Parent":  89,
          "#":  784        
        },
        {
          "Type":  "TDialog",
          "Name":  "TziptzilotBeginQuestDialogs",
          "Pos.x":  90,
          "Pos.y":  260,
          "Parent":  -1,
          "#":  811        
        },
        {
          "Type":  "TDialog",
          "Name":  "TziptzilotsKeyDialog",
          "Pos.x":  340,
          "Pos.y":  0,
          "Parent":  811,
          "#":  846        
        },
        {
          "Type":  "TDialog",
          "Name":  "TrancsBeginQuestDialog",
          "Pos.x":  180,
          "Pos.y":  0,
          "Parent":  811,
          "#":  851        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerDialog",
          "Pos.x":  340,
          "Pos.y":  130,
          "Parent":  811,
          "#":  912        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQShipyardProjectsList",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  927,
          "#":  928        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQPortalGeneratorDialog",
          "Pos.x":  -1280,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  938        
        },
        {
          "Type":  "TDialog",
          "Name":  "PortalGeneratorShortJump",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  948,
          "#":  959        
        },
        {
          "Type":  "TDialog",
          "Name":  "PortalGeneratorLongJump",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  992,
          "#":  960        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQInHyper",
          "Pos.x":  130,
          "Pos.y":  60,
          "Parent":  938,
          "#":  972        
        },
        {
          "Type":  "TDialog",
          "Name":  "PlayerHQLongJumpCancel",
          "Pos.x":  190,
          "Pos.y":  90,
          "Parent":  938,
          "#":  988        
        },
        {
          "Type":  "TDialog",
          "Name":  "PortalGeneratorBuild",
          "Pos.x":  20,
          "Pos.y":  -20,
          "Parent":  1029,
          "#":  1024        
        },
        {
          "Type":  "TDialog",
          "Name":  "MercCruiserDialog",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1037,
          "#":  1038        
        },
        {
          "Type":  "TDialog",
          "Name":  "QuestHQRuinDialog",
          "Pos.x":  -1350,
          "Pos.y":  1040,
          "Parent":  -1,
          "#":  1088        
        },
        {
          "Type":  "TDialog",
          "Name":  "HandOverEscapePod",
          "Pos.x":  -1280,
          "Pos.y":  -370,
          "Parent":  -1,
          "#":  1109        
        },
        {
          "Type":  "TDialog",
          "Name":  "EscapePodOff",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  1109,
          "#":  1115        
        }      
      ],
      "Groups":      
      [
        {
          "Type":  "TGroup",
          "Name":  "PlayerGroup",
          "Pos.x":  0,
          "Pos.y":  -30,
          "Parent":  1,
          "#":  9,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  1,
          "CntShipMax":  1,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  true,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlanetQuestsShips",
          "Pos.x":  -80,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  151,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlayerHQ",
          "Pos.x":  -670,
          "Pos.y":  610,
          "Parent":  -1,
          "#":  227,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlayerMercsFree",
          "Pos.x":  -670,
          "Pos.y":  120,
          "Parent":  -1,
          "#":  229,
          "Owner":  894,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlayerMercsDefenders",
          "Pos.x":  -670,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  262,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlayerMercsStrike",
          "Pos.x":  -670,
          "Pos.y":  400,
          "Parent":  -1,
          "#":  304,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "QuestTarget",
          "Pos.x":  -670,
          "Pos.y":  680,
          "Parent":  -1,
          "#":  361,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "QuestMercs",
          "Pos.x":  -670,
          "Pos.y":  740,
          "Parent":  -1,
          "#":  362,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "RandomAttackers",
          "Pos.x":  -670,
          "Pos.y":  550,
          "Parent":  -1,
          "#":  368,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "QuestAttackers",
          "Pos.x":  -670,
          "Pos.y":  920,
          "Parent":  -1,
          "#":  379,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "QuestSupport",
          "Pos.x":  -670,
          "Pos.y":  860,
          "Parent":  -1,
          "#":  382,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "PlayerOrgTrancs",
          "Pos.x":  -670,
          "Pos.y":  580,
          "Parent":  -1,
          "#":  683,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "BlasterTziptzilot",
          "Pos.x":  -80,
          "Pos.y":  260,
          "Parent":  -1,
          "#":  829,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "TrancsCollectors",
          "Pos.x":  -80,
          "Pos.y":  340,
          "Parent":  -1,
          "#":  856,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        },
        {
          "Type":  "TGroup",
          "Name":  "CruisersDefenders",
          "Pos.x":  -670,
          "Pos.y":  340,
          "Parent":  -1,
          "#":  1033,
          "Owner":  62,
          "Group.Type":  126,
          "CntShipMin":  0,
          "CntShipMax":  0,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  false,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Items":      
      [
        {
          "Type":  "TItem",
          "Name":  "ApprovalDocuments",
          "Pos.x":  130,
          "Pos.y":  -260,
          "Parent":  -1,
          "#":  46,
          "Class":  5,
          "Item.Type":  0,
          "Size":  10,
          "Level":  1,
          "Radius":  150,
          "Owner":  6,
          "Useless":  ""        
        },
        {
          "Type":  "TItem",
          "Name":  "QuestItem",
          "Pos.x":  -1060,
          "Pos.y":  610,
          "Parent":  -1,
          "#":  385,
          "Class":  5,
          "Item.Type":  0,
          "Size":  10,
          "Level":  1,
          "Radius":  150,
          "Owner":  6,
          "Useless":  ""        
        },
        {
          "Type":  "TItem",
          "Name":  "HoloTablet",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  830,
          "#":  828,
          "Class":  5,
          "Item.Type":  0,
          "Size":  10,
          "Level":  1,
          "Radius":  150,
          "Owner":  6,
          "Useless":  ""        
        },
        {
          "Type":  "TItem",
          "Name":  "TziptzilotsKey",
          "Pos.x":  110,
          "Pos.y":  20,
          "Parent":  830,
          "#":  845,
          "Class":  5,
          "Item.Type":  0,
          "Size":  10,
          "Level":  1,
          "Radius":  150,
          "Owner":  6,
          "Useless":  ""        
        }      
      ],
      "Operations":      
      [
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -520,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  3,
          "Total.Lines":  1,
          "Code.Type":  "Global",
          "Code":          
          [
              "GRun();"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  3,
          "#":  4,
          "Total.Lines":  1472,
          "Code.Type":  "Init",
          "Code":          
          [
              "//     ",
              "GTL = GalaxyTechLevel();",
              "",
              "//         ",
              "for(i = 0; i < GalaxyStars(); i = i + 1)",
              "{",
              "    cur_star = GalaxyStar(i);",
              "    if(StarRuins(cur_star, 'SB')) TotalSBCount = TotalSBCount + 1;",
              "    else if(StarRuins(cur_star, 'WB')) TotalWBCount = TotalWBCount + 1;",
              "    else if(StarRuins(cur_star, 'CB')) TotalCBCount = TotalCBCount + 1;",
              "}",
              "",
              "//  ",
              "InventShuMercsHQCustomGuns();",
              "//      ",
              "function InventShuMercsHQCustomGuns()",
              "{",
              "    for(int i = 1; i <= CT('Items.Weapon.CustomWeapon.ShuMercsHQ.Count'); i = i + 1)",
              "    {",
              "        //         Lang",
              "        str gun_type = CT('Items.Weapon.CustomWeapon.ShuMercsHQ.' + i);",
              "        str path = 'Items.Weapon.CustomWeapon.';",
              "        // /         ",
              "        dword gun = InventNewCustomWeapon(gun_type, t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(path + gun_type + '.BaseGun')));",
              "        //  ",
              "        SetCustomWeaponShotData(gun, CT(path + gun_type + '.ShotType'), CT(path + gun_type + '.Speed'), CT(path + gun_type + '.AverageRadius'), CT(path + gun_type + '.SecondaryDamageRadius'), CT(path + gun_type + '.MiningFactor'), CT(path + gun_type + '.ShotsPerTurn'));",
              "        SetCustomWeaponDamageData(gun, CT(path + gun_type + '.MinDamage'), CT(path + gun_type + '.MaxDamage'), CT(path + gun_type + '.DamageSet'), CT(path + gun_type + '.mWeaponDamage'));",
              "        SetCustomMissileWeaponStats(gun, CT(path + gun_type + '.MissileRadius'), CT(path + gun_type + '.MissileMaxSpeed'), CT(path + gun_type + '.MissileMinSpeed'), CT(path + gun_type + '.MissileChanceToBeHit'));",
              "        SetCustomWeaponPrimaryData(gun, CT(path + gun_type + '.TechLevel'), t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(path + gun_type + '.InventTechLevel')), t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(path + gun_type + '.ArcadeType')));",
              "        SetCustomWeaponSizeAndCost(gun, CT(path + gun_type + '.kCost'), CT(path + gun_type + '.AverageSize'));",
              "        SetCustomWeaponAvailability(gun, CT(path + gun_type + '.StoreAvailability'));",
              "        SetCustomWeaponSE(gun, CT(path + gun_type + '.ShotEffectPath'), CT(path + gun_type + '.SplashEffectPath'), CT(path + gun_type + '.MissileExplosionEffectPath'), CT(path + gun_type + '.ShotEffectPalette'));",
              "    }",
              "",
              "    CustomGunsUpdateCheck = CT('Items.Weapon.CustomWeapon.StatsVersion.ShuMercsHQ');",
              "}",
              "",
              "//,        ,     ",
              "function FreeAllHoldEquipment(ship)",
              "{",
              "    for(int i = ShipItems(ship) - 1; i > 0; i = i - 1)",
              "    {",
              "        dword item = ShipItems(ship, i);",
              "        if(ItemIsInUse(item)) continue;",
              "        if(ItemType(item) < t_FuelTanks) continue;",
              "        if(ItemType(item) > t_CustomWeapon) continue;",
              "        if(ItemInScript(item) == 1) continue;",
              "        FreeItem(GetItemFromShip(ship, i));",
              "    }",
              "}",
              "",
              "function AddNumSeparators(int number)",
              "{",
              "    str number_str = number;",
              "    if(number <= 999) number_str = number;",
              "    else if(number <= 9999) number_str = substr(number_str, 0, 1) + '.' + substr(number_str, 1);",
              "    else if(number <= 99999) number_str = substr(number_str, 0, 2) + '.' + substr(number_str, 2);",
              "    else if(number <= 999999) number_str = substr(number_str, 0, 3) + '.' + substr(number_str, 3);",
              "    else if(number <= 9999999) number_str = substr(number_str, 0, 1) + '.' + substr(number_str, 1, 3) + '.' + substr(number_str, 4);",
              "    else if(number <= 99999999) number_str = substr(number_str, 0, 2) + '.' + substr(number_str, 2, 3) + '.' + substr(number_str, 5);",
              "    else if(number <= 999999999) number_str = substr(number_str, 0, 3) + '.' + substr(number_str, 3, 3) + '.' + substr(number_str, 6);",
              "    else if(number <= 9999999999) number_str = substr(number_str, 0, 1) + '.' + substr(number_str, 1, 3) + '.' + substr(number_str, 4, 3) + '.' + substr(number_str, 7);",
              "    else if(number <= 99999999999) number_str = substr(number_str, 0, 2) + '.' + substr(number_str, 2, 3) + '.' + substr(number_str, 5, 3) + '.' + substr(number_str, 8);",
              "",
              "    result = number_str;",
              "}",
              "",
              "//   ",
              "function PlayerActCode() //t_OnLeavingForm, t_OnChameleonConfusion //t_OnTakingDamageEn,t_OnTakingDamageSp,t_OnTakingDamageMi",
              "{",
              "    //   t_OnStep",
              "    if(ScriptItemActionType(t_OnStep))",
              "    {",
              "        //     ",
              "        if(ActiveQuestHQ)",
              "        {",
              "            //      ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 3] == 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2')",
              "            {",
              "                //   2",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "                {",
              "                    //     ",
              "                    if(ActiveQuestsHQArray[ActiveQuestHQ, 2] == CurTurn())",
              "                    {",
              "                        //   ",
              "                        dword item = ScriptItemToItem(QuestItem);",
              "                        GetArtFromShip(GroupToShip(QuestSupport), item);",
              "                        FreeItem(item);",
              "",
              "                        //  target_star    ,                 ",
              "                        target_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "                        //      ,      ",
              "                        target_hole = HoleCreate2(target_star, target_star);",
              "                        HoleMap(target_hole, 'SkipAB');",
              "                        HoleTurnCreate(target_hole, CurTurn() + 100500);",
              "                        HoleX1(target_hole, QuestPlaceX);",
              "                        HoleX2(target_hole, QuestPlaceX);",
              "                        HoleY1(target_hole, QuestPlaceY);",
              "                        HoleY2(target_hole, QuestPlaceY);",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 10] = Id(target_hole);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //       ,  ,           ",
              "    else if(ScriptItemActionType(t_OnLeavingForm))",
              "    {",
              "        if(CurrentForm() == 'Talk')",
              "        {",
              "            dword player_star = ShipStar(Player());",
              "            for(int i = 0; i < StarShips(player_star); i = i + 1)",
              "            {",
              "                dword ship = StarShips(player_star, i);",
              "                if(ShipType(ship) != 'PlayerMerc') continue;",
              "",
              "                if(RelationToShip(ship, Player()) < 10)",
              "                {",
              "                    //  ,      ",
              "                    if(ShipGroup(ship) == PlayerMercsStrike) int strike = 1;",
              "                    //Dialog(ship, '');",
              "",
              "                    FreePlayerMerc(ship);",
              "                    if(strike)",
              "                    {",
              "                        if(!GroupCount(PlayerMercsStrike))",
              "                        {",
              "                            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "                            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //         ",
              "    else //if(ScriptItemActionType(t_OnChameleonConfusion))",
              "    {",
              "        if(!ScriptItemActParam()) exit;",
              "        if(substr(ShipType(ScriptItemActObject1()), 0, 10) == 'PlayerMerc') ScriptItemActParam(0);",
              "    }",
              "}",
              "",
              "function BlasterTziptzilotActCode()",
              "{",
              "    dword tziptzilot = ScriptItemActShip();",
              "    //               - ( - )",
              "    if(!BuildOwnBase_Condition)",
              "    {",
              "        if(!ShipInHyperSpace(tziptzilot)) BuildOwnBase_Condition = -1;",
              "    }",
              "}",
              "",
              "//        (    ,    )",
              "function ApprovalDocumentsTextUpdate(dword docs)",
              "{",
              "    //BuildOwnBase_InProcess == -2 -   ,   ;",
              "    //BuildOwnBase_InProcess == -1 -      ,      ;",
              "    //BuildOwnBase_InProcess == 0 -       ,      ;",
              "    //BuildOwnBase_InProcess == 1 -    ,   ;",
              "    //BuildOwnBase_InProcess == 2 -    ,  ,   ;",
              "    //BuildOwnBase_InProcess == 3 -    ,    ,    ;",
              "    //BuildOwnBase_InProcess == 5 -    ,    ,     ;",
              "    //BuildOwnBase_InProcess == 6 -  ;",
              "    //   :",
              "    //ScriptItemData1 ==   (/),    (   );",
              "    //ScriptItemTextData1 == Id ,   ;",
              "    //ScriptItemData2 ==  (0/1)  ,       ,   ,     ,  ,          ;",
              "    //ScriptItemTextData2 ==          '0,2,3,'... (    StarPlanets(star, N))",
              "    //ScriptItemData3 ==  ,     (   )",
              "    //ScriptItemTextData3 ==            '2,58,0,'...",
              "    //      ScriptItemTextData3:",
              "    //    0 -   ,  ;",
              "    //    1 -  ;",
              "    //    2 -  ,   ;",
              "    //    4 -  ;",
              "    //    8 -   ;",
              "    //   16 -   ;",
              "    //   32 -     (      );",
              "    //   64 -  ;",
              "",
              "    int total = 0;",
              "    //      ",
              "    if(ScriptItemTextData(docs, 1) == '')",
              "    {",
              "        UselessItemText(docs, CT('UselessItems.ShuMercsHQ_ApprovalDocuments.Text') + CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextSystemNo'));",
              "        exit;",
              "    }",
              "    //  ",
              "    else dword star = GalaxyStar(ScriptItemTextData(docs, 1));",
              "",
              "    //  ",
              "    if(BuildOwnBase_InProcess != 6)",
              "    {",
              "        str description = CT('UselessItems.ShuMercsHQ_ApprovalDocuments.Text') + \"<br>\";",
              "        description = description + Format(CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextSystemYes'), '<Star'+'>', Name(star)) + \"<br>\";",
              "    }",
              "    //  ",
              "    else",
              "    {",
              "        description = CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextRelocation') + \"<br>\";",
              "        description = description + Format(CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextSystemRelocation'), '<Star'+'>', Name(star)) + \"<br>\";",
              "    }",
              "",
              "    // ,   ",
              "    str text1 = ScriptItemTextData(docs, 2);",
              "    str text2 = ScriptItemTextData(docs, 3);",
              "    int tint;",
              "    for(int i = 0; i < ScriptItemData(docs, 3); i = i + 1)",
              "    {",
              "        tint = GetParFromString(text1, ',', i, 0);",
              "        dword planet = StarPlanets(star, tint);",
              "",
              "        //       ",
              "        if((int(GetParFromString(text2, ',', i, 0)) & 64))",
              "        {",
              "            description = description + Format(CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextPlanetPermYes'), '<Planet' + '>', Name(planet)) + \"<br>\";",
              "            total = total + 1;",
              "        }",
              "        //  ",
              "        else description = description + Format(CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextPlanetPermNo'), '<Planet' + '>', Name(planet)) + \"<br>\";",
              "    }",
              "",
              "    //    ",
              "    if(BuildOwnBase_InProcess != 6)",
              "    {",
              "        //   ",
              "        if(!StarOwner(star))",
              "        {",
              "            //  ( )  ",
              "            if(ScriptItemData(docs, 2))",
              "            {",
              "                description = description + CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextCoalitionPermYes');",
              "                total = total + 1;",
              "            }",
              "            // ",
              "            else description = description + CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextCoalitionPermNo');",
              "        }",
              "        //   ",
              "        else",
              "        {",
              "            //   ( )  ",
              "            if(ScriptItemData(docs, 2))",
              "            {",
              "                description = description + CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextPiratePermYes');",
              "                total = total + 1;",
              "            }",
              "            // ",
              "            else description = description + CT('UselessItems.ShuMercsHQ_ApprovalDocuments.TextPiratePermNo');",
              "        }",
              "    }",
              "",
              "    UselessItemText(docs, description);",
              "",
              "    //,    ,   ,    ",
              "    if(BuildOwnBase_InProcess != 6)",
              "    {",
              "        // ScriptItemData(docs, 3)       ",
              "        if(total >= ScriptItemData(docs, 3) + 1)",
              "        {",
              "            //      ",
              "            description = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "            description = description + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Title');",
              "            description = description + \"<br>\" + '<clr><clrEnd>' + \"<br>\";",
              "            description = description + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Stage3'), '<Star'+'>', '<color=255,240,100>' + Name(star) + '</color>', '');",
              "            Ether(3, 'BuildOwnMCBase', description);",
              "",
              "            //    ",
              "            if(!BasesSuccessfullyBuiltCount) BuildOwnBase_InProcess = 3;",
              "            //     ",
              "            else BuildOwnBase_InProcess = 5;",
              "        }",
              "    }",
              "    //  ",
              "    else",
              "    {",
              "        //    ",
              "        if(total >= ScriptItemData(docs, 3))",
              "        {",
              "            //      ",
              "            description = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "            description = description + \"<br>\" + CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Title');",
              "            description = description + \"<br>\" + '<clr><clrEnd>' + \"<br>\";",
              "            description = description + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Stage2'), '<Star'+'>', '<color=255,240,100>' + Name(star) + '</color>', '');",
              "            CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'PlayerHQRelocation', description);",
              "",
              "            ScriptItemData(docs, 2, 1);",
              "        }",
              "    }",
              "}",
              "",
              "function AddPlanetQuest(int type, dword client_planet, int client_planet_num, dword object, int time_limit, str quest_brief, str quest_Id, str quest_address, str quest_item_slot)",
              "{",
              "    quest_Id = quest_Id + '*' + CurTurn();",
              "    str quest_text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day' + '>', time_limit - CurTurn(), '255,240,100');",
              "    quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.FromPlanet'), '<Planet' + '>', Name(client_planet), '<System' + '>', Name(PlanetToStar(client_planet)), '255,240,100');",
              "    quest_text = quest_text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + quest_brief;",
              "    Ether(3, quest_Id, quest_text, object);",
              "    // ,       ",
              "    if(type == 3)",
              "    {",
              "        dword item = GetItemFromVault(quest_item_slot);",
              "        AddItemToShip(Player(), item);",
              "    }",
              "",
              "    // BuildOwnBase_QuestsArray:",
              "    //BuildOwnBase_QuestsArray[0, N] -   \"\"",
              "    //---",
              "    //BuildOwnBase_QuestsArray[N, 0] -   (1 -  , 2 -  , 3 - )",
              "    //BuildOwnBase_QuestsArray[N, 1] - Id ",
              "    //BuildOwnBase_QuestsArray[N, 2] -      ApprovalDocuments (  )",
              "    //BuildOwnBase_QuestsArray[N, 3] - Id  ",
              "    //BuildOwnBase_QuestsArray[N, 4] - Id   (/)",
              "    //BuildOwnBase_QuestsArray[N, 5] -    /  ( )",
              "    //BuildOwnBase_QuestsArray[N, 6] -      Lang",
              "    //BuildOwnBase_QuestsArray[N, 7] -       ",
              "    //BuildOwnBase_QuestsArray[N, 8] - Id   (   )",
              "    //           ",
              "    int q_num;",
              "    if(ArrayDim(BuildOwnBase_QuestsArray) <= 1)",
              "    {",
              "        free(BuildOwnBase_QuestsArray);",
              "        BuildOwnBase_QuestsArray = newarray(2, 9);",
              "        q_num = 1;",
              "    }",
              "    else",
              "    {",
              "        // arraychange     2 \"\"  ,     ",
              "        //arraychange(BuildOwnBase_QuestsArray, ArrayDim(BuildOwnBase_QuestsArray) + 1);",
              "        //q_num = ArrayDim(BuildOwnBase_QuestsArray) - 1;",
              "        unknown dummy;",
              "        q_num = ArrayDim(BuildOwnBase_QuestsArray);",
              "        ArrayAdd(BuildOwnBase_QuestsArray, dummy);",
              "        BuildOwnBase_QuestsArray[q_num] = newarray(9);",
              "    }",
              "",
              "    //      ",
              "    BuildOwnBase_QuestsArray[q_num, 0] = type;",
              "    BuildOwnBase_QuestsArray[q_num, 1] = quest_Id;",
              "    BuildOwnBase_QuestsArray[q_num, 2] = client_planet_num;",
              "    BuildOwnBase_QuestsArray[q_num, 3] = Id(client_planet);",
              "    BuildOwnBase_QuestsArray[q_num, 4] = Id(object);",
              "    BuildOwnBase_QuestsArray[q_num, 5] = time_limit;",
              "    BuildOwnBase_QuestsArray[q_num, 6] = quest_address;",
              "    BuildOwnBase_QuestsArray[q_num, 7] = quest_brief;",
              "    if(type == 3) BuildOwnBase_QuestsArray[q_num, 8] = Id(item);",
              "",
              "    //    ApprovalDocuments,  ,    ",
              "    quest_text = ScriptItemTextData(ApprovalDocuments, 3);",
              "    ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(quest_text, ',', client_planet_num, '' + (1 + GetParFromString(quest_text, ',', client_planet_num, 0))));",
              "}",
              "",
              "//       ",
              "// ,          ",
              "function QuestsStatusUpdate()",
              "{",
              "    for(int i = ArrayDim(BuildOwnBase_QuestsArray) - 1; i > 0; i = i - 1)",
              "    {",
              "        //  ,     ",
              "        if(BuildOwnBase_QuestsArray[i, 5] == -1) continue;",
              "",
              "        str quest_text;",
              "        dword client_planet = IdToPlanet(BuildOwnBase_QuestsArray[i, 3]);",
              "        dword object;",
              "        if(BuildOwnBase_QuestsArray[i, 0] == 3) object = IdToPlanet(BuildOwnBase_QuestsArray[i, 4]);",
              "        else object = IdToShip(BuildOwnBase_QuestsArray[i, 4]);",
              "        //     ",
              "        if(BuildOwnBase_QuestsArray[i, 5] <= CurTurn())",
              "        {",
              "            //  /  (,   -)",
              "            //    ...    ",
              "            if(BuildOwnBase_QuestsArray[i, 0] < 3)",
              "            {",
              "                //   ",
              "                if(!object)",
              "                {",
              "                    //    ",
              "                    if(BuildOwnBase_QuestsArray[i, 0] == 2)",
              "                    {",
              "                        QuestsStatusChange(i, 4, client_planet);",
              "                        continue;",
              "                    }",
              "                    //    ",
              "                    else",
              "                    {",
              "                        QuestsStatusChange(i, 2, client_planet);",
              "                        continue;",
              "                    }",
              "                }",
              "            }",
              "            //   /,    ",
              "            if(BuildOwnBase_QuestsArray[i, 0] != 2)",
              "            {",
              "                QuestsStatusChange(i, 4, client_planet);",
              "                continue;",
              "            }",
              "            //   ,    ",
              "            else",
              "            {",
              "                QuestsStatusChange(i, 2, client_planet);",
              "                continue;",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //  /  (,   -)",
              "            if(BuildOwnBase_QuestsArray[i, 0] < 3)",
              "            {",
              "                //   ",
              "                if(!object)",
              "                {",
              "                    //    ",
              "                    if(BuildOwnBase_QuestsArray[i, 0] == 2)",
              "                    {",
              "                        QuestsStatusChange(i, 4, client_planet);",
              "                        continue;",
              "                    }",
              "                    //    ",
              "                    else",
              "                    {",
              "                        QuestsStatusChange(i, 2, client_planet);",
              "                        continue;",
              "                    }",
              "                }",
              "            }",
              "            //   ",
              "            quest_text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "            quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day' + '>', BuildOwnBase_QuestsArray[i, 5] - CurTurn(), '255,240,100');",
              "            quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.FromPlanet'), '<Planet' + '>', Name(client_planet), '<System' + '>', Name(PlanetToStar(client_planet)), '255,240,100');",
              "            quest_text = quest_text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + BuildOwnBase_QuestsArray[i, 7];",
              "            Ether(3, BuildOwnBase_QuestsArray[i, 1], quest_text, object);",
              "        }",
              "    }",
              "}",
              "//   ,  ,     ApprovalDocuments",
              "function QuestsStatusChange(int quest_num, int quest_status, dword client_planet)",
              "{",
              "    //  ",
              "    if(quest_status == 2)",
              "    {",
              "        str quest_text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.AcceptedPapers') + '</color>';",
              "        quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.FromPlanet'), '<Planet' + '>', Name(client_planet), '<System' + '>', Name(PlanetToStar(client_planet)), '255,240,100');",
              "        quest_text = quest_text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + BuildOwnBase_QuestsArray[quest_num, 7];",
              "        Ether(3, BuildOwnBase_QuestsArray[quest_num, 1], quest_text);",
              "        NewsAdd(Format(CT('Quest.ShuMercs.QuestComplete'), '<Planet' + '>', Name(IdToPlanet(BuildOwnBase_QuestsArray[quest_num, 3])), '255,240,100'));",
              "",
              "        // ,      ",
              "        BuildOwnBase_QuestsArray[quest_num, 5] = -1;",
              "    }",
              "    //  ",
              "    else",
              "    {",
              "        quest_text = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        quest_text = quest_text + \"<br>\" + Format(CT('Quest.Info.FromPlanet'), '<Planet' + '>', Name(client_planet), '<System' + '>', Name(PlanetToStar(client_planet)), '255,240,100');",
              "        quest_text = quest_text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + BuildOwnBase_QuestsArray[quest_num, 7];",
              "        Ether(5, BuildOwnBase_QuestsArray[quest_num, 1], quest_text);",
              "        NewsAdd(Format(CT('Quest.ShuMercs.QuestFailed'), '<Planet' + '>', Name(IdToPlanet(BuildOwnBase_QuestsArray[quest_num, 3])), '255,240,100'));",
              "",
              "        //   -",
              "        if(!ShipOnSidePirateClan(Player()))",
              "        {",
              "            if(RelationToRanger(client_planet, Player()) > 10) RelationToRanger(client_planet, Player(), 10);",
              "        }",
              "        else",
              "        {",
              "            RelationToRanger(PlanetPirateClan(), Player(), RelationToRanger(PlanetPirateClan(), Player()) - 25);",
              "            if(RelationToRanger(PlanetPirateClan(), Player()) < 10) RelationToRanger(PlanetPirateClan(), Player(), 10);",
              "        }",
              "    }",
              "",
              "    str status_str = ScriptItemTextData(ApprovalDocuments, 3);",
              "    ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(status_str, ',', BuildOwnBase_QuestsArray[quest_num, 2], '' + (quest_status + GetParFromString(status_str, ',', BuildOwnBase_QuestsArray[quest_num, 2], 0) - 1)));",
              "",
              "    //     ",
              "    if(quest_status == 4)",
              "    {",
              "        free(BuildOwnBase_QuestsArray[quest_num]);",
              "        ArrayDelete(BuildOwnBase_QuestsArray, quest_num);",
              "    }",
              "}",
              "//   \"\"  ,  ,  ",
              "function PersuasionCalc(int status, dword planet, int owner)",
              "{",
              "    int chance;",
              "",
              "    //     ",
              "    //   (25%)    (25%) (    50%)",
              "    if(~status)",
              "    {",
              "        if(!(status & 8)) chance = PortionInDiapason(ShipSkill(Player(), 'CharmCur'), 0, 6, 0, 25) + PortionInDiapason(ShipStatus(Player(), 2), 0, 100, 0, 25);",
              "        else chance = -1;",
              "    }",
              "    //     /",
              "    else",
              "    {",
              "        //     71   (    )",
              "        //  (    15% (10) ,     ~10%  100%,  ,  )",
              "        if(owner != 7) chance = PortionInDiapason(ControlledSystems(0), 12, 1, 0, 100);",
              "        // (    12% (8) ,     ~10%  100%,  ,  )",
              "        else chance = PortionInDiapason(ControlledSystems(2), 10, 1, 0, 100);",
              "    }",
              "",
              "    result = chance;",
              "}",
              "//   \"\"  ",
              "function ThreatCalc(int status, dword planet, int owner)",
              "{",
              "    int chance;",
              "",
              "    // ",
              "    if(owner <= 4)",
              "    {",
              "        if(!(status & 16))",
              "        {",
              "            //   (25%)    (25%) (    50%)",
              "            chance = PortionInDiapason(ShipSkill(Player(), 'CharmCur'), 0, 6, 0, 25) + PortionInDiapason(ShipStatus(Player(), 1), 0, 100, 0, 25);",
              "            if(owner == Maloc) chance = 0.50 * chance;",
              "            else if(owner == Peleng) chance = 0.80 * chance;",
              "            else if(owner == People) chance = 0.70 * chance;",
              "            else if(owner == Fei) chance = 0.90 * chance;",
              "            else if(owner == Gaal) chance = 0.80 * chance;",
              "        }",
              "        else chance = -1;",
              "    }",
              "    // ",
              "    else",
              "    {",
              "        //   (25%)   (50%) /  (25%)  (  /   75%)",
              "        // :       (25%  75%  ..)",
              "        // :       (50%  75%  ..)",
              "        if(!(status & 16))",
              "        {",
              "            chance = PortionInDiapason(ShipSkill(Player(), 'CharmCur'), 0, 6, 0, 25) + PortionInDiapason(ShipStatus(Player(), 1), 0, 100, 0, 50) + PortionInDiapason(ShipStatus(Player(), 2), 0, 100, 0, 25);",
              "        }",
              "        else chance = -1;",
              "    }",
              "",
              "    result = chance;",
              "}",
              "//    ,  ,  ",
              "function BribeCalc(int status, dword planet, int owner)",
              "{",
              "    int bribe;",
              "    if(~status)",
              "    {",
              "        // ",
              "        if(owner <= 4)",
              "        {",
              "            bribe = max(250000 * (GalaxyDiffLevels(1) / 50), GalaxyMoney(4, 4) * 5);",
              "            if(owner == Maloc) bribe = 0.75 * bribe;",
              "            else if(owner == Peleng) bribe = 1.10 * bribe;",
              "            else if(owner == People) bribe = 1.00 * bribe;",
              "            else if(owner == Fei) bribe = 1.20 * bribe;",
              "            else if(owner == Gaal) bribe = 1.30 * bribe;",
              "",
              "            if(RelationToRanger(planet, Player()) < 60) bribe = 1.50 * bribe;",
              "        }",
              "        // ",
              "        else",
              "        {",
              "            bribe = max(250000 * (GalaxyDiffLevels(1) / 50), GalaxyMoney(4, 4) * 5);",
              "            bribe = 1.80 * bribe;",
              "",
              "            if(RelationToRanger(PlanetPirateClan(), Player()) < 60) bribe = 1.50 * bribe;",
              "        }",
              "    }",
              "    //    /",
              "    else",
              "    {",
              "        bribe = max(250000 * (GalaxyDiffLevels(1) / 50), GalaxyMoney(4, 4) * 5);",
              "        bribe = 2.00 * bribe;",
              "    }",
              "",
              "    bribe = RoundTo(bribe, 100000, 0);",
              "    result = bribe;",
              "}",
              "",
              "// ()  ",
              "function InventShuMercsHQCustomGuns()",
              "{",
              "    for(int i = 1; i <= CT('Items.Weapon.CustomWeapon.ShuMercsHQ.Count'); i = i + 1)",
              "    {",
              "        //         Lang",
              "        str gun_name = CT('Items.Weapon.CustomWeapon.ShuMercsHQ.' + i);",
              "        str gun_block_path = 'Items.Weapon.CustomWeapon.';",
              "        // /         ",
              "        dword gun = InventNewCustomWeapon(gun_name, t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(gun_block_path + gun_name + '.BaseGun')));",
              "        //  ",
              "        SetCustomWeaponShotData(gun, CT(gun_block_path + gun_name + '.ShotType'), CT(gun_block_path + gun_name + '.Speed'), CT(gun_block_path + gun_name + '.AverageRadius'), CT(gun_block_path + gun_name + '.SecondaryDamageRadius'), CT(gun_block_path + gun_name + '.MiningFactor'), CT(gun_block_path + gun_name + '.ShotsPerTurn'));",
              "        SetCustomWeaponDamageData(gun, CT(gun_block_path + gun_name + '.MinDamage'), CT(gun_block_path + gun_name + '.MaxDamage'), CT(gun_block_path + gun_name + '.DamageSet'), CT(gun_block_path + gun_name + '.mWeaponDamage'));",
              "        SetCustomMissileWeaponStats(gun, CT(gun_block_path + gun_name + '.MissileRadius'), CT(gun_block_path + gun_name + '.MissileMaxSpeed'), CT(gun_block_path + gun_name + '.MissileMinSpeed'), CT(gun_block_path + gun_name + '.MissileChanceToBeHit'));",
              "        SetCustomWeaponPrimaryData(gun, CT(gun_block_path + gun_name + '.TechLevel'), t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(gun_block_path + gun_name + '.InventTechLevel')), t_Weapon1 - 1 + CT('Items.Weapon.OriginalWeaponType.' + CT(gun_block_path + gun_name + '.ArcadeType')));",
              "        SetCustomWeaponSizeAndCost(gun, CT(gun_block_path + gun_name + '.kCost'), CT(gun_block_path + gun_name + '.AverageSize'));",
              "        SetCustomWeaponAvailability(gun, CT(gun_block_path + gun_name + '.StoreAvailability'));",
              "        SetCustomWeaponSE(gun, CT(gun_block_path + gun_name + '.ShotEffectPath'), CT(gun_block_path + gun_name + '.SplashEffectPath'), CT(gun_block_path + gun_name + '.MissileExplosionEffectPath'), CT(gun_block_path + gun_name + '.ShotEffectPalette'));",
              "    }",
              "",
              "    CustomGunsUpdateCheck = CT('Items.Weapon.CustomWeapon.StatsVersion.ShuMercsHQ');",
              "}",
              "",
              "//      ,     ,      ",
              "function CreateGluonGun(dword roll_object, int gun_type = -1, int GTL = -1)",
              "{",
              "    if(gun_type == -1) gun_type = RndObject(1, 3, roll_object);",
              "    if(GTL == -1) GTL = GalaxyTechLevel();",
              "",
              "    // ",
              "    if(gun_type == 1)",
              "    {",
              "        int size = GetCustomWeaponData('GluonEmitter', 'AverageSize');",
              "        size = RndObject(size / 2, size + size / 2, roll_object);",
              "        dword gun = CreateCustomWeapon('GluonEmitter', size, GTL, People);",
              "        LinkItemToScript(gun);",
              "        ItemOnActCode(gun, GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_GluonizingEnergy'));",
              "        ItemExtraSpecialsAddByType(gun, FindBonusByNameInCfg('bonAIValue'), 500); //      ",
              "    }",
              "    // ",
              "    else if(gun_type == 2)",
              "    {",
              "        size = GetCustomWeaponData('GluonTormentor', 'AverageSize');",
              "        size = RndObject(size / 2, size + size / 2, roll_object);",
              "        gun = CreateCustomWeapon('GluonTormentor', size, GTL, People);",
              "        LinkItemToScript(gun);",
              "        ItemOnActCode(gun, GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_GluonizingSplinter'));",
              "        ItemExtraSpecialsAddByType(gun, FindBonusByNameInCfg('bonAIValue'), 500); //      ",
              "    }",
              "    //  ",
              "    else if(gun_type == 3)",
              "    {",
              "        size = GetCustomWeaponData('GluonTorpedoLauncher', 'AverageSize');",
              "        size = RndObject(size / 2, size + size / 2, roll_object);",
              "        gun = CreateCustomWeapon('GluonTorpedoLauncher', size, GTL, People);",
              "        int new_ammo = WeaponMaxAmmunition(gun) * 2;",
              "        WeaponMaxAmmunition(gun, new_ammo);",
              "        WeaponAmmunition(gun, new_ammo);",
              "        LinkItemToScript(gun);",
              "        ItemOnActCode(gun, GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_GluonizingMissile'));",
              "        ItemExtraSpecialsAddByType(gun, FindBonusByNameInCfg('bonAIValue'), 500); //      ",
              "    }",
              "",
              "    EqCustomFaction(gun, 'SubFactionPlayerMercsFixedStanding');",
              "    result = gun;",
              "}",
              "",
              "//    ",
              "function SpawnPlayerMerc(dword planet, dword transfer_to, int ship_type_num, int count_ships = 1)",
              "{",
              "    for(int o = 1; o <= count_ships; o = o + 1)",
              "    {",
              "        //    ",
              "        int planet_owner = PlanetOwner(planet);",
              "        int planet_race = PlanetRace(planet);",
              "        //           ",
              "        int new_planet_race = planet_race;",
              "        //   ",
              "        //        ",
              "        int strike_merc_level = 0;",
              "        if(ship_type_num >= 110)",
              "        {",
              "            if(ship_type_num < 120)",
              "            {",
              "                strike_merc_level = 1;",
              "                new_planet_race = ship_type_num % 110;",
              "            }",
              "            else if(ship_type_num < 130)",
              "            {",
              "                strike_merc_level = 2;",
              "                new_planet_race = ship_type_num % 120;",
              "            }",
              "            else //if(ship_type_num >= 130)",
              "            {",
              "                strike_merc_level = 3;",
              "                new_planet_race = ship_type_num % 130;",
              "            }",
              "        }",
              "        //          30%",
              "        else if(RndObject(1, 100, planet) <= 30)",
              "        {",
              "            while(new_planet_race == planet_race) new_planet_race = RndObject(0, 4, planet);",
              "        }",
              "        //  \" \"",
              "        if(CurTurn() < 666)",
              "        {",
              "            if(!(CurTurn() % 6))",
              "            {",
              "                if(new_planet_race == People)",
              "                {",
              "                    while(new_planet_race == People) new_planet_race = RndObject(0, 4, planet);",
              "                }",
              "            }",
              "        }",
              "        PlanetOwner(planet, People);",
              "        PlanetRace(planet, People);",
              "",
              "        dword ship;",
              "        //    ",
              "        if(strike_merc_level)",
              "        {",
              "            ship = BuyRanger(planet, 600 * strike_merc_level + 250 * PlayerHQMainArray['Main', 'HQLevel']);",
              "            RangerExcludedFromRating(ship, 1);",
              "            ShipJoin(PlayerMercsStrike, ship);",
              "            ShipAddCustomShipInfo(ship, 'ShuMercsHQ_StrikeGroupMercInfo');",
              "            SetData(-2, 3, ship); //     ",
              "        }",
              "        // \"\" ",
              "        else if(ship_type_num == t_Ranger)",
              "        {",
              "            ship = BuyRanger(planet, 400 + 250 * PlayerHQMainArray['Main', 'HQLevel']);",
              "            RangerExcludedFromRating(ship, 1);",
              "            ShipJoin(PlayerMercsFree, ship);",
              "            //      ",
              "            SetData(CurTurn() + RndObject(int(CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMin')), int(CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMax')), ship), 3, ship);",
              "",
              "            if(IsScriptActive('Mod_EvoTranc'))",
              "            {",
              "                //    ,       ",
              "                if(PlayerHQMainArray['Shipyard', 'ProductionShipyard'])",
              "                {",
              "                    int rep = max(PlayerHQMainArray['Main', 'CoalitionReputation'], PlayerHQMainArray['Main', 'PirateClanReputation']);",
              "                    if(rep >= CT('Script.Mod_ShuMercsHQ.PlayerHQShipyardProjects.Tranclucator.RequiredReputation'))",
              "                    {",
              "                        if(RndObject(1, 100, ship) <= 25)",
              "                        {",
              "                            int trancs_num = 1;",
              "                            //  Id     , : Id,Id,Id,Id,Id,Id",
              "                            str trancs_str1 = '';",
              "                            //  'NNYRRN'   : Y/N/R (Yes - /No -  /Return - )",
              "                            str trancs_str2 = '';",
              "                            //   (6 ): Z -    , N -   , R -  , U -  ",
              "                            str trancs_str3 = '';",
              "",
              "                            //   ,        ",
              "                            if(ShipSkill(ship, 2) < trancs_num) ShipSkill(ship, 2, trancs_num);",
              "                            // ",
              "                            for(int i = 1; i <= trancs_num; i = i + 1)",
              "                            {",
              "                                dword art_tranc = CreateArt(t_ArtefactTranclucator, Peleng);",
              "                                dword tranc = ArtTranclucatorToShip(art_tranc);",
              "                                ItemSize(art_tranc, ItemSize(art_tranc) + RndObject(-9, 25, ship));",
              "                                TranclucatorData(tranc, 'ArtSize', ItemSize(art_tranc));",
              "                                TranclucatorData(tranc, 'Proprietor', ship);",
              "                                AddItemToShip(ship, art_tranc);",
              "                                NoDropItem(art_tranc, 1);",
              "",
              "                                dword tranc_hull = ShipItems(tranc, 0);",
              "                                int tranc_hull_lvl = ItemLevel(tranc_hull);",
              "                                //  (   )",
              "                                // if(tranc_hull_lvl >= 3)",
              "                                // {",
              "                                    // if(RndObject(1, 100, ship) <= tranc_hull_lvl + 9) //  ",
              "                                    // {",
              "                                        // ItemExtraSpecialsAddByType(tranc_hull, FindBonusByNameInCfg('EvoTranc_TrancAddSlotRadar'));",
              "                                        // ItemSize(tranc_hull, ItemSize(tranc_hull) - 25);",
              "                                        // ItemCost(tranc_hull, round(1.07 * ItemCost(tranc_hull)));",
              "                                    // }",
              "                                // }",
              "                                //  (   )",
              "                                // if(tranc_hull_lvl >= 3)",
              "                                // {",
              "                                    // if(RndObject(1, 100, ship) <= tranc_hull_lvl + 3) //  ",
              "                                    // {",
              "                                        // ItemExtraSpecialsAddByType(tranc_hull, FindBonusByNameInCfg('EvoTranc_TrancAddSlotScaner'));",
              "                                        // ItemSize(tranc_hull, ItemSize(tranc_hull) - 25);",
              "                                        // ItemCost(tranc_hull, round(1.04 * ItemCost(tranc_hull)));",
              "                                    // }",
              "                                // }",
              "",
              "                                //  (   )",
              "                                // if(tranc_hull_lvl >= 4)",
              "                                // {",
              "                                    // if(RndObject(1, 100, ship) <= tranc_hull_lvl - 1) //  ",
              "                                    // {",
              "                                        // ItemExtraSpecialsAddByType(tranc_hull, FindBonusByNameInCfg('EvoTranc_TrancAddSlotForsage'));",
              "                                        // ItemSize(tranc_hull, ItemSize(tranc_hull) - 25);",
              "                                        // ItemCost(tranc_hull, round(1.07 * ItemCost(tranc_hull)));",
              "                                    // }",
              "                                // }",
              "",
              "                                ShipMoney(tranc, ShipMoney(ship) * 2);",
              "                                ShipRefit(tranc);",
              "                                ShipRefit(tranc);",
              "                                ShipMoney(tranc, 0);",
              "",
              "                                //      ",
              "                                ShipImproveItems(tranc, RndObject(2, 4, ship));",
              "                                HullHP(tranc, 'To100');",
              "",
              "                                //    (         )",
              "                                // if(tranc_hull_lvl >= 3)",
              "                                // {",
              "                                    // if(RndObject(1, 100, ship) <= 45)",
              "                                    // {",
              "                                        // ShipAddCustomShipInfo(tranc, 'TrancFakeNavComputerInfo');",
              "                                        // ItemCost(tranc_hull, round(1.15 * ItemCost(tranc_hull)));",
              "                                    // }",
              "                                // }",
              "",
              "                                //    ",
              "                                EqCustomFaction(art_tranc, 'SubFactionPlayerMercsFixedStanding');",
              "                                ShipJoin(PlayerOrgTrancs, tranc);",
              "                                ShipCustomFaction(tranc, 'SubFactionPlayerMercsFixedStanding');",
              "                                ShipAddCustomShipInfo(tranc, 'ShuMercsHQ_PlayerOrgTrancInfo');",
              "                                Chameleon(tranc, 'Ship.TranclucatorCyan');",
              "                                TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorCyan');",
              "                                EquipmentImageName(art_tranc, 'ArtTranclucatorCyan');",
              "",
              "                                //   ",
              "                                if(RndObject(1, 100, ship) <= 93)",
              "                                {",
              "                                    //   (  N   ,     )",
              "                                    int names_count = CT('ShipName.Tranclucator.Count');",
              "                                    str tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, ship));",
              "                                    while(~findsubstr(last_spawned_tranc_names_global, '*' + tranc_name + '*')) tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, ship));",
              "                                    last_spawned_tranc_names_global = last_spawned_tranc_names_global + tranc_name + '*';",
              "                                    //      ,    ",
              "                                    if(ParsCountFromString(last_spawned_tranc_names_global, '*') > (names_count - 10 + 2)) //    10        ",
              "                                    {",
              "                                        last_spawned_tranc_names_global = SetParFromString(last_spawned_tranc_names_global, '*', 1, '');",
              "                                        last_spawned_tranc_names_global = substr(last_spawned_tranc_names_global, 1);",
              "                                    }",
              "                                    SetName(tranc, tranc_name);",
              "                                }",
              "",
              "                                if(trancs_str1 == '') trancs_str1 = Id(tranc);",
              "                                else trancs_str1 = trancs_str1 + ',' + Id(tranc);",
              "                                trancs_str2 = trancs_str2 + 'N';",
              "                                trancs_str3 = trancs_str3 + 'N';",
              "",
              "                                //    ",
              "                                TranclucatorData(tranc, 'AutoArrange', 1);",
              "",
              "                                //    ",
              "                                ShipSkill(tranc, 'Accuracy', RndObject(2, 4, ship));",
              "                                ShipSkill(tranc, 'Mobility', RndObject(2, 4, ship));",
              "                                ShipSkill(tranc, 'Technical', RndObject(2, 4, ship));",
              "",
              "                                //    ",
              "                                if(tranc_hull_lvl < 8) ShipAddCustomShipInfo(tranc, 'TrancNPCAddInfo', 'NoShow', -1, 0, 0, '', '0', 'N');",
              "                                else ShipAddCustomShipInfo(tranc, 'TrancNPCAddInfo', 'NoShow', CurTurn() + RndObject(297, 403, ship), 0, 0, '', '', 'N');",
              "                            }",
              "",
              "                            //         ",
              "                            ShipAddCustomShipInfo(ship, 'TrancNPCOwnerInfo', 'NoShow', RndObject(207, 459, ship), 1, trancs_num, trancs_str1, trancs_str2, trancs_str3);",
              "                            //    ,         ,     ",
              "                            dword filler = CreateQuestItem('WeightReserve', 0);",
              "                            ItemSize(filler, 0);",
              "                            AddItemToShip(ship, filler);",
              "                            NoDropItem(filler, 1);",
              "                            ItemIsInUse(filler, ship, 1);",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            //     ",
              "            if(CurrentMods('ShusRangers\\ShuBounty'))",
              "            {",
              "                hull = CreateQuestItem('ShuBounty_EscapePod', People);",
              "                EqCustomFaction(hull, 'SubFactionPlayerMercsFixedStanding');",
              "                ItemCost(hull, 0); //   ,   (     )    ",
              "                LinkItemToScript(hull);",
              "                ItemOnActCode(hull, 'EscapePodActCode();', 't_OnDropItem,t_OnItemHit,t_OnStep|11');",
              "",
              "                //      (  ,      )",
              "                UselessItemData(hull, 1, 'PlayerMerc');",
              "",
              "                ShipAddDropItem(ship, hull);",
              "            }",
              "        }",
              "        // -",
              "        else if(ship_type_num == t_Warrior)",
              "        {",
              "            ship = BuyRanger(planet, 400 + 250 * PlayerHQMainArray['Main', 'HQLevel']);",
              "            RangerExcludedFromRating(ship, 1);",
              "            ShipSpecialBonuses(ship, bonFuel, ShipSpecialBonuses(ship, bonFuel) - 10000);",
              "            ShipJoin(PlayerMercsDefenders, ship, '', 0, 0, 0, -4);",
              "        }",
              "        //   ",
              "        else if(ship_type_num == t_Transport || ship_type_num == t_Pirate)",
              "        {",
              "            ship = BuyRanger(planet, 450 + 250 * PlayerHQMainArray['Main', 'HQLevel']);",
              "            RangerExcludedFromRating(ship, 1);",
              "            if(ship_type_num == t_Transport) ShipJoin(QuestMercs, ship);",
              "            else",
              "            {",
              "                ShipJoin(QuestMercs, ship, 1);",
              "                ChangeState('QuestMercsKillState', ship);",
              "            }",
              "        }",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 0); //",
              "        ShipStatus(ship, 2, 100); //",
              "        //\"\"       \"\"",
              "        ShipSubType(ship, 2);",
              "",
              "        ShipType(ship, 'PlayerMerc');",
              "        dword hull = ShipItems(ship, 0);",
              "        if(!PlayerHQMainArray['Shipyard', 'ProductionShipyard']) SpecialToEquipment(FindBonusByCustomTag('PlayerMerc_Race' + new_planet_race), hull);",
              "        else",
              "        {",
              "            SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), hull);",
              "            EqCustomFaction(hull, 'SubFactionPlayerMercsFixedStanding');",
              "        }",
              "        Chameleon(ship);",
              "",
              "        if(!strike_merc_level)",
              "        {",
              "            SetName(ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + ' ' + '-' + AssaultsCount + '-');",
              "            AssaultsCount = AssaultsCount + 1;",
              "",
              "            //    ",
              "            i = RndObject(0, 3, ship);",
              "            if(!i) i = 2;",
              "            else if(i == 1) i = 6;",
              "            else if(i == 2) i = 22;",
              "            else i = 24;",
              "            ShipFace(ship, i);",
              "        }",
              "",
              "        for(i = 1; i <= 5; i = i + 1) ShipRefit(ship);",
              "",
              "        //    ,      ",
              "        hull = ShipItems(ship, 0);",
              "        HullSeries(hull, -1);",
              "        ItemSize(hull, max(ItemSize(hull), 100 * GTL, 230)); //,          (  20%)",
              "        ItemSize(hull, ItemSize(hull) + RndObject(-10, 10, ship));",
              "        NoDropItem(hull, 1);",
              "",
              "        //    (  )",
              "        int add_exp = 750 * PlayerHQMainArray['Main', 'HQLevel'] * PlayerHQMainArray['Mercs', 'PlanetsCount'];",
              "        ShipFreeExp(ship, ShipFreeExp(ship) + add_exp);",
              "        SetShipExpByType(ship, GetShipExpByType(cur_ship) + add_exp, 0);",
              "",
              "        if(strike_merc_level)",
              "        {",
              "            // ",
              "            for(i = 0; i <= 4; i = i + 1) ShipSkill(ship, i, RndObject(round(RoundTo(1.5 * strike_merc_level, 1.0, 3)), 2 * strike_merc_level, ship));",
              "        }",
              "        else",
              "        {",
              "            i = PortionInDiapason(PlayerHQMainArray['Main', 'HQLevel'], 1, PlayerHQMainArray['Main', 'HQLevelMax'], 1, 4);",
              "            ShipSkill(ship, 'Accuracy', max(ShipSkill(ship, 0), i));",
              "            ShipSkill(ship, 'Mobility', max(ShipSkill(ship, 1), i));",
              "            ShipSkill(ship, 'Technical', max(ShipSkill(ship, 2), i - 1));",
              "            ShipSkill(ship, 'Charm', max(ShipSkill(ship, 4), i + 1));",
              "        }",
              "        ShipSkill(ship, 'Leadership', 0); //   ,           (    )",
              "",
              "        ShipSpecialBonuses(ship, bonSkill6, -30);",
              "        //      , , ,    !",
              "        RaisePirateRank(ship, 7);",
              "        //      ",
              "        ShipTechLevelKnowledge(ship, GTL);",
              "",
              "        //   ( )   ",
              "        NoTargetToShip(ship, 3);",
              "",
              "        PlanetOwner(planet, planet_owner);",
              "        PlanetRace(planet, planet_race);",
              "",
              "        ShipOwner(ship, ShipOwner(transfer_to));",
              "",
              "        ShipCustomFaction(ship, 'SubFactionPlayerMercsFixedStanding');",
              "        ShipAddCustomShipInfo(ship, 'IgnoreCamoInfo', 'NoShow', 1); // 1,    EvoYouDontFoolMe    ",
              "        //        ",
              "        //          ",
              "        ShipStanding(ship, 5);",
              "        TransferShip(ship, transfer_to);",
              "",
              "        //      ,      -",
              "        //   - , !",
              "        for(i = 1; i <= 4 + PlayerHQMainArray['Main', 'HQLevel']; i = i + 1) ShipRefit(ship);",
              "",
              "        //     ",
              "        if(strike_merc_level)",
              "        {",
              "            //      ",
              "            for(i = 1; i <= 2 * strike_merc_level + 1; i = i + 1) ShipRefit(ship);",
              "        }",
              "",
              "        //     ( ,       )",
              "        //ItemExtraSpecialsAddByType(ShipItems(ship, 0), FindBonusByNameInCfg('ShuMercsHQ_StrikeMercOwnItemMark'));",
              "",
              "        dword gun = ShipWeapon(ship, 1);",
              "        if(ItemType(gun) == t_Weapon1 || PlayerHQMainArray['Science', 'GluonGunsDeveloped']) //      ",
              "        {",
              "            FreeItem(GetItemFromShip(ship, gun));",
              "            //    ,   ",
              "            if(!PlayerHQMainArray['Science', 'GluonGunsDeveloped']) gun = CreateEquipment(GetValueFromScript('', 't_Weapon' + RndObject(3, 5, ship)), RndObject(25, 50, ship), PlanetInventionLevel(planet, 7), new_planet_race);",
              "            //      ,     ",
              "            else",
              "            {",
              "                gun = CreateGluonGun(ship, -1, max(GTL - RndObject(0, 2, ship), 1));",
              "                NoDropItem(gun, 1);",
              "            }",
              "            AddItemToShip(ship, gun);",
              "        }",
              "        gun = ShipWeapon(ship, 2);",
              "        if(!gun) //       ",
              "        {",
              "            //  ,   ",
              "            gun = CreateEquipment(GetValueFromScript('', 't_Weapon' + RndObject(3, 5, ship)), RndObject(25, 50, ship), PlanetInventionLevel(planet, 7), new_planet_race);",
              "            AddItemToShip(ship, gun);",
              "        }",
              "",
              "        //        ",
              "        ShipImproveItems(ship, RndObject(1 + PlayerHQMainArray['Main', 'HQLevel'], 3 + PlayerHQMainArray['Main', 'HQLevel'], ship));",
              "        if(strike_merc_level) ShipImproveItems(ship, 3 * strike_merc_level + 1);",
              "        HullHP(hull, 'To100');",
              "",
              "        ArrangeItems(ship);",
              "        //FreeAllHoldEquipment(ship);",
              "    }",
              "",
              "    //       ,    ,   ",
              "    result = ship;",
              "}",
              "",
              "//           ",
              "function FreePlayerMerc(dword ship)",
              "{",
              "    OrderLock(ship, 0);",
              "    SetName(ship, Format(ShipName(ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', ''));",
              "    ShipType(ship, 'Freelancer');",
              "    ShipCustomFaction(ship, '');",
              "    ShipOwner(ship, ShipPilotRace(ship));",
              "    if(ShipGroup(ship) == PlayerMercsStrike) ShipDeleteCustomShipInfo(ship, 'ShuMercsHQ_StrikeGroupMercInfo');",
              "    ShipOut(ship);",
              "    ShipJoinToScript(ship, 'Mod_ShuMercs.gFrees'); //     -  ",
              "    //ShipCustomFaction(ship, 'SubFactionFixedStanding');",
              "    ShipCustomFaction(ship, 'SubFactionFreelancersFixedStanding');",
              "    ShipStanding(ship, 5); //        ",
              "    if(!ShipInHyperSpace(ship)) ShipFreeFlight(ship);",
              "}",
              "",
              "function ChangeShipScriptGroupFromInfo(dword ship)",
              "{",
              "    int info_num = ShipFindCustomShipInfoByType(ship, 'ChangeShipScriptGroupInfo');",
              "    if(info_num == -1)",
              "    {",
              "        result = 0;",
              "        exit;",
              "    }",
              "",
              "    str data_str = ShipCustomShipInfoTextData(ship, info_num, 1);",
              "    ShipJoinToScript(ship, GetParFromString(data_str, ',', 0, 0));",
              "    SetData(GetParFromString(data_str, ',', 1, 0), 0, ship);",
              "    SetData(GetParFromString(data_str, ',', 2, 0), 1, ship);",
              "    SetData(GetParFromString(data_str, ',', 3, 0), 2, ship);",
              "    SetData(GetParFromString(data_str, ',', 4, 0), 3, ship);",
              "",
              "    // ,      ",
              "    data_str = ShipCustomShipInfoTextData(ship, info_num, 2);",
              "    if(data_str == '') ShipDeleteCustomShipInfo(ship, info_num);",
              "    else",
              "    {",
              "        ShipCustomShipInfoTextData(ship, info_num, 1, data_str);",
              "        data_str = ShipCustomShipInfoTextData(ship, info_num, 3);",
              "        if(data_str != '')",
              "        {",
              "            ShipCustomShipInfoTextData(ship, info_num, 2, data_str);",
              "            ShipCustomShipInfoTextData(ship, info_num, 3, '');",
              "        }",
              "        else ShipCustomShipInfoTextData(ship, info_num, 2, '');",
              "    }",
              "",
              "    result = 1;",
              "}",
              "",
              "//       ",
              "//   ,          ,",
              "//   ",
              "function CalcApproachCoordinates(dword ship1, dword ship2, int how_close)",
              "{",
              "    how_close = how_close / 2;",
              "",
              "    int x1 = CoordX(ship1);",
              "    int y1 = CoordY(ship1);",
              "    int x2 = CoordX(ship2);",
              "    int y2 = CoordY(ship2);",
              "",
              "    int mX = round(0.5 * (x1 + x2));",
              "    int mY = round(0.5 * (y1 + y2));",
              "",
              "    int dX = mX - x1;",
              "    int dY = mY - y1;",
              "",
              "    float len = sqrt(sqr(dX) + sqr(dY));",
              "    dX = round(((len - how_close) / len) * dX);",
              "    dY = round(((len - how_close) / len) * dY);",
              "",
              "    //         ",
              "    free(tarr1);",
              "    tarr1 = newarray(4);",
              "",
              "    tarr1[0] = x1 + dX;",
              "    tarr1[1] = y1 + dY;",
              "",
              "    tarr1[2] = x2 - dX;",
              "    tarr1[3] = y2 - dY;",
              "",
              "    //      ",
              "    int correction = 0;",
              "    if(abs(tarr1[0]) < 650 && abs(tarr1[1]) < 650)",
              "    {",
              "        if(abs(dX) < abs(dY))",
              "        {",
              "            if(tarr1[0] >= 0) correction = 650 - tarr1[0];",
              "            else correction = -(650 - tarr1[0]);",
              "",
              "            tarr1[0] = tarr1[0] + correction;",
              "            tarr1[2] = tarr1[2] + correction;",
              "        }",
              "        else",
              "        {",
              "            if(tarr1[1] >= 0) correction = 650 - tarr1[1];",
              "            else correction = -(650 - tarr1[1]);",
              "",
              "            tarr1[1] = tarr1[1] + correction;",
              "            tarr1[3] = tarr1[3] + correction;",
              "        }",
              "    }",
              "}",
              "",
              "//             ",
              "function StrikeGroupCandidatesListUpdate()",
              "{",
              "    dword HQ = GroupToShip(PlayerHQ);",
              "    str list = '';",
              "    for(int i = 1; i <= 3; i = i + 1)",
              "    {",
              "        str merc_path = '';",
              "        int roll = RndObject(1, 100, HQ);",
              "        //  ",
              "        if(roll <= 45)",
              "        {",
              "            merc_path = merc_path + 'Class1.' + RndObject(1, int(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class1.Count')), HQ);",
              "        }",
              "        //  ",
              "        else if(roll <= 80)",
              "        {",
              "            merc_path = merc_path + 'Class2.' + RndObject(1, int(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class2.Count')), HQ);",
              "        }",
              "        //  ",
              "        else",
              "        {",
              "            merc_path = merc_path + 'Class3.' + RndObject(1, int(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class3.Count')), HQ);",
              "        }",
              "",
              "        //\"\"    ",
              "        if(~findsubstr(list, merc_path))",
              "        {",
              "            i = i - 1;",
              "            continue;",
              "        }",
              "        str temp_name = CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + merc_path + '.Name');",
              "        // ,        ",
              "        //  ,    ",
              "        if(~findsubstr(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'], temp_name) || ~findsubstr(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesKIALine'], temp_name))",
              "        {",
              "            i = i - 1;",
              "            continue;",
              "        }",
              "",
              "        //    ( ,           )",
              "        merc_path = merc_path + '*' + round(0.01 * Rnd(90, 110, sqr(sqr(CurTurn() + 33 * i))));",
              "",
              "        list = list + merc_path;",
              "        if(i < 3) list = list + ',';",
              "    }",
              "",
              "    PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] = list;",
              "    PlayerHQMainArray['Mercs', 'StrikeCandidatesListUpdate'] = CurTurn() + 30;",
              "}",
              "",
              "function PlayerHQActCode() //OnStep_0,1",
              "{",
              "    dword HQ = ScriptItemActShip();",
              "    if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) //     ",
              "    {",
              "        if(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] != '')",
              "        {",
              "            dword cur_star = ShipStar(HQ);",
              "            if(!ScriptItemActParam())",
              "            {",
              "                if(!ShipInHyperSpace(HQ))",
              "                {",
              "                    if(ShipOrder(HQ) != 7) //          ",
              "                    {",
              "                        int day_to_return = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 0, 0);",
              "                        if(day_to_return + 1 <= CurTurn()) //    ",
              "                        {",
              "                            dword home_star = GalaxyStar(GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 1, 0));",
              "                            if(cur_star != home_star)",
              "                            {",
              "                                int coordX = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 2, 0);",
              "                                int coordY = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 3, 0);",
              "                                //      ",
              "                                int jump_time = max(round(sqrt(Dist2Star(cur_star, home_star))) / 10, 2) * 2;",
              "",
              "                                OrderTeleport(HQ, home_star, coordX, coordY, 1, jump_time);",
              "",
              "                                //  \"   \",          ",
              "                                PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] = SetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 0, 'WayBackHome');",
              "",
              "                                EtherDelete('PlayerHQ_ExtractionHasArrived');",
              "                            }",
              "                            //       (         )",
              "                            else PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] = '';",
              "                        }",
              "                    }",
              "                }",
              "                //         ,    ,        ",
              "                else if(cur_star == ShipOrderObj(HQ))",
              "                {",
              "                    if(GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 0, 0) != 'WayBackHome') //     , ..        ",
              "                    {",
              "                        day_to_return = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 0, 0);",
              "                        int days_to_wait = CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionWaitDays');",
              "                        if(day_to_return - days_to_wait <= CurTurn())",
              "                        {",
              "                            float angle = 0.01 * RndObject(0, 200, HQ);",
              "                            int dist = 150;",
              "                            coordX = round(sin(angle * pi) * dist) + CoordX(Player());",
              "                            coordY = round(cos(angle * pi) * dist) + CoordY(Player());",
              "                            //     ",
              "                            OrderTeleport(HQ, ShipOrderObj(HQ), coordX, coordY, 1, 0);",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else //if(ScriptItemActParam() == 1)",
              "            {",
              "                //        ,     (     Step 0,   )",
              "                day_to_return = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 0, 0);",
              "                days_to_wait = CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionWaitDays');",
              "                if(day_to_return - days_to_wait == CurTurn())",
              "                {",
              "                    if(cur_star == ShipStar(Player()))",
              "                    {",
              "                        CustomEther('PlayerMercsOrg', 0, 'PlayerHQ_ExtractionHasArrived', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.PlayerExtractionHasArrived'),",
              "                                                                   '<DaysLeft'+'>', int(CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionWaitDays'))), HQ);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//           ",
              "function GetQuestSeed()",
              "{",
              "    if((TempQuestHQSeed ^ GetObjectGenerationSeed(GalaxyPtr())) == CurTurn())",
              "    {",
              "        int seed = GetObjectGenerationSeed(GalaxyPtr()) ^ (CurTurn() + 7);",
              "        TempQuestHQSeed = seed;",
              "    }",
              "    else seed = TempQuestHQSeed;",
              "",
              "    result = seed;",
              "}",
              "",
              "//            ()",
              "function DeclarePlayerHQMainArray()",
              "{",
              "    unknown t_array;",
              "    ArrayDelete(PlayerHQMainArray, 0);",
              "    t_array = newarray(1);",
              "",
              "    ArrayDelete(t_array, 0);",
              "    ArrayAdd(t_array, '', 'OrganisationName');",
              "    ArrayAdd(t_array, 0, 'HQId'); // Id ,          ",
              "    ArrayAdd(t_array, -1, 'HQStar'); //Id () ,    (  )  (  , ..      )",
              "    ArrayAdd(t_array, 1, 'HQLevel'); //  ",
              "    ArrayAdd(t_array, 0 + CT('Script.Mod_ShuMercs.PlayerMercsParams.HQLevelMax'), 'HQLevelMax'); //  ",
              "    ArrayAdd(t_array, 0, 'CoalitionReputation'); //     ",
              "    ArrayAdd(t_array, 0, 'PirateClanReputation'); //     ",
              "    ArrayAdd(t_array, CurTurn() + 365, 'ReputationDecreaseTimer'); //         (    )",
              "    ArrayAdd(t_array, 0, 'GreetingDialog'); //    : 0 -    , 1 -       , 2 -   ",
              "    ArrayAdd(t_array, 0, 'HQImproveDialog'); //        : 0 -    , 1 -   ",
              "    ArrayAdd(t_array, 0, 'HQScienceDialog'); //       : 0 -    , 1 -   ",
              "    ArrayAdd(t_array, 0, 'HQArmoryDialog'); //       : 0 -    , 1 -   ",
              "    ArrayAdd(t_array, 0, 'HQMedicineDialog'); //      : 0 -    , 1 -   ",
              "    ArrayAdd(t_array, 0, 'HQShipyardDialog'); //      : 0 -    , 1 -   ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Main');",
              "    t_array = newarray(1);",
              "",
              "    //   Mercs",
              "    ArrayDelete(t_array, 0);",
              "    ArrayAdd(t_array, 0, 'PlanetsCount'); //     ",
              "    ArrayAdd(t_array, 0, 'ReplenishmentFrequency'); //      ",
              "    ArrayAdd(t_array, 0, 'ReplenishmentTimer'); //      ",
              "    ArrayAdd(t_array, 1, 'ReplenishmentCount'); //        ",
              "    ArrayAdd(t_array, 0, 'MercsEquipAtStock'); // \" \"    ,    ,       ",
              "    ArrayAdd(t_array, 0, 'MaxFree'); //  \"\" (  \"\")  ",
              "    ArrayAdd(t_array, 0, 'CurrentMaxFree'); //  \"\" ,    (     )",
              "    ArrayAdd(t_array, 0, 'MaxAtReady'); //     (  ,    )  ",
              "    ArrayAdd(t_array, 0, 'CurrentMaxAtReady'); //     ,    (     )",
              "    ArrayAdd(t_array, 0, 'CurrentAtReady'); //     (,     )",
              "    ArrayAdd(t_array, 0, 'MaxStrike'); //  \"\" (   )  ",
              "    ArrayAdd(t_array, '', 'StrikeCandidatesList'); //        ( 3   )",
              "    ArrayAdd(t_array, '', 'StrikeCandidatesNamesLine'); //       ,   \"\"  ",
              "    ArrayAdd(t_array, '', 'StrikeCandidatesNamesKIALine'); //        ,      ",
              "    ArrayAdd(t_array, 0, 'StrikeCandidatesListUpdate'); //     ",
              "    ArrayAdd(t_array, 0, 'StrikeGroupIsAlive'); //  ,        (      )",
              "    ArrayAdd(t_array, 0, 'MaxReserve'); //   (      ,   )",
              "    ArrayAdd(t_array, 0, 'CurrentMaxReserve'); //  ,    (     )",
              "    ArrayAdd(t_array, 0, 'CurrentReserve'); //   (,     ,       )",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Mercs');",
              "    t_array = newarray(1);",
              "",
              "    //   Finance",
              "    ArrayDelete(t_array, 0);",
              "    ArrayAdd(t_array, 0.0, 'CurrentBalance'); //    (  double,    )",
              "    //ArrayAdd(t_array, 0, 'FiscalPeriod'); //      (       )",
              "    ArrayAdd(t_array, 0, 'SalariesDay'); //         ",
              "    ArrayAdd(t_array, 0, 'StatsInEarnings'); //     \"\" ",
              "    ArrayAdd(t_array, 0, 'StatsInQuests'); //    ",
              "    ArrayAdd(t_array, 0, 'StatsOutSalaries'); //    ",
              "    ArrayAdd(t_array, 0, 'StatsOutEquipments'); //     ",
              "    ArrayAdd(t_array, 0, 'StatsOutFleetMaintenance'); //     ",
              "    ArrayAdd(t_array, 0, 'StatsOutExpenses'); //   ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Finance');",
              "    t_array = newarray(1);",
              "",
              "    //   Finance",
              "    ArrayDelete(t_array, 0);",
              "    ArrayAdd(t_array, 0, 'PrivateQuestAppear'); //     ",
              "    ArrayAdd(t_array, 0, 'PrivateQuestsCompleted'); //   ",
              "    ArrayAdd(t_array, 0, 'PrivateQuestsFailed'); //   ",
              "    ArrayAdd(t_array, 0, 'CoalitionQuestAppear'); //      ",
              "    ArrayAdd(t_array, 0, 'CoalitionQuestsCompleted'); //   ",
              "    ArrayAdd(t_array, 0, 'CoalitionQuestsFailed'); //   ",
              "    ArrayAdd(t_array, 0, 'PirateClanQuestAppear'); //     ",
              "    ArrayAdd(t_array, 0, 'PirateClanQuestsCompleted'); //   ",
              "    ArrayAdd(t_array, 0, 'PirateClanQuestsFailed'); //   ",
              "    ArrayAdd(t_array, 0, 'MercsRestingAfterQuest'); //           (        \"\",     )",
              "    ArrayAdd(t_array, 0, 'GluonGunsQuestStatus'); // : -1 -  (,   -  ),     , 0 -  ,   , 1 -  , 2 -  ,     , 3 -    ,   , 4 -   , 5 -   , 6 -  ,      ",
              "    ArrayAdd(t_array, 0, 'GluonGunsQuestTimer');",
              "    ArrayAdd(t_array, 0, 'GluonGunsQuestScienceBaseId');",
              "    ArrayAdd(t_array, 0, 'GluonGunsQuestDialogStateSet'); //     ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Quests');",
              "    t_array = newarray(1);",
              "",
              "    ArrayAdd(t_array, 0, 'ScientificDepartment'); //     ",
              "    ArrayAdd(t_array, 0, 'SpeedUpRefill'); //      (    )",
              "    ArrayAdd(t_array, 0, 'PortalGenerator'); //     : 0 - , 1 - , -1 -        ,       , -2 -     ,     , >1 - ,      ",
              "    ArrayAdd(t_array, int(CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorLongJumpRange')), 'PortalGeneratorRange'); //       ",
              "    ArrayAdd(t_array, 0, 'PortalGeneratorTimer'); //,        ",
              "    ArrayAdd(t_array, '', 'PortalGeneratorReturnData'); // (   )  ,         : 0 -  ,      , 1 -  ,   , 2 -  X, 3 -  Y",
              "    ArrayAdd(t_array, 0, 'GluonGunsDeveloped'); //  ,       (    )",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Science');",
              "    t_array = newarray(1);",
              "",
              "    ArrayAdd(t_array, 0, 'ArmoryWorkshop'); //     ",
              "    ArrayAdd(t_array, 0, 'WeaponGoodsProductionTime'); //  ,          (         )",
              "    ArrayAdd(t_array, 0, 'WeaponGoodsInProduction'); // ,   ,       ",
              "    ArrayAdd(t_array, 0, 'MercsHullShopTimer'); //          ",
              "    ArrayAdd(t_array, 0, 'GluonGunsShopTimer'); //       ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Armory');",
              "    t_array = newarray(1);",
              "",
              "    ArrayAdd(t_array, 0, 'MedicalDepartment'); //    ",
              "    ArrayAdd(t_array, 0, 'UniqueStimulantLastIntake'); //,      \"\", ,      ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Medicine');",
              "    t_array = newarray(1);",
              "",
              "    ArrayAdd(t_array, 0, 'ProductionShipyard'); //     ",
              "    ArrayAdd(t_array, 0, 'CapitalShipDock'); //          (      : 1 -  , 2 -    ,   )",
              "    ArrayAdd(t_array, '', 'ShipInProduction'); //   / (   ''),          /",
              "    ArrayAdd(t_array, 0, 'ShipInProductionTime'); //     /",
              "    ArrayAdd(t_array, 0, 'ShipInProductionCost'); //  /,   ",
              "    ArrayAdd(t_array, 0, 'NextTrancProductionTime'); //     ,    ",
              "    ArrayAdd(t_array, '', 'LastHQCruiserName'); //     ,        ",
              "    ArrayAdd(t_array, '', 'ShipsBuilt'); //      (   Lang),      ",
              "    ArrayAdd(PlayerHQMainArray, t_array, 'Shipyard');",
              "    t_array = newarray(1); //   \"\"       (      )",
              "}",
              "",
              "//  -        (  ,    )",
              "function ClearPlayerHQMainArray()",
              "{",
              "    PlayerHQMainArray['Main', 'HQId'] = 0;",
              "    PlayerHQMainArray['Main', 'HQStar'] = -1;",
              "    PlayerHQMainArray['Main', 'HQLevel'] = 1;",
              "    PlayerHQMainArray['Main', 'HQLevelMax'] = int(CT('Script.Mod_ShuMercs.PlayerMercsParams.HQLevelMax'));",
              "",
              "    PlayerHQMainArray['Mercs', 'PlanetsCount'] = 0;",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'] = 0;",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = 0;",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentCount'] = 1;",
              "    PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = 0;",
              "    PlayerHQMainArray['Mercs', 'MaxFree'] = 0;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 0;",
              "    PlayerHQMainArray['Mercs', 'MaxAtReady'] = 0;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 0;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "    PlayerHQMainArray['Mercs', 'MaxStrike'] = 0;",
              "    PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] = '';",
              "    PlayerHQMainArray['Mercs', 'StrikeCandidatesListUpdate'] = 0;",
              "    PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "    PlayerHQMainArray['Mercs', 'MaxReserve'] = 0;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 0;",
              "    PlayerHQMainArray['Mercs', 'CurrentReserve'] = 0;",
              "",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = 0.0;",
              "    //PlayerHQMainArray['Finance', 'FiscalPeriod'] = 0;",
              "    PlayerHQMainArray['Finance', 'SalariesDay'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsInEarnings'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsInQuests'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsOutSalaries'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsOutEquipments'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance'] = 0;",
              "    PlayerHQMainArray['Finance', 'StatsOutExpenses'] = 0;",
              "",
              "    PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = 0;",
              "    PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = 0;",
              "    PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = 0;",
              "    PlayerHQMainArray['Quests', 'MercsRestingAfterQuest'] = 0;",
              "    //         ,    ",
              "    int tint = PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'];",
              "    if(tint > 3)",
              "    {",
              "        PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = -1;",
              "        dword ruin = IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']);",
              "        if(ruin)",
              "        {",
              "            ShipOwner(ruin, Fei);",
              "            ShipOut(ruin);",
              "        }",
              "",
              "        if(tint < 6)",
              "        {",
              "            //  ",
              "            str tstr = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr = tstr + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "            tstr = tstr + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteFailedByHQDestroyed');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr);",
              "        }",
              "    }",
              "    else if(~tint) PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 0;",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = 0;",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = 0;",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] = 0;",
              "",
              "    PlayerHQMainArray['Science', 'ScientificDepartment'] = 0;",
              "    PlayerHQMainArray['Science', 'SpeedUpRefill'] = 0;",
              "    //     ,     ",
              "    if(PlayerHQMainArray['Science', 'PortalGenerator'] >= 1) PlayerHQMainArray['Science', 'PortalGenerator'] = -2;",
              "    PlayerHQMainArray['Science', 'PortalGeneratorRange'] = 0;",
              "    PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = 0;",
              "    PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] = '';",
              "",
              "    PlayerHQMainArray['Armory', 'ArmoryWorkshop'] = 0;",
              "    PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] = 0;",
              "    PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = 0;",
              "    PlayerHQMainArray['Armory', 'MercsHullShopTimer'] = 0;",
              "    PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] = 0;",
              "",
              "    PlayerHQMainArray['Medicine', 'MedicalDepartment'] = 0;",
              "",
              "    PlayerHQMainArray['Shipyard', 'ProductionShipyard'] = 0;",
              "    PlayerHQMainArray['Shipyard', 'ShipInProduction'] = '';",
              "    PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] = 0;",
              "    PlayerHQMainArray['Shipyard', 'ShipInProductionCost'] = 0;",
              "    PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 0;",
              "    PlayerHQMainArray['Shipyard', 'LastHQCruiserName'] = '';",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  0,
          "Parent":  3,
          "#":  10,
          "Total.Lines":  1344,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      ",
              "GTL = GalaxyTechLevel();",
              "",
              "//     ,     ",
              "if(PrisonQuestCheck == -1)",
              "{",
              "    RelationToRanger(cur_planet, Player(), 0);",
              "    PrisonQuestCheck = 0;",
              "}",
              "",
              "//    ",
              "//,    StatsVersion  ShuMercsHQ  ",
              "if(CustomGunsUpdateCheck != CT('Items.Weapon.CustomWeapon.StatsVersion.ShuMercsHQ'))",
              "{",
              "    InventShuMercsHQCustomGuns();",
              "}",
              "",
              "//   ExpCB,               ",
              "if(IsScriptActive('Mod_ExpCB'))",
              "{",
              "    TotalSBCount = GetValueFromScript('Mod_ExpCB', 'TotalSBCount');",
              "    TotalWBCount = GetValueFromScript('Mod_ExpCB', 'TotalWBCount');",
              "    TotalCBCount = GetValueFromScript('Mod_ExpCB', 'TotalCBCount');",
              "}",
              "else",
              "{",
              "    //    ,   / ",
              "    for(i = GalaxyEvents() - 1; i >= 0; i = i - 1)",
              "    {",
              "        if(GalaxyEventDate(i) < CurTurn()) break;",
              "        tstr1 = GalaxyEventType(i);",
              "        tint1 = GalaxyEventData(i, 0);",
              "",
              "        // / ,  ,  ",
              "        if(tstr1 == 'RuinsCreated')",
              "        {",
              "            if(tint1 == t_SB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalSBCount = TotalSBCount + 1;",
              "            }",
              "            else if(tint1 == t_WB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalWBCount = TotalWBCount + 1;",
              "            }",
              "            else if(tint1 == t_CB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalCBCount = TotalCBCount + 1;",
              "            }",
              "        }",
              "        else if(tstr1 == 'RuinsDestroyed')",
              "        {",
              "            if(tint1 == t_SB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalSBCount = max(TotalSBCount - 1, 0);",
              "            }",
              "            else if(tint1 == t_WB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalWBCount = max(TotalWBCount - 1, 0);",
              "            }",
              "            else if(tint1 == t_CB)",
              "            {",
              "                if(GalaxyEventsTextData(i, 1) == '') TotalCBCount = max(TotalCBCount - 1, 0);",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//         /        (  )",
              "if(ArrayDim(BuildOwnBase_QuestsArray) > 1) QuestsStatusUpdate();",
              "",
              "//   ,   ",
              "if(BuildOwnBase_InProcess > 1)",
              "{",
              "    //    ",
              "    if(BuildOwnBase_InProcess < 6)",
              "    {",
              "        //    ,       ,    ,            ,     ",
              "        cur_star = GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1)));",
              "        tint1 = ShipOnSidePirateClan(Player());",
              "        tint2 = ScriptItemData(ApprovalDocuments, 1);",
              "        tint3 = GetValueFromScript('Mod_ShuMercs', 'all_leaders_dead');",
              "        if(",
              "           StarOwner(cur_star) != ScriptItemData(ApprovalDocuments, 1) ||",
              "           StarCustomFaction(cur_star) != '' ||",
              "           tint1 > tint2 ||",
              "           (!tint1 && tint2 == 2) ||",
              "           tint3",
              "          )",
              "        {",
              "            //  ,         ",
              "            ScriptItemData(ApprovalDocuments, 1, 0);",
              "            ScriptItemData(ApprovalDocuments, 2, 0);",
              "            ScriptItemData(ApprovalDocuments, 3, 0);",
              "            ScriptItemTextData(ApprovalDocuments, 1, '');",
              "            ScriptItemTextData(ApprovalDocuments, 2, '');",
              "            ScriptItemTextData(ApprovalDocuments, 3, '');",
              "            //       ",
              "            cur_item = ScriptItemToItem(ApprovalDocuments);",
              "            ReleaseItemFromScript(ApprovalDocuments);",
              "            FreeItem(GetItemFromShip(Player(), cur_item));",
              "",
              "            //          ",
              "            GBuildOwnBase_QuestsGiven = '';",
              "",
              "            //          ",
              "            for(i = ArrayDim(BuildOwnBase_QuestsArray) - 1; i > 0; i = i - 1) EtherDelete(BuildOwnBase_QuestsArray[i, 1]);",
              "            free(BuildOwnBase_QuestsArray);",
              "            BuildOwnBase_QuestsArray = newarray(1, 1);",
              "",
              "            //      ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Title');",
              "",
              "            //           ",
              "            if(tint3)",
              "            {",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Failed4'), '<Star'+'></color>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "            }",
              "            else if(ShipOnSidePirateClan(Player()) > ScriptItemData(ApprovalDocuments, 1))",
              "            {",
              "                if(ScriptItemData(ApprovalDocuments, 1)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Failed2'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "                else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Failed3'), '<Star'+'></color>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "            }",
              "            else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Failed1'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "",
              "            Ether(5, 'BuildOwnMCBase', tstr1);",
              "",
              "            //        ,     \"\"",
              "            if(BasesSuccessfullyBuiltCount) BuildOwnBase_InProcess = -2;",
              "            //       (       )",
              "            else BuildOwnBase_InProcess = -1;",
              "        }",
              "    }",
              "    //     ",
              "    else",
              "    {",
              "        cur_ruin = GroupToShip(PlayerHQ);",
              "        if(cur_ruin) //   ",
              "        {",
              "            cur_star = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "            //         ",
              "            if(ItemExist(ApprovalDocuments))",
              "            {",
              "                //    ,       ,    ,     ",
              "                tdwd1 = GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1)));",
              "                tint2 = ScriptItemData(ApprovalDocuments, 1);",
              "                if(",
              "                   StarOwner(tdwd1) != ScriptItemData(ApprovalDocuments, 1) ||",
              "                   StarCustomFaction(tdwd1) != ''",
              "                  )",
              "                {",
              "                    //  ,         ",
              "                    ScriptItemData(ApprovalDocuments, 1, 0);",
              "                    ScriptItemData(ApprovalDocuments, 2, 0);",
              "                    ScriptItemData(ApprovalDocuments, 3, 0);",
              "                    ScriptItemTextData(ApprovalDocuments, 1, '');",
              "                    ScriptItemTextData(ApprovalDocuments, 2, '');",
              "                    ScriptItemTextData(ApprovalDocuments, 3, '');",
              "                    //       ",
              "                    cur_item = ScriptItemToItem(ApprovalDocuments);",
              "                    ReleaseItemFromScript(ApprovalDocuments);",
              "                    FreeItem(GetItemFromShip(Player(), cur_item));",
              "",
              "                    //          ",
              "                    GBuildOwnBase_QuestsGiven = '';",
              "",
              "                    //          ",
              "                    for(i = ArrayDim(BuildOwnBase_QuestsArray) - 1; i > 0; i = i - 1) EtherDelete(BuildOwnBase_QuestsArray[i, 1]);",
              "                    free(BuildOwnBase_QuestsArray);",
              "                    BuildOwnBase_QuestsArray = newarray(1, 1);",
              "",
              "                    //      ",
              "                    tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Title');",
              "",
              "                    // / -",
              "                    if(StarOwner(tdwd1) == 1) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Failed1'), '<Star'+'>', '<color=255,240,100>' + Name(tdwd1) + '</color>', '');",
              "                    // ",
              "                    else if(StarOwner(tdwd1) == 2) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Failed2'), '<Star'+'>', '<color=255,240,100>' + Name(tdwd1) + '</color>', '');",
              "                    // ",
              "                    else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Failed3'), '<Star'+'></color>', '<color=255,240,100>' + Name(tdwd1) + '</color>', '');",
              "",
              "                    CustomEther('QuestFailed_PlayerMercsOrg', 5, 'PlayerHQRelocation', tstr1);",
              "                }",
              "            }",
              "",
              "            //      ( 1 )",
              "            if(!findsubstr(GameDateTxtByTurn(CurTurn()), CT('FormInfo.DecemberThirtyOne')))//if(PlayerHQMainArray['Finance', 'FiscalPeriod'] <= CurTurn())",
              "            {",
              "                //   ",
              "                PlayerHQMainArray['Finance', 'StatsInEarnings'] = 0;",
              "                PlayerHQMainArray['Finance', 'StatsInQuests'] = 0;",
              "",
              "                //   ",
              "                PlayerHQMainArray['Finance', 'StatsOutSalaries'] = 0;",
              "                PlayerHQMainArray['Finance', 'StatsOutEquipments'] = 0;",
              "                PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance'] = 0;",
              "                PlayerHQMainArray['Finance', 'StatsOutExpenses'] = 0;",
              "",
              "                //PlayerHQMainArray['Finance', 'FiscalPeriod'] = CurTurn() + CT('Script.Mod_ShuMercs.PlayerMercsParams.FiscalPeriod');",
              "            }",
              "",
              "            //          ",
              "            if(PlayerHQMainArray['Mercs', 'StrikeCandidatesListUpdate'] <= CurTurn())",
              "            {",
              "                StrikeGroupCandidatesListUpdate();",
              "            }",
              "",
              "            //   ",
              "            if(PlayerHQMainArray['Finance', 'SalariesDay'] <= CurTurn())",
              "            {",
              "                //    \" \"",
              "                tint3 = GalaxyMoney(1, 1) * Rnd(3, 5, sqr(sqr(CurTurn() + 50)));",
              "                //        (   \" \")",
              "                if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                {",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                    PlayerHQMainArray['Finance', 'StatsOutExpenses'] = PlayerHQMainArray['Finance', 'StatsOutExpenses'] + tint3;",
              "                }",
              "                //  ,        ",
              "                else",
              "                {",
              "                    PlayerHQMainArray['Finance', 'StatsOutExpenses'] = PlayerHQMainArray['Finance', 'StatsOutExpenses'] + PlayerHQMainArray['Finance', 'CurrentBalance'];",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = 0;",
              "                }",
              "",
              "                //    ",
              "                check = 0;",
              "                for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                    if(int(GetData(3, cur_ship)) != -2) continue;",
              "",
              "                    tint1 = ShipStatistic(cur_ship, 11);",
              "                    tint2 = PortionInDiapason(CurTurn(), tint1, tint1 + 1825, 0, 4);",
              "                    //        (  GetData(0))",
              "                    tint3 = round(2.5 * GalaxyMoney(2, tint2) * ((1.0 + 0.5) * substr(GetData(0, cur_ship), 0, 1)));",
              "",
              "                    //       ",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                    {",
              "                        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                        PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                    }",
              "                    //      ",
              "                    else",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= (50 - 10 * tint2))",
              "                        {",
              "                            //  \"\"         ",
              "                            if(!ShipInNormalSpace(cur_ship))",
              "                            {",
              "                                //       ",
              "                                tstr1 = Format(ShipName(cur_ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', '');",
              "                                CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeMercLeftOrg'), '<Name'+'>', tstr1, '<Cost'+'>', tint3, '255,240,100'));",
              "                                ShipDestroy(cur_ship, 1);",
              "",
              "                                check = check + 1;",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //       ",
              "                if(PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'])",
              "                {",
              "                    if(check)",
              "                    {",
              "                        if(!(GroupCount(PlayerMercsStrike) - check))",
              "                        {",
              "                            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuitMoney'));",
              "                            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //     ,  ,  ",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(QuestMercs, i);",
              "",
              "                    //tint1 = ShipStatistic(cur_ship, 11);",
              "                    //tint2 = PortionInDiapason(CurTurn(), tint1, tint1 + 1825, 0, 4);",
              "                    tint3 = round(1.5 * GalaxyMoney(2, 2));",
              "",
              "                    //       ",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                    {",
              "                        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                        PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                    }",
              "                    //      ",
              "                    else",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= 25)",
              "                        {",
              "                            FreePlayerMerc(cur_ship);",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //   \"\" ",
              "                //            5   ",
              "                for(i = 0; i < GroupCount(PlayerMercsFree); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsFree, i);",
              "",
              "                    tint1 = ShipStatistic(cur_ship, 11);",
              "                    tint2 = PortionInDiapason(CurTurn(), tint1, tint1 + 1825, 0, 4);",
              "                    tint3 = GalaxyMoney(2, tint2);",
              "",
              "                    //       ",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                    {",
              "                        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                        PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                    }",
              "                    //      ",
              "                    else",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= (70 - 12 * tint2))",
              "                        {",
              "                            FreePlayerMerc(cur_ship);",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //-  ",
              "                for(i = 0; i < GroupCount(PlayerMercsDefenders); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsDefenders, i);",
              "",
              "                    //tint1 = ShipStatistic(cur_ship, 11);",
              "                    //tint2 = PortionInDiapason(CurTurn(), tint1, tint1 + 1825, 0, 4);",
              "                    tint3 = GalaxyMoney(2, 2);",
              "",
              "                    //       ",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                    {",
              "                        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                        PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                    }",
              "                    //      ",
              "                    else",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= 25)",
              "                        {",
              "                            FreePlayerMerc(cur_ship);",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //    ,     ",
              "                if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "                {",
              "                    tint3 = GalaxyMoney(2, 2) * 10;",
              "",
              "                    //       ",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                    {",
              "                        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                        PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance'] = PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance'] + tint3;",
              "                    }",
              "                    //     ",
              "                    else",
              "                    {",
              "                        //  ,        ",
              "                        if(GroupIn(CruisersDefenders, cur_ruin))",
              "                        {",
              "                            // ",
              "                            cur_ship = GroupToShip(CruisersDefenders);",
              "                            TransferShip(cur_ship, StarPlanets(GalaxyStar(People), 0));",
              "                            ShipDestroy(cur_ship, 1);",
              "                            PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "",
              "                            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.CruiserDefenderSoldByNoMaintenance'));",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //       ",
              "                //(   ,     ,    )",
              "                tint1 = GalaxyMoney(2, 2) / 2; //   \" \"",
              "                tint3 = tint1 * PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "                //       ",
              "                if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                {",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                    PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                }",
              "                else",
              "                {",
              "                    //,       ",
              "                    tint2 = tint3 - PlayerHQMainArray['Finance', 'CurrentBalance']; //,      ",
              "                    tint2 = RoundTo(1.0 * tint2 / tint1, 1, 1);",
              "                    // ,   ",
              "                    tint4 = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - tint2;",
              "                    //   ,  ",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - (tint1 * tint4);",
              "                    PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + (tint1 * tint4);",
              "",
              "                    //   \"\"    ,    ",
              "                    for(i = 1; i <= tint2; i = i + 1)",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= 65)",
              "                        {",
              "                            PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - 1;",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //       ",
              "                //(   ,      ,      )",
              "                tint1 = GalaxyMoney(2, 2) / 5; //  \"\"",
              "                tint3 = tint1 * PlayerHQMainArray['Mercs', 'CurrentReserve'];",
              "                //        \"\"",
              "                if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                {",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                    PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + tint3;",
              "                }",
              "                else",
              "                {",
              "                    //,   \"\"    ",
              "                    tint2 = tint3 - PlayerHQMainArray['Finance', 'CurrentBalance']; //,       \"\"",
              "                    tint2 = RoundTo(1.0 * tint2 / tint1, 1, 1);",
              "                    // \"\",   ",
              "                    tint4 = PlayerHQMainArray['Mercs', 'CurrentReserve'] - tint2;",
              "                    //   \"\",  ",
              "                    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - (tint1 * tint4);",
              "                    PlayerHQMainArray['Finance', 'StatsOutSalaries'] = PlayerHQMainArray['Finance', 'StatsOutSalaries'] + (tint1 * tint4);",
              "",
              "                    //   \"\"    ,    ",
              "                    for(i = 1; i <= tint2; i = i + 1)",
              "                    {",
              "                        if(RndObject(1, 100, cur_ruin) <= 65)",
              "                        {",
              "                            PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] - 1;",
              "                        }",
              "                    }",
              "                }",
              "                //     ",
              "                PlayerHQMainArray['Finance', 'SalariesDay'] = CurTurn() + 30;",
              "            }",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentReserve'])",
              "            {",
              "                //  \"\"     , \"\"     ",
              "                if(GroupCount(PlayerMercsFree) < PlayerHQMainArray['Mercs', 'CurrentMaxFree'])",
              "                {",
              "                    //      \"\" ",
              "                    tint3 = round(0.1 * RndObject(8, 12, cur_ruin) * (3.5 * GalaxyMoney(2, 4)));",
              "                    if(PlayerHQMainArray['Armory', 'ArmoryWorkshop']) tint3 = tint3 / 2; //       ",
              "",
              "                    while(GroupCount(PlayerMercsFree) < PlayerHQMainArray['Mercs', 'CurrentMaxFree'])",
              "                    {",
              "                        if(!PlayerHQMainArray['Mercs', 'CurrentReserve']) break;",
              "",
              "                        if(!PlayerHQMainArray['Mercs', 'MercsEquipAtStock'])",
              "                        {",
              "                            if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= tint3)",
              "                            {",
              "                                PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - tint3;",
              "                                PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + tint3;",
              "                                PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] - 1;",
              "                                SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, t_Ranger, 1);",
              "                            }",
              "                            else break;",
              "                        }",
              "                        else",
              "                        {",
              "                            PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] - 1; //    \"\"",
              "                            PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] - 1;",
              "                            SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, t_Ranger, 1);",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //       (  ,    ,  ),     ",
              "                //      ,   ,      ",
              "                tint1 = GroupCount(QuestMercs) + GroupCount(PlayerMercsDefenders);",
              "                if(tint1 + PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'])",
              "                {",
              "                    //    (  )   ",
              "                    cost = round(0.1 * RndObject(8, 12, cur_ruin) * (3.5 * GalaxyMoney(2, 4)));",
              "                    if(PlayerHQMainArray['Armory', 'ArmoryWorkshop']) cost = cost / 2; //       ",
              "",
              "                    while(tint1 + PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'])",
              "                    {",
              "                        if(!PlayerHQMainArray['Mercs', 'CurrentReserve']) break;",
              "",
              "                        if(!PlayerHQMainArray['Mercs', 'MercsEquipAtStock'])",
              "                        {",
              "                            if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost)",
              "                            {",
              "                                PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "                                PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + cost;",
              "                                PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] - 1;",
              "                                PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] + 1;",
              "                            }",
              "                            else break;",
              "                        }",
              "                        else",
              "                        {",
              "                            PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] - 1; //    \"\"",
              "                            PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] - 1;",
              "                            PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] + 1;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            //     (    )",
              "            if(PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] <= CurTurn())",
              "            {",
              "                //       ",
              "                if(PlayerHQMainArray['Mercs', 'CurrentReserve'] < PlayerHQMainArray['Mercs', 'CurrentMaxReserve'])",
              "                {",
              "                    //     ,         ",
              "                    if(!PlayerHQMainArray['Mercs', 'ReplenishmentTimer'])",
              "                    {",
              "                        PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = CurTurn() + PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'];",
              "                    }",
              "                    else",
              "                    {",
              "                        //    ",
              "                        PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = CurTurn() + PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'];",
              "                    }",
              "",
              "                    // ",
              "                    PlayerHQMainArray['Mercs', 'CurrentReserve'] = min(PlayerHQMainArray['Mercs', 'CurrentReserve'] + PlayerHQMainArray['Mercs', 'ReplenishmentCount'], PlayerHQMainArray['Mercs', 'CurrentMaxReserve']);",
              "                }",
              "                //  ,          ",
              "                else PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = 0;",
              "            }",
              "",
              "            //   ,        ",
              "            if(PlayerHQMainArray['Armory', 'ArmoryWorkshop'])",
              "            {",
              "                if(PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] <= CurTurn())",
              "                {",
              "                    //        ,        ",
              "                    if(!PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'])",
              "                    {",
              "                        //    ,     ( )   ",
              "                        //(         )",
              "                        tint1 = GoodsAdd(cur_ruin, t_Minerals, 0);",
              "                        tint2 = CT('Script.Mod_ShuMercs.PlayerMercsParams.MineralTonsPerOneWeaponGoodsTon');",
              "                        if(tint1 >= tint2 && GoodsAdd(cur_ruin, t_Arms, 0) < CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxWeaponGoodsInStore'))",
              "                        {",
              "                            rand = CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxWeaponGoodsToProduceAtOnce');",
              "                            if(tint1 >= rand * tint2)",
              "                            {",
              "                                GoodsAdd(cur_ruin, t_Minerals, -(rand * tint2));",
              "                                PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = rand;",
              "                            }",
              "                            else",
              "                            {",
              "                                tint1 = tint1 - (tint1 % tint2);",
              "                                GoodsAdd(cur_ruin, t_Minerals, -tint1);",
              "                                PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = tint1 / tint2;",
              "                            }",
              "",
              "                            //       ",
              "                            tflt1 = CT('Script.Mod_ShuMercs.PlayerMercsParams.WeaponGoodsProductionTimePerTon');",
              "                            PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] = CurTurn() + round(tflt1 * PlayerHQMainArray['Armory', 'WeaponGoodsInProduction']);",
              "                        }",
              "                        //           ",
              "                        else",
              "                        {",
              "                            PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] = CurTurn() + 10;",
              "                        }",
              "                    }",
              "                    //         ",
              "                    else",
              "                    {",
              "                        //    ",
              "                        GoodsAdd(cur_ruin, t_Arms, PlayerHQMainArray['Armory', 'WeaponGoodsInProduction']);",
              "                        PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = 0;",
              "",
              "                        //     ,      ( )   ",
              "                        //(         )",
              "                        tint1 = GoodsAdd(cur_ruin, t_Minerals, 0);",
              "                        tint2 = CT('Script.Mod_ShuMercs.PlayerMercsParams.MineralTonsPerOneWeaponGoodsTon');",
              "                        if(tint1 >= tint2 && GoodsAdd(cur_ruin, t_Arms, 0) < CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxWeaponGoodsInStore'))",
              "                        {",
              "                            rand = CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxWeaponGoodsToProduceAtOnce');",
              "                            if(tint1 >= rand * tint2)",
              "                            {",
              "                                GoodsAdd(cur_ruin, t_Minerals, -(rand * tint2));",
              "                                PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = rand;",
              "                            }",
              "                            else",
              "                            {",
              "                                tint1 = tint1 - (tint1 % tint2);",
              "                                GoodsAdd(cur_ruin, t_Minerals, -tint1);",
              "                                PlayerHQMainArray['Armory', 'WeaponGoodsInProduction'] = tint1 / tint2;",
              "                            }",
              "",
              "                            //       ",
              "                            tflt1 = CT('Script.Mod_ShuMercs.PlayerMercsParams.WeaponGoodsProductionTimePerTon');",
              "                            PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] = CurTurn() + round(tflt1 * PlayerHQMainArray['Armory', 'WeaponGoodsInProduction']);",
              "                        }",
              "                        //           ",
              "                        else",
              "                        {",
              "                            PlayerHQMainArray['Armory', 'WeaponGoodsProductionTime'] = CurTurn() + 10;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            //       ( )",
              "            if(PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] == CurTurn())",
              "            {",
              "                if(!CoalitionDefeated())",
              "                {",
              "                    if(GetShipRuins(Player()) != cur_ruin) CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.CoalitionQuestIsAvailable'));",
              "                }",
              "                else PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + 62;",
              "            }",
              "            if(PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] == CurTurn())",
              "            {",
              "                if(PirateWin() != 3 && PirateWin() != 4)",
              "                {",
              "                    if(GetShipRuins(Player()) != cur_ruin) CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.PirateClanQuestIsAvailable'));",
              "                }",
              "                else PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + 62;",
              "            }",
              "",
              "            //    /",
              "            if(PlayerHQMainArray['Shipyard', 'ShipInProduction'] != '')",
              "            {",
              "                if(PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] == CurTurn())",
              "                {",
              "                    tstr1 = GetParFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.', ParsCountFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.') - 2, 0);",
              "",
              "                    //   ",
              "                    if(tstr1 == 'Tranclucator')",
              "                    {",
              "                        //      ",
              "                        cur_item = CreateArt(t_ArtefactTranclucator, Peleng);",
              "                        EqCustomFaction(cur_item, 'SubFactionPlayerMercsFixedStanding');",
              "",
              "                        //    ,      ",
              "                        ItemCost(cur_item, PlayerHQMainArray['Shipyard', 'ShipInProductionCost']);",
              "",
              "                        cur_ship = ArtTranclucatorToShip(cur_item);",
              "                        ShipJoin(PlayerOrgTrancs, cur_ship);",
              "                        ShipCustomFaction(cur_ship, 'SubFactionPlayerMercsFixedStanding');",
              "                        //,       , ..         ",
              "                        //EqCustomFaction(ShipItems(cur_ship, 0), 'SubFactionPlayerMercsFixedStanding');",
              "                        ShipAddCustomShipInfo(cur_ship, 'ShuMercsHQ_PlayerOrgTrancInfo');",
              "                        Chameleon(cur_ship, 'Ship.TranclucatorCyan');",
              "                        EquipmentImageName(cur_ship, 'ArtTranclucatorCyan');",
              "                        EquipmentImageName(cur_item, 'ArtTranclucatorCyan');",
              "                        AddItemToStorage(cur_ruin, cur_item);",
              "                    }",
              "                    //   ",
              "                    else if(tstr1 == 'PlayerOrgCruiser')",
              "                    {",
              "                        cur_planet = 0;",
              "                        cur_planet = FindPlanetByAdvancement(100, 0);",
              "                        if(!cur_planet) cur_planet = FindPlanetByAdvancement(100, 2);",
              "                        tint1 = PlanetOwner(cur_planet);",
              "                        tint2 = PlanetRace(cur_planet);",
              "                        PlanetOwner(cur_planet, Peleng);",
              "                        PlanetRace(cur_planet, Peleng);",
              "",
              "                        //      ",
              "                        tdwd1 = BuyBigWarrior(cur_planet);",
              "                        ShipMoney(tdwd1, 100000000);",
              "                        for(i = 1; i <= 8; i = i + 1) ShipRefit(tdwd1);",
              "                        if(!ShipEqInSlot(tdwd1, t_RepairRobot))",
              "                        {",
              "                            cur_item = CreateEquipment(t_RepairRobot, RndObject(45, 65, tdwd1), GTL, Peleng);//ShipPilotRace(tdwd1));",
              "                            AddItemToShip(tdwd1, cur_item);",
              "                            ItemIsInUse(cur_item, tdwd1, 1);",
              "                        }",
              "                        if(!ShipEqInSlot(tdwd1, t_CargoHook))",
              "                        {",
              "                            cur_item = CreateEquipment(t_CargoHook, RndObject(45, 65, tdwd1), GTL, Peleng);//ShipPilotRace(tdwd1));",
              "                            AddItemToShip(tdwd1, cur_item);",
              "                            ItemIsInUse(cur_item, tdwd1, 1);",
              "                        }",
              "                        if(!ShipEqInSlot(tdwd1, t_DefGenerator))",
              "                        {",
              "                            cur_item = CreateEquipment(t_DefGenerator, RndObject(45, 65, tdwd1), GTL, Peleng);//ShipPilotRace(tdwd1));",
              "                            AddItemToShip(tdwd1, cur_item);",
              "                            ItemIsInUse(cur_item, tdwd1, 1);",
              "                        }",
              "",
              "                        ShipImproveItems(tdwd1, 16);",
              "",
              "                        //,      ",
              "                        cur_ship = BuyRanger(cur_planet);",
              "                        ShipOwner(cur_ship, ShipOwner(cur_ruin));",
              "                        ShipMoney(cur_ship, min(ShipMoney(cur_ship) + (GalaxyMoney(2, 2) * 10) * 10, 50000000)); //    ",
              "",
              "                        ShipStatus(cur_ship, 0, 0); //",
              "                        ShipStatus(cur_ship, 1, 0); //",
              "                        ShipStatus(cur_ship, 2, 100); //",
              "                        //\"\"       \"\" ( :{)",
              "                        ShipSubType(cur_ship, 2);",
              "",
              "                        //   ( )  ",
              "                        NoTargetToShip(cur_ship, 3);",
              "",
              "                        for(i = 0; i <= 5; i = i + 1) ShipSkill(cur_ship, i, ShipSkill(tdwd1, i));",
              "",
              "                        PlayerHQMainArray['Shipyard', 'LastHQCruiserName'] = ShipName(cur_ship); // PlayerHQMainArray['Shipyard', 'LastHQCruiserName']         ",
              "                        SetName(cur_ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + PlayerHQMainArray['Shipyard', 'LastHQCruiserName']);",
              "                        ShipType(cur_ship, 'PlayerMercCruiser');",
              "                        RangerExcludedFromRating(cur_ship, 1);",
              "                        ShipJoinToScript(cur_ship, 'Mod_ShuMercsHQ.CruisersDefenders.CruiserWaitState');",
              "                        ShipCustomFaction(cur_ship, 'SubFactionPlayerMercsFixedStanding');",
              "                        ShipStanding(cur_ship, 5); //      ",
              "                        ShipAddCustomShipInfo(cur_ship, 'ShuMercsHQ_StrikeGroupMercInfo');",
              "                        ShipSpecialBonuses(cur_ship, bonSlotForsage, -1);",
              "",
              "                        //    ",
              "                        PlanetOwner(cur_planet, tint1);",
              "                        PlanetRace(cur_planet, tint2);",
              "",
              "                        if(CurrentMods('Evolution\\EvoArmada'))",
              "                        {",
              "                            cur_item = ShipItems(tdwd1, 0);",
              "                            tint1 = ItemLevel(cur_item);",
              "                            HullSeries(cur_item, -1);",
              "                            NoDropItem(cur_item, 1);",
              "",
              "                            //           ",
              "                            ItemSize(cur_item, round((0.00085 * GalaxyDiffLevels() + 1) * tint1 * 950) + RndObject(-100, 175, tdwd1));",
              "                            //  ,      3200",
              "                            if(ItemSize(cur_item) < 3200) ItemSize(cur_item, 3200);",
              "                            HullHP(cur_item, ItemSize(cur_item));",
              "",
              "                            //   ,  ",
              "                            tint2 = GalaxyDiffLevels() / 50;",
              "                            ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoArmada_ExtraSpecialsLineBreak'));",
              "                            tint3 = (6.0 * tint2) + (6.0 * PortionInDiapason(tint1, 1, 8, 1, 10));",
              "                            ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoArmada_bonWRadius'), tint3);",
              "                            tint3 = round((0.5 * tint2) + (0.5 * PortionInDiapason(tint1, 1, 8, 1, 10)));",
              "                            ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoArmada_bonHull'), tint3);",
              "                            tint3 = (20 * tint2) + (20 * (PortionInDiapason(tint1, 1, 8, 1, 10) / 2));",
              "                            ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('EvoArmada_bonSpeed'), tint3);",
              "                            SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercCruiser'), cur_item);",
              "                            //EqCustomFaction(cur_item, 'SubFactionPlayerMercsFixedStanding');",
              "",
              "                            //   ",
              "                            cur_item = GetItemFromShip(cur_ship, 0);",
              "                            AddItemToShip(cur_ship, GetItemFromShip(tdwd1, 0));",
              "                            NoDropItem(ShipItems(cur_ship, 0), 1);",
              "",
              "                            //        ( ,  ,     )",
              "                            AddItemToShip(tdwd1, cur_item);",
              "",
              "                            //       ",
              "                            ShipSkill(cur_ship, 'Mobility', ShipSkill(cur_ship, 'Mobility') + 1);",
              "                            ShipSpecialBonuses(cur_ship, bonAttacks, 3);",
              "                            //     .         ",
              "                            ShipAddCustomShipInfo(cur_ship, 'EvoArmada_CapitalShipInfos', 'NoShow', 3);",
              "",
              "                            Chameleon(cur_ship);",
              "                        }",
              "                        //       ,      ",
              "                        else",
              "                        {",
              "                            cur_item = ShipItems(tdwd1, 0);",
              "                            HullSeries(cur_item, -1);",
              "                            SetName(cur_item, Format(CT('MicroModuls.ShuMercsHQ_PlayerMercCruiser.Name'), '<Type'+'>', CT('Items.Hull.Type.' + ItemLevel(cur_item)), ''));",
              "                            EqCustomFaction(cur_item, 'SubFactionPlayerMercsFixedStanding');",
              "",
              "                            //   ",
              "                            cur_item = GetItemFromShip(cur_ship, 0);",
              "                            AddItemToShip(cur_ship, GetItemFromShip(tdwd1, 0));",
              "                            NoDropItem(ShipItems(cur_ship, 0), 1);",
              "",
              "                            //        ( ,  ,     )",
              "                            AddItemToShip(tdwd1, cur_item);",
              "",
              "                            Chameleon(cur_ship, 'Ship.Akrin.PlayerMercCruiser');",
              "                        }",
              "",
              "                        //  ,      ",
              "                        NoDropItem(ShipItems(cur_ship, 0), 1);",
              "",
              "                        //       ",
              "                        for(i = ShipItems(cur_ship) - 1; i > 0; i = i - 1) FreeItem(GetItemFromShip(cur_ship, i));",
              "                        for(i = ShipItems(tdwd1) - 1; i > 0; i = i - 1)",
              "                        {",
              "                            cur_item = GetItemFromShip(tdwd1, i);",
              "                            AddItemToShip(cur_ship, cur_item);",
              "                            ItemIsInUse(cur_item, cur_ship, 1);",
              "                        }",
              "",
              "                        //   ",
              "                        TransferShip(tdwd1, StarPlanets(GalaxyStar(People), 0));",
              "                        ShipDestroy(tdwd1, 1);",
              "",
              "                        //  \"\"  ",
              "                        TransferShip(cur_ship, cur_ruin);",
              "",
              "                        //     ",
              "                        ShipTechLevelKnowledge(cur_ship, 8);",
              "                        ArrangeItems(cur_ship);",
              "                        FreeAllHoldEquipment(cur_ship);",
              "",
              "                        // ,      ",
              "                        ShipAddCustomShipInfo(cur_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "",
              "                        //  ",
              "                        PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 2;",
              "                    }",
              "                    //  -     ",
              "                    else",
              "                    {",
              "                        if(!BlockExist(PlayerHQMainArray['Shipyard', 'ShipInProduction'] + 'ConstructionDoneCode'))",
              "                        {",
              "                            //",
              "                        }",
              "                        // ,      -   ( PlayerHQ   )",
              "                        else ExecuteCodeFromString(GenerateCodeStringFromBlock(PlayerHQMainArray['Shipyard', 'ShipInProduction'] + 'ConstructionDoneCode'), 'PlayerHQ', cur_ruin);",
              "                    }",
              "",
              "                    //,          ",
              "                    if(findsubstr(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], PlayerHQMainArray['Shipyard', 'ShipInProduction']) == -1)",
              "                    {",
              "                        if(PlayerHQMainArray['Shipyard', 'ShipsBuilt'] == '') PlayerHQMainArray['Shipyard', 'ShipsBuilt'] = PlayerHQMainArray['Shipyard', 'ShipInProduction'] + '/1';",
              "                        else PlayerHQMainArray['Shipyard', 'ShipsBuilt'] = PlayerHQMainArray['Shipyard', 'ShipsBuilt'] + ',' + PlayerHQMainArray['Shipyard', 'ShipInProduction'] + '/1';",
              "                    }",
              "                    else",
              "                    {",
              "                        tint1 = ParsCountFromString(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], ',');",
              "                        for(i = 0; i < tint1; i = i + 1)",
              "                        {",
              "                            tstr1 = GetParFromString(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], ',', i, 0);",
              "                            if(GetParFromString(tstr1, '/', 0, 0) == PlayerHQMainArray['Shipyard', 'ShipInProduction'])",
              "                            {",
              "                                tstr1 = SetParFromString(tstr1, '/', 1, '' + (1 + GetParFromString(tstr1, '/', 1, 0)));",
              "                                if(tint1 > 1) PlayerHQMainArray['Shipyard', 'ShipsBuilt'] = SetParFromString(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], ',', i, tstr1);",
              "                                else PlayerHQMainArray['Shipyard', 'ShipsBuilt'] = tstr1;",
              "                                break;",
              "                            }",
              "                        }",
              "                    }",
              "",
              "                    //    ",
              "                    CustomEther('PlayerMercsOrg', 0, '', CT(PlayerHQMainArray['Shipyard', 'ShipInProduction'] + 'ConstructionDoneMsg'));",
              "",
              "                    PlayerHQMainArray['Shipyard', 'ShipInProduction'] = '';",
              "                    PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] = 0;",
              "                    PlayerHQMainArray['Shipyard', 'ShipInProductionCost'] = 0;",
              "                }",
              "            }",
              "",
              "            if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] > 0)",
              "            {",
              "                //         ",
              "                if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 1)",
              "                {",
              "                    if(PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] <= CurTurn())",
              "                    {",
              "                        if(TotalSBCount)",
              "                        {",
              "                            //  ",
              "                            cur_ship = 0;",
              "                            tint1 = 0;",
              "                            ArrayClear(tarr1);",
              "                            for(i = 0; i < GalaxyStars(); i = i + 1)",
              "                            {",
              "                                tdwd2 = GalaxyStar(i);",
              "",
              "                                tdwd1 = StarRuins(tdwd2, 'SB');",
              "                                if(!tdwd1) continue;",
              "                                if(tdwd2 == cur_star) continue; //     ,      ",
              "                                if(ShipInScript(tdwd1, 0)) continue;",
              "                                if(HullDamage(tdwd1) > 50) continue;",
              "",
              "                                ArrayAdd(tarr1, tdwd1);",
              "                                tint1 = tint1 + 1;",
              "                                if(tint1 == TotalSBCount) break;",
              "                            }",
              "                            if(ArrayDim(tarr1) > 1) cur_ship = tarr1[RndObject(1, ArrayDim(tarr1) - 1, cur_ruin)];",
              "",
              "                            if(cur_ship)",
              "                            {",
              "                                PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 2;",
              "                                PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = Id(cur_ship);",
              "",
              "                                //   ",
              "                                ShipJoin(PlanetQuestsShips, cur_ship);",
              "                                SetData(CurTurn() + 1095, 0, cur_ship);",
              "",
              "                                if(GetShipRuins(Player()) != cur_ruin)",
              "                                {",
              "                                    if(BuildOwnBase_Condition == 6) tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsQuestIsReadyTziptzilot');",
              "                                    else tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsQuestIsReady');",
              "                                    CustomEther('PlayerMercsOrg', 6, 'PlayerMercsOrgGluonGunsQuestIsReady', tstr1);",
              "                                }",
              "                            }",
              "                            else PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + 14;",
              "                        }",
              "                    }",
              "                }",
              "                //   \"  \"",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 2 || PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 3)",
              "                {",
              "                    //   ,    ,     ",
              "                    if(!IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']))",
              "                    {",
              "                        //   ",
              "                        cur_ship = 0;",
              "                        if(TotalSBCount)",
              "                        {",
              "                            tint1 = 0;",
              "                            ArrayClear(tarr1);",
              "                            for(i = 0; i < GalaxyStars(); i = i + 1)",
              "                            {",
              "                                tdwd2 = GalaxyStar(i);",
              "",
              "                                tdwd1 = StarRuins(tdwd2, 'SB');",
              "                                if(!tdwd1) continue;",
              "                                if(tdwd2 == cur_star) continue; //     ,      ",
              "                                if(ShipInScript(tdwd1, 0)) continue;",
              "                                if(HullDamage(tdwd1) > 50) continue;",
              "",
              "                                ArrayAdd(tarr1, tdwd1);",
              "                                tint1 = tint1 + 1;",
              "                                if(tint1 == TotalSBCount) break;",
              "                            }",
              "                            if(ArrayDim(tarr1) > 1) cur_ship = tarr1[RndObject(1, ArrayDim(tarr1) - 1, cur_ruin)];",
              "                        }",
              "",
              "                        if(!cur_ship)",
              "                        {",
              "                            //PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = -1;",
              "                            PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 1;",
              "                            PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + RndObject(56, 112, cur_ruin);",
              "                            PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = 0;",
              "                        }",
              "                        else",
              "                        {",
              "                            PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = Id(cur_ship);",
              "                        }",
              "                    }",
              "                }",
              "                //       ",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 4)",
              "                {",
              "                    //   ,    ",
              "                    if(!IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']))",
              "                    {",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = -1;",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = 0;",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = 0;",
              "",
              "                        //  ",
              "                        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "                        tstr1 = tstr1 + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "                        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteFailedBySBDestroyed');",
              "                        CustomEther('QuestFailed_PlayerMercsOrg', 5, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr1);",
              "                    }",
              "                }",
              "                //     ,         ",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 5)",
              "                {",
              "                    //       ,    ",
              "                    if(PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] - 6 == CurTurn())",
              "                    {",
              "                        cur_ship = IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']);",
              "                        if(cur_ship) ShipOwner(cur_ship, Fei);",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId'] = 0;",
              "                        ShipOut(cur_ship);",
              "                    }",
              "                    else if(PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] <= CurTurn())",
              "                    {",
              "                        if(BuildOwnBase_Condition == 6) tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsQuestCompleteTziptzilot');",
              "                        else tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsQuestComplete');",
              "                        CustomEther('PlayerMercsOrg', 6, 'PlayerMercsOrgGluonGunsQuestComplete', tstr1);",
              "",
              "                        //  ",
              "                        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "                        tstr1 = tstr1 + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "                        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteSuccess');",
              "                        CustomEther('QuestComplete_PlayerMercsOrg', 4, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr1);",
              "",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + 93;",
              "                        PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 6;",
              "                    }",
              "                }",
              "                // ,       ",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 6)",
              "                {",
              "                    if(PlayerHQMainArray['Quests', 'GluonGunsQuestTimer']) //    :{",
              "                    {",
              "                        if(PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] <= CurTurn())",
              "                        {",
              "                            if(BuildOwnBase_Condition == 6) tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsWereInventedTziptzilot');",
              "                            else tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.GluonGunsWereInvented');",
              "                            CustomEther('PlayerMercsOrg', 6, 'PlayerMercsOrgGluonGunsWereInvented', tstr1);",
              "",
              "                            PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = 0;",
              "                            PlayerHQMainArray['Science', 'GluonGunsDeveloped'] = 1;",
              "                            PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] = CurTurn() + RndObject(45, 61, cur_ruin);",
              "",
              "                            //     ,        ",
              "                            if(GroupIn(PlayerMercsStrike, cur_ruin))",
              "                            {",
              "                                for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                                {",
              "                                    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "",
              "                                    //        ",
              "                                    check = GetEquipmentStats(ShipItems(cur_ship, 0), 1);",
              "                                    for(j = 1; j <= ShipCntWeapon(cur_ship); j = j + 1)",
              "                                    {",
              "                                        cur_item = ShipWeapon(cur_ship, i);",
              "                                        if(NoDropItem(cur_item)) check = check - 1;",
              "                                    }",
              "",
              "                                    if(check)",
              "                                    {",
              "                                        cur_item = CreateGluonGun(cur_ship, -1, max(GTL - RndObject(0, 2, cur_ship), 1));",
              "                                        AddItemToShip(cur_ship, cur_item);",
              "                                        NoDropItem(cur_item, 1);",
              "                                    }",
              "                                }",
              "                            }",
              "",
              "                            //     ",
              "                            if(GroupIn(CruisersDefenders, cur_ruin))",
              "                            {",
              "                                cur_ship = GroupToShip(CruisersDefenders);",
              "",
              "                                //        ",
              "                                check = GetEquipmentStats(ShipItems(cur_ship, 0), 1);",
              "                                for(j = 1; j <= ShipCntWeapon(cur_ship); j = j + 1)",
              "                                {",
              "                                    cur_item = ShipWeapon(cur_ship, i);",
              "                                    if(NoDropItem(cur_item)) check = check - 1;",
              "                                }",
              "",
              "                                if(check)",
              "                                {",
              "                                    cur_item = CreateGluonGun(cur_ship, -1, max(GTL - RndObject(0, 2, cur_ship), 1));",
              "                                    AddItemToShip(cur_ship, cur_item);",
              "                                    NoDropItem(cur_item, 1);",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            //     ,    ",
              "            //if(PlayerHQMainArray['Science', 'PortalGenerator'] > 1)",
              "            //{",
              "            //    if(PlayerHQMainArray['Science', 'PortalGenerator'] <= CurTurn())",
              "            //    {}",
              "            //}",
              "",
              "            if(PlayerHQMainArray['Science', 'GluonGunsDeveloped'])",
              "            {",
              "                //  ,        ,     ",
              "                if(PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] <= CurTurn())",
              "                {",
              "                    check = 0;",
              "                    for(i = 0; i < ShopItems(cur_ruin); i = i + 1)",
              "                    {",
              "                        cur_item = ShopItems(cur_ruin, i);",
              "                        if(ItemType(cur_item) != t_CustomWeapon) continue;",
              "",
              "                        tstr1 = CustomWeaponType(cur_item);",
              "                        if(tstr1 == 'GluonEmitter')",
              "                        {",
              "                            if(!(check & 1)) check = check + 1;",
              "                        }",
              "                        else if(tstr1 == 'GluonTormentor')",
              "                        {",
              "                            if(!(check & 2)) check = check + 2;",
              "                        }",
              "                        else if(tstr1 == 'GluonTorpedoLauncher')",
              "                        {",
              "                            if(!(check & 4)) check = check + 4;",
              "                        }",
              "                    }",
              "",
              "                    if(check < 7)",
              "                    {",
              "                        tint1 = RndObject(1, 3, cur_ruin);",
              "                        while((check & (1 << tint1))) tint1 = RndObject(1, 3, cur_ruin);",
              "",
              "                        cur_item = CreateGluonGun(cur_ruin, tint1, max(GTL - RndObject(0, 2, cur_ruin), 1));",
              "                        AddItemToShop(cur_ruin, cur_item);",
              "                    }",
              "",
              "                    PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] = CurTurn() + RndObject(45, 61, cur_ruin);",
              "                }",
              "            }",
              "",
              "            //        ( ) ",
              "            if(PlayerHQMainArray['Armory', 'MercsHullShopTimer'] <= CurTurn())",
              "            {",
              "                //            ,      ",
              "                j = min(5, ShopItems(cur_ruin));",
              "                for(i = 0; i < j; i = i + 1)",
              "                {",
              "                    cur_item = ShopItems(cur_ruin, i);",
              "                    tint1 = EqSpecial(cur_item);",
              "                    if(tint1 == -1)",
              "                    {",
              "                        //    5   ",
              "                        if(i != j - 1) continue;",
              "                    }",
              "                    else",
              "                    {",
              "                        if(findsubstr(BonusNumInCfg(tint1), 'ShuMercsHQ_PlayerMerc'))",
              "                        {",
              "                            //    5   ",
              "                            if(i != j - 1) continue;",
              "                        }",
              "                        else break;",
              "                    }",
              "",
              "                    tint1 = max(GTL + RndObject(-2, 0, cur_ruin), 1);",
              "                    tint2 = ItemSize(ShipItems(Player(), 0));",
              "                    tint2 = RndObject(round(0.5 * tint2), max(tint2 + 200, round(PortionInDiapason(tint1, 1, 8, 0.7, 2.0) * CT('Items.Hull.AverageSize'))), cur_ruin); //         (  20%)",
              "                    //      200  300 (      400),   50,        200",
              "                    tint2 = min(tint2, 1500) + RndObject(-50, 50, cur_ruin); //  1500,       ",
              "                    cur_item = CreateHull(0, tint2, tint1, RndObject(0, 4, cur_ruin), -1);",
              "",
              "                    //  (, ,    ,   )",
              "                    if(!PlayerHQMainArray['Shipyard', 'ProductionShipyard']) SpecialToEquipment(FindBonusByCustomTag('PlayerMerc_Race' + ItemOwner(cur_item)), cur_item);",
              "                    else if(RndObject(1, 100, cur_ruin) <= 33) SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), cur_item);",
              "                    else SpecialToEquipment(FindBonusByCustomTag('PlayerMerc_Race' + ItemOwner(cur_item)), cur_item);",
              "",
              "                    AddItemToShop(cur_ruin, cur_item);",
              "                    break;",
              "                }",
              "",
              "                PlayerHQMainArray['Armory', 'MercsHullShopTimer'] = CurTurn() + RndObject(45, 75, cur_ruin);",
              "            }",
              "",
              "            //          ",
              "            if(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] == '')",
              "            {",
              "                //          ",
              "                if(!GetData(3, cur_ruin))",
              "                {",
              "                    //    ,    (  )",
              "                    //  ,     ",
              "                    //   StarBattle(),    ,       - ",
              "                    if(ShipNearbyShips(cur_ruin, -1, 0, 1, '', ''))//StarBattle(cur_star))",
              "                    {",
              "                        //   /,    ,     ",
              "                        for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "                        {",
              "                            cur_ship = StarShips(cur_star, i);",
              "                            if(ShipInHyperSpace(cur_ship)) continue;",
              "",
              "                            tstr1 = ShipCustomFaction(cur_ship);",
              "                            if(tstr1 == '')",
              "                            {",
              "                                //   ",
              "                                if(ShipTypeN(cur_ship) == t_Kling)",
              "                                {",
              "                                    //       ",
              "                                    if(ShipStar(Player()) != cur_star || !ShipInNormalSpace(Player()))",
              "                                    {",
              "                                        CustomEther('PlayerMercsOrg', 6, 'PlayerMercsOrgStarAttack', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.HQStarIsUnderAttackDom'), '<Star'+'>', Name(cur_star), '255,240,100'));",
              "                                    }",
              "",
              "                                    SetData(1, 3, cur_ruin);",
              "                                    break;",
              "                                }",
              "                            }",
              "                            else",
              "                            {",
              "                                //        ",
              "                                if(findsubstr(tstr1, 'SubFaction') == -1)",
              "                                {",
              "                                    //         ",
              "                                    if(ShipStar(Player()) != cur_star || !ShipInNormalSpace(Player()))",
              "                                    {",
              "                                        CustomEther('PlayerMercsOrg', 6, 'PlayerMercsOrgStarAttack', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.HQStarIsUnderAttack'), '<Star' + '>', Name(cur_star), '255,240,100'));",
              "                                    }",
              "",
              "                                    SetData(1, 3, cur_ruin);",
              "                                    break;",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        if(GetData(3, cur_ruin))",
              "                        {",
              "                            //   ",
              "                            if(PlayerHQMainArray['Mercs', 'CurrentAtReady'])",
              "                            {",
              "                                SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, t_Warrior, PlayerHQMainArray['Mercs', 'CurrentAtReady']);",
              "                                PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "                            }",
              "",
              "                            //   ,     ",
              "                            for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                            {",
              "                                cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                                if(!StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "                                OrderTakeOff(cur_ship);",
              "                                ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) - 10000);",
              "                                SetData(1, 2, cur_ship); //   ,       ",
              "                                ChangeState('DefendingStarState', cur_ship);",
              "                            }",
              "",
              "                            //    ,     ",
              "                            if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "                            {",
              "                                if(GroupCount(CruisersDefenders))",
              "                                {",
              "                                    cur_ship = GroupToShip(CruisersDefenders);",
              "                                    if(StateIs(cur_ship, 'CruiserWaitState', 'LandingBaseState'))",
              "                                    {",
              "                                        if(!ShipInNormalSpace(cur_ship)) OrderTakeOff(cur_ship);",
              "                                        ShipSpecialBonuses(cur_ship, bonFuel, -10000);",
              "                                        SetData(1, 2, cur_ship); //   ,       ",
              "                                        ChangeState('DefendingStarState', cur_ship);",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //     ",
              "                else",
              "                {",
              "                    //    ,           ",
              "                    if(ShipNearbyShips(cur_ruin, -1, 0, 1, '', ''))//StarBattle(cur_star))",
              "                    {",
              "                        if(PlayerHQMainArray['Mercs', 'CurrentAtReady'])",
              "                        {",
              "                            SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, t_Warrior, PlayerHQMainArray['Mercs', 'CurrentAtReady']);",
              "                            PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "                        }",
              "                    }",
              "                    //    ,       ",
              "                    else",
              "                    {",
              "                        //   ",
              "                        for(i = 0; i < GroupCount(PlayerMercsDefenders); i = i + 1)",
              "                        {",
              "                            cur_ship = GroupShip(PlayerMercsDefenders, i);",
              "",
              "                            OrderLock(cur_ship, 1);",
              "                            ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "                            ChangeState('LandingBaseState', cur_ship);",
              "                        }",
              "                        //    ",
              "                        for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                        {",
              "                            cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                            if(!StateIs(cur_ship, 'DefendingStarState')) continue;",
              "",
              "                            OrderLock(cur_ship, 1);",
              "                            ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "                            ChangeState('LandingBaseState', cur_ship);",
              "                        }",
              "",
              "                        // ,     ",
              "                        if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "                        {",
              "                            if(GroupCount(CruisersDefenders))",
              "                            {",
              "                                cur_ship = GroupToShip(CruisersDefenders);",
              "                                if(StateIs(cur_ship, 'DefendingStarState'))",
              "                                {",
              "                                    OrderLock(cur_ship, 1);",
              "                                    ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "                                    ChangeState('LandingBaseState', cur_ship);",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        EtherDelete('PlayerMercsOrgStarAttack');",
              "                        SetData(0, 3, cur_ruin);",
              "                    }",
              "                }",
              "            }",
              "",
              "            //       ",
              "            if(PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'])",
              "            {",
              "                check = 0;",
              "                for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                    if(int(GetData(3, cur_ship)) != -2) continue;",
              "                    check = check + 1;",
              "                }",
              "",
              "                if(!check)",
              "                {",
              "                    CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasLost'));",
              "                    PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "                }",
              "            }",
              "",
              "            //       ",
              "            if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "            {",
              "                if(!GroupCount(CruisersDefenders))",
              "                {",
              "                    CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.CruiserDefenderWasLost'), '<Name'+'>', PlayerHQMainArray['Shipyard', 'LastHQCruiserName'], '255,240,100'));",
              "                    PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "                }",
              "            }",
              "        }",
              "        //    ,      ",
              "        else",
              "        {",
              "            NewsAdd(Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.HQWasDestroyed'), '<Star'+'>', Name(GalaxyStar(PlayerHQMainArray['Main', 'HQStar']))));",
              "",
              "            PlayerHQMainArray['Main', 'GreetingDialog'] = 1;",
              "            ClearPlayerHQMainArray();",
              "            PlayerHQMainArray['Main', 'HQId'] = 0;",
              "            PlayerHQMainArray['Main', 'HQStar'] = 0;",
              "            BuildOwnBase_InProcess = -2;",
              "        }",
              "    }",
              "}",
              "",
              "//         ",
              "if(0)//ArrayDim(PlayerHQMainArray) > 1)",
              "{",
              "    //         ()",
              "    if(0)//PlayerHQMainArray['Main', 'ReputationDecreaseTimer'] <= CurTurn())",
              "    {",
              "        PlayerHQMainArray['Main', 'CoalitionReputation'] = max(PlayerHQMainArray['Main', 'CoalitionReputation'] - RndObject(25, 50, GalaxyStar(Gaal)), 0);",
              "        PlayerHQMainArray['Main', 'PirateClanReputation'] = max(PlayerHQMainArray['Main', 'PirateClanReputation'] - RndObject(25, 50, GalaxyStar(Gaal)), 0);",
              "",
              "        PlayerHQMainArray['Main', 'ReputationDecreaseTimer'] = CurTurn() + 365;",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  3,
          "#":  11,
          "Total.Lines":  358,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "//       ",
              "cur_ship = GetTalkShip();",
              "if(cur_ship)",
              "{",
              "    if(IsPlayer(cur_ship))",
              "    {",
              "        if(BuildOwnBase_Condition == 2)",
              "        {",
              "            AddDialogOverride('PlayerDialog', 1000);",
              "            exit;",
              "        }",
              "    }",
              "",
              "    //    NPC  ",
              "    if(!TalkByAI())",
              "    {",
              "        //      (  )",
              "        if(ShipInCurScript(cur_ship))",
              "        {",
              "            tint1 = ShipGroup(cur_ship);",
              "            if(tint1 == QuestTarget || tint1 == QuestSupport || tint1 == QuestAttackers)",
              "            {",
              "                if(ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestShipNotScriptDialog') == -1) AddDialogOverride('QuestHQShipDialog', 5000);",
              "                exit;",
              "            }",
              "        }",
              "",
              "        tstr1 = ShipType(cur_ship);",
              "        //      ",
              "        if(tstr1 == 'PlayerMerc' || tstr1 == 'PlayerMercCruiser')",
              "        {",
              "            //    (, , )   ",
              "            if(ShipGroup(cur_ship) == PlayerMercsStrike)",
              "            {",
              "                //\"\"            ",
              "                if(GetData(2, cur_ship) == 1) AddDialogOverride('PlayerMercsStrikeGroup', 1000);",
              "                //   \"\"  ",
              "                else AddDialogOverride('PlayerMercsStrikeGroup', 1000);",
              "            }",
              "            else if(tstr1 == 'PlayerMercCruiser')",
              "            {",
              "                //            ",
              "                if(GetData(2, cur_ship) == 1) AddDialogOverride('PlayerMercsDialog', 1000);",
              "                //      ",
              "                else if(StateIs(cur_ship, 'SittingBaseState', 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState', 'LandingBaseState'))",
              "                {",
              "                    AddDialogOverride('PlayerMercsStrikeGroup', 1000);",
              "                }",
              "                else AddDialogOverride('PlayerMercsDialog', 1000);",
              "            }",
              "            //   -   ",
              "            else AddDialogOverride('PlayerMercsDialog', 1000);",
              "        }",
              "    }",
              "    //     NPC",
              "    else",
              "    {",
              "        tstr1 = ShipType(cur_ship);",
              "        //        ",
              "        if(tstr1 == 'PlayerMerc' || tstr1 == 'PlayerMercCruiser')",
              "        {",
              "            //   /,",
              "            //        ",
              "            if(GetTalkType() == TalkMoney || GetTalkType() == TalkGoods)",
              "            {",
              "                AddDialogOverride('PlayerMercsMoneyCall', 3000);",
              "            }",
              "            //      ,    ",
              "            else if(GetTalkType() == TalkAttack)",
              "            {",
              "                tstr1 = Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.MercAskAttack' + RndObject(1, 2, cur_ship)), '<TargetShip'+'>', Name(ShipGetBad(cur_ship)));",
              "                AddDialogBlock('BlockThis', 2);",
              "                AddDialogInject('Block', tstr1, 'BlockThis', 0, 1);",
              "            }",
              "        }",
              "    }",
              "}",
              "else",
              "{",
              "    //    /",
              "    cur_ruin = GetShipRuins(Player());",
              "    if(cur_ruin)",
              "    {",
              "        tint1 = PlayerBridge();",
              "        if(tint1)",
              "        {",
              "            //      ",
              "            if(tint1 <= 3)",
              "            {",
              "                //                ",
              "                if(BuildOwnBase_InProcess == 1)",
              "                {",
              "                    if(ShipInNormalSpace(Player()))",
              "                    {",
              "                        tstr1 = CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCall1');",
              "                        check = 0;",
              "                        for(int i = 0; i < GalaxyStars(); i = i + 1)",
              "                        {",
              "                            tdwd1 = GalaxyStar(i);",
              "                            if(StarOwner(tdwd1) == 1) continue;",
              "",
              "                            if(StarRuins(tdwd1, 'MB'))",
              "                            {",
              "                                check = 1;",
              "                                break;",
              "                            }",
              "                            else if(StarRuins(tdwd1, 'Manaan'))",
              "                            {",
              "                                check = 1;",
              "                                break;",
              "                            }",
              "                        }",
              "                        if(!check) AddDialogBlock(tstr1, 1);",
              "                        AddDialogInject('OwnBaseDialogBridge', '', tstr1, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            tstr1 = ShipType(cur_ruin);",
              "",
              "            if(QuestHQFlashDrivesGiven > 0)",
              "            {",
              "                //     -",
              "                if(tstr1 == 'WB')",
              "                {",
              "                    for(i = 1; i < ShipItems(Player()); i = i + 1)",
              "                    {",
              "                        cur_item = ShipItems(Player(), i);",
              "                        if(ItemType(cur_item) != t_UselessItem) continue;",
              "                        if(EquipmentImageName(cur_item) != 'ShuMercsHQ_PirateFlashDrive') continue;",
              "                        if(UselessItemData(cur_item, 1) != 1) continue;",
              "",
              "                        AddDialogInject('QuestHQRuinDialog', '', CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerAskWBAboutFlashDrive'), 1, 0, t_WB);",
              "                        break;",
              "                    }",
              "                }",
              "                else if(tstr1 == 'BK')",
              "                {",
              "                    if(QuestHQFlashDrivesGiven > 1) //      ",
              "                    {",
              "                        for(i = 1; i < ShipItems(Player()); i = i + 1)",
              "                        {",
              "                            cur_item = ShipItems(Player(), i);",
              "                            if(ItemType(cur_item) != t_UselessItem) continue;",
              "                            if(EquipmentImageName(cur_item) != 'ShuMercsHQ_PirateFlashDrive') continue;",
              "                            if(UselessItemData(cur_item, 1) != 2) continue;",
              "",
              "                            AddDialogInject('QuestHQRuinDialog', '', CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerAskBKAboutFlashDrive'), 1, 0, t_BK);",
              "                            break;",
              "                        }",
              "                    }",
              "                }",
              "                else if(tstr1 == 'CB')",
              "                {",
              "                    for(i = 1; i < ShipItems(Player()); i = i + 1)",
              "                    {",
              "                        cur_item = ShipItems(Player(), i);",
              "                        if(ItemType(cur_item) != t_UselessItem) continue;",
              "                        if(EquipmentImageName(cur_item) != 'ShuMercsHQ_PirateFlashDrive') continue;",
              "                        if(UselessItemData(cur_item, 1) != 1) continue;",
              "",
              "                        AddDialogInject('QuestHQRuinDialog', '', CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerAskCBAboutFlashDrive'), 1, 0, t_CB);",
              "                        break;",
              "                    }",
              "                }",
              "            }",
              "",
              "            //    , ,   ",
              "            if(tstr1 == 'WB' || tstr1 == 'PB' || tstr1 == 'RC' || tstr1 == 'CB')",
              "            {",
              "                //    ,         / ",
              "                //(      )",
              "                tint1 = ShipFindCustomShipInfoByType(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo');",
              "                if(~tint1)",
              "                {",
              "                    if(ShipStar(cur_ruin) == GalaxyStar(ShipCustomShipInfoData(Player(), tint1, 1) - 1))",
              "                    {",
              "                        AddDialogBlock(CT('FormRuins.PB.ChangeNationality.ChangeNationality'), 1);",
              "                    }",
              "                }",
              "",
              "                //        ",
              "                if(BuildOwnBase_InProcess == 2)",
              "                {",
              "                    //  \"\"   ",
              "                    if(!ScriptItemData(ApprovalDocuments, 2))",
              "                    {",
              "                        //          ",
              "                        //      ExpCB,   ",
              "                        if(tstr1 == 'WB' || tstr1 == 'RC') check = 0;",
              "                        else check = 7;",
              "",
              "                        if(!ShipOnSidePirateClan(Player()))",
              "                        {",
              "                            //     ",
              "                            if(TotalWBCount > 0) // -        ",
              "                            {",
              "                                if(tstr1 == 'WB')",
              "                                {",
              "                                    tstr1 = CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBAskP');",
              "                                    AddDialogInject('OwnBaseDialogWB/Dom', '', tstr1, 1);",
              "                                }",
              "                            }",
              "                            else",
              "                            {",
              "                                if(tstr1 == 'RC')",
              "                                {",
              "                                    tstr1 = CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.RCAskP');",
              "                                    AddDialogInject('OwnBaseDialogRC/PB', '', tstr1, 1);",
              "                                }",
              "                            }",
              "                        }",
              "                        else",
              "                        {",
              "                            //     ",
              "                            if(TotalCBCount > 0) // -        ",
              "                            {",
              "                                if(tstr1 == 'CB')",
              "                                {",
              "                                    tstr1 = CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomAskP');",
              "                                    AddDialogInject('OwnBaseDialogWB/Dom', '', tstr1, 1);",
              "                                }",
              "                            }",
              "                            else",
              "                            {",
              "                                if(tstr1 == 'PB')",
              "                                {",
              "                                    tstr1 = CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PBAskP');",
              "                                    AddDialogInject('OwnBaseDialogRC/PB', '', tstr1, 1);",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //    ",
              "                if(tstr1 == 'SB')",
              "                {",
              "                    //,        ",
              "                    if(BuildOwnBase_InProcess == 6)",
              "                    {",
              "                        if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 4)",
              "                        {",
              "                            //     ",
              "                            if(IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']) == cur_ruin)",
              "                            {",
              "                                if(!(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 1)) tstr1 = CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBeginPlayer');",
              "                                else tstr1 = CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBeginPlayerTwice');",
              "                                AddDialogInject('GluonGunsQuestDialog2', '', tstr1, 3);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //   ",
              "                else if(tstr1 == 'MB' || tstr1 == 'Manaan')",
              "                {",
              "                    //       ,     ",
              "                    if(ItemIn(TziptzilotsKey, Player()))",
              "                    {",
              "                        tstr1 = CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAskAboutTziptzilotsKey');",
              "                        AddDialogInject('TziptzilotsKeyDialog', '', tstr1, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //    ",
              "        cur_planet = GetShipPlanet(Player());",
              "        if(cur_planet)",
              "        {",
              "            //     ,       ",
              "            if(PrisonQuestCheck == 1)",
              "            {",
              "                if(BuildOwnBase_InProcess == 2) dialog_path = 'Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.';",
              "                else dialog_path = 'Script.Mod_ShuMercsHQ.PlayerHQRelocation.';",
              "",
              "                AddDialogOverride('OutOfPrison', 9999);",
              "            }",
              "",
              "            //        ,   ",
              "            if(BuildOwnBase_InProcess == 2 || (BuildOwnBase_InProcess == 6 && ItemExist(ApprovalDocuments)))",
              "            {",
              "                //  ,    ",
              "                cur_star = GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1)));",
              "                if(ShipStar(Player()) == cur_star)",
              "                {",
              "                    //,      ",
              "                    tstr1 = ScriptItemTextData(ApprovalDocuments, 2);",
              "                    i = 0;",
              "                    while(1)",
              "                    {",
              "                        tint1 = GetParFromString(tstr1, ',', i, 0);",
              "                        //  , ,       ",
              "                        if(cur_planet == StarPlanets(cur_star, tint1))",
              "                        {",
              "                            status = GetParFromString(ScriptItemTextData(ApprovalDocuments, 3), ',', i, 0);",
              "                            //   ",
              "                            if(!(status & 64))",
              "                            {",
              "                                if(BuildOwnBase_InProcess == 2) dialog_path = 'Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.';",
              "                                else dialog_path = 'Script.Mod_ShuMercsHQ.PlayerHQRelocation.';",
              "",
              "                                //  ,    ,   ",
              "                                num = i;",
              "                                //         ",
              "                                check = PlanetOwner(cur_planet);",
              "                                //   /   ",
              "                                if(GotoGov()) AddDialogOverride('OwnBaseDialogLock', 1000000);",
              "                                //    ,         ",
              "                                else if(!(status & 1) && !(status & 2)) tstr1 = CT(dialog_path + 'PlanetPlayerAsk1');",
              "                                //         ",
              "                                else tstr1 = CT(dialog_path + 'PlanetPlayerQuestAsk1');",
              "                                AddDialogInject('OwnBaseDialogPlanet', '', tstr1, 0);",
              "                            }",
              "                            break;",
              "                        }",
              "                        i = i + 1;",
              "                    }",
              "                }",
              "                //       (   )",
              "                // ,        ,     ",
              "                else",
              "                {",
              "                    //    ",
              "                    for(i = 1; i < ArrayDim(BuildOwnBase_QuestsArray); i = i + 1)",
              "                    {",
              "                        //  ,     ",
              "                        if(BuildOwnBase_QuestsArray[i, 5] == -1) continue;",
              "",
              "                        // ",
              "                        if(Id(cur_planet) == BuildOwnBase_QuestsArray[i, 4])",
              "                        {",
              "                            //,       ,     ",
              "                            cur_item = IdToItem(BuildOwnBase_QuestsArray[i, 8]);",
              "                            if(cur_item)",
              "                            {",
              "                                if(~FindItemInShip(Player(), cur_item))",
              "                                {",
              "                                    num = i;",
              "                                    tstr4 = BuildOwnBase_QuestsArray[i, 6];",
              "                                    tstr1 = CT(tstr4 + 'QuestDeliveredP');",
              "                                    AddDialogInject('OwnBaseDialogDeliver', '', tstr1, 0);",
              "                                    break;",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  24,
          "#":  20,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//BuildOwnBase_InProcess == -2 -   ,   ",
              "//BuildOwnBase_InProcess == -1 -      ,      ",
              "//BuildOwnBase_InProcess == 0 -       ,      ",
              "//BuildOwnBase_InProcess == 1 -    ,   ",
              "//BuildOwnBase_InProcess == 2 -    ,  ,   ",
              "//BuildOwnBase_InProcess == 3 -    ,    ,    ",
              "//BuildOwnBase_InProcess == 5 -    ,    ,     ",
              "//BuildOwnBase_InProcess == 6 -  ",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswer1');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAsk2');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  170,
          "Parent":  25,
          "#":  26,
          "Total.Lines":  43,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//        ",
              "if(BuildOwnBase_Condition == 6)",
              "{",
              "    cost = max(2500000, GalaxyMoney(4, 4) * 50);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerAgainConditionYes'), '<Cost'+'>', cost);",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAgainConditionYesStart');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAgainConditionYesCancel');",
              "    tint1 = 1;",
              "",
              "    //     ",
              "    ArrayClear(tarr1);",
              "    if(!ShipOnSidePirateClan(Player())) tint2 = 0;",
              "    else tint2 = 2;",
              "    for(i = 0; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        cur_star = StarNearbyStars(ShipStar(Player()), i);",
              "        if(!SectorVisible(StarToCon(cur_star))) continue;",
              "        if(StarOwner(cur_star) != tint2) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        if(StarToCon(cur_star) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "        //   ",
              "        if(StarRuins(cur_star, 'MB')) continue;",
              "",
              "        ArrayAdd(tarr1, cur_star);",
              "    }",
              "",
              "    if(ArrayDim(tarr1) > 1)",
              "    {",
              "        //     ",
              "        for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "        {",
              "            cur_star = tarr1[i];",
              "            InjectAnswer('OwnBaseDialogBridge_Choosed', CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerChooseStar') + ' <color=0,50,200>' + Name(cur_star) + '</color>', cur_star);",
              "        }",
              "    }",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerAgainConditionNo');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAgainConditionNo');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAgainConditionNoReAsk');",
              "    tint1 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  27,
          "#":  28,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswer2');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAsk3');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  30,
          "#":  31,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswer3');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerAsk4');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  33,
          "#":  34,
          "Total.Lines":  53,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//BuildOwnBase_Condition == < 0 -       ,     (   ,     ,    )",
              "//BuildOwnBase_Condition ==   0 -          ",
              "//BuildOwnBase_Condition ==   1 -   ,    ,       ,    ",
              "//BuildOwnBase_Condition ==   2 -   ,       ",
              "//BuildOwnBase_Condition ==   3 -          ",
              "//BuildOwnBase_Condition ==   4 -         ,     (      )   ",
              "//BuildOwnBase_Condition ==   5 -         (  ),    ",
              "//BuildOwnBase_Condition ==   6 -       ,   ",
              "",
              "if(BuildOwnBase_Condition == 6)",
              "{",
              "    cost = RoundTo(max(2500000, GalaxyMoney(4, 4) * 50), 1000, 0);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerConditionYes'), '<Cost'+'>', cost);",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionYesStart');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionYesCancel');",
              "    tint1 = 1;",
              "",
              "    //     ",
              "    ArrayClear(tarr1);",
              "    if(!ShipOnSidePirateClan(Player())) tint2 = 0;",
              "    else tint2 = 2;",
              "    for(i = 0; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        cur_star = StarNearbyStars(ShipStar(Player()), i);",
              "        if(!SectorVisible(StarToCon(cur_star))) continue;",
              "        if(StarOwner(cur_star) != tint2) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        if(StarToCon(cur_star) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "        //   ",
              "        if(StarRuins(cur_star, 'MB')) continue;",
              "",
              "        ArrayAdd(tarr1, cur_star);",
              "    }",
              "",
              "    if(ArrayDim(tarr1) > 1)",
              "    {",
              "        //     ",
              "        for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "        {",
              "            cur_star = tarr1[i];",
              "            InjectAnswer('OwnBaseDialogBridge_Choosed', CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerChooseStar') + ' <color=0,50,200>' + Name(cur_star) + '</color>', cur_star);",
              "        }",
              "    }",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerConditionNo');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionNoOk');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionNoReAsk');",
              "    tint1 = 0;",
              "}",
              "",
              "BuildOwnBase_InProcess = -1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  150,
          "Parent":  42,
          "#":  43,
          "Total.Lines":  32,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost = max(1250000, GalaxyMoney(4, 4) * 25);",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerTwice'), '<Cost'+'>', cost);",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerTwiceYes');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerTwiceNo');",
              "tint1 = 1;",
              "",
              "//     ",
              "ArrayClear(tarr1);",
              "if(!ShipOnSidePirateClan(Player())) tint2 = 0;",
              "else tint2 = 2;",
              "for(i = 0; i < GalaxyStars(); i = i + 1)",
              "{",
              "    cur_star = StarNearbyStars(ShipStar(Player()), i);",
              "    if(!SectorVisible(StarToCon(cur_star))) continue;",
              "    if(StarOwner(cur_star) != tint2) continue;",
              "    if(StarCustomFaction(cur_star) != '') continue;",
              "    if(StarToCon(cur_star) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "    //   ",
              "    if(StarRuins(cur_star, 'MB')) continue;",
              "",
              "    ArrayAdd(tarr1, cur_star);",
              "}",
              "",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    //     ",
              "    for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "    {",
              "        cur_star = tarr1[i];",
              "        InjectAnswer('OwnBaseDialogBridge_Choosed', CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerChooseStar') + ' <color=0,50,200>' + Name(cur_star) + '</color>', cur_star);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  36,
          "#":  44,
          "Total.Lines":  34,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Title');",
              "tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Stage1');",
              "Ether(3, 'BuildOwnMCBase', tstr1);",
              "//     ",
              "//(    Id  , Id      ,    )",
              "// :",
              "//ScriptItemData1 ==   (/),    (   );",
              "//ScriptItemTextData1 == Id ,   ;",
              "//ScriptItemData2 ==  (0/1)  ,       ,   ;",
              "//ScriptItemTextData2 ==          '0,2,3,'... (    StarPlanets(star, N))",
              "//ScriptItemData3 ==  ,     (   )",
              "//ScriptItemTextData3 ==            '2,58,0,'...",
              "//      ScriptItemTextData3:",
              "//    0 -   ,  ",
              "//    1 -  ",
              "//    2 -  ,   ",
              "//    4 -  ",
              "//    8 -   ",
              "//   16 -   ",
              "//   32 -     (      )",
              "//   64 -  ",
              "",
              "cur_item = CreateQuestItem('ShuMercsHQ_ApprovalDocuments', ShipPilotRace(cur_ruin));",
              "ItemSize(cur_item, 10);",
              "LinkItemToScript(cur_item, ApprovalDocuments);",
              "AddItemToShip(Player(), cur_item);",
              "NoDropItem(cur_item, 1);",
              "ApprovalDocumentsTextUpdate(cur_item);",
              "//       ",
              "if(tint1 == 2) BuildOwnBase_Condition == -3;",
              "",
              "//     ,   ",
              "BuildOwnBase_InProcess = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  49,
          "#":  50,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgeMBAnswer1');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCall2');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCallOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  52,
          "#":  53,
          "Total.Lines":  27,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!ShipOnSidePirateClan(Player())) tint1 = 0;",
              "else tint1 = 2;",
              "",
              "//     ",
              "ArrayClear(tarr1);",
              "for(i = 0; i < GalaxyStars(); i = i + 1)",
              "{",
              "    cur_star = StarNearbyStars(ShipStar(Player()), i);",
              "    if(!SectorVisible(StarToCon(cur_star))) continue;",
              "    if(StarOwner(cur_star) != tint1) continue;",
              "    if(StarCustomFaction(cur_star) != '') continue;",
              "    if(StarToCon(cur_star) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "    //   ",
              "    if(StarRuins(cur_star, 'MB')) continue;",
              "    ArrayAdd(tarr1, cur_star);",
              "}",
              "",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgeMBAnswer2');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCall3');",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgeMBAnswerNoStars');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCallNoStars');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  54,
          "#":  55,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    cur_star = tarr1[i];",
              "    InjectAnswer('OwnBaseDialogBridge_Choosed', CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgeChooseStar') + ' <color=0,50,200>' + Name(cur_star) + '</color>', cur_star);",
              "}",
              "DAnswer('restart~' + tstr2);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  56,
          "#":  57,
          "Total.Lines":  8,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_star = GAnswerData;",
              "check = 0;",
              "if(ShipType(cur_ruin) == 'MB') check = 1;",
              "",
              "//      ",
              "if(check) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovChooseStarDone'), '<Star'+'>', Name(cur_star));",
              "//     ",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgeMBAnswer3'), '<Star'+'>', Name(cur_star));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  58,
          "#":  62,
          "Total.Lines":  51,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      ",
              "if(check)",
              "{",
              "    cur_item = CreateQuestItem('ShuMercsHQ_ApprovalDocuments', ShipPilotRace(cur_ruin));",
              "    ItemSize(cur_item, 10);",
              "    LinkItemToScript(cur_item, ApprovalDocuments);",
              "    AddItemToShip(Player(), cur_item);",
              "    NoDropItem(cur_item, 1);",
              "}",
              "//     ",
              "else cur_item = ScriptItemToItem(ApprovalDocuments);",
              "",
              "//       ",
              "ScriptItemTextData(cur_item, 1, Id(cur_star) - 1);",
              "ScriptItemData(cur_item, 1, StarOwner(cur_star));",
              "",
              "tstr1 = '';",
              "tstr2 = '';",
              "for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "{",
              "    cur_planet = StarPlanets(cur_star, i);",
              "    if(PlanetOwner(cur_planet) == 6) continue;",
              "    //ScriptItemTextData2 ==          '0,2,3'... (    StarPlanets(star, N))",
              "    //ScriptItemTextData3 ==            '0,1,0'...",
              "    tstr1 = tstr1 + i + ',';",
              "    tstr2 = tstr2 + '0,';",
              "    ScriptItemData(cur_item, 3, ScriptItemData(cur_item, 3) + 1);",
              "}",
              "ScriptItemTextData(cur_item, 2, tstr1);",
              "ScriptItemTextData(cur_item, 3, tstr2);",
              "",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(cur_item);",
              "//       ",
              "if(tint1 == 2) BuildOwnBase_Condition == -3;",
              "",
              "//      ",
              "tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Title');",
              "tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\";",
              "if(!ShipOnSidePirateClan(Player())) tstr1 = tstr1 + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Stage2_Coalition'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "else tstr1 = tstr1 + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Stage2_PirateClan'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "Ether(3, 'BuildOwnMCBase', tstr1);",
              "",
              "// ",
              "BuildOwnBase_InProcess = 2;",
              "",
              "//      ",
              "if(check) tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerChooseStarDone');",
              "//     ",
              "else tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.BridgePlayerCallEnd');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  64,
          "#":  65,
          "Total.Lines":  100,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      :",
              "/// :",
              "//1-25% (    ,   ) -  ",
              "//26-75% (     ,   ) -   (  50%   ),",
              "//       10% (      ,   )",
              "//:",
              "//25% ( ) -   ",
              "//",
              "//, : max(250000 * (GalaxyDiffLevels(1) / 50), GalaxyMoney(4, 4) * 5);",
              "//        ( 17%)    ( 17%),   34%",
              "//   , :",
              "// 0.75",
              "// 1.10",
              "// 1.00",
              "// 1.20",
              "// 1.30",
              "// 1.80",
              "//(       1.5)",
              "",
              "// ( ) /   ( ) 2.0 (     )",
              "",
              "//  ",
              "if(check <= 4)",
              "{",
              "    if(RelationToRanger(cur_planet, Player()) >= 60)",
              "    {",
              "        // ",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalGood');",
              "        //",
              "        //(   )",
              "        if(!(status & 4)) tint1 = 1;",
              "        //( ,  )",
              "        else tint1 = -1;",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalQuest');",
              "        //",
              "        tint2 = PersuasionCalc(status, cur_planet, check);",
              "        tstr3 = '</color>' + CT(dialog_path + 'PlanetGovCoalPersuasion');",
              "        //",
              "        tint3 = ThreatCalc(status, cur_planet, check);",
              "        tstr4 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatGood');",
              "    }",
              "    else",
              "    {",
              "        // ",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalBad');",
              "        // (   )",
              "        tint1 = -2;",
              "        // (   )",
              "        tint2 = -2;",
              "        //",
              "        tint3 = ThreatCalc(status, cur_planet, check);",
              "        tstr4 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatBad');",
              "    }",
              "",
              "    //",
              "    tint4 = 1;",
              "    cost = BribeCalc(0, cur_planet, check);",
              "    tstr5 = '</color>' + CT(dialog_path + 'PlanetGovCoalBribe');",
              "    // ",
              "    tstr6 = '</color>' + CT(dialog_path + 'PlanetGovCoalReturn');",
              "}",
              "//  ",
              "else",
              "{",
              "    if(RelationToRanger(PlanetPirateClan(), Player()) >= 60)",
              "    {",
              "        // ",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirGood');",
              "        //",
              "        //(   )",
              "        if(!(status & 4)) tint1 = 1;",
              "        //( ,  )",
              "        else tint1 = -1;",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirQuest');",
              "        // (   )",
              "        tint2 = -2;",
              "        //",
              "        tint3 = ThreatCalc(status, cur_planet, check);",
              "        tstr4 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatGood');",
              "    }",
              "    else",
              "    {",
              "        // ",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirBad');",
              "        // (   )",
              "        tint1 = -2;",
              "        // (   )",
              "        tint2 = -2;",
              "        //",
              "        tint3 = ThreatCalc(status, cur_planet, check);",
              "        tstr4 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatBad');",
              "    }",
              "",
              "    //",
              "    tint4 = 1;",
              "    cost = BribeCalc(0, cur_planet, check);",
              "    tstr5 = '</color>' + CT(dialog_path + 'PlanetGovPirBribe');",
              "    // ",
              "    tstr6 = '</color>' + CT(dialog_path + 'PlanetGovPirReturn');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  66,
          "#":  67,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ",
              "if(check <= 4) tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalQuestInProcess');",
              "//  ",
              "else tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirQuestInProcess');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -60,
          "Pos.y":  20,
          "Parent":  79,
          "#":  91,
          "Total.Lines":  596,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      (  10      )",
              "//  -   ( 3)",
              "//  -   ( 10  ),   tarr1[i, 0, 0]          ",
              "//  -    (  12  +    Lang):",
              "//  / :",
              "//   tarr1[i, j, 0] ==    ,        :",
              "//      1 - ",
              "//      4 -  ",
              "//   tarr1[i, j, 1] ==     :",
              "//      1  - ",
              "//      2  - ",
              "//      4  -  (  )",
              "//      8  -  ( ..  )",
              "//      16 - ",
              "//      32 - ",
              "//   tarr1[i, j, 2] ==     (   ),   8  ",
              "//   tarr1[i, j, 3] ==  ()   (     )",
              "//   tarr1[i, j, 4] ==    :",
              "//      1  - ",
              "//      2  - ",
              "//      4  - ",
              "//      8  - ",
              "//      16 - ",
              "//   tarr1[i, j, 5] ==    (owner) :",
              "//      1   - ",
              "//      2   - ",
              "//      4   - ",
              "//      8   - ",
              "//      16  - ",
              "//      32  - ",
              "//      64  - ",
              "//      128 -  ",
              "//   tarr1[i, j, 6] ==         ",
              "//   tarr1[i, j, 7] ==         ",
              "//   tarr1[i, j, 8] ==      ",
              "//   tarr1[i, j, 9] ==      ",
              "//   tarr1[i, j, 11] ==     Lang",
              "//  :",
              "//   tarr1[i, j, 0] ==    ,       :",
              "//      1 - ",
              "//      4 -  ",
              "//   tarr1[i, j, 1] ==    :",
              "//      1  - ",
              "//      2  - ",
              "//      4  - ",
              "//      8  - ",
              "//      16 - ",
              "//   tarr1[i, j, 2] ==   (owner)  :",
              "//      1   - ",
              "//      2   - ",
              "//      4   - ",
              "//      8   - ",
              "//      16  - ",
              "//      32  - ",
              "//      64  - ",
              "//      128 -  ",
              "//   tarr1[i, j, 3] ==         ",
              "//   tarr1[i, j, 4] ==         ",
              "//   tarr1[i, j, 5] ==      ",
              "//   tarr1[i, j, 6] ==      ",
              "//   tarr1[i, j, 7] ==     ",
              "//   tarr1[i, j, 8] ==  -    ( -1,        )",
              "//      1   - ",
              "//      2   - ",
              "//      4   - ",
              "//      8   - ",
              "//      16  - ",
              "//      32  - ",
              "//      64  - ",
              "//      128 -  ",
              "//   tarr1[i, j, 9] ==     ( -1,        )",
              "//   tarr1[i, j, 10] ==     ( -1,        )",
              "//   tarr1[i, j, 11] ==     Lang",
              "free(tarr1);",
              "tarr1 = newarray(3, 11, 12);",
              "//             ",
              "tint4 = 0;",
              "",
              "tdwd1 = ShipStar(Player());",
              "if(check <= 4) tstr2 = 'Coalition.';",
              "else tstr2 = 'PirateClan.';",
              "//  ",
              "for(i = 0; i <= 2; i = i + 1)",
              "{",
              "    if(!i) tstr1 = 'Quest.ShuMercs.KillShip.' + tstr2;",
              "    else if(i == 1) tstr1 = 'Quest.ShuMercs.DefShip.' + tstr2;",
              "    else tstr1 = 'Quest.ShuMercs.SendLetter.' + tstr2;",
              "",
              "    //   ",
              "    tarr1[i, 0, 0] = 0;",
              "    //     ",
              "    tint2 = 0; //   ",
              "    for(j = 1; j <= CT(tstr1 + 'Count'); j = j + 1)",
              "    {",
              "        tstr3 = tstr1 + j;",
              "        if(BlockExist(CT(tstr3)))",
              "        {",
              "            tstr3 = tstr3 + '.';",
              "",
              "            //      // ,      (  )",
              "            if(~findsubstr(GBuildOwnBase_QuestsGiven, CT(tstr3 + 'QuestId'))) continue;",
              "",
              "            //    ",
              "            //      ,     ",
              "            tstr4 = CT(tstr3 + 'StartPlanetRace');",
              "            //  ,      ",
              "            if(tstr4 != '' && tstr4 != 'Any')",
              "            {",
              "                k = 0;",
              "                tint1 = 0;",
              "                tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                while(tstr5 != '')",
              "                {",
              "                    // ",
              "                    if(PlanetRace(cur_planet) == GetValueFromScript('', tstr5))",
              "                    {",
              "                        tint1 = 1;",
              "                        break;",
              "                    }",
              "",
              "                    k = k + 1;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                }",
              "",
              "                if(!tint1) continue;",
              "            }",
              "",
              "            //     ",
              "            tint2 = tint2 + 1;",
              "            //  ,     ",
              "            //    /  (   )",
              "            if(i < 2)",
              "            {",
              "                //     (     )",
              "                tstr4 = CT(tstr3 + 'TargetStarOwner');",
              "                //  ,      ,  1+4 (5)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 0] = 5;",
              "                // ,     ,     ",
              "                else if(tstr4 == 'AsStartStar') tarr1[i, tint2, 0] = 1 << StarOwner(tdwd1); // ",
              "                //     ",
              "                else",
              "                {",
              "                    if(tstr4 == 'Coalition') tarr1[i, tint2, 0] = 1;",
              "                    else tarr1[i, tint2, 0] = 4;",
              "                }",
              "",
              "                //    ",
              "                tstr4 = CT(tstr3 + 'TargetShipType');",
              "                //  ,       ( )    1+2+4+8+16+32 (63)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 1] = 63;",
              "                //         ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 1] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        //   ",
              "                        tarr1[i, tint2, 1] = tarr1[i, tint2, 1] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //   ",
              "                tstr4 = CT(tstr3 + 'TargetShipSubType');",
              "                //  ,          1+2+4+8+16+32+64+128 (255)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 2] = 255;",
              "                //         ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 2] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        // Lang      ",
              "                        tint1 = tstr5;",
              "                        //   ",
              "                        tarr1[i, tint2, 2] = tarr1[i, tint2, 2] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //     (     )",
              "                tarr1[i, tint2, 3] = CT(tstr3 + 'TargetShipStringType');",
              "",
              "                //    ( 5)",
              "                tstr4 = CT(tstr3 + 'TargetShipRace');",
              "                //  ,          1+2+4+8+16 (31)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 4] = 31;",
              "                // ,      ,    ",
              "                else if(tstr4 == 'AsStartPlanet') tarr1[i, tint2, 4] = 1 << PlanetRace(cur_planet);",
              "                //      ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 4] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        // ",
              "                        tarr1[i, tint2, 4] = tarr1[i, tint2, 4] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //    ( 8)",
              "                tstr4 = CT(tstr3 + 'TargetShipOwner');",
              "                //  ,          1+2+4+8+16+32+64+128 (255)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 5] = 255;",
              "                // ,      ,    ",
              "                else if(tstr4 == 'AsStartPlanet') tarr1[i, tint2, 5] = 1 << PlanetOwner(cur_planet);",
              "                //      ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 5] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        // ",
              "                        tarr1[i, tint2, 5] = tarr1[i, tint2, 5] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //          ",
              "                tarr1[i, tint2, 6] = 0 + CT(tstr3 + 'MinStarParsecRange');",
              "                tarr1[i, tint2, 7] = 0 + CT(tstr3 + 'MaxStarParsecRange');",
              "                if(tarr1[i, tint2, 7] > tint4) tint4 = tarr1[i, tint2, 7];",
              "",
              "                //       (    )",
              "                tarr1[i, tint2, 8] = 0 + CT(tstr3 + 'MinTime');",
              "                tarr1[i, tint2, 9] = 0 + CT(tstr3 + 'MaxTime');",
              "",
              "                //         Lang",
              "                tarr1[i, tint2, 11] = tstr3;",
              "            }",
              "            //    ",
              "            else",
              "            {",
              "                //     (     )",
              "                tstr4 = CT(tstr3 + 'TargetStarOwner');",
              "                //  ,      ,  1+4 (5)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 0] = 5;",
              "                // ,     ,     ",
              "                else if(tstr4 == 'AsStartStar') tarr1[i, tint2, 0] = 1 << StarOwner(ShipStar(Player()));",
              "                //     ",
              "                else",
              "                {",
              "                    if(tstr4 == 'Coalition') tarr1[i, tint2, 0] = 1;",
              "                    else tarr1[i, tint2, 0] = 4;",
              "                }",
              "",
              "                //     ( 5 )",
              "                tstr4 = CT(tstr3 + 'TargetPlanetRace');",
              "                //  ,       ( )    1+2+4+8+16 (31)",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 1] = 31;",
              "                // ,      ,    ",
              "                else if(tstr4 == 'AsStartPlanet') tarr1[i, tint2, 1] = 1 << PlanetRace(cur_planet);",
              "                //         ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 1] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        //   ",
              "                        tarr1[i, tint2, 1] = tarr1[i, tint2, 1] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //     ( 8)",
              "                tstr4 = CT(tstr3 + 'TargetPlanetOwner');",
              "                //  ,          1+2+4+8+16+128 (159),    ",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 2] = 159;",
              "                // ,      ,    ",
              "                else if(tstr4 == 'AsStartPlanet') tarr1[i, tint2, 2] = 1 << PlanetOwner(cur_planet);",
              "                //      ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 2] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        // ",
              "                        tarr1[i, tint2, 2] = tarr1[i, tint2, 2] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //         ",
              "                tarr1[i, tint2, 3] = 0 + CT(tstr3 + 'MinStarParsecRange');",
              "                tarr1[i, tint2, 4] = 0 + CT(tstr3 + 'MaxStarParsecRange');",
              "                if(tarr1[i, tint2, 4] > tint4) tint4 = tarr1[i, tint2, 4];",
              "",
              "                //       (    )",
              "                tarr1[i, tint2, 5] = 0 + CT(tstr3 + 'MinTime');",
              "                tarr1[i, tint2, 6] = 0 + CT(tstr3 + 'MaxTime');",
              "",
              "                //   ,       ",
              "                tarr1[i, tint2, 7] = CT(tstr3 + 'QuestItemName');",
              "",
              "                // -   (   )",
              "                tstr4 = CT(tstr3 + 'QuestItemOwner');",
              "                //   ,   ",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 8] = -1;",
              "                // ,  -    ,    ",
              "                else if(tstr4 == 'AsStartPlanet') tarr1[i, tint2, 8] = 1 << PlanetOwner(cur_planet);",
              "                //      ",
              "                else",
              "                {",
              "                    //  ",
              "                    tarr1[i, tint2, 8] = 0;",
              "",
              "                    k = 0;",
              "                    tint1 = 0;",
              "                    tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    while(tstr5 != '')",
              "                    {",
              "                        tint1 = GetValueFromScript('', tstr5);",
              "                        // ",
              "                        tarr1[i, tint2, 8] = tarr1[i, tint2, 8] + (1 << tint1);",
              "",
              "                        k = k + 1;",
              "                        tstr5 = GetParFromString(tstr4, ',', k, 1);",
              "                    }",
              "                }",
              "",
              "                //    (   )",
              "                tstr4 = CT(tstr3 + 'QuestItemCost');",
              "                //   ,   ",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 9] = -1;",
              "                else tarr1[i, tint2, 9] = 0 + tstr4;",
              "",
              "                //    (   )",
              "                tstr4 = CT(tstr3 + 'QuestItemSize');",
              "                //   ,   ",
              "                if(tstr4 == '' || tstr4 == 'Any') tarr1[i, tint2, 10] = -1;",
              "                else tarr1[i, tint2, 10] = 0 + tstr4;",
              "",
              "                //         Lang",
              "                tarr1[i, tint2, 11] = tstr3;",
              "            }",
              "        }",
              "    }",
              "",
              "    //      ",
              "    tarr1[i, 0, 0] = tint2;",
              "}",
              "",
              "//      ,      ",
              "//        (   )",
              "tstr6 = '';",
              "//    (     )",
              "for(k = 1; k < GalaxyStars(); k = k + 1)",
              "{",
              "    cur_star = StarNearbyStars(tdwd1, k);",
              "    //,         ",
              "    if(StarBattle(cur_star)) continue;",
              "    //      ",
              "    tdwd3 = StarToCon(cur_star);",
              "    if(!SectorVisible(tdwd3)) continue;",
              "    if(tdwd3 == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "    //  3-  ",
              "    for(i = 0; i <= 2; i = i + 1)",
              "    {",
              "        //     ",
              "        for(j = 1; j <= tarr1[i, 0, 0]; j = j + 1)",
              "        {",
              "            //    : i*j*NNN,i*j*NNN...",
              "            //i ==   ",
              "            //j ==   ",
              "            //NNN ==  ( ) /,      ",
              "            //         ,     ",
              "            if(~findsubstr(tstr6, '' + i + '*' + j + '*')) continue;",
              "",
              "            //     ",
              "            if(i < 2)",
              "            {",
              "                //        ",
              "                if(!(tarr1[i, j, 0] & (1 << StarOwner(cur_star)))) continue;",
              "                if(StarCustomFaction(cur_star) != '') continue;",
              "",
              "                tint1 = round(sqrt(Dist2Star(cur_star, tdwd1)));",
              "                //        ",
              "                if(tint1 < tarr1[i, j, 6]) continue;",
              "                //        ",
              "                if(tint1 > tarr1[i, j, 7])",
              "                {",
              "                    if(tint1 > tint4)",
              "                    {",
              "                        tint4 = 0;",
              "                        break;",
              "                    }",
              "                    continue;",
              "                }",
              "",
              "                //  ",
              "                for(m = 0; m < StarShips(cur_star); m = m + 1)",
              "                {",
              "                    cur_ship = StarShips(cur_star, m);",
              "",
              "                    //      OrderLock",
              "                    if(ShipInScript(cur_ship)) continue;",
              "                    // ,      ",
              "                    if(ShipInPrison(cur_ship)) continue;",
              "                    //    ",
              "                    if(HullDamage(cur_ship) > 33) continue;",
              "                    //        ",
              "                    if(!(tarr1[i, j, 1] & (1 << ShipTypeN(cur_ship)))) continue;",
              "                    //       ",
              "                    if(!(tarr1[i, j, 2] & (1 << ShipSubType(cur_ship)))) continue;",
              "                    //       ",
              "                    if(!(tarr1[i, j, 5] & (1 << ShipOwner(cur_ship)))) continue;",
              "                    //        ",
              "                    if(!(tarr1[i, j, 4] & (1 << ShipPilotRace(cur_ship)))) continue;",
              "                    //             ",
              "                    tstr4 = tarr1[i, j, 3];",
              "                    //  ,        ",
              "                    if(tstr4 != '' && tstr4 != 'Any')",
              "                    {",
              "                        n = 0;",
              "                        tint1 = 0;",
              "                        tstr5 = GetParFromString(tstr4, ',', n, 1);",
              "                        while(tstr5 != '')",
              "                        {",
              "                            // ",
              "                            if(ShipType(cur_ship) == tstr5)",
              "                            {",
              "                                tint1 = 1;",
              "                                break;",
              "                            }",
              "",
              "                            n = n + 1;",
              "                            tstr5 = GetParFromString(tstr4, ',', n, 1);",
              "                        }",
              "",
              "                        if(!tint1) continue;",
              "                    }",
              "",
              "                    //      ,        ",
              "                    tstr6 = tstr6 + ',' + i + '*' + j + '*' + cur_ship + '*' + tarr1[i, j, 11];",
              "                    break;",
              "                }",
              "            }",
              "            //  ",
              "            else",
              "            {",
              "                //       ",
              "                if(!((1 << StarOwner(cur_star)) & tarr1[i, j, 0])) continue;",
              "                if(StarCustomFaction(cur_star) != '') continue;",
              "",
              "                tint1 = round(sqrt(Dist2Star(cur_star, tdwd1)));",
              "                //        ",
              "                if(tint1 < tarr1[i, j, 3]) continue;",
              "                //        ",
              "                if(tint1 > tarr1[i, j, 4])",
              "                {",
              "                    if(tint1 > tint4)",
              "                    {",
              "                        tint4 = 0;",
              "                        break;",
              "                    }",
              "                    continue;",
              "                }",
              "",
              "                //  ",
              "                for(m = 0; m < StarPlanets(cur_star); m = m + 1)",
              "                {",
              "                    tdwd2 = StarPlanets(cur_star, m);",
              "                    //       ",
              "                    if(!(tarr1[i, j, 2] & (1 << PlanetOwner(tdwd2)))) continue;",
              "                    //       ",
              "                    if(!(tarr1[i, j, 1] & (1 << PlanetRace(tdwd2)))) continue;",
              "",
              "                    //      ,        ",
              "                    tstr6 = tstr6 + ',' + i + '*' + j + '*' + tdwd2 + '*' + tarr1[i, j, 11];",
              "                    break;",
              "                }",
              "            }",
              "        }",
              "    }",
              "",
              "    //            ,",
              "    //     ,   ",
              "    if(!tint4) break;",
              "}",
              "",
              "//    ",
              "if(ParsCountFromString(tstr6, ','))",
              "{",
              "    tstr6 = GetParFromString(tstr6, ',', Rnd(1, ParsCountFromString(tstr6, ',') - 1, sqr(Id(cur_planet) + CurTurn() + 21)), 0);",
              "",
              "    i = GetParFromString(tstr6, '*', 0, 0);",
              "    j = GetParFromString(tstr6, '*', 1, 0);",
              "    // ,   ",
              "    tdwd1 = GetParFromString(tstr6, '*', 2, 0);",
              "    //     Lang",
              "    tstr5 = GetParFromString(tstr6, '*', 3, 0);",
              "    tstr3 = 'ERROR!';",
              "    if(ObjectType(tdwd1) == 5)",
              "    {",
              "        tdwd2 = ShipStar(tdwd1);",
              "        tstr3 = ShipName(tdwd1);",
              "",
              "        // ,    ",
              "        tint4 = CurTurn() + PortionInDiapason(round(sqrt(Dist2Star(ShipStar(Player()), tdwd2))), tarr1[i, j, 6], tarr1[i, j, 7], tarr1[i, j, 8], tarr1[i, j, 9]);",
              "    }",
              "    else",
              "    {",
              "        tdwd2 = PlanetToStar(tdwd1);",
              "        // ,    ",
              "        tint4 = CurTurn() + PortionInDiapason(round(sqrt(Dist2Star(ShipStar(Player()), tdwd2))), tarr1[i, j, 3], tarr1[i, j, 4], tarr1[i, j, 5], tarr1[i, j, 6]);",
              "",
              "        //        ",
              "        cur_item = CreateQuestItem(tarr1[i, j, 7]);",
              "        if(~tarr1[i, j, 8])",
              "        {",
              "            tint2 = -1;",
              "            while(!(tarr1[i, j, 8] & (1 << tint2))) tint2 = RndObject(Maloc, PirateClan, tdwd2);",
              "            ItemOwner(cur_item, tint2);",
              "        }",
              "        if(~tarr1[i, j, 9]) ItemCost(cur_item, tarr1[i, j, 9]);",
              "        if(~tarr1[i, j, 10]) ItemSize(cur_item, tarr1[i, j, 10]);",
              "        PutItemInVault('BuildOwnBase_QuestItem', cur_item);",
              "    }",
              "",
              "    tstr4 = GameDateTxtByTurn(tint4);",
              "    tstr1 = '</color>' + Format(CT(tstr5 + 'QuestIntro'), '<StartPlanet'+'>', Name(cur_planet), '<TargetShip'+'>', tstr3, '<TargetShipFull'+'>', Name(tdwd1), '<TargetPlanet'+'>', Name(tdwd1), '<TargetStar'+'>', Name(tdwd2), '<EndDate'+'>', tstr4, '0,50,200');",
              "    tstr2 = '</color>' + CT(tstr5 + 'QuestTakeYesP');",
              "    tstr3 = '</color>' + CT(tstr5 + 'QuestTakeNoP');",
              "",
              "    tint1 = 1;",
              "}",
              "else",
              "{",
              "    //  ",
              "    if(check <= 4)",
              "    {",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalQuestNo');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalQuestNoP');",
              "    }",
              "    //  ",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirQuestNo');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirQuestNoP');",
              "    }",
              "",
              "    tint1 = 0;",
              "}",
              "",
              "//      ",
              "free(tarr1);",
              "tarr1 = newarray(1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  81,
          "#":  92,
          "Total.Lines":  32,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ",
              "if(check <= 4)",
              "{",
              "    //   ",
              "    if(Rnd(1, 100, sqr(Id(cur_planet) + 1010)) <= tint2)",
              "    {",
              "        tint2 = 1;",
              "        //    ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "        //    (      )",
              "        ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "        //     ",
              "        RelationToRanger(cur_planet, Player(), 100);",
              "",
              "        tstr1 = '</color>' + Format(CT(dialog_path + 'PlanetGovCoalPersuasionSuccess'), '<Cost'+'>', cost);",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalPersuasionSuccessP');",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        tint2 = 0;",
              "        //     (  )",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (8 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "        tstr1 = '</color>' + Format(CT(dialog_path + 'PlanetGovCoalPersuasionFail'), '<Cost'+'>', cost);",
              "    }",
              "}",
              "//  ",
              "else",
              "{}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  83,
          "#":  93,
          "Total.Lines":  122,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ",
              "if(check <= 4)",
              "{",
              "    //   ",
              "    if(RelationToRanger(cur_planet, Player()) >= 60)",
              "    {",
              "        //   ",
              "        if(Rnd(1, 100, sqr(Id(cur_planet) + 2150)) <= tint3)",
              "        {",
              "            tint3 = -1;",
              "            //    ",
              "            tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "            ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "            //    (      )",
              "            ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "            //       ",
              "            RelationToRanger(cur_planet, Player(), 10);",
              "",
              "            tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatGoodSuccess');",
              "            tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatSuccessP');",
              "        }",
              "        else",
              "        {",
              "            //       ",
              "            tint3 = tint3 / 2;",
              "            cost = 0;",
              "            //     (  )",
              "            tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "            ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (16 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "            tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSure');",
              "            tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureYesP');",
              "            tstr3 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureNoP');",
              "        }",
              "    }",
              "    //   ",
              "    else",
              "    {",
              "        //   ",
              "        if(Rnd(1, 100, sqr(Id(cur_planet) + 1445)) <= tint3)",
              "        {",
              "            tint3 = -1;",
              "            //    ",
              "            tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "            ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "            //    (      )",
              "            ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "            //       ",
              "            RelationToRanger(cur_planet, Player(), 10);",
              "",
              "            tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatBadSuccess');",
              "            tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatSuccessP');",
              "        }",
              "        else",
              "        {",
              "            //     ",
              "            tint3 = -2;",
              "            GotoGov(2);",
              "            //     (  )",
              "            tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "            ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (16 + GetParFromString(tstr1, ',', num, 0))));",
              "            //      ",
              "            //RelationToRanger(cur_planet, Player(), 0);",
              "",
              "            tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatFail');",
              "            tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatFailP');",
              "        }",
              "    }",
              "}",
              "//  ",
              "else",
              "{",
              "    //   ",
              "    if(Rnd(1, 100, sqr(Id(cur_planet) + 1950)) <= tint3 / 3)",
              "    {",
              "        tint3 = -1;",
              "        //    ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "        //    (      )",
              "        ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "        //       ",
              "        if(check <= 4)",
              "        {",
              "            RelationToRanger(cur_planet, Player(), 10);",
              "        }",
              "        else",
              "        {",
              "            RelationToRanger(PlanetPirateClan(), Player(), RelationToRanger(PlanetPirateClan(), Player()) - 25);",
              "            if(RelationToRanger(PlanetPirateClan(), Player()) < 10) RelationToRanger(PlanetPirateClan(), Player(), 10);",
              "        }",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatSuccess');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatSuccessP');",
              "    }",
              "    else if(Rnd(1, 100, sqr(Id(cur_planet) + 1950)) <= tint3)",
              "    {",
              "        //       ",
              "        tint3 = round(1.0 * tint3 / 7.5);",
              "        cost = cost / 2;",
              "        //     (  )",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (16 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "        tstr1 = '</color>' + Format(CT(dialog_path + 'PlanetGovPirThreatHaHa'), '<Cost'+'>', cost);",
              "        tstr4 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatHaHaP1');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatHaHaP2');",
              "        tstr3 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatHaHaP3');",
              "    }",
              "    else",
              "    {",
              "        //   ",
              "        tint3 = -2;",
              "        GotoGov(2);",
              "        //     (  )",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (16 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatFail');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatDead');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  20,
          "Parent":  85,
          "#":  94,
          "Total.Lines":  15,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ",
              "if(check <= 4)",
              "{",
              "    tstr1 = '</color>' + Format(CT(dialog_path + 'PlanetGovCoalBribeCost'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalBribeYes');",
              "    tstr3 = '</color>' + CT(dialog_path + 'PlanetGovCoalBribeNo');",
              "    tstr4 = '</color>' + CT(dialog_path + 'PlanetGovCoalBribeNoOut');",
              "}",
              "//  ",
              "else",
              "{",
              "    tstr1 = '</color>' + Format(CT(dialog_path + 'PlanetGovPirBribeCost'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirBribeYes');",
              "    tstr3 = '</color>' + CT(dialog_path + 'PlanetGovPirBribeNo');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -90,
          "Pos.y":  80,
          "Parent":  -1,
          "#":  106,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "",
              "//   ",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  121,
          "#":  122,
          "Total.Lines":  15,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ",
              "//   (   )",
              "if(check <= 4)",
              "{",
              "    GotoGov(0);",
              "    StartTextQuest('Prison', '', '');",
              "    FormChange('Planet');",
              "}",
              "//   (  )",
              "else",
              "{",
              "    GotoGov(0);",
              "    //CustomLose(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PlanetGovPirThreatEndGame'));",
              "    CustomLose(CT('FormGameEnd.Loss'));",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -40,
          "Parent":  10,
          "#":  124,
          "Total.Lines":  69,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// /   ",
              "//PrisonQuestCheck == -1 -   ,        ",
              "//PrisonQuestCheck ==  0 -  ",
              "//PrisonQuestCheck ==  1 -    ,       ",
              "",
              "if(GQuestStatus == 2)",
              "{",
              "    tdwd1 = GetShipPlanet(Player());",
              "",
              "    if(RelationToRanger(tdwd1, Player()) < 40) RelationToRanger(tdwd1, Player(), 40);",
              "    PrisonQuestCheck = 1;",
              "    GotoGov(2);",
              "",
              "    if(ItemIn(ApprovalDocuments, Player()))",
              "    {",
              "        //       ,  ,       ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 2);",
              "        for(i = 0; i < ParsCountFromString(tstr1, ','); i = i + 1)",
              "        {",
              "            //  , ,       ",
              "            if(tdwd1 == StarPlanets(ShipStar(Player()), GetParFromString(tstr1, ',', i, 0)))",
              "            {",
              "                status = GetParFromString(ScriptItemTextData(ApprovalDocuments, 3), ',', i, 0);",
              "                //   ",
              "                if((status & 32))",
              "                {",
              "                    status = status - 32;",
              "                    ScriptItemTextData(ApprovalDocuments, 3, status);",
              "                }",
              "                break;",
              "            }",
              "        }",
              "",
              "        status = 0;",
              "    }",
              "",
              "    exit;",
              "}",
              "else if(GQuestStatus == 3)",
              "{",
              "    PrisonQuestCheck = -1;",
              "    cur_planet = GetShipPlanet(Player());",
              "",
              "    if(ItemIn(ApprovalDocuments, Player()))",
              "    {",
              "        //       ,  ,       ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 2);",
              "        for(i = 0; i < ParsCountFromString(tstr1, ','); i = i + 1)",
              "        {",
              "            //  , ,       ",
              "            if(cur_planet == StarPlanets(ShipStar(Player()), GetParFromString(tstr1, ',', i, 0)))",
              "            {",
              "                status = GetParFromString(ScriptItemTextData(ApprovalDocuments, 3), ',', i, 0);",
              "                //   ",
              "                if((status & 32))",
              "                {",
              "                    status = status - 32;",
              "                    ScriptItemTextData(ApprovalDocuments, 3, status);",
              "                }",
              "                break;",
              "            }",
              "        }",
              "",
              "        status = 0;",
              "    }",
              "",
              "    ExtremalTakeOff();",
              "    exit;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -430,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  126,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SkipGreeting();",
              "",
              "PrisonQuestCheck = 0;",
              "GotoGov(0);",
              "",
              "tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatOutOfPrison');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -110,
          "Pos.y":  80,
          "Parent":  -1,
          "#":  133,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ,      (   )",
              "if(check <= 4)",
              "{",
              "    RelationToRanger(cur_planet, Player(), RelationToRanger(cur_planet, Player()) - 30);",
              "    if(RelationToRanger(cur_planet, Player()) < 10) RelationToRanger(cur_planet, Player(), 10);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -130,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  134,
          "Total.Lines":  72,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ",
              "if(check <= 4)",
              "{",
              "    //    ",
              "    if(Rnd(1, 100, sqr(Id(cur_planet) + 831)) <= tint3)",
              "    {",
              "        tint3 = -1;",
              "        //    ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "        //    (      )",
              "        ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "        //       ",
              "        RelationToRanger(cur_planet, Player(), 10);",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureSuccess');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureSuccessP');",
              "    }",
              "    else",
              "    {",
              "        //     ",
              "        tint3 = -2;",
              "        GotoGov(2);",
              "        //     ( ,     )",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (32 + GetParFromString(tstr1, ',', num, 0))));",
              "        //      ",
              "        //RelationToRanger(cur_planet, Player(), 0);",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureFail');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureFailP');",
              "    }",
              "}",
              "//  ",
              "else",
              "{",
              "    //   ",
              "    if(Rnd(1, 100, sqr(Id(cur_planet) + 731)) <= tint3 / 3)",
              "    {",
              "        tint3 = -1;",
              "        //    ",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "        //    (      )",
              "        ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "        //       ",
              "        if(check <= 4)",
              "        {",
              "            RelationToRanger(cur_planet, Player(), 10);",
              "        }",
              "        else",
              "        {",
              "            RelationToRanger(PlanetPirateClan(), Player(), RelationToRanger(PlanetPirateClan(), Player()) - 25);",
              "            if(RelationToRanger(PlanetPirateClan(), Player()) < 10) RelationToRanger(PlanetPirateClan(), Player(), 10);",
              "        }",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatSuccess');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatSuccessP');",
              "    }",
              "    else",
              "    {",
              "        //   ",
              "        tint3 = -2;",
              "        GotoGov(2);",
              "        //     ( ,     )",
              "        tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "        ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (32 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatFail');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatDead');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -180,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  141,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "",
              "//   ",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -430,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  161,
          "Total.Lines":  34,
          "Code.Type":  "Turn",
          "Code":          
          [
              "i = GetParFromString(tstr6, '*', 0, 0);",
              "j = GetParFromString(tstr6, '*', 1, 0);",
              "// , /",
              "tdwd1 = GetParFromString(tstr6, '*', 2, 0);",
              "",
              "//         ",
              "tstr1 = Format(tstr1, '<color=0,50,200' + '>', '<color=255,240,100' + '>', '');",
              "",
              "//     ",
              "if(!i)",
              "{",
              "    AddPlanetQuest(1, cur_planet, num, tdwd1, tint4, tstr1, CT(tstr5 + 'QuestId'), tstr5, '');",
              "    //        ",
              "    ShipJoin(PlanetQuestsShips, tdwd1);",
              "    //          ",
              "    SetData(tint4, 0, tdwd1);",
              "}",
              "//     ",
              "else if(i == 1)",
              "{",
              "    AddPlanetQuest(2, cur_planet, num, tdwd1, tint4, tstr1, CT(tstr5 + 'QuestId'), tstr5, '');",
              "    //        ",
              "    ShipJoin(PlanetQuestsShips, tdwd1);",
              "    //          ",
              "    SetData(tint4, 0, tdwd1);",
              "}",
              "//    ",
              "else",
              "{",
              "    AddPlanetQuest(3, cur_planet, num, tdwd1, tint4, tstr1, CT(tstr5 + 'QuestId'), tstr5, 'BuildOwnBase_QuestItem');",
              "}",
              "",
              "//,       (       )",
              "if(findsubstr(CT(tstr5 + 'QuestId'), 'Universal') == -1) GBuildOwnBase_QuestsGiven = GBuildOwnBase_QuestsGiven + '*' + CT(tstr5 + 'QuestId');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -350,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  166,
          "Total.Lines":  39,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "tstr1 = ScriptItemTextData(ApprovalDocuments, 3);",
              "ScriptItemTextData(ApprovalDocuments, 3, SetParFromString(tstr1, ',', num, '' + (64 + GetParFromString(tstr1, ',', num, 0))));",
              "RelationToRanger(cur_planet, Player(), 100);",
              "",
              "//    ",
              "for(i = 1; i < ArrayDim(BuildOwnBase_QuestsArray); i = i + 1)",
              "{",
              "    if(num == BuildOwnBase_QuestsArray[i, 2])",
              "    {",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.FromPlanet'), '<Planet'+'>', Name(cur_planet), '<System'+'>', Name(PlanetToStar(cur_planet)), '255,240,100');",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + BuildOwnBase_QuestsArray[i, 7];",
              "        Ether(4, BuildOwnBase_QuestsArray[i, 1], tstr1);",
              "        //      Lang",
              "        tstr1 = BuildOwnBase_QuestsArray[i, 6];",
              "",
              "        //    ",
              "        free(BuildOwnBase_QuestsArray[i]);",
              "        ArrayDelete(BuildOwnBase_QuestsArray, i);",
              "        break;",
              "    }",
              "}",
              "",
              "//   -",
              "if(check <= 4)",
              "{",
              "    RelationToRanger(cur_planet, Player(), 100);",
              "}",
              "else",
              "{",
              "    RelationToRanger(PlanetPirateClan(), Player(), RelationToRanger(PlanetPirateClan(), Player()) + 25);",
              "}",
              "",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "",
              "tstr2 = '</color>' + CT(tstr1 + 'QuestCompleteP');",
              "tstr1 = '</color>' + CT(tstr1 + 'QuestComplete');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -190,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  171,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "FreeItem(GetItemFromShip(Player(), cur_item));",
              "tdwd1 = IdToPlanet(BuildOwnBase_QuestsArray[num, 3]);",
              "QuestsStatusChange(num, 2, tdwd1);",
              "tstr1 = '</color>' + Format(CT(tstr4 + 'QuestOutro'), '<StartPlanet'+'>', Name(tdwd1));",
              "tstr2 = '</color>' + CT(tstr4 + 'QuestDeliveredEndP');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  50,
          "Parent":  174,
          "#":  175,
          "Total.Lines":  18,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "if(check <= 4)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBAnswer');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBPersuasionP');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeP');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBReturn');",
              "}",
              "//    ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomAnswer');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomPersuasionP');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeP');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomReturn');",
              "}",
              "//    ",
              "tint2 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  178,
          "#":  181,
          "Total.Lines":  17,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "cost = BribeCalc(-1, cur_ruin, check);",
              "",
              "//    ",
              "if(check <= 4)",
              "{",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeAnswer'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeYesP');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeNoP');",
              "}",
              "//    ",
              "else",
              "{",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeAnswer'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeYesP');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeNoP');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  180,
          "#":  182,
          "Total.Lines":  44,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//         ",
              "tint1 = PersuasionCalc(-1, cur_ruin, check);",
              "if(Rnd(1, 100, sqr(Id(cur_ruin) + 546)) <= tint1) tint1 = 1;",
              "else tint1 = 0;",
              "",
              "// ",
              "if(tint1)",
              "{",
              "    //    ",
              "    if(check <= 4)",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBPersuasionYes');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBPersuasionYesP');",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomPersuasionYes');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomPersuasionYesP');",
              "    }",
              "}",
              "// ",
              "else",
              "{",
              "    //    ",
              "    if(check <= 4)",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBPersuasionNo');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBPersuasionP');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeP');",
              "        tstr4 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBReturn');",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomPersuasionNo');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomPersuasionP');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeP');",
              "        tstr4 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomReturn');",
              "    }",
              "",
              "    //    ",
              "    tint2 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  191,
          "#":  194,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   \"\"",
              "ScriptItemData(ApprovalDocuments, 2, 1);",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "",
              "//    ",
              "if(check <= 4)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeYes');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.WBBribeDoneP');",
              "}",
              "//    ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeYes');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.DomBribeDoneP');",
              "}",
              "",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  189,
          "#":  198,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   \"\"",
              "ScriptItemData(ApprovalDocuments, 2, 1);",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  152,
          "#":  201,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ,    ",
              "if(GetData(0))",
              "{",
              "    if(GetData(0) <= CurTurn()) ShipOut(CurShip);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  204,
          "#":  205,
          "Total.Lines":  23,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ,     ",
              "if(BuildOwnBase_InProcess == 3)",
              "{",
              "    if(BuildOwnBase_Condition == -3) cost = RoundTo(max(3500000, GalaxyMoney(4, 4) * 70), 1000, 0);",
              "    else cost = RoundTo(max(2500000, GalaxyMoney(4, 4) * 50), 1000, 0);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuild'), '<Cost'+'>', cost);",
              "",
              "    //,        ",
              "    BuildOwnBase_InProcess == 4;",
              "}",
              "else if(BuildOwnBase_InProcess == 4)",
              "{",
              "    if(BuildOwnBase_Condition == -3) cost = RoundTo(max(3500000, GalaxyMoney(4, 4) * 70), 1000, 0);",
              "    else cost = RoundTo(max(2500000, GalaxyMoney(4, 4) * 50), 1000, 0);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildAgain'), '<Cost'+'>', cost);",
              "}",
              "else",
              "{",
              "    cost = RoundTo(max(1250000, GalaxyMoney(4, 4) * 25), 1000, 0);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildTwice'), '<Cost'+'>', cost);",
              "}",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerBuildPayYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerBuildPayNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  243,
          "#":  213,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildName');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovPlayerBuildName');",
              "",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');",
              "",
              "//     ,       ",
              "GotoGov(2);",
              "BuildOwnBase_ChooseName = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  50,
          "Parent":  217,
          "#":  216,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SkipGreeting();",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildName');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovPlayerBuildName');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  215,
          "#":  218,
          "Total.Lines":  189,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//        ,       ",
              "if(ArrayDim(PlayerHQMainArray) == 1)",
              "{",
              "    DeclarePlayerHQMainArray();",
              "}",
              "",
              "//     ,    -,    ",
              "//(     ,      )",
              "if(PlayerHQMainArray['Main', 'OrganisationName'] == '') PlayerHQMainArray['Main', 'OrganisationName'] = TextBox(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.TextBoxName'), '', 30);",
              "",
              "if(PlayerHQMainArray['Main', 'OrganisationName'] != '')",
              "{",
              "    cur_star = GalaxyStar(ScriptItemTextData(ApprovalDocuments, 1));",
              "    //     ",
              "    if(BuildOwnBase_InProcess < 5)",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildDone'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star));",
              "        AddPlanetNews(Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.GalaxyNews'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star)));",
              "        NewsAdd(Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.GalaxyNews'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star), '255,240,100'));",
              "    }",
              "    //       ",
              "    else",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerBuildDoneTwice'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star));",
              "        AddPlanetNews(Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.GalaxyNewsTwice'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star)));",
              "        NewsAdd(Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.GalaxyNewsTwice'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '<PlayerOrgStar'+'>', Name(cur_star), '255,240,100'));",
              "    }",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerBuildDone');",
              "",
              "    //  ,         ",
              "    ScriptItemData(ApprovalDocuments, 1, 0);",
              "    ScriptItemData(ApprovalDocuments, 2, 0);",
              "    tint2 = ScriptItemData(ApprovalDocuments, 3);",
              "    ScriptItemData(ApprovalDocuments, 3, 0);",
              "    ScriptItemTextData(ApprovalDocuments, 1, '');",
              "    ScriptItemTextData(ApprovalDocuments, 2, '');",
              "    ScriptItemTextData(ApprovalDocuments, 3, '');",
              "    //       ",
              "    cur_item = ScriptItemToItem(ApprovalDocuments);",
              "    ReleaseItemFromScript(ApprovalDocuments);",
              "    FreeItem(GetItemFromShip(Player(), cur_item));",
              "",
              "    //          ",
              "    GBuildOwnBase_QuestsGiven = '';",
              "",
              "    //      ",
              "    tstr3 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "    tstr3 = tstr3 + \"<br>\" + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Title');",
              "    tstr3 = tstr3 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.QuestMessage.Complete'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "    Ether(4, 'BuildOwnMCBase', tstr3);",
              "",
              "    //   ",
              "    PlayerHQMainArray['Main', 'HQStar'] = Id(cur_star) - 1;",
              "    PlayerHQMainArray['Mercs', 'PlanetsCount'] = tint2;",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'] = CT('Script.Mod_ShuMercs.PlayerMercsParams.ReplenishmentFrequency');",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = CurTurn() + PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'];",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentCount'] = tint2; //        ",
              "    PlayerHQMainArray['Mercs', 'MaxFree'] = 8;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 0;",
              "    //  ",
              "    PlayerHQMainArray['Mercs', 'MaxAtReady'] = 4;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 3;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 3;",
              "    //   ",
              "    PlayerHQMainArray['Mercs', 'MaxStrike'] = int(CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxStrikeGroupShipsCount'));",
              "    //",
              "    PlayerHQMainArray['Mercs', 'MaxReserve'] = 10;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = PlayerHQMainArray['Mercs', 'MaxReserve'];",
              "    PlayerHQMainArray['Mercs', 'CurrentReserve'] = 5;",
              "    //      ",
              "    PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = 3;",
              "    //   ",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = 100000;",
              "    //       /",
              "    //PlayerHQMainArray['Finance', 'FiscalPeriod'] = CurTurn() + CT('Script.Mod_ShuMercs.PlayerMercsParams.FiscalPeriod');",
              "    //        ",
              "    PlayerHQMainArray['Finance', 'SalariesDay'] = CurTurn() + 15;",
              "    //      ",
              "    PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = CurTurn() + Rnd(7, 14);",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 14, 3);",
              "        PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 21, 14);",
              "    }",
              "    else",
              "    {",
              "        PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 21, 14);",
              "        PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 14, 3);",
              "    }",
              "    //          ",
              "    PlayerHQMainArray['Armory', 'MercsHullShopTimer'] = CurTurn() + RndObject(62, 93, cur_ruin);",
              "    //        ,        ",
              "    if(PlayerHQMainArray['Science', 'GluonGunsDeveloped']) PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] = CurTurn() + RndObject(45, 61, cur_ruin);",
              "",
              "    //,   ",
              "    cur_ruin = BuildCustomRuins(cur_star, 'PlayerMBLevel1', 5);",
              "    Chameleon(cur_ruin, 'Ruins.PlayerMBLevel1'); // ,      , , ,    ",
              "    ShipType(cur_ruin, 'PlayerMB');",
              "    PlayerHQMainArray['Main', 'HQId'] = Id(cur_ruin);",
              "    //HullSpecial(cur_ruin, FindBonusByNameInCfg('ShuMercsHQ_PlayerMBLevel1'));",
              "    //HullType(cur_ruin, 9); //    ",
              "",
              "    ItemOwner(ShipItems(cur_ruin, 0), Peleng);",
              "    EqCustomFaction(ShipItems(cur_ruin, 0), 'SubFactionPlayerMercsFixedStanding');",
              "    ShipPilotRace(cur_ruin, Peleng);",
              "    if(ShipPilotRace(Player()) != Peleng || ShipFace(Player()) != 1) ShipFace(cur_ruin, 1);",
              "    else ShipFace(cur_ruin, 0);",
              "    SetName(cur_ruin, Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.HQMainName'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], ''));",
              "    ShipJoin(PlayerHQ, cur_ruin);",
              "",
              "    ShipCustomFaction(cur_ruin, 'SubFactionPlayerMercsFixedStanding');",
              "    //   ,  ,         ( ,  1   !)",
              "    NoShopUpdate(cur_ruin, 2);",
              "    for(i = t_Food; i <= t_Narcotics; i = i + 1)",
              "    {",
              "        GoodsAdd(cur_ruin, i, -GoodsAdd(cur_ruin, i, 0));",
              "        GoodsSellPrice(cur_ruin, i, 0);",
              "        GoodsBuyPrice(cur_ruin, i, 0);",
              "    }",
              "    //         ",
              "    ShipAddCustomShipInfo(cur_ruin, 'ShuMercsHQ_PlayerMBAutoRepair', 'NoShow', 0, 35);",
              "",
              "    //        ",
              "    StrikeGroupCandidatesListUpdate();",
              "",
              "    //  \"\"       (    ),",
              "    //   ",
              "    for(i = 0; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        cur_star = GalaxyStar(i);",
              "",
              "        for(j = 0; j < StarShips(cur_star); j = j + 1)",
              "        {",
              "            cur_ship = StarShips(cur_star, j);",
              "",
              "            if(ShipType(cur_ship) == 'Freelancer')",
              "            {",
              "                //  -  \"\"",
              "                if(!findsubstr(BonusNumInCfg(EqSpecial(ShipItems(cur_ship, 0))), 'ShuMercsHQ_PlayerMerc'))",
              "                {",
              "                    if(ShipInScript(cur_ship, 0)) ShipOut(cur_ship);",
              "",
              "                    ShipType(cur_ship, 'PlayerMerc');",
              "                    SetName(cur_ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + ShipName(cur_ship));",
              "",
              "                    //  \"\"  ",
              "                    ShipJoin(PlayerMercsFree, cur_ship);",
              "                    ShipCustomFaction(cur_ship, 'SubFactionPlayerMercsFixedStanding');",
              "                    // ,       ",
              "                    SetData(CurTurn(), 3, cur_ship);",
              "                }",
              "            }",
              "        }",
              "    }",
              "",
              "    //    \"\" ,      ",
              "    //(      ,     )",
              "    if(0)//GroupCount(PlayerMercsFree) < PlayerHQMainArray['Mercs', 'CurrentMaxFree'])",
              "    {",
              "        if(PlayerHQMainArray['Mercs', 'CurrentMaxFree'] - GroupCount(PlayerMercsFree) >= 3) tint1 = 3;",
              "        else tint1 = PlayerHQMainArray['Mercs', 'CurrentMaxFree'] - GroupCount(PlayerMercsFree);",
              "",
              "        SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, t_Ranger, tint1);",
              "    }",
              "",
              "    PlayerHQMainArray['Main', 'HQLevel'] = PlayerHQMainArray['Main', 'HQLevelMax'];",
              "",
              "    PlayerHQMainArray['Science', 'ScientificDepartment'] = 1;",
              "    PlayerHQMainArray['Medicine', 'MedicalDepartment'] = 1;",
              "    PlayerHQMainArray['Armory', 'ArmoryWorkshop'] = 1;",
              "    PlayerHQMainArray['Shipyard', 'ProductionShipyard'] = 1;",
              "    PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "",
              "    PlayerHQMainArray['Mercs', 'MaxFree'] = 60;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 20;",
              "",
              "    PlayerHQMainArray['Mercs', 'MaxAtReady'] = 25;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 12;",
              "",
              "    PlayerHQMainArray['Mercs', 'MaxReserve'] = 120;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 60;",
              "",
              "    //  ,   ",
              "    BuildOwnBase_InProcess = 6;",
              "    BasesSuccessfullyBuiltCount = BasesSuccessfullyBuiltCount + 1;",
              "",
              "    GotoGov(0);",
              "    BuildOwnBase_ChooseName = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  223,
          "#":  224,
          "Total.Lines":  17,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   \"\"",
              "ScriptItemData(ApprovalDocuments, 2, 1);",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(ScriptItemToItem(ApprovalDocuments));",
              "",
              "//    ",
              "if(check <= 4)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.RCAnswer');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.RCDoneP');",
              "}",
              "//    ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PBAnswer');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PBDoneP');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  231,
          "#":  235,
          "Total.Lines":  167,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    PlayerMercsFree:",
              "//Data0 ==      (    )",
              "//      ==     /  ,       ",
              "//Data1 == Id - (    )",
              "//      == Id - (    )",
              "//      == Id ,     (    OrderAttackState)",
              "//Data2 == Id   (    )",
              "//Data3 ==  (CurTurn() + N)       (  ,           )",
              "",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "dword cur_item; //    Op",
              "",
              "//   ",
              "ShipStatus(CurShip, 0, 15); //",
              "ShipStatus(CurShip, 1, 50); //",
              "ShipStatus(CurShip, 2, 35); //",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "OrderLock(CurShip, 0);",
              "//        \"\"   ",
              "int tint = GetData(3);",
              "if(!tint) SetData(CurTurn() + RndObject(CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMin'), CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMax'), CurShip), 3); //   ",
              "else if(abs(tint) <= CurTurn())",
              "{",
              "    //    ",
              "    //( ,     -,      )",
              "    if(~tint) SetData(CurTurn() + 500, 3);",
              "    else SetData(-(CurTurn() + 500), 3); //-1        ",
              "",
              "    ChangeState('ReturningBaseState');",
              "    exit;",
              "}",
              "else",
              "{",
              "    if(ShipInNormalSpace(CurShip))",
              "    {",
              "        //         ",
              "        dword target = ShipGetBad(CurShip);",
              "        if(target)",
              "        {",
              "            if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "            {",
              "                //     ,          ,    ",
              "                int no_tar = NoTargetToShip(target);",
              "                NoTargetToShip(target, 4);",
              "                TruceBetweenShips(CurShip, target);",
              "                NoTargetToShip(target, no_tar);",
              "                //        ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "            else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "            {",
              "                no_tar = NoTargetToShip(target);",
              "                //     ,          ,    ",
              "                NoTargetToShip(target, 4);",
              "                TruceBetweenShips(CurShip, target);",
              "                NoTargetToShip(target, no_tar);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "",
              "        //          N ",
              "        if(GetData(0) + 31 <= CurTurn())",
              "        {",
              "            if(!ShipIsPartner(CurShip))",
              "            {",
              "                if(!StarBattle(cur_star))",
              "                {",
              "                    //    ",
              "                    if(ShipOrder(CurShip) != 3)",
              "                    {",
              "                        //   - ",
              "                        if(!(ShipOrder(CurShip) == 6 && ShipOrderData1(CurShip) == 1))",
              "                        {",
              "                            //    -",
              "                            if(!ShipInFear(CurShip))",
              "                            {",
              "                                //     ",
              "                                if(HullDamage(CurShip) <= 20)",
              "                                {",
              "                                    if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)))",
              "                                    {",
              "                                        //     ",
              "                                        int tint1 = Rnd(1, 100, sqr(Id(CurShip) + CurTurn()));",
              "                                        if(tint1 <= 6)",
              "                                        {",
              "                                            //    ",
              "                                            if(Rnd(0, 2, sqr(Id(CurShip) + CurTurn())))",
              "                                            {",
              "                                                ArrayClear(tarr1);",
              "                                                for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "                                                {",
              "                                                    cur_ship = StarShips(cur_star, i);",
              "",
              "                                                    //    //",
              "                                                    if(ShipTypeN(cur_ship) != t_Transport) continue;",
              "                                                    //       ",
              "                                                    if(ShipInScript(cur_ship, 0)) continue;",
              "                                                    int tint2 = ShipOwner(cur_ship);",
              "                                                    if(tint2 > 4 && tint2 != 7) continue;",
              "                                                    // ,      ",
              "                                                    //if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_GuardedShip')) continue;",
              "                                                    // ,      ,      ",
              "                                                    //(       )",
              "                                                    if(",
              "                                                       RelationToRanger(cur_ship, CurShip) < 10 ||",
              "                                                       ShipGetBad(cur_ship) == CurShip ||",
              "                                                       ShipGetBad(CurShip) == cur_ship",
              "                                                      ) continue;",
              "",
              "                                                    ArrayAdd(tarr1, cur_ship);",
              "                                                }",
              "",
              "                                                //        ",
              "                                                if(ArrayDim(tarr1) > 1)",
              "                                                {",
              "                                                    cur_ship = tarr1[RndObject(1, ArrayDim(tarr1) - 1, CurShip)];",
              "",
              "                                                    //          ",
              "                                                    SetData(CurTurn() + RndObject(45, 60, CurShip), 0);",
              "                                                    SetData(Id(cur_ship), 1);",
              "",
              "                                                    // ,  \"\"       ",
              "                                                    ShipAddCustomShipInfo(cur_ship, 'ShuMercsHQ_GuardedShip', 'NoShow', Id(CurShip));",
              "                                                    //   ( )    ",
              "                                                    NoTargetToShip(cur_ship, 3);",
              "                                                    ChangeState('GuardingQState');",
              "                                                }",
              "                                                exit;",
              "                                            }",
              "                                            //    ",
              "                                            else",
              "                                            {",
              "                                                dword cur_planet = NearCivilPlanet(CurShip);",
              "                                                if(RelationToRanger(cur_planet, CurShip) < 60) RelationToRanger(cur_planet, CurShip, 60);",
              "                                                //  \"\"    ",
              "                                                OrderLanding(CurShip, cur_planet);",
              "                                                ChangeState('DeliveryQState');",
              "                                                exit;",
              "                                            }",
              "                                        }",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  232,
          "#":  236,
          "Total.Lines":  104,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQstar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "//    ,      ,",
              "//     ",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "// ,          ",
              "if(GetShipRuins(CurShip) == HQ)",
              "{",
              "    ChangeState('LandingBaseState');",
              "    exit;",
              "}",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "if(ShipInNormalSpace(CurShip))",
              "{",
              "    //         ",
              "    tdwd3 = ShipGetBad(CurShip);",
              "    if(tdwd3)",
              "    {",
              "        if(ShipType(tdwd3) == 'PlayerMerc')",
              "        {",
              "            TruceBetweenShips(CurShip, tdwd3);",
              "            //        ",
              "            tdwd3 = ShipIsPartner(CurShip);",
              "            if(tdwd3) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(tdwd3, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, tdwd3);",
              "            //       ",
              "            tdwd3 = ShipIsPartner(CurShip);",
              "            if(tdwd3) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "    }",
              "",
              "    //        ,    ",
              "    if(cur_star != HQstar)",
              "    {",
              "        //       ,      \" \"",
              "        if(!StarBattle(cur_star))",
              "        {",
              "            //    ",
              "            if(ShipOrder(CurShip) != 3)",
              "            {",
              "                //   - ",
              "                if(!(ShipOrder(CurShip) == 6 && ShipOrderData1(CurShip) == 1))",
              "                {",
              "                    //    -",
              "                    if(!ShipInFear(CurShip))",
              "                    {",
              "                        if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)))",
              "                        {",
              "                            OrderLock(CurShip, 1);",
              "                            OrderJump(CurShip, HQstar);",
              "                            exit;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //     ",
              "    else",
              "    {",
              "        //GetData(3, HQ) -     ",
              "        if(!GetData(3, HQ))",
              "        {",
              "            OrderLock(CurShip, 1);",
              "            ChangeState('LandingBaseState');",
              "        }",
              "        //      ,   ,    ",
              "        else",
              "        {",
              "            //          ",
              "            SetData(-1, 3);",
              "            ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "",
              "            //DefendingBaseState -   Free,        (       )",
              "            OrderLock(CurShip, 0);",
              "            ShipFreeFlight(CurShip);",
              "            ChangeState('DefendingBaseState');",
              "        }",
              "",
              "        exit;",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  233,
          "#":  237,
          "Total.Lines":  168,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //  \"\"    ",
              "    SetData(0, 1);",
              "",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//     ",
              "OrderLock(CurShip, 1);",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "dword cur_item;",
              "//      ",
              "dword cur_ship = IdToShip(GetData(1));",
              "if(GetData(0) <= CurTurn())",
              "{",
              "    //     ",
              "    if(~GetData(0))",
              "    {",
              "        ShipMoney(CurShip, round(1.2 * ShipMoney(CurShip)));",
              "        int free_exp = ShipFreeExp(CurShip);",
              "        int add_exp = round(0.2 * free_exp);",
              "        ShipFreeExp(CurShip, free_exp + add_exp);",
              "        SetShipExpByType(CurShip, GetShipExpByType(CurShip) + add_exp, 0);",
              "    }",
              "    //   ,    ",
              "    else",
              "    {",
              "        SetData(CurTurn(), 0);",
              "        str tstr1 = Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GuardingQuestOverByPlayer'), '<GuardedShip'+'>', Name(cur_ship), '255,240,100');",
              "        Ether(10, '', Name(CurShip) + \"<br>\" + '<color=0,0,0></color>' + \"<br>\" + tstr1);",
              "    }",
              "",
              "    SetData(0, 1);",
              "",
              "    //FreeEarningState -   Free,        (       )",
              "    OrderLock(CurShip, 0);",
              "    ShipFreeFlight(CurShip);",
              "    ChangeState('FreeEarningState');",
              "    exit;",
              "}",
              "else",
              "{",
              "    //    ",
              "    if(!cur_ship)",
              "    {",
              "        SetData(CurTurn(), 0);",
              "        SetData(0, 1);",
              "",
              "        //FreeEarningState -   Free,        (       )",
              "        OrderLock(CurShip, 0);",
              "        ShipFreeFlight(CurShip);",
              "        ChangeState('FreeEarningState');",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        if(ShipInNormalSpace(CurShip))",
              "        {",
              "            //,       ",
              "            if(ShipGetBad(CurShip) == cur_ship) ShipSetBad(CurShip, 0);",
              "            //,        ",
              "            RelationToRanger(cur_ship, CurShip, 100);",
              "",
              "            //     ,     ",
              "            //( ,   ..)",
              "            dword cur_planet = GetShipPlanet(cur_ship);",
              "            if(cur_planet)",
              "            {",
              "                OrderLanding(CurShip, cur_planet);",
              "                exit;",
              "            }",
              "            //      ",
              "            if(ShipStar(cur_ship) != cur_star)",
              "            {",
              "                OrderJump(CurShip, ShipStar(cur_ship));",
              "                exit;",
              "            }",
              "            //      ",
              "            //else if(ShipOrder(cur_ship) == 3)",
              "            //{",
              "            //    if(!ShipGetBad(cur_ship))",
              "            //    {",
              "            //        if(Dist(cur_ship, CurShip) <= 250)",
              "            //        {",
              "            //            OrderJump(CurShip, ShipOrderObj(cur_ship));",
              "            //            exit;",
              "            //        }",
              "            //    }",
              "            //}",
              "",
              "            dword tdwd3 = ShipGetBad(cur_ship);",
              "            //    - ,       ",
              "            if(ShipGetBad(tdwd3))",
              "            {",
              "                if(tdwd3 != CurShip)",
              "                {",
              "                    //     ,   ",
              "                    if(tdwd3 != Player())",
              "                    {",
              "                        //,  ,    ,     ",
              "                        if(ShipInNormalSpace(tdwd3))",
              "                        {",
              "                            if(ShipStar(tdwd3) == cur_star)",
              "                            {",
              "                                OrderFollowShip(CurShip, tdwd3, 1);",
              "                                ShipSetBad(CurShip, tdwd3);",
              "                                exit;",
              "                            }",
              "                        }",
              "                    }",
              "                    else",
              "                    {",
              "                        SetData(CurTurn(), 0);",
              "                        SetData(0, 1);",
              "                        //     ",
              "                        NoTargetToShip(cur_ship, 0);",
              "                        //     ",
              "                        ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_GuardedShip');",
              "                        tstr1 = Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GuardingQuestOverByPlayer'), '<GuardedShip'+'>', Name(cur_ship), '255,240,100');",
              "                        Ether(10, '', Name(CurShip) + \"<br>\" + '<color=0,0,0></color>' + \"<br>\" + tstr1);",
              "",
              "                        //FreeEarningState -   Free,        (       )",
              "                        OrderLock(CurShip, 0);",
              "                        ShipFreeFlight(CurShip);",
              "                        ChangeState('FreeEarningState');",
              "                        exit;",
              "                    }",
              "                }",
              "                else ShipSetBad(cur_ship, 0);",
              "            }",
              "",
              "            //       ",
              "            OrderFollowShip(CurShip, cur_ship, 0);",
              "        }",
              "        else",
              "        {",
              "            //     ",
              "            cur_planet = GetShipPlanet(cur_ship);",
              "            if(cur_planet)",
              "            {",
              "                //       ..,",
              "                //      ",
              "                if(GetShipPlanet(CurShip) == cur_planet)",
              "                {",
              "                    ShipFreeFlight(CurShip);",
              "                    OrderNone(CurShip);",
              "                }",
              "            }",
              "            else if(GetShipPlanet(CurShip)) OrderTakeOff(CurShip);",
              "",
              "            exit;",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  234,
          "#":  238,
          "Total.Lines":  188,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "",
              "dword HQStar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//     ",
              "OrderLock(CurShip, 1);",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "//      ",
              "if(!GetData(2))",
              "{",
              "    dword cur_planet = GetShipPlanet(CurShip);",
              "    //    ",
              "    if(cur_planet)",
              "    {",
              "        //     ,    ",
              "        ArrayClear(tarr1);",
              "        for(int i = 1; i <= 5; i = i + 1)",
              "        {",
              "            tdwd3 = StarNearbyStars(cur_star, i);",
              "",
              "            //        ",
              "            if(StarOwner(tdwd3) == 1) continue;",
              "            if(StarCustomFaction(tdwd3) != '') continue;",
              "            if(StarBattle(tdwd3)) continue;",
              "            //   ",
              "            if(StarToCon(tdwd3) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            for(int j = 0; j < StarPlanets(tdwd3); j = j + 1)",
              "            {",
              "                dword cur_item = StarPlanets(tdwd3, j);",
              "                if(PlanetOwner(cur_item) != 6)",
              "                {",
              "                    ArrayAdd(tarr1, cur_item);",
              "                }",
              "            }",
              "",
              "            //      ",
              "            SetData(Id(tarr1[RndObject(1, ArrayDim(tarr1) - 1, CurShip)]), 1);",
              "            //   ,        ",
              "            cur_item = CreateQuestItem('Usl_' + RndObject(0, 75, CurShip));",
              "            AddItemToShip(CurShip, cur_item);",
              "            NoDropItem(cur_item, 1);",
              "            ArrangeItems(CurShip);",
              "            SetData(Id(cur_item), 2);",
              "",
              "            //    ",
              "            OrderTakeOff(CurShip);",
              "            break;",
              "        }",
              "",
              "        //     ,   ",
              "        if(!GetData(2))",
              "        {",
              "            SetData(CurTurn(), 0);",
              "",
              "            //FreeEarningState -   Free,        (       )",
              "            OrderLock(CurShip, 0);",
              "            ShipFreeFlight(CurShip);",
              "            ChangeState('FreeEarningState');",
              "            exit;",
              "        }",
              "    }",
              "    else OrderLanding(CurShip, NearCivilPlanet(CurShip));",
              "}",
              "//     ",
              "else",
              "{",
              "    //      ",
              "    cur_planet = IdToPlanet(GetData(1));",
              "    if(ShipInNormalSpace(CurShip))",
              "    {",
              "        tdwd3 = PlanetToStar(cur_planet);",
              "        if(cur_star == tdwd3)",
              "        {",
              "            //    ",
              "            if(StarOwner(tdwd3) != 1 && StarCustomFaction(tdwd3) == '')",
              "            {",
              "                OrderLanding(CurShip, cur_planet);",
              "            }",
              "            else",
              "            {",
              "                //   ,      ",
              "                SetData(CurTurn(), 0);",
              "                SetData(0, 1);",
              "                cur_item = IdToItem(GetData(2));",
              "                NoDropItem(cur_item, 0);",
              "                SetData(0, 2);",
              "",
              "                //FreeEarningState -   Free,        (       )",
              "                OrderLock(CurShip, 0);",
              "                ShipFreeFlight(CurShip);",
              "                ChangeState('FreeEarningState');",
              "                exit;",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //    ",
              "            if(StarOwner(tdwd3) != 1 && StarCustomFaction(tdwd3) == '')",
              "            {",
              "                OrderJump(CurShip, tdwd3);",
              "            }",
              "            else",
              "            {",
              "                //   ,      ",
              "                SetData(CurTurn(), 0);",
              "                SetData(0, 1);",
              "                cur_item = IdToItem(GetData(2));",
              "                NoDropItem(cur_item, 0);",
              "                SetData(0, 2);",
              "",
              "                //FreeEarningState -   Free,        (       )",
              "                OrderLock(CurShip, 0);",
              "                ShipFreeFlight(CurShip);",
              "                ChangeState('FreeEarningState');",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //      ,       \" \"",
              "        if(GetShipPlanet(CurShip) == cur_planet)",
              "        {",
              "            SetData(CurTurn(), 0);",
              "            SetData(0, 1);",
              "            cur_item = IdToItem(GetData(2));",
              "            FreeItem(GetItemFromShip(CurShip, cur_item));",
              "            SetData(0, 2);",
              "            ShipMoney(CurShip, round(1.4 * ShipMoney(CurShip)));",
              "            int free_exp = ShipFreeExp(CurShip);",
              "            int add_exp = round(0.4 * free_exp);",
              "            ShipFreeExp(CurShip, free_exp + add_exp);",
              "            SetShipExpByType(CurShip, GetShipExpByType(CurShip) + add_exp, 0);",
              "",
              "            //        ",
              "            if(IsScriptActive('Mod_ExpExplorers'))",
              "            {",
              "                if(!ShipArts(CurShip))",
              "                {",
              "                    //   9%",
              "                    if(RndObject(1, 100, CurShip) <= 9)",
              "                    {",
              "                        int art_num;",
              "                        if(IsScriptActive('Mod_ExpArts')) art_num = RndObject(1, ArrayDim(GgiveArtsArray) - 1, CurShip); //+4    ExpArts",
              "                        else art_num = 27;",
              "",
              "                        //  ",
              "                        if(art_num <= 27)",
              "                        {",
              "                            art_num = CreateArt(GgiveArtsArray[art_num], 6);",
              "                            if(ShipFreeSpace(CurShip) >= ItemSize(art_num)) AddItemToShip(CurShip, art_num);",
              "                            else FreeItem(art_num);",
              "                        }",
              "                        //    ExpArts",
              "                        else",
              "                        {",
              "                            art_num = CreateCustomArt(GgiveArtsArray[art_num], CustomArtSizeCalc(int(CT('Artefacts.CustomArtefacts.' + GgiveArtsArray[art_num] + '.Size'))), CustomArtCostCalc(int(CT('Artefacts.CustomArtefacts.' + GgiveArtsArray[art_num] + '.Cost'))), 6);",
              "                            if(ShipFreeSpace(CurShip) >= ItemSize(art_num)) AddItemToShip(CurShip, art_num);",
              "                            else FreeItem(art_num);",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            //FreeEarningState -   Free,        (       )",
              "            OrderLock(CurShip, 0);",
              "            ShipFreeFlight(CurShip);",
              "            ChangeState('FreeEarningState');",
              "            exit;",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  239,
          "#":  240,
          "Total.Lines":  50,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       \"\"   PlayerMercsFree",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "",
              "OrderLock(CurShip, 0);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "// ,    -         ",
              "if(!ShipOrder(CurShip)) ShipFreeFlight(CurShip);",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc')",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "}",
              "",
              "//   ,    \"\"",
              "if(!GetData(3, HQ))",
              "{",
              "    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) + 10000);",
              "",
              "    //        ReturningBaseState (-1)",
              "    int tint = GetData(3);",
              "    if(tint == -1) ChangeState('LandingBaseState');",
              "    //       ,  FreeEarningState",
              "    else ChangeState('FreeEarningState');",
              "    exit;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  228,
          "#":  242,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    PlayerHQ:",
              "//Data0 ==",
              "//Data1 ==",
              "//Data2 ==",
              "//Data3 ==   ,       (        )",
              "",
              "//        ",
              "dword cur_star = ShipStar(CurShip);",
              "if(!ShipOnSidePirateClan(CurShip))",
              "{",
              "    if(StarOwner(cur_star) == 2) ShipOwner(CurShip, PirateClan);",
              "}",
              "else",
              "{",
              "    if(!StarOwner(cur_star)) ShipOwner(CurShip, ShipPilotRace(CurShip));",
              "}",
              "",
              "//       ",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  244,
          "#":  245,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  260,
          "#":  247,
          "Total.Lines":  54,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ,      ,",
              "//     ",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//   ,       ",
              "//GetData(3, HQ) -     ",
              "if(GetData(3, HQ))",
              "{",
              "    //       ,",
              "    //      Stack overflow",
              "    if(StarBattle(HQStar))",
              "    {",
              "        if(ShipInNormalSpace(CurShip))",
              "        {",
              "            if(cur_star != HQStar)",
              "            {",
              "                //       ,      \" \"",
              "                if(!StarBattle(cur_star))",
              "                {",
              "                    OrderLock(CurShip, 1);",
              "                    OrderJump(CurShip, HQStar);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //     ",
              "                SetData(CurTurn(), 0);",
              "                SetData(0, 1);",
              "                //         ,",
              "                //      ",
              "                cur_item = IdToItem(GetData(2));",
              "                if(cur_item)",
              "                {",
              "                    if(~FindItemInShip(CurShip, cur_item))",
              "                    {",
              "                        NoDropItem(cur_item, 0);",
              "                    }",
              "                }",
              "                SetData(0, 2);",
              "",
              "                //DefendingBaseState -   Free,        (       )",
              "                ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                OrderLock(CurShip, 0);",
              "                ShipFreeFlight(CurShip);",
              "                ChangeState('DefendingBaseState');",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "// ,  \"\"     ( , ,      OrderAttackState)",
              "if(!ShipOrder(CurShip)) ShipFreeFlight(CurShip);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  248,
          "#":  249,
          "Total.Lines":  331,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(Hit(CurShip, 0))",
              "    {",
              "        if(ShipGroup(CurShip) == PlayerMercsStrike) int strike = 1;",
              "    }",
              "",
              "    if(HQ && strike)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQstar = ShipStar(HQ);",
              "",
              "OrderLock(CurShip, 1);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "//   ",
              "if(GetShipRuins(CurShip) == HQ)",
              "{",
              "    int group = ShipGroup(CurShip);",
              "",
              "    //    ,       ",
              "    //  ",
              "    int gluon_gun = 0;",
              "    int check = GetEquipmentStats(ShipItems(CurShip, 0), 1);",
              "    for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "    {",
              "        dword cur_item = ShipEqInSlot(CurShip, t_Weapon1, i);",
              "        if(MissilesToRearm(cur_item)) MissilesToRearm(cur_item, MissilesToRearm(cur_item));",
              "",
              "        if(gluon_gun) continue;",
              "        if(NoDropItem(cur_item)) check = check - 1;",
              "        if(ItemType(cur_item) != t_CustomWeapon) continue;",
              "        if(!findsubstr(CustomWeaponType(cur_item), 'Gluon')) gluon_gun = 1; //     ,     ",
              "    }",
              "",
              "    //     ",
              "    if(PlayerHQMainArray['Science', 'GluonGunsDeveloped'])",
              "    {",
              "        //       ,   ",
              "        //  ,          ",
              "        if(!gluon_gun)",
              "        {",
              "            if(check) //       ",
              "            {",
              "                if(group != PlayerMercsStrike)",
              "                {",
              "                    if(group != CruisersDefenders)",
              "                    {",
              "                        cur_item = CreateGluonGun(CurShip, -1, max(GTL - RndObject(0, 2, CurShip), 1));",
              "                        AddItemToShip(CurShip, cur_item);",
              "                        NoDropItem(cur_item, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "",
              "    //  ",
              "    HullHP(CurShip, ItemSize(ShipItems(CurShip, 0)));",
              "",
              "    //     ",
              "    if(ShipType(GetShipRuins(CurShip)) == 'PlayerMB_licensed') int fix_special = 1;",
              "    else fix_special = 0;",
              "    for(i = 0; i < ShipItems(CurShip); i = i + 1)",
              "    {",
              "        cur_item = ShipItems(CurShip, i);",
              "        if(!ItemIsInUse(cur_item)) continue;",
              "        tint2 = ItemType(cur_item);",
              "        if(tint2 < t_FuelTanks || tint2 > t_CustomWeapon) continue;",
              "        if(ItemDurability(cur_item) < 100)",
              "        {",
              "            //  ,   ,  ,      ",
              "            if(tint2 <= t_DefGenerator) ItemDurability(cur_item, 100);",
              "            else",
              "            {",
              "                if(tint2 >= t_Weapon13 && tint2 <= t_Weapon15)",
              "                {",
              "                    if(fix_special) ItemDurability(cur_item, 100);",
              "                }",
              "                else if(tint2 == t_CustomWeapon)",
              "                {",
              "                    if(GetCustomWeaponData(CustomWeaponType(cur_item), 'Availability') == 'NotSoldAndNodeRepair')",
              "                    {",
              "                        if(fix_special) ItemDurability(cur_item, 100);",
              "                    }",
              "                    else ItemDurability(cur_item, 100);",
              "                }",
              "                else ItemDurability(cur_item, 100);",
              "            }",
              "        }",
              "    }",
              "    //  ,       ",
              "    if(fix_special)",
              "    {",
              "        for(i = 0; i < ShipArts(CurShip); i = i + 1)",
              "        {",
              "            cur_item = ShipArts(CurShip, i);",
              "            if(!ItemIsInUse(cur_item)) continue;",
              "            if(ItemDurability(cur_item) < 100) ItemDurability(cur_item, 100);",
              "        }",
              "    }",
              "",
              "    dword hull = ShipItems(CurShip, 0);",
              "    int hull_check = 1;",
              "    if(group != CruisersDefenders)",
              "    NoDropItem(hull, 0);",
              "",
              "    if(group == PlayerMercsFree || group == PlayerMercsStrike)",
              "    {",
              "        if(group == PlayerMercsStrike)",
              "        {",
              "            int counter = ItemExtraSpecials(hull);",
              "            if(!counter)",
              "            {",
              "                hull_check = 0;",
              "                NoDropItem(hull, 1);",
              "            }",
              "            else for(i = 0; i < counter; i = i + 1)",
              "            {",
              "                if(BonusNumInCfg(ItemExtraSpecials(hull, i)) == 'ShuMercsHQ_StrikeMercOwnItemMark') break;",
              "                if(i == counter - 1)",
              "                {",
              "                    hull_check = 0;",
              "                    NoDropItem(hull, 1);",
              "                }",
              "            }",
              "        }",
              "",
              "        //      ,   /      ( )",
              "        if(PlayerHQMainArray['Shipyard', 'ProductionShipyard'])",
              "        {",
              "            if(hull_check) // ,  ,   ",
              "            {",
              "                if(BonusNumInCfg(EqSpecial(hull)) != 'ShuMercsHQ_PlayerMercSpecialHull')",
              "                {",
              "                    SpecialToEquipment(-1, hull); //     ",
              "                    SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), hull);",
              "                    EqCustomFaction(hull, 'SubFactionPlayerMercsFixedStanding');",
              "                    Chameleon(CurShip);",
              "                }",
              "            }",
              "        }",
              "    }",
              "",
              "    //   ",
              "    ShipRefit(CurShip);",
              "    ShipRefit(CurShip);",
              "    if(hull_check)",
              "    {",
              "        hull = ShipItems(CurShip, 0); //       ",
              "        HullSeries(hull, -1);",
              "        NoDropItem(hull, 1);",
              "    }",
              "",
              "    if(RndObject(1, 100, CurShip) <= 33) ShipImproveItems(CurShip, 1);",
              "",
              "    //    ,        (    )",
              "    if(PlayerHQMainArray['Medicine', 'MedicalDepartment'])",
              "    {",
              "        for(i = 1; i <= 12; i = i + 1)",
              "        {",
              "            if(ShipHealthFactorStatus(CurShip, i) > 50)",
              "            {",
              "                ShipHealthFactor(CurShip, i, 0);",
              "                if(RndObject(1, 100, CurShip) <= 66 || i <= 3 || i == 6) ShipHealthFactorStatus(CurShip, i, 0);",
              "                // ,     ",
              "                else ShipHealthFactorStatus(CurShip, i, RndObject(1, 15, CurShip));",
              "            }",
              "        }",
              "    }",
              "",
              "    // \"\" ,    \" \",   ",
              "    if(group == PlayerMercsFree)",
              "    {",
              "        //      (  ()   )",
              "        if(int(GetData(3)) >= 0) //              \"\" ",
              "        {",
              "            int tint = ShipStatistic(CurShip, 11); //  ",
              "            tint = PortionInDiapason(CurTurn(), tint, tint + 1825, 0, 4);",
              "            tint = round(0.23 * RndObject(7, 14, CurShip) * GalaxyMoney(2, tint) * 5 * (0.70 * PortionInDiapason(PlayerHQMainArray['Main', 'HQLevel'], 1, PlayerHQMainArray['Main', 'HQLevelMax'], 1.2, 2.4)));",
              "            PlayerHQMainArray['Finance', 'CurrentBalance'] = min(PlayerHQMainArray['Finance', 'CurrentBalance'] + tint, 1000000000);",
              "            //     1   , .. ",
              "            PlayerHQMainArray['Finance', 'StatsInEarnings'] = PlayerHQMainArray['Finance', 'StatsInEarnings'] + tint;",
              "        }",
              "",
              "        //   \"\"   ",
              "        if(GroupCount(PlayerMercsFree) > PlayerHQMainArray['Mercs', 'CurrentMaxFree'])",
              "        {",
              "            //       ",
              "            if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] + 1;",
              "                ShipDestroy(CurShip, 1);",
              "            }",
              "            //     ,     ",
              "            else if(PlayerHQMainArray['Mercs', 'CurrentReserve'] < PlayerHQMainArray['Mercs', 'CurrentMaxReserve'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] + 1;",
              "                PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] + 1;",
              "                ShipDestroy(CurShip, 1);",
              "            }",
              "            else",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] + 1; //  \"\"  ",
              "                ShipDestroy(CurShip, 1);",
              "            }",
              "",
              "            exit;",
              "        }",
              "",
              "        //      ",
              "        SetData(CurTurn() + RndObject(CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMin'), CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMax'), CurShip), 3);",
              "",
              "        //FreeEarningState -   Free,        (       )",
              "        OrderLock(CurShip, 0);",
              "        ShipFreeFlight(CurShip);",
              "        ChangeState('FreeEarningState');",
              "    }",
              "    //    (QuestMercs)      (PlayerMercsDefenders)",
              "    else if(group == QuestMercs || group == PlayerMercsDefenders)",
              "    {",
              "        //        ",
              "        if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'])//PlayerHQMainArray['Mercs', 'MaxReserve'])",
              "        {",
              "            PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] + 1;",
              "            ShipDestroy(CurShip, 1);",
              "            exit;",
              "        }",
              "        //    ,  ,      ",
              "        else if(PlayerHQMainArray['Mercs', 'CurrentReserve'] < PlayerHQMainArray['Mercs', 'CurrentMaxReserve'])",
              "        {",
              "            PlayerHQMainArray['Mercs', 'CurrentReserve'] = PlayerHQMainArray['Mercs', 'CurrentReserve'] + 1;",
              "            PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] + 1; //  \"\"  ",
              "            ShipDestroy(CurShip, 1);",
              "            exit;",
              "        }",
              "        //    ,  ,       \"\" ",
              "        else if(GroupCount(PlayerMercsFree) < PlayerHQMainArray['Mercs', 'CurrentMaxFree'])",
              "        {",
              "            // ,      ,      ",
              "            SetData(0, 0);",
              "            SetData(0, 1);",
              "            SetData(0, 2);",
              "            //      ",
              "            SetData(CurTurn() + RndObject(CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMin'), CT('Script.Mod_ShuMercs.PlayerMercsParams.ReturnToBaseTimerMax'), CurShip), 3);",
              "            ShipOut(CurShip);",
              "",
              "            //FreeEarningState -   Free,        (       )",
              "            OrderLock(CurShip, 0);",
              "            ShipFreeFlight(CurShip);",
              "            ShipJoin(PlayerMercsFree, CurShip);",
              "            exit;",
              "        }",
              "        //       ,         ",
              "        else",
              "        {",
              "            PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] + 1;",
              "            ShipDestroy(CurShip, 1);",
              "            exit;",
              "        }",
              "    }",
              "    //    ",
              "    else if(group == PlayerMercsStrike)",
              "    {",
              "        if(GetData(2) == 1) SetData(0, 2); //      ",
              "        ChangeState('SittingBaseState');",
              "    }",
              "    //           ",
              "    else if(group == CruisersDefenders)",
              "    {",
              "        if(GetData(2) == 1) SetData(0, 2); //      ",
              "        ChangeState('CruiserWaitState');",
              "        exit;",
              "    }",
              "    else throw 'LandingBaseState error! Ship with wrong script group was landed.';",
              "}",
              "//      ",
              "else",
              "{",
              "    if(ShipInNormalSpace(CurShip))",
              "    {",
              "        //    , ..      ,       ",
              "        if(cur_star == HQstar)",
              "        {",
              "            if(ShipInNormalSpace(HQ))",
              "            {",
              "                OrderLanding(CurShip, HQ);",
              "            }",
              "            else",
              "            {",
              "                float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "                OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //         ",
              "            if(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] == '')",
              "            {",
              "                if(ShipGroup(CurShip) != PlayerMercsStrike) ChangeState('ReturningBaseState');",
              "                else ChangeState('ReturningStrikeState');",
              "            }",
              "            //    ",
              "            else",
              "            {",
              "                angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "                OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "            }",
              "        }",
              "    }",
              "    // , ,  -     -   ( , )",
              "    //      ",
              "    else OrderTakeOff(CurShip);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  250,
          "#":  251,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "cost = RoundTo(max(100000, 3 * GalaxyMoney(4, 4)), 1000, 0);",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBAnswerRename'), '<Cost'+'>', cost);",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PlayerAskRenameYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.PlayerAskRenameNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  256,
          "#":  259,
          "Total.Lines":  32,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ,    -,    ",
              "//(     ,      )",
              "tstr4 = TextBox(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.TextBoxName'), '', 30);",
              "",
              "if(tstr4 != '')",
              "{",
              "    //      ",
              "    tstr3 = PlayerHQMainArray['Main', 'OrganisationName'];",
              "    PlayerHQMainArray['Main', 'OrganisationName'] = tstr4;",
              "",
              "    //     ",
              "    SetName(GroupToShip(PlayerHQ), Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.HQMainName'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], ''));",
              "    //   ,        ",
              "    for(i = 0; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        cur_star = GalaxyStar(i);",
              "",
              "        for(j = 0; j < StarShips(cur_star); j = j + 1)",
              "        {",
              "            cur_ship = StarShips(cur_star, j);",
              "",
              "            //  -  \"\"",
              "            if(ShipType(cur_ship) == 'PlayerMerc')",
              "            {",
              "                SetName(cur_ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + Format(ShipName(cur_ship), tstr3 + ' ', '', ''));",
              "            }",
              "        }",
              "    }",
              "",
              "    ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "    Sound('Sound.Buy');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  263,
          "#":  264,
          "Total.Lines":  87,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      -    ",
              "//Data0 == ---",
              "//Data1 == Id ,     (    OrderAttackState)",
              "//Data2 == ---",
              "//Data3 ==  -4 -       ",
              "",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "if(ShipInNormalSpace(CurShip)) OrderLock(CurShip, 0);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(Hit(CurShip, 0))",
              "    {",
              "        if(ShipGroup(CurShip) == PlayerMercsStrike) int strike = 1;",
              "    }",
              "",
              "    if(HQ && strike)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "//   ",
              "ShipStatus(CurShip, 0, 0); //",
              "ShipStatus(CurShip, 1, 0); //",
              "ShipStatus(CurShip, 2, 100); //",
              "",
              "//  ",
              "if(cur_star != HQStar)",
              "{",
              "    //    ",
              "    OrderLock(CurShip, 1);",
              "    ShipFreeFlight(CurShip);",
              "    OrderJump(CurShip, HQStar);",
              "    exit;",
              "}",
              "//     ",
              "else if(cur_star != ShipStar(HQ))",
              "{",
              "    if(!ShipNearbyShips(CurShip, -1, 0, 1, '', ''))",
              "    {",
              "        //    ",
              "        OrderLock(CurShip, 1);",
              "        float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "        OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "        exit;",
              "    }",
              "}",
              "",
              "// ,    -         ",
              "//(       ,  )",
              "if(!ShipOrder(CurShip)) ShipFreeFlight(CurShip);",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc')",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  265,
          "#":  266,
          "Total.Lines":  191,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SkipGreeting();",
              "",
              "cur_ship = GetTalkShip();",
              "//    , ,   GetTalkShip(),    :|",
              "if(!cur_ship) cur_ship = CurShip;",
              "cur_star = ShipStar(cur_ship);",
              "",
              "if(ShipGroup(cur_ship) == PlayerMercsStrike) //     ",
              "{",
              "    //    ,     ,      ",
              "    phrases_path = 'Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class' + substr(GetData(0, cur_ship), 0, 1) + '.' + substr(GetData(0, cur_ship), 1) + '.PersonalPhrases';",
              "    if(!BlockExist(phrases_path)) phrases_path = 'Script.Mod_ShuMercs.PlayerMercsStrikeGroup'; //    \"\"",
              "}",
              "//   ",
              "else if(ShipGroup(cur_ship) == CruisersDefenders) phrases_path = 'Script.Mod_ShuMercs.PlayerMercCruiserDialog'; //      ",
              "else phrases_path = '';",
              "",
              "tint1 = 1;",
              "",
              "//     ",
              "if(Hit(cur_ship, 0))",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.AreLeavingByPlayerHit');",
              "    tstr4 = '</color>' + CT('Talk.Exit'); // ",
              "    tint1 = 0;",
              "",
              "    FreePlayerMerc(cur_ship);",
              "}",
              "else",
              "{",
              "    //- ()     ",
              "    tdwd3 = ShipIsPartner(cur_ship);",
              "    if(tdwd3) tint1 = 0;",
              "    tstr5 = '';",
              "",
              "    //   ",
              "    tdwd1 = ShipGetBad(cur_ship);",
              "    if(ShipOrder(cur_ship) == 6 && ShipOrderData1(cur_ship) && !GroupIs(cur_ship, QuestMercs))// && tdwd1)",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileAttack' + RndObject(1, 3, cur_ship)), '<TargetShip'+'>', ShipName(tdwd1), '<TargetShipFull'+'>', Name(tdwd1));",
              "    }",
              "    //        ",
              "    else if(GroupIs(cur_ship, QuestMercs))",
              "    {",
              "        tint1 = 0;",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileOnQuestHQ');",
              "    }",
              "    //     ( )    ",
              "    else if(GroupIs(cur_ship, PlayerMercsDefenders, PlayerMercsStrike, CruisersDefenders))",
              "    {",
              "        //     ",
              "        if(ShipGroup(cur_ship) == PlayerMercsDefenders)",
              "        {",
              "            if(StateIs(cur_ship, 'DefendingStarState')) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileDefending');",
              "            else",
              "            {",
              "                tint1 = 0;",
              "                tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileReturningAtReady');",
              "            }",
              "        }",
              "        //      ",
              "        else",
              "        {",
              "            if(StateIs(cur_ship, 'DefendingStarState'))",
              "            {",
              "                if(phrases_path != '') tstr1 = '</color>' + CT(phrases_path + '.DefendingHQStar');",
              "                else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.DefendingHQStar');",
              "            }",
              "            else",
              "            {",
              "                tint1 = 0;",
              "                if(phrases_path != '') tstr1 = '</color>' + CT(phrases_path + '.ReturningFromDefendingHQStar');",
              "                else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.ReturningFromDefendingHQStar');",
              "            }",
              "        }",
              "    }",
              "    //  \" \"",
              "    else if(StateIs(cur_ship, 'FreeEarningState'))",
              "    {",
              "        if(!tdwd3) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileEarning' + RndObject(1, 9, cur_ship)), '<MercName'+'>', Format(Name(cur_ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', ''));",
              "        else",
              "        {",
              "            tint3 = CurTurn() + ShipIsPartner(tdwd3, 1); //    ",
              "            tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhilePartner'), '<TargetShip'+'>', ShipName(tdwd3), '<TargetShipFull'+'>', Name(tdwd3), '<EndPartnerDate'+'>', GameDateTxtByTurn(tint3));",
              "        }",
              "    }",
              "    //  ",
              "    else if(StateIs(cur_ship, 'GuardingQState'))",
              "    {",
              "        tdwd1 = IdToShip(GetData(1, cur_ship));",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileGuarding' + RndObject(1, 3, cur_ship)), '<TargetShip'+'>', ShipName(tdwd1), '<TargetShipFull'+'>', Name(tdwd1));",
              "        tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.HelpIHaveQuest');",
              "    }",
              "    //  ",
              "    else if(StateIs(cur_ship, 'DeliveryQState'))",
              "    {",
              "        //    ",
              "        if(GetData(1, cur_ship))",
              "        {",
              "            tdwd1 = IdToPlanet(GetData(1, cur_ship));",
              "            tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileDelivery' + RndObject(1, 4, cur_ship)), '<TargetPlanet'+'>', Name(tdwd1));",
              "            tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.HelpIHaveQuest');",
              "        }",
              "        //   ",
              "        else",
              "        {",
              "            tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileEarning' + RndObject(1, 9, cur_ship)), '<MercName'+'>', Format(Name(cur_ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', ''));",
              "        }",
              "    }",
              "    //   ",
              "    else if(StateIs(cur_ship, 'ReturningBaseState', 'LandingBaseState'))",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileReturning' + RndObject(1, 3, cur_ship));",
              "    }",
              "    //    ",
              "    else if(StateIs(cur_ship, 'DefendingBaseState'))",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.GreetingWhileDefending');",
              "    }",
              "",
              "    //      \"\"   ",
              "    if(phrases_path != '')",
              "    {",
              "        tstr2 = '</color>' + CT(phrases_path + '.PlayerCallForHelp');",
              "        if(StateIs(cur_ship, 'OrderAttackState'))",
              "        {",
              "            dword target = IdToShip(GetData(1, cur_ship));",
              "            tstr3 = '</color>' + Format(CT(phrases_path + '.PlayerCallAtEasy'), '<TargetShip'+'>', Name(target));",
              "        }",
              "        tstr4 = '</color>' + CT('Talk.Exit');",
              "        if(tstr5 == '') tstr5 = '</color>' + CT(phrases_path + '.HelpWhoToShootAt');",
              "    }",
              "    else",
              "    {",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerCallForHelp');",
              "        if(StateIs(cur_ship, 'OrderAttackState'))",
              "        {",
              "            target = IdToShip(GetData(1, cur_ship));",
              "            tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerCallAtEasy'), '<TargetShip'+'>', Name(target));",
              "        }",
              "        tstr4 = '</color>' + CT('Talk.Exit');",
              "        if(tstr5 == '') tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.HelpWhoToShootAt');",
              "    }",
              "",
              "    //    - ,       ",
              "    ArrayClear(tarr1);",
              "    //        \"\" ",
              "    if(tint1)",
              "    {",
              "        if(",
              "           (ShipOrder(Player()) == 6 && ShipOrderData1(Player())) ||",
              "            ShipOrder(Player()) == -1",
              "          )",
              "        {",
              "            //       ",
              "            if(ShipType(ShipOrderObj(Player())) != 'PlayerMerc') ArrayAdd(tarr1, ShipOrderObj(Player()));",
              "        }",
              "",
              "        for(int i = 1; i <= ShipCntWeapon(Player()); i = i + 1)",
              "        {",
              "            dword cur_target = WeaponTarget(ShipWeapon(Player(), i));",
              "",
              "            //       ",
              "            if(ArrayDim(tarr1) > 1)",
              "            {",
              "                int chk = 0;",
              "                for(int j = 1; j < ArrayDim(tarr1); j = j + 1)",
              "                {",
              "                    if(cur_target == tarr1[j])",
              "                    {",
              "                        chk = 1;",
              "                        break;",
              "                    }",
              "                }",
              "                if(chk) continue;",
              "            }",
              "",
              "            if(ObjectType(cur_target) == 4 || ObjectType(cur_target) == 5)",
              "            {",
              "                //       ",
              "                if(ShipType(cur_target) != 'PlayerMerc') ArrayAdd(tarr1, cur_target);",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "if(tint1)",
              "{",
              "    tstr8 = '';",
              "    if(ShipGroup(cur_ship) == PlayerMercsFree) tstr8 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerINeedYou');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  267,
          "#":  268,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SkipGreeting();",
              "",
              "//    ",
              "ShipSetBad(cur_ship, 0);",
              "",
              "tint1 = Rnd(1, 4, sqr(Id(cur_ship) + CurTurn()));",
              "cost = GalaxyMoney(1, 4);",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.SalaryIncrease' + tint1), '<Payment' + '>', cost);",
              "tstr2 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.SalaryIncreasePlayerYes' + tint1), '<Payment' + '>', cost);",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.SalaryIncreasePlayerNo' + tint1);",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.SalaryIncreaseYes' + tint1);",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.SalaryIncreaseNo' + tint1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  270,
          "#":  274,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// \"\" ",
              "RelationToRanger(cur_ship, Player(), 100);",
              "",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');",
              "",
              "ButtonClick('Talk', 'Close');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  271,
          "#":  280,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// \"\" ",
              "RelationToRanger(cur_ship, Player(), 50);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  286,
          "#":  287,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       ",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    tdwd1 = StarShips(cur_star, i);",
              "",
              "    if(tdwd1 == Player()) continue;",
              "    if(!ShipInNormalSpace(tdwd1)) continue;",
              "    //    ",
              "    if(ObjectType(tdwd1) != 5) continue;",
              "    //     ",
              "    if(ShipType(tdwd1) == 'PlayerMerc') continue;",
              "    // ,   ",
              "    if(~ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_GuardedShip')) continue;",
              "    //  ",
              "    //if(ShipTypeN(tdwd1) == t_Kling && !ShipSubType(tdwd1)) continue;",
              "",
              "    InjectAnswer('PlayerMercsAttack', Name(tdwd1) + '<Object=' + tdwd1 + ',23,17,0>', tdwd1);",
              "}",
              "",
              "DAnswer('restart~' + CT('FormGameSet2.Common.HelpCancel')); //\"\"",
              "DAnswer('fastexit~' + CT('Talk.Exit')); //\" \""          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  288,
          "#":  289,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    -       ",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.AreLeavingByPlayerHit');",
              "tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "//      \"\"",
              "RelationToRanger(GetTalkShip(), Player(), 10);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  292,
          "#":  293,
          "Total.Lines":  75,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ,   ",
              "if(StateIs(cur_ship, 'GuardingQState', 'DeliveryQState'))",
              "{",
              "    //      ",
              "    SetData(CurTurn(), 0, cur_ship);",
              "    SetData(0, 1, cur_ship);",
              "    //         ,",
              "    //      ",
              "    cur_item = IdToItem(GetData(2, cur_ship));",
              "    if(cur_item)",
              "    {",
              "        if(~FindItemInShip(cur_ship, cur_item))",
              "        {",
              "            NoDropItem(cur_item, 0);",
              "        }",
              "    }",
              "    SetData(0, 2, cur_ship);",
              "}",
              "",
              "tdwd3 = GAnswerData;",
              "RelationToRanger(tdwd3, Player(), 0);",
              "SetData(Id(tdwd3), 1, cur_ship); //    ",
              "ChangeState('OrderAttackState', cur_ship);",
              "",
              "//     ",
              "ArrayClear(tarr1);",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    tdwd2 = StarShips(cur_star, i);",
              "",
              "    if(tdwd2 == cur_ship) continue;",
              "    if(!ShipInNormalSpace(tdwd2)) continue;",
              "    //  ,      ",
              "    if(ShipType(tdwd2) != 'PlayerMerc') continue;",
              "    //        ",
              "    if(StateIs(tdwd2, 'DefendingStarState')) continue;",
              "    // ,  ",
              "    if(ShipGroup(tdwd2) == QuestMercs) continue;",
              "",
              "    ArrayAdd(tarr1, tdwd2);",
              "}",
              "",
              "//    ",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    tint1 = 1;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.IsItGroupOrder');",
              "        tstr2 = '</color>' + CT(phrases_path + '.PlayerYesItsForGroup');",
              "        tstr3 = '</color>' + CT(phrases_path + '.PlayerNoItsPersonal');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.IsItGroupOrder');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerYesItsForGroup');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerNoItsPersonal');",
              "    }",
              "}",
              "else",
              "{",
              "    tint1 = 0;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.HelpRogerRoger');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.HelpRogerRoger');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  297,
          "#":  299,
          "Total.Lines":  39,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//         ",
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    cur_ship = tarr1[i];",
              "",
              "    if(StateIs(cur_ship, 'GuardingQState', 'DeliveryQState'))",
              "    {",
              "        //      ",
              "        SetData(CurTurn(), 0, cur_ship);",
              "        SetData(0, 1, cur_ship);",
              "        //         ,",
              "        //      ",
              "        cur_item = IdToItem(GetData(2, cur_ship));",
              "        if(cur_item)",
              "        {",
              "            if(~FindItemInShip(cur_ship, cur_item))",
              "            {",
              "                NoDropItem(cur_item, 0);",
              "            }",
              "        }",
              "",
              "        SetData(0, 2, cur_ship);",
              "    }",
              "",
              "    //\"\",        ,      ,    ",
              "    if(ShipGroup(cur_ship) == PlayerMercsStrike)",
              "    {",
              "        if(!StateIs(cur_ship, 'DefendingStarState', 'OrderAttackState'))",
              "        {",
              "            SetData(Id(tdwd3), 1, cur_ship); //     ",
              "            ChangeState('StrikeAttackState', cur_ship);",
              "        }",
              "    }",
              "    else",
              "    {",
              "        SetData(Id(tdwd3), 1, cur_ship); //     ",
              "        ChangeState('OrderAttackState', cur_ship);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  300,
          "#":  301,
          "Total.Lines":  77,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "",
              "// ,          ",
              "if(ShipFindCustomShipInfoByType(CurShip, 'ShuMercsHQ_MercTalksBlock') == -1)",
              "{",
              "    ShipAddCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "}",
              "OrderLock(CurShip, 1);",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "// \" \" ,       \"\"",
              "for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "dword target = IdToShip(GetData(1));",
              "//    ",
              "if(target)",
              "{",
              "    //     ",
              "    if(ShipStar(target) == cur_star && !ShipInHyperSpace(target, 1))",
              "    {",
              "        ShipSetBad(CurShip, target);",
              "        OrderFollowShip(CurShip, target, 1);",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 1);",
              "",
              "        ShipDeleteCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "        NoTalkToShip(CurShip, 0);",
              "        OrderLock(CurShip, 0);",
              "        ShipFreeFlight(CurShip);",
              "",
              "        //   ",
              "        if(ShipGroup(CurShip) == PlayerMercsStrike) ChangeState('DefendingBaseState');",
              "        // -",
              "        else if(ShipGroup(CurShip) == PlayerMercsDefenders) ChangeState('DefendingStarState');",
              "        //  ,      ,       ",
              "        else ChangeState('FreeEarningState');",
              "",
              "        exit;",
              "    }",
              "}",
              "else",
              "{",
              "    SetData(0, 1);",
              "",
              "    ShipDeleteCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "    NoTalkToShip(CurShip, 0);",
              "    OrderLock(CurShip, 0);",
              "    ShipFreeFlight(CurShip);",
              "",
              "    //   ",
              "    if(ShipGroup(CurShip) == PlayerMercsStrike) ChangeState('DefendingBaseState');",
              "    // -",
              "    else if(ShipGroup(CurShip) == PlayerMercsDefenders) ChangeState('DefendingStarState');",
              "    //  ,      ,       ",
              "    else ChangeState('FreeEarningState');",
              "",
              "    exit;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  302,
          "#":  303,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    if(phrases_path != '') InjectAnswer('PlayerMercsAttack', Format(CT(phrases_path + '.PlayerCallForHelpWith'), '<TargetShip'+'>', Name(tarr1[i]) + '<Object=' + tarr1[i] + ',23,17,0>'), tarr1[i]);",
              "    else InjectAnswer('PlayerMercsAttack', Format(CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerCallForHelpWith'), '<TargetShip'+'>', Name(tarr1[i]) + '<Object=' + tarr1[i] + ',23,17,0>'), tarr1[i]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  305,
          "#":  306,
          "Total.Lines":  72,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    PlayerMercsStrike:",
              "//Data0 ==  (1-3) ,    ",
              "//Data1 == Id   ,     StrikeAttackState,    OrderAttackState",
              "//Data2 == Id ,     ",
              "//      ==       (CurTurn() + N) /      (-1)",
              "//      ==    \"  \"     -(CurTurn() + N)",
              "//      ==           ( 1       LandingBaseState),    0    ",
              "//:      dword,           int.",
              "//Data3 ==      ,   -2",
              "",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "//dword HQstar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//   ",
              "ShipStatus(CurShip, 0, 0); //",
              "ShipStatus(CurShip, 1, 0); //",
              "ShipStatus(CurShip, 2, 100); //",
              "",
              "OrderLock(CurShip, 0);",
              "int tint = GetData(2);",
              "if(tint)",
              "{",
              "    //       ",
              "    if(tint > 0)",
              "    {",
              "        //    \"  \"",
              "        SetData(-(CurTurn() + 3), 2);",
              "    }",
              "    //,     \"  \"",
              "    else",
              "    {",
              "        //  ,  ",
              "        if(abs(tint) <= CurTurn())",
              "        {",
              "            for(int i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "            {",
              "                dword cur_ship = GroupShip(PlayerMercsStrike, i);",
              "",
              "                int tint_2 = GetData(2, cur_ship);",
              "                //         \"\"",
              "                if(abs(tint_2) > CurTurn()) break;",
              "                // \"\" ,   ",
              "                else",
              "                {",
              "                    if(i == GroupCount(PlayerMercsStrike) - 1) CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasReturn'));",
              "                }",
              "            }",
              "",
              "            SetData(0, 2);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  307,
          "#":  308,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "",
              "if(BuildOwnBase_Condition == 6) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.HQDialogStartTziptzilot');",
              "else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.HQDialogStart');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  312,
          "#":  316,
          "Total.Lines":  60,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//tint1 == 0 -          ",
              "//tint1 == 1 -        ",
              "//tint1 == 2 -  ,       ",
              "//tint1 == 3 -       ",
              "",
              "cur_star = ShipStar(Player());",
              "tdwd2 = ShipStar(tdwd1);",
              "//      (  ,    +       )",
              "if(cur_star != tdwd2)",
              "{",
              "    check = max(2, round(0.1 * Dist(tdwd2, cur_star)) + 1) + Rnd(5, 8, sqr(CurTurn()));",
              "    if(tint1 == 3) check = check + 3; //        ",
              "}",
              "//      ",
              "else check = -1;",
              "",
              "//         ,      ",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "{",
              "    if(tint1 < 3)",
              "    {",
              "        //    ,     ",
              "        if(GroupIn(CruisersDefenders, GroupToShip(PlayerHQ)))",
              "        {",
              "            //            ",
              "            if(real_strikes >= 3)",
              "            {",
              "                tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupAddCruiser');",
              "                tint1 = 1;",
              "            }",
              "            else",
              "            {",
              "                tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupAddCruiserNotEnoughStrikeShips');",
              "                tint1 = 2; //   ",
              "            }",
              "        }",
              "        else",
              "        {",
              "            tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupAddCruiserOut');",
              "            tint1 = 2; //   ",
              "        }",
              "    }",
              "    //     ,      ",
              "    else",
              "    {",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupExcludeCruiser');",
              "    }",
              "}",
              "",
              "if(~check) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.GroupLaunchConfirm'), '<PlayerStar'+'>', Name(cur_star), '<TimeToArrive'+'>', check);",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.GroupLaunchHomeConfirm'), '<PlayerStar'+'>', Name(cur_star));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerConfirmYes');",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerConfirmNo');",
              "",
              "//       (   )",
              "//else",
              "//{",
              "//    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.GroupIsOut');",
              "//    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerGroupIsOut');",
              "//}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  320,
          "#":  323,
          "Total.Lines":  28,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    if(int(GetData(3, cur_ship)) != -2) continue;",
              "",
              "    //     ",
              "    SetData(Id(cur_star) - 1, 2, cur_ship);",
              "    //     ,       ",
              "    if(~check) MakeShipEnterStar(cur_ship, cur_star, tdwd2, check - 1);",
              "    ChangeState('MovingOutState', cur_ship);",
              "}",
              "",
              "//    ,      ",
              "if(tint1 == 3)",
              "{",
              "    cur_ship = GroupToShip(CruisersDefenders);",
              "",
              "    //  ",
              "    SetData(Id(cur_star) - 1, 2, cur_ship);",
              "    //     ,       ",
              "    if(~check) MakeShipEnterStar(cur_ship, cur_star, tdwd2, check - 1);",
              "    ChangeState('MovingOutState', cur_ship);",
              "}",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.GroupWasSent');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQOut');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupOut');",
              "check = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  321,
          "#":  324,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ,   ",
              "if(tint1)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.GroupLaunchDecline');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQOut');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroup');",
              "}",
              "//      ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.HQDialogReask');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQOut');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroup');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  325,
          "#":  326,
          "Total.Lines":  117,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQstar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "OrderLock(CurShip, 1);",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "dword tdwd = GalaxyStar(GetData(2));",
              "",
              "//       ",
              "if(tdwd == cur_star)",
              "{",
              "    //     ",
              "    if(ShipOrder(CurShip) != 3)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip))",
              "        {",
              "            OrderTakeOff(CurShip);",
              "            exit;",
              "        }",
              "        else",
              "        {",
              "            //      ",
              "            if(cur_star == HQstar)",
              "            {",
              "                CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupArrivedHome'));",
              "",
              "                //         ",
              "                for(int i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                    SetData(CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, cur_ship);",
              "                    ChangeState('StrikeAtEasyState', cur_ship);",
              "                }",
              "",
              "                //  ,       ",
              "                if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "                {",
              "                    cur_ship = GroupToShip(CruisersDefenders);",
              "                    if(StateIs(cur_ship, 'MovingOutState'))",
              "                    {",
              "                        SetData(CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, cur_ship);",
              "                        ChangeState('StrikeAtEasyState', cur_ship);",
              "                    }",
              "                }",
              "",
              "                exit;",
              "            }",
              "            //     ",
              "            else",
              "            {",
              "                if(cur_star == ShipStar(Player()))",
              "                {",
              "                    if(ShipInNormalSpace(Player()) && Dist(CurShip, Player()) <= ShipRadarRange(Player()))",
              "                    {",
              "                        //     ",
              "                        SetData(-1, 2);",
              "                        Dialog(PlayerMercsStrikeGroup, CurShip);",
              "",
              "                        //     ,      (  )",
              "                        if(!StateIs(CurShip, 'MovingOutState')) exit;",
              "                    }",
              "                    else",
              "                    {",
              "                        CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupArrived'));",
              "                    }",
              "                }",
              "                else",
              "                {",
              "                    CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupArrivedPlayerMissing'));",
              "                }",
              "",
              "                //         ",
              "                for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                {",
              "                    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "                    SetData(CurTurn() + 2 * CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, cur_ship); //2 * N       (    ,   )",
              "                    ChangeState('StrikeAtEasyState', cur_ship);",
              "                }",
              "",
              "                //  ,       ",
              "                if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "                {",
              "                    cur_ship = GroupToShip(CruisersDefenders);",
              "                    if(StateIs(cur_ship, 'MovingOutState'))",
              "                    {",
              "                        SetData(CurTurn() + 2 * CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, cur_ship); //2 * N       (    ,   )",
              "                        ChangeState('StrikeAtEasyState', cur_ship);",
              "                    }",
              "                }",
              "",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  327,
          "#":  328,
          "Total.Lines":  210,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "",
              "// ,          ",
              "if(ShipFindCustomShipInfoByType(CurShip, 'ShuMercsHQ_MercTalksBlock') == -1)",
              "{",
              "    ShipAddCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "}",
              "",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        //     ,          ,    ",
              "        int no_tar = NoTargetToShip(target);",
              "        NoTargetToShip(target, 4);",
              "        TruceBetweenShips(CurShip, target);",
              "        NoTargetToShip(target, no_tar);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        no_tar = NoTargetToShip(target);",
              "        //     ,          ,    ",
              "        NoTargetToShip(target, 4);",
              "        TruceBetweenShips(CurShip, target);",
              "        NoTargetToShip(target, no_tar);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "}",
              "",
              "//     ",
              "if(GetData(2) <= CurTurn())",
              "{",
              "    int strikes = 0;",
              "    for(int i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "    {",
              "        dword cur_ship = GroupShip(PlayerMercsStrike, i);",
              "",
              "        ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "        NoTalkToShip(cur_ship, 0);",
              "        OrderLock(cur_ship, 1);",
              "",
              "        if(int(GetData(3, cur_ship)) != -2) ShipJoin(PlayerMercsFree, cur_ship, 'FreeEarningState', 0, 0, 0);",
              "        else",
              "        {",
              "            ChangeState('ReturningStrikeState', cur_ship);",
              "            strikes = strikes + 1;",
              "        }",
              "    }",
              "",
              "    //  ,       ",
              "    if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "    {",
              "        cur_ship = GroupToShip(CruisersDefenders);",
              "        if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "        {",
              "            ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "            NoTalkToShip(cur_ship, 0);",
              "            OrderLock(cur_ship, 1);",
              "            //       ",
              "            //ChangeState('ReturningBaseState', cur_ship);",
              "            // , ",
              "            ChangeState('ReturningStrikeState', cur_ship);",
              "            strikes = strikes + 1;",
              "        }",
              "    }",
              "",
              "    if(strikes)",
              "    {",
              "        if(GroupCount(PlayerMercsStrike)) CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupReturning'), '<Star'+'>', Name(cur_star), '255,240,100'));",
              "        // ,        ",
              "        else CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupReturningOnlyCruiser'), '<Star'+'>', Name(cur_star), '255,240,100'));",
              "    }",
              "",
              "    exit;",
              "}",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "dword player_star = ShipStar(Player());",
              "",
              "//           Follow",
              "//if(player_star != cur_star)",
              "//{",
              "//    OrderJump(CurShip, player_star);",
              "//    exit;",
              "//}",
              "",
              "//       ,          ",
              "if(!ShipInNormalSpace(CurShip))",
              "{",
              "    if(ShipInNormalSpace(Player()))",
              "    {",
              "        OrderLock(CurShip, 1);",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//      ,  ,  ",
              "int closest_dist = 500000;",
              "target = 0;",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    dword ship = StarShips(cur_star, i);",
              "",
              "    if(IsPlayer(ship)) continue; //   (   ,     )",
              "    if(ShipInHyperSpace(ship, 1)) continue;",
              "    if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "    if(RelationToShip(ship, Player()) < 10)",
              "    {",
              "        if(!ShipInScript(ship, 0))",
              "        {",
              "            ShipJoin(RandomAttackers, ship);",
              "            // 10       ",
              "            SetData(CurTurn() + 10, 0, ship);",
              "        }",
              "",
              "        int dist = Dist(CurShip, ship);",
              "        if(dist < closest_dist)",
              "        {",
              "            //      /,",
              "            //        ",
              "            if(ShipInNormalSpace(ship) || !target)",
              "            {",
              "                closest_dist = dist;",
              "                target = ship;",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//   ,         ",
              "if(target)",
              "{",
              "    OrderLock(CurShip, 1);",
              "    ShipSetBad(CurShip, target);",
              "    OrderFollowShip(CurShip, target, 1);",
              "    //  ,          ()",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "//      ",
              "else",
              "{",
              "    //    ,       \"\"  ",
              "    if(player_star != cur_star || ShipInHyperSpace(Player(), 1))",
              "    {",
              "        OrderLock(CurShip, 0);",
              "    }",
              "    else",
              "    {",
              "        OrderLock(CurShip, 1);",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            OrderFollowShip(CurShip, Player(), 0);",
              "        }",
              "        else",
              "        {",
              "            dword player_planet = GetShipPlanet(Player());",
              "            if(!player_planet) player_planet = GetShipRuins(Player());",
              "",
              "            OrderLanding(CurShip, player_planet);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  329,
          "#":  330,
          "Total.Lines":  182,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SkipGreeting();",
              "",
              "cur_ship = GetTalkShip();",
              "//    , ,   GetTalkShip(),    :|",
              "if(!cur_ship) cur_ship = CurShip;",
              "cur_star = ShipStar(cur_ship);",
              "",
              "if(int(GetData(3, cur_ship)) == -2)  //     ",
              "{",
              "    //    ,     ,      ",
              "    phrases_path = 'Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class' + substr(GetData(0, cur_ship), 0, 1) + '.' + substr(GetData(0, cur_ship), 1) + '.PersonalPhrases';",
              "    if(!BlockExist(phrases_path)) phrases_path = '';",
              "}",
              "//      \"\"",
              "else",
              "{",
              "    if(ShipType(cur_ship) != 'PlayerMercCruiser')",
              "    {",
              "        phrases_path = ''; // \"\"",
              "        tstr8 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerYouAreFree');",
              "    }",
              "    phrases_path = 'Script.Mod_ShuMercs.PlayerMercCruiserDialog'; //      ",
              "}",
              "",
              "tint1 = 1;",
              "",
              "//     ",
              "if(Hit(cur_ship, 0))",
              "{",
              "    if(phrases_path != '') tstr1 = '</color>' + CT(phrases_path + '.AreLeavingByPlayerHit');",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AreLeavingByPlayerHit');",
              "    tstr6 = '</color>' + CT('Talk.Exit'); // ",
              "    tint1 = 0;",
              "",
              "    FreePlayerMerc(cur_ship);",
              "}",
              "else",
              "{",
              "    //      ,   ",
              "    tint2 = 0;",
              "    for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "    {",
              "        dword ship = StarShips(cur_star, i);",
              "",
              "        if(ShipInHyperSpace(ship)) continue;",
              "        if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "        if(RelationToShip(ship, Player()) > 9) continue;",
              "",
              "        tint2 = 1;",
              "        break;",
              "    }",
              "",
              "    //            (     )",
              "    if(GetData(2, cur_ship) == -1)",
              "    {",
              "        //      ",
              "        for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(PlayerMercsStrike, i);",
              "            SetData(CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, tdwd1);",
              "        }",
              "",
              "        //   ,       ",
              "        if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "        {",
              "            tdwd1 = GroupToShip(CruisersDefenders);",
              "            if(StateIs(tdwd1, 'MovingOutState'))",
              "            {",
              "                SetData(CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.StrikeGroupDutyDays'), 2, tdwd1);",
              "            }",
              "        }",
              "",
              "        if(phrases_path != '')",
              "        {",
              "            tstr1 = '</color>' + CT(phrases_path + '.GroupHasArrived');",
              "            tstr2 = '</color>' + CT(phrases_path + '.PlayerOrderAttack');",
              "            tstr3 = '</color>' + CT(phrases_path + '.PlayerOrderFollowMe');",
              "            tstr4 = '</color>' + CT(phrases_path + '.PlayerOrderAtEasy');",
              "            tstr5 = '</color>' + CT(phrases_path + '.PlayerOrderToReturn');",
              "            tstr6 = '</color>' + CT('Talk.Exit');",
              "            tstr7 = '</color>' + CT(phrases_path + '.AttackWhat');",
              "        }",
              "        else",
              "        {",
              "            tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.GroupHasArrived');",
              "            tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderAttack');",
              "            tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderFollowMe');",
              "            tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderAtEasy');",
              "            tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderToReturn');",
              "            tstr6 = '</color>' + CT('Talk.Exit');",
              "            tstr7 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AttackWhat');",
              "        }",
              "    }",
              "    //       ",
              "    else",
              "    {",
              "        //     ",
              "        if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState'))",
              "        {",
              "            if(phrases_path != '')",
              "            {",
              "                tstr1 = '</color>' + CT(phrases_path + '.TalkBegin');",
              "                tstr2 = '</color>' + CT(phrases_path + '.PlayerOrderAttack');",
              "                tstr3 = '</color>' + CT(phrases_path + '.PlayerOrderFollowMe');",
              "                tstr4 = '</color>' + CT(phrases_path + '.PlayerOrderAtEasy');",
              "                tstr5 = '</color>' + CT(phrases_path + '.PlayerOrderToReturn');",
              "                tstr6 = '</color>' + CT('Talk.Exit');",
              "                tstr7 = '</color>' + CT(phrases_path + '.AttackWhat');",
              "            }",
              "            else",
              "            {",
              "                tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.TalkBegin');",
              "                tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderAttack');",
              "                tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderFollowMe');",
              "                tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderAtEasy');",
              "                tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderToReturn');",
              "                tstr6 = '</color>' + CT('Talk.Exit');",
              "                tstr7 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AttackWhat');",
              "            }",
              "        }",
              "        //    ",
              "        else if(StateIs(cur_ship, 'ReturningStrikeState'))",
              "        {",
              "            tint1 = 0;",
              "            if(phrases_path != '') tstr1 = '</color>' + CT(phrases_path + '.GroupIsReturning');",
              "            else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.GroupIsReturning');",
              "            tstr6 = '</color>' + CT('Talk.Exit');",
              "        }",
              "        //       ",
              "        else if(StateIs(cur_ship, 'LandingBaseState'))",
              "        {",
              "            //         ",
              "            //(    ,     ,          )",
              "            tint1 = 0;",
              "            //       ,     -   ",
              "            if(phrases_path != '') tstr1 = '</color>' + CT(phrases_path + '.GroupIsReturning');",
              "            else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.GroupIsReturning');",
              "            tstr6 = '</color>' + CT('Talk.Exit');",
              "        }",
              "    }",
              "",
              "    //    - ,       ",
              "    ArrayClear(tarr1);",
              "    //        \"\" ",
              "    if(tint1)",
              "    {",
              "        if(",
              "           (ShipOrder(Player()) == 6 && ShipOrderData1(Player())) ||",
              "            ShipOrder(Player()) == -1",
              "          )",
              "        {",
              "            //       ",
              "            if(ShipType(ShipOrderObj(Player())) != 'PlayerMerc') ArrayAdd(tarr1, ShipOrderObj(Player()));",
              "        }",
              "",
              "        for(i = 1; i <= ShipCntWeapon(Player()); i = i + 1)",
              "        {",
              "            dword cur_target = WeaponTarget(ShipWeapon(Player(), i));",
              "",
              "            //       ",
              "            if(ArrayDim(tarr1) > 1)",
              "            {",
              "                int chk = 0;",
              "                for(j = 1; j < ArrayDim(tarr1); j = j + 1)",
              "                {",
              "                    if(cur_target == tarr1[j])",
              "                    {",
              "                        chk = 1;",
              "                        break;",
              "                    }",
              "                }",
              "                if(chk) continue;",
              "            }",
              "",
              "            if(ObjectType(cur_target) == 4 || ObjectType(cur_target) == 5)",
              "            {",
              "                //       ",
              "                if(ShipType(cur_target) != 'PlayerMerc') ArrayAdd(tarr1, cur_target);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  332,
          "#":  335,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    if(phrases_path != '') InjectAnswer('PlayerStrikeAttack', Format(CT(phrases_path + '.PlayerOrderAttackOn'), '<TargetShip'+'>', Name(tarr1[i]) + '<Object=' + tarr1[i] + ',23,17,0>'), tarr1[i]);",
              "    else InjectAnswer('PlayerStrikeAttack', Format(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerOrderAttackOn'), '<TargetShip'+'>', Name(tarr1[i]) + '<Object=' + tarr1[i] + ',23,17,0>'), tarr1[i]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  338,
          "#":  339,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       ",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    tdwd1 = StarShips(cur_star, i);",
              "",
              "    if(tdwd1 == Player()) continue;",
              "    if(!ShipInNormalSpace(tdwd1)) continue;",
              "    //    ",
              "    if(ObjectType(tdwd1) != 5) continue;",
              "    //     ",
              "    if(ShipType(tdwd1) == 'PlayerMerc') continue;",
              "    // ,   ",
              "    if(~ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_GuardedShip')) continue;",
              "    //  ",
              "    //if(ShipTypeN(tdwd1) == t_Kling && !ShipSubType(tdwd1)) continue;",
              "",
              "    InjectAnswer('PlayerStrikeAttack', Name(tdwd1) + '<Object=' + tdwd1 + ',23,17,0>', tdwd1);",
              "}",
              "",
              "DAnswer('restart~' + CT('FormGameSet2.Common.HelpCancel')); //\"\"",
              "DAnswer('fastexit~' + CT('Talk.Exit')); //\" \""          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  340,
          "#":  341,
          "Total.Lines":  72,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd3 = GAnswerData;",
              "",
              "RelationToRanger(tdwd3, Player(), 0);",
              "SetData(Id(tdwd3), 1, cur_ship);",
              "ChangeState('StrikeAttackState', cur_ship);",
              "",
              "//      ,    ",
              "int check = 0;",
              "if(GroupCount(PlayerMercsStrike) > 1)",
              "{",
              "    for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "    {",
              "        cur_ship = GroupShip(PlayerMercsStrike, i);",
              "        if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "        if(!ShipInNormalSpace(cur_ship)) continue;",
              "        if(ShipStar(cur_ship) != ShipStar(Player())) continue;",
              "        if(StateIs(cur_ship, 'StrikeAttackState') && GetData(1, cur_ship) == Id(tdwd3)) continue;",
              "",
              "        check = 1;",
              "        break;",
              "    }",
              "",
              "    //  ,       ",
              "    if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "    {",
              "        cur_ship = GroupToShip(CruisersDefenders);",
              "        if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "        {",
              "            if(ShipInNormalSpace(cur_ship))",
              "            {",
              "                if(ShipStar(cur_ship) == ShipStar(Player()))",
              "                {",
              "                    if(!StateIs(cur_ship, 'StrikeAttackState') || GetData(1, cur_ship) != Id(tdwd3)) check = 1;",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "if(check)",
              "{",
              "    tint1 = 1;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.IsItGroupOrderStrike');",
              "        tstr2 = '</color>' + CT(phrases_path + '.PlayerYesItsForGroupStrike');",
              "        tstr3 = '</color>' + CT(phrases_path + '.PlayerNoItsPersonalStrike');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.IsItGroupOrderStrike');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerYesItsForGroupStrike');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerNoItsPersonalStrike');",
              "    }",
              "}",
              "else",
              "{",
              "    tint1 = 0;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.AttackOne');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AttackOne');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  344,
          "#":  345,
          "Total.Lines":  45,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(phrases_path != '')",
              "{",
              "    tstr1 = '</color>' + CT(phrases_path + '.OrderToReturn');",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.OrderToReturn');",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}",
              "",
              "//         ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "    if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_MercTalksBlock'))",
              "    {",
              "        NoTalkToShip(cur_ship, 0);",
              "        ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "    }",
              "",
              "    if(int(GetData(3, cur_ship)) != -2) ShipJoin(PlayerMercsFree, cur_ship, 'ReturningBaseState', 0, 0, 0); //     ",
              "    else ChangeState('ReturningStrikeState', cur_ship);",
              "}",
              "",
              "//  ,       ",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "{",
              "    cur_ship = GroupToShip(CruisersDefenders);",
              "    if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "    {",
              "        if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_MercTalksBlock'))",
              "        {",
              "            NoTalkToShip(cur_ship, 0);",
              "            ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "        }",
              "",
              "        //       ",
              "        //ChangeState('ReturningBaseState', cur_ship);",
              "        // , ",
              "        ChangeState('ReturningStrikeState', cur_ship);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  348,
          "#":  350,
          "Total.Lines":  29,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//         ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "    if(!ShipInNormalSpace(cur_ship)) continue;",
              "    if(ShipStar(cur_ship) != ShipStar(Player())) continue;",
              "",
              "    SetData(Id(tdwd3), 1, cur_ship);",
              "    ChangeState('StrikeAttackState', cur_ship);",
              "}",
              "",
              "//  ,       ",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "{",
              "    cur_ship = GroupToShip(CruisersDefenders);",
              "    if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "    {",
              "        if(ShipInNormalSpace(cur_ship))",
              "        {",
              "            if(ShipStar(cur_ship) == ShipStar(Player()))",
              "            {",
              "                SetData(Id(tdwd3), 1, cur_ship);",
              "                ChangeState('StrikeAttackState', cur_ship);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  353,
          "#":  354,
          "Total.Lines":  78,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "",
              "// ,          ",
              "if(ShipFindCustomShipInfoByType(CurShip, 'ShuMercsHQ_MercTalksBlock') == -1)",
              "{",
              "    ShipAddCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "}",
              "OrderLock(CurShip, 1);",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "// \" \" ,         \"\"",
              "for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "dword target = IdToShip(GetData(1));",
              "//    ",
              "if(target)",
              "{",
              "    //     ",
              "    if(ShipStar(target) == cur_star && !ShipInHyperSpace(target, 1))",
              "    {",
              "        ShipSetBad(CurShip, target);",
              "        OrderFollowShip(CurShip, target, 1);",
              "    }",
              "    else",
              "    {",
              "        //         ,        ",
              "        if(GetData(2) > CurTurn() || ShipStar(Player()) == cur_star) ChangeState('StrikeAtEasyState');",
              "        //     ",
              "        else",
              "        {",
              "            ShipDeleteCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "            NoTalkToShip(CurShip, 0);",
              "            ChangeState('ReturningStrikeState');",
              "        }",
              "        exit;",
              "    }",
              "}",
              "else",
              "{",
              "    SetData(0, 1);",
              "",
              "    //         ,         ",
              "    if(GetData(2) > CurTurn() || ShipStar(Player()) == cur_star) ChangeState('StrikeAtEasyState');",
              "    //     ",
              "    else",
              "    {",
              "        ShipDeleteCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "        NoTalkToShip(CurShip, 0);",
              "        ChangeState('ReturningStrikeState');",
              "    }",
              "    exit;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  337,
          "#":  357,
          "Total.Lines":  40,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(phrases_path != '')",
              "{",
              "    if(tint2) tstr1 = '</color>' + CT(phrases_path + '.AtEasy');",
              "    else tstr1 = '</color>' + CT(phrases_path + '.AtEasyNoTargets');",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}",
              "else",
              "{",
              "    if(tint2) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AtEasy');",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.AtEasyNoTargets');",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}",
              "",
              "//        ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "    if(ShipInHyperSpace(cur_ship)) continue;",
              "    if(ShipStar(cur_ship) != ShipStar(Player())) continue;",
              "",
              "    ChangeState('StrikeAtEasyState', cur_ship);",
              "}",
              "",
              "//  ,       ",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "{",
              "    cur_ship = GroupToShip(CruisersDefenders);",
              "    if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "    {",
              "        if(!ShipInHyperSpace(cur_ship))",
              "        {",
              "            if(ShipStar(cur_ship) == ShipStar(Player()))",
              "            {",
              "                ChangeState('StrikeAtEasyState', cur_ship);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  358,
          "#":  359,
          "Total.Lines":  77,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "",
              "    exit;",
              "}",
              "dword HQstar = GalaxyStar(PlayerHQMainArray['Main', 'HQStar']);",
              "",
              "OrderLock(CurShip, 1);",
              "//    ,      ,",
              "//     ",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "if(ShipInNormalSpace(CurShip))",
              "{",
              "    //         ",
              "    dword ship = ShipGetBad(CurShip);",
              "    if(ship)",
              "    {",
              "        if(ShipType(ship) == 'PlayerMerc')",
              "        {",
              "            TruceBetweenShips(CurShip, ship);",
              "            //        ",
              "            ship = ShipIsPartner(CurShip);",
              "            if(ship) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(ship, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, ship);",
              "            //       ",
              "            ship = ShipIsPartner(CurShip);",
              "            if(ship) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "    }",
              "",
              "    //        ,    ",
              "    if(cur_star != HQstar)",
              "    {",
              "        OrderJump(CurShip, HQstar);",
              "        exit;",
              "    }",
              "    //     ",
              "    else",
              "    {",
              "        //  ,       . !",
              "        ChangeState('LandingBaseState');",
              "        exit;",
              "    }",
              "}",
              "else",
              "{",
              "    ShipRefuel(CurShip);",
              "    HullHP(CurShip, ItemSize(ShipItems(CurShip, 0)));",
              "    OrderTakeOff(CurShip);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  363,
          "#":  364,
          "Total.Lines":  321,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestTarget:",
              "//Data0 ==    (    )",
              "//    13 -    -",
              "",
              "//    17 -  (    QuestPlace)",
              "//    18 -     (        QuestPlace)",
              "",
              "//    66 -  ",
              "//    33 -      ",
              "//    20 -     ",
              "//    22 -      :",
              "//      Data1 -  X",
              "//      Data2 -  Y",
              "//      Data3 -   (12 : ID , 20  - -    )",
              "//    -1 -     ",
              "",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//   :",
              "//     :  id  2",
              "//     /(   ):  id  2 + 1",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "",
              "//     -",
              "if(GetData(0) == 13)",
              "{",
              "    OrderLock(CurShip, 1);",
              "    for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "    {",
              "        dword gun = ShipWeapon(CurShip, i);",
              "        WeaponTarget(gun, 0);",
              "    }",
              "",
              "    OrderNone(CurShip);",
              "    exit;",
              "}",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //     ",
              "    if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "    else",
              "    {",
              "        if(GetData(1))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "                SetData(0, 1);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//    -      ",
              "if(QuestTargetDialogCall > CurTurn())",
              "{",
              "    if(cur_star == ShipStar(Player()))",
              "    {",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            if(ShipInNormalSpace(CurShip))",
              "            {",
              "                if(Dist(Player(), CurShip) <= ShipRadarRange(Player()))",
              "                {",
              "                    QuestTargetDialogCall = -1;",
              "                    Dialog(CurShip);",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "//ShipFreeFlight(CurShip, 1);",
              "",
              "//    ",
              "if(GetData(0) == 20)",
              "{",
              "    OrderForsage(CurShip, 1);",
              "}",
              "",
              "//     :",
              "//  Data1 -  X",
              "//  Data2 -  Y",
              "//  Data3 -   (12 : ID , 20  - -    )",
              "if(GetData(0) == 22)",
              "{",
              "    OrderTeleport(CurShip, GalaxyStar((GetData(3) >> 20) - 1), int(GetData(1)), int(GetData(2)), 5, GetData(3) & 1048575);",
              "    SetData(113, 0);",
              "    exit;",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 1, CurShip);",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "//  /",
              "else if(GetData(2, CurShip))",
              "{",
              "    if(!(GetData(2, CurShip) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2, CurShip) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2, CurShip);",
              "            //     ",
              "            if(GetData(0, CurShip) == 66) ShipDestroy(CurShip, 1);",
              "            //          ",
              "            else if(GetData(0, CurShip) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0, CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2, CurShip) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2, CurShip);",
              "                //     ",
              "                if(GetData(0, CurShip) == 66) ShipDestroy(CurShip, 1);",
              "                //          ",
              "                else if(GetData(0, CurShip) == 32)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    SetData(33, 0, CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2, CurShip);",
              "            //          ",
              "            if(GetData(0, CurShip) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0, CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3, CurShip))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3, CurShip));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                OrderFollowShip(CurShip, object, 0);",
              "",
              "                //  ,        ",
              "                if(GetData(0, CurShip) == 1)",
              "                {",
              "                    if(!ShipInNormalSpace(object))",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(sit) OrderLanding(CurShip, sit);",
              "                        else OrderLanding(CurShip, GetShipRuins(object));",
              "                    }",
              "                    else",
              "                    {",
              "                        OrderTakeOff(CurShip);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //      - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 3, CurShip);",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "        else",
              "        {",
              "            float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "            OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  365,
          "#":  366,
          "Total.Lines":  507,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestMercs (        QuestTarget):",
              "//Data0 ==    (    )",
              "//        3 -           (,          ..)",
              "//        4 -        ,    ChangeShipScriptGroupInfo     ",
              "",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    if(GetData(1))",
              "    {",
              "        //    ",
              "        object = GalaxyStar(GetData(1) - 1);",
              "        if(cur_star == object)",
              "        {",
              "            //   ,       ",
              "            //       ",
              "            if(GetData(0) == 34)",
              "            {",
              "                ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                SetData(33, 0);",
              "                OrderLock(CurShip, 0);",
              "            }",
              "            else if(GetData(0) >= 97 && GetData(0) <= 99)",
              "            {",
              "                ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(0, 3);",
              "                OrderLock(CurShip, 1);",
              "",
              "                if(GetData(0) == 97)",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapDomState');",
              "                }",
              "                else if(GetData(0) == 98)",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapPirState');",
              "                }",
              "                else",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapCoalState');",
              "                }",
              "                exit;",
              "            }",
              "",
              "            SetData(0, 1);",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //         ",
              "    dword target = ShipGetBad(CurShip);",
              "    if(target)",
              "    {",
              "        if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //        ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(ShipInScript(target, 0))",
              "        {",
              "            if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "            {",
              "                TruceBetweenShips(CurShip, target);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        //     , ",
              "        //ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "//ShipFreeFlight(CurShip, 1);",
              "",
              "//         ",
              "target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(ShipInScript(target, 0))",
              "    {",
              "        if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "            target = 0;",
              "        }",
              "    }",
              "}",
              "",
              "//     ,         ( )",
              "if(target)",
              "{",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//    ",
              "//  Data1 -  X",
              "//  Data2 -  Y",
              "if(GetData(0) == 16)",
              "{",
              "    OrderMove(CurShip, int(GetData(1)), int(GetData(2)));",
              "    exit;",
              "}",
              "",
              "//          (       )",
              "if(GetData(0) == 18)",
              "{",
              "    OrderJumpHole(CurShip, IdToHole(GetData(1)), 100);",
              "    ShipOrderData1(CurShip, GetData(2));",
              "    //     (              )",
              "    SetData(-1, 0);",
              "    SetData(0, 1);",
              "    SetData(0, 2);",
              "    SetData(-3, 3);",
              "    exit;",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else SetData(0, 1);",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //            ",
              "            if(GetData(0) == 3)",
              "            {",
              "                SetData(0, 0);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(-3, 3);",
              "                ChangeState('ReturningStrikeState');",
              "                exit;",
              "            }",
              "            //      ,   ChangeShipScriptGroupInfo",
              "            else if(GetData(0) == 4)",
              "            {",
              "                ChangeShipScriptGroupFromInfo(CurShip);",
              "                ShipFreeFlight(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //            ",
              "                if(GetData(0) == 3)",
              "                {",
              "                    SetData(0, 0);",
              "                    SetData(0, 1);",
              "                    SetData(0, 2);",
              "                    SetData(-3, 3);",
              "                    ChangeState('ReturningStrikeState');",
              "                    exit;",
              "                }",
              "                //      ,   ChangeShipScriptGroupInfo",
              "                else if(GetData(0) == 4)",
              "                {",
              "                    ChangeShipScriptGroupFromInfo(CurShip);",
              "                    ShipFreeFlight(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 3)",
              "            {",
              "                SetData(0, 0);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(-3, 3);",
              "                ChangeState('ReturningStrikeState');",
              "                exit;",
              "            }",
              "            //      ,   ChangeShipScriptGroupInfo",
              "            else if(GetData(0) == 4)",
              "            {",
              "                ChangeShipScriptGroupFromInfo(CurShip);",
              "                ShipFreeFlight(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//  ",
              "if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //   (      )",
              "                if(GetData(0) <= 2)",
              "                {",
              "                    //          (   GetData(0) != 2)",
              "                    if(!ShipInNormalSpace(object) && GetData(0) != 2)",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(!sit) sit = GetShipRuins(object);",
              "",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(GetShipPlanet(CurShip) != sit && GetShipRuins(CurShip) != sit) OrderTakeOff(CurShip);",
              "                        }",
              "                        else OrderLanding(CurShip, sit);",
              "                    }",
              "                    else",
              "                    {",
              "                        //   ",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(ShipOrder(object) == 5) OrderTakeOff(CurShip); //   ",
              "                            else if(ShipInNormalSpace(object)) OrderTakeOff(CurShip); //  ",
              "                            exit;",
              "                        }",
              "",
              "                        if(ShipTurnBeforeEndOrder(object) <= 1)",
              "                        {",
              "                            int target_order = ShipOrder(object);",
              "                            if(target_order == 2 && GetData(0) != 2)",
              "                            {",
              "                                OrderLanding(CurShip, ShipOrderObj(object));",
              "                                exit;",
              "                            }",
              "                            else if(target_order == 3)",
              "                            {",
              "                                OrderJump(CurShip, ShipOrderObj(object));",
              "                                exit;",
              "                            }",
              "                            else if(target_order == 4)",
              "                            {",
              "                                OrderJumpHole(CurShip, ShipOrderObj(object));",
              "                                exit;",
              "                            }",
              "                        }",
              "",
              "                        OrderFollowShip(CurShip, object, 0);",
              "",
              "                        //      ,  ,  ",
              "                        int closest_dist = 500000;",
              "                        target = 0;",
              "                        for(int i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "                        {",
              "                            dword ship = StarShips(cur_star, i);",
              "",
              "                            if(ShipInCurScript(ship))",
              "                            {",
              "                                //          ,",
              "                                //      ...   ",
              "                                if(ShipGroup(ship) == RandomAttackers) continue;",
              "                            }",
              "",
              "                            if(IsPlayer(ship)) continue; //   (   ,         )",
              "                            if(ShipInHyperSpace(ship, 1)) continue;",
              "                            if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "                            if(RelationToShip(ship, object) < 10)",
              "                            {",
              "                                if(!ShipInScript(ship, 0))",
              "                                {",
              "                                    ShipJoin(RandomAttackers, ship);",
              "                                    // 10       ",
              "                                    SetData(CurTurn() + 10, 0, ship);",
              "                                }",
              "",
              "                                int dist = Dist(CurShip, ship);",
              "                                if(dist < closest_dist)",
              "                                {",
              "                                    //      /,",
              "                                    //        ",
              "                                    if(ShipInNormalSpace(ship) || !target)",
              "                                    {",
              "                                        closest_dist = dist;",
              "                                        target = ship;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        //   ,         ",
              "                        if(target)",
              "                        {",
              "                            ShipSetBad(CurShip, target);",
              "                            ShipFreeFlight(CurShip, 1);",
              "",
              "                            //  ,          ()",
              "                            if(!ShipInScript(target, 0))",
              "                            {",
              "                                ShipJoin(RandomAttackers, target);",
              "                                // 10       ",
              "                                SetData(CurTurn() + 10, 0, target);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //    (    )",
              "                else if(GetData(0) == 3 || GetData(0) == 4)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else",
              "                    {",
              "                        OrderFollowShip(CurShip, object, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //        - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else",
              "    {",
              "        if(GetData(0) < 3) SetData(0, 3);",
              "        //           ",
              "        else if(GetData(0) == 3)",
              "        {",
              "            SetData(0, 0);",
              "            SetData(0, 1);",
              "            SetData(0, 2);",
              "            SetData(-3, 3);",
              "            ChangeState('ReturningStrikeState');",
              "            exit;",
              "        }",
              "        //      ,   ChangeShipScriptGroupInfo",
              "        else if(GetData(0) == 4)",
              "        {",
              "            ChangeShipScriptGroupFromInfo(CurShip);",
              "            ShipFreeFlight(CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "        OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  369,
          "#":  370,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       (),      (),",
              "//   ,             (, !)",
              "//Data0 -        ",
              "if(GetData(0))",
              "{",
              "    if(GetData(0) <= CurTurn()) ShipOut(CurShip);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  373,
          "#":  371,
          "Total.Lines":  232,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Protect.1  ",
              "//   ,    ,  ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if(!cur_ship || !GroupToShip(PlayerHQ))",
              "{",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestMercs, i);",
              "        SetData(0, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(0, 2, tdwd1);",
              "        SetData(-3, 3, tdwd1);",
              "        ChangeState('ReturningStrikeState', tdwd1);",
              "    }",
              "    //  ,   ",
              "    if(cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        SetData(66, 0, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "    }",
              "    else",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    //        100%,  ",
              "    //(,         )",
              "    if(!Hit(cur_ship, 0))",
              "    {",
              "        if(RelationToRanger(cur_ship, Player()) < 100)",
              "        {",
              "            RelationToRanger(cur_ship, Player(), 100);",
              "        }",
              "    }",
              "",
              "    //  ,       ",
              "    //      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //        ",
              "        if(GroupIn(QuestMercs, GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)))",
              "        {",
              "            //       ,     ",
              "            if(GroupIn(QuestMercs, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(cur_ship), 3, tdwd1);",
              "                    //    ,      ",
              "                    SetData(100, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "                //        ",
              "                //  ,         ",
              "                SetData(100, 0, cur_ship);",
              "                OrderTakeOff(cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "",
              "                // Id      ",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10] * 2, 2, cur_ship);",
              "",
              "                //    ,  ( )  ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10])), '<Star' + '>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                QuestTargetDialogCall = CurTurn() + 3; //     ",
              "            }",
              "            //     ",
              "            else",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 1, tdwd1);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "                }",
              "            }",
              "        }",
              "        //       -  ,   ",
              "        else if(!GroupCount(QuestMercs))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,    ,   ,",
              "    //         ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10])))",
              "        {",
              "            //       ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 2])",
              "            {",
              "                //,          ",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn())",
              "                {",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 2] = 0;",
              "",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree'), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                    if(FilmFlags(0))",
              "                    {",
              "                        if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                        {",
              "                            tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffEnd'), '<Consul' + '>', Name(cur_ship), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                            CustomEther('Ether2', 0, '', tstr1, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10]));",
              "                        }",
              "                    }",
              "",
              "                    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                        if(!ShipInNormalSpace(tdwd1) && !ShipInHyperSpace(tdwd1))",
              "                        {",
              "                            ShipRefuel(tdwd1);",
              "                            //    ,      ",
              "                            SetData(100, 0, tdwd1);",
              "                            OrderTakeOff(tdwd1);",
              "                        }",
              "                    }",
              "",
              "                    //   (  )",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                }",
              "            }",
              "            // 3 ",
              "            else",
              "            {",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwoWait'), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10])), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                if(FilmFlags(0))",
              "                {",
              "                    if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetLanding'), '<Consul' + '>', Name(cur_ship), '<Wait' + '>', 3, '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10])), '255,240,100');",
              "                        CustomEther('Ether2', 0, '', tstr1, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]));",
              "                    }",
              "                }",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + 3;",
              "            }",
              "        }",
              "    }",
              "    //   ()",
              "    //      (    )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "        {",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "            CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   ",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  374,
          "#":  372,
          "Total.Lines":  418,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Protect.2  ",
              "//   ,        ,    ,",
              "//     -  ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if( !cur_ship ||",
              "    (!GroupToShip(QuestSupport) || !ItemExist(QuestItem)) && ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3 ||",
              "    !GroupToShip(PlayerHQ)",
              "  )",
              "{",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestMercs, i);",
              "        SetData(0, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(0, 2, tdwd1);",
              "        SetData(-3, 3, tdwd1);",
              "        ChangeState('ReturningStrikeState', tdwd1);",
              "    }",
              "    //      ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestSupport, i);",
              "        SetData(66, 0, tdwd1);",
              "        if(!ShipInNormalSpace(tdwd1)) ShipDestroy(tdwd1, 1);",
              "        else SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10], 1, tdwd1);",
              "    }",
              "",
              "    //  ,   ",
              "    if(cur_ship)",
              "    {",
              "        //   ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "        {",
              "            if(!ItemExist(QuestItem))",
              "            {",
              "                tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByCargo');",
              "                CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "            }",
              "            //    ",
              "            else if(!GroupToShip(QuestSupport))",
              "            {",
              "                tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedBySupport');",
              "                CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "            }",
              "        }",
              "        //   ",
              "        else if(!GroupToShip(PlayerHQ))",
              "        {",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "        }",
              "",
              "        SetData(66, 0, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "    }",
              "    else",
              "    {",
              "        //   ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    //     ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "        //   ,     (    )",
              "        if(cur_ship)",
              "        {",
              "            //   ,    ,        ",
              "            SetData(6, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(Id(cur_ship), 3, tdwd1);",
              "        }",
              "        else",
              "        {",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    //        100%,  ",
              "    //(,         )",
              "    if(!Hit(cur_ship, 0))",
              "    {",
              "        if(RelationToRanger(cur_ship, Player()) < 100)",
              "        {",
              "            RelationToRanger(cur_ship, Player(), 100);",
              "        }",
              "    }",
              "",
              "    //  ,       ",
              "    //      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //        ",
              "        if(GroupIn(QuestMercs, GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)))",
              "        {",
              "            //       ,     ",
              "            if(GroupIn(QuestMercs, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(0, 0, tdwd1);",
              "                    SetData(0, 1, tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(cur_ship), 3, tdwd1);",
              "                    //    ,      ",
              "                    SetData(100, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "                //        ",
              "                //  ,         ",
              "                SetData(100, 0, cur_ship);",
              "                OrderTakeOff(cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "",
              "                //    ,  ( )  ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Star' + '>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                QuestTargetDialogCall = CurTurn() + 3; //     ",
              "            }",
              "            //     ",
              "            else",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 1, tdwd1);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "                }",
              "            }",
              "        }",
              "        //       -  ,   ",
              "        else if(!GroupCount(QuestMercs))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //    ",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "                ShipDestroy(tdwd1, 1);",
              "            }",
              "",
              "            //     ",
              "            for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                OrderLock(tdwd1, 0);",
              "                ShipOut(tdwd1);",
              "            }",
              "",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,    ,   ,",
              "    //             ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //    ",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "        if(GroupIn(QuestTarget, cur_star) && ShipInNormalSpace(GroupToShip(QuestTarget)))",
              "        {",
              "            tdwd2 = GroupToShip(QuestSupport);",
              "            //      (   \"\"   )",
              "            if(ShipTypeN(tdwd2) == t_Tranclucator)",
              "            {",
              "                //   ",
              "                ShipDestroy(tdwd2, 1);",
              "                ShipOut(tdwd2);",
              "                //    ",
              "                //   ,     ",
              "                cur_item = GetItemFromShip(cur_ship, ScriptItemToItem(QuestItem));",
              "                for(i = 1; i <= 3; i = i + 1)",
              "                {",
              "                    //   BuyPirate,   ,     ",
              "                    tdwd1 = BuyWarrior(PlanetPirateClan(), 300);",
              "                    SetName(tdwd1, CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.PirateName' + i));",
              "                    ShipSubType(tdwd1, 0);",
              "                    ShipOwner(tdwd1, ShipPilotRace(tdwd1));",
              "                    //  ,      ",
              "                    ShipSpecialBonuses(tdwd1, bonSlotHook, 1);",
              "                    ShipSpecialBonuses(tdwd1, bonSlotForsage, 1);",
              "                    //        ",
              "                    ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) - 10000);",
              "                    for(k = 1; k <= 4; k = k + 1) ShipRefit(tdwd1);",
              "                    ShipJoin(QuestSupport, tdwd1);",
              "                    NoTargetToShip(tdwd1, 3);",
              "",
              "                    //,      ",
              "                    if(!ShipEqInSlot(tdwd1, t_CargoHook))",
              "                    {",
              "                        tdwd3 = CreateEquipment(t_CargoHook, RndObject(25, 40, tdwd1), GTL, ItemOwner(ShipItems(tdwd1, 0)));",
              "                        AddItemToShip(tdwd1, tdwd3);",
              "                        ItemIsInUse(tdwd3, tdwd1, 1);",
              "                    }",
              "                    //           ",
              "                    if(ShipHookPower(tdwd1) < ItemSize(cur_item)) ShipSpecialBonuses(tdwd1, bonHook, ItemSize(cur_item) - ShipHookPower(tdwd1));",
              "                    ShipSpecialBonuses(tdwd1, bonHookRadius, 100);",
              "                    // ,           ",
              "                    AddItemToShip(tdwd1, cur_item);",
              "                    //  ",
              "                    ShipImproveItems(tdwd1, 0);",
              "                    GetItemFromShip(tdwd1, cur_item);",
              "",
              "                    //\"\"    ,     ",
              "                    if(!i) SetData(Id(cur_ship), 3, tdwd1);",
              "                    else SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "",
              "                    //   ",
              "                    MakeShipEnterStar(tdwd1, cur_star, GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 10] - 1), 1);",
              "                }",
              "",
              "                //  ",
              "                AddItemToShip(cur_ship, cur_item);",
              "                //    ",
              "                SetData(Id(GroupToShip(QuestSupport)), 3, cur_ship);",
              "            }",
              "            else",
              "            {",
              "                tint3 = Dist(cur_ship, tdwd2);",
              "                //      ",
              "                if(tint3 <= 210)",
              "                {",
              "                    //   ( )",
              "                    //       ,   ,        (   )",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwoWait'), '<Star'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                    //    ",
              "                    if(ItemIn(QuestItem, cur_ship))",
              "                    {",
              "                        tint1 = CoordX(cur_ship);",
              "                        tint2 = CoordY(cur_ship);",
              "                        DropItemInSystem(cur_star, GetItemFromShip(cur_ship, ScriptItemToItem(QuestItem)), tint1, tint2, round(0.5 * (tint1 + CoordX(tdwd2))), round(0.5 * (tint2 + CoordY(tdwd2))));",
              "                        //       ",
              "                        //     , ..       ",
              "                        SetData(100, 0, cur_ship);",
              "                        SetData(200, 0, tdwd2);",
              "                        if(!StateIs(tdwd2, 'QuestSupportTakeState')) ChangeState('QuestSupportTakeState', tdwd2);",
              "",
              "                        //      ",
              "                        if(FilmFlags(0))",
              "                        {",
              "                            if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()) || Dist(Player(), tdwd2) <= ShipRadarRange(Player()))",
              "                            {",
              "                                tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetBeforeSale'), '<Smuggler'+'>', Name(cur_ship), '<Pirate'+'>', Name(tdwd2), '255,240,100');",
              "                                CustomEther('Ether', 0, '', tstr1, cur_ship, tdwd2);",
              "                            }",
              "                        }",
              "                    }",
              "                    //  ,    \"\"    ",
              "                    else if(ItemIn(QuestItem, cur_star))",
              "                    {",
              "                        //    ",
              "                        for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestAttackers, i);",
              "                            SetData(6, 0, tdwd1); //   ,    ",
              "                            SetData(Id(cur_ship), 3, tdwd1);",
              "                        }",
              "",
              "                        //       ",
              "                        //     , ..       ",
              "                        SetData(100, 0, cur_ship);",
              "                        SetData(200, 0, tdwd2);",
              "                        if(!StateIs(tdwd2, 'QuestSupportTakeState')) ChangeState('QuestSupportTakeState', tdwd2);",
              "                    }",
              "                    //    ",
              "                    else if(ItemIn(QuestItem, tdwd2))",
              "                    {",
              "                        if(!StateIs(tdwd2, 'QuestSupportState')) ChangeState('QuestSupportState', tdwd2);",
              "                        //   ",
              "                        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(66, 0, tdwd1); //    ",
              "                            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10], 1, tdwd1);",
              "                        }",
              "",
              "                        //     ( ,  )",
              "                        SetData(0, 0, cur_ship);",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "                        SetData(0, 3, cur_ship);",
              "",
              "                        //  ,   ",
              "                        //  ",
              "                        tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                        tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree'), '<Star'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                        CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                        if(FilmFlags(0))",
              "                        {",
              "                            //     ",
              "                            tdwd1 = GroupToShip(QuestAttackers);",
              "                            if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()) || Dist(Player(), tdwd2) <= ShipRadarRange(Player()))",
              "                            {",
              "                                tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.WarriorsAttack'), '<Warrior'+'>', Name(tdwd1), '<Pirate'+'>', Name(tdwd2), '255,240,100');",
              "                                CustomEther('Ether', 0, '', tstr1, tdwd1, tdwd2);",
              "                            }",
              "                            //    ",
              "                            if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                            {",
              "                                tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetAfterSale'), '<Smuggler'+'>', Name(cur_ship), '255,240,100');",
              "                                CustomEther('Ether2', 0, '', tstr1, tdwd1, tdwd2);",
              "                            }",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                    }",
              "                }",
              "                //     ",
              "                else",
              "                {",
              "                    CalcApproachCoordinates(cur_ship, tdwd2, 200);",
              "                    //    ",
              "                    OrderMove(cur_ship, tarr1[0], tarr1[1]);",
              "                    SetData(100, 0, cur_ship);",
              "                    //    \"\" ",
              "                    OrderMove(tdwd2, tarr1[2], tarr1[3]);",
              "                    SetData(100, 0, tdwd2);",
              "",
              "                    //      \"\"",
              "                    for(i = 1; i < GroupCount(QuestSupport); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(Id(tdwd2), 3, tdwd1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //   ()",
              "    //      (    )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "        {",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "            //      (  )",
              "            for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                OrderLock(tdwd1, 0);",
              "                ShipOut(tdwd1);",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Planet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "            CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   ",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  375,
          "#":  377,
          "Total.Lines":  145,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Destroy.1  ",
              "//   ,      ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if(!cur_ship || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    //  -  ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        if(~ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "        {",
              "            ShipDeleteCustomShipInfo(tdwd1, 'ShuMercsHQ_QuestTargetAttackMark');",
              "        }",
              "",
              "        SetData(66, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1); // Id       ,   ",
              "        SetData(0, 3, tdwd1);",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(!cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //-   ",
              "        ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "        if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "        {",
              "            ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark');",
              "        }",
              "        OrderLock(cur_ship, 0);",
              "        ShipOut(cur_ship);",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetName' + '>', Name(cur_ship), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "    //    ,    ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //    ,      ",
              "        cur_item = ShipEqInSlot(cur_ship, t_Engine);",
              "        if(ItemDurability(cur_item) < 50) ItemDurability(cur_item, 50);",
              "",
              "        //        ",
              "        if(ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark') == -1)",
              "        {",
              "            //       ,      ",
              "            cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "            if(!GroupIn(QuestTarget, cur_star))",
              "            {",
              "                //      ",
              "                SetData(20, 0, cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "            }",
              "            else",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(GroupToShip(QuestAttackers))",
              "                    {",
              "                        //    -   ,      ",
              "                        if(Dist(cur_ship, GroupToShip(QuestAttackers)) <= 300)",
              "                        {",
              "                            SetData(33, 0, cur_ship);",
              "",
              "                            //-   ( ),     ",
              "                            if(!ActiveQuestsHQArray[ActiveQuestHQ, 10])",
              "                            {",
              "                                if(FilmFlags(0))",
              "                                {",
              "                                    if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                                    {",
              "                                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetNearPirates'), '<Pirate' + '>', Name(cur_ship), '255,240,100');",
              "                                        CustomEther('Ether2', 0, '', tstr1, cur_ship);",
              "",
              "                                        //,       ",
              "                                        ActiveQuestsHQArray[ActiveQuestHQ, 10] = 1;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "                        //  ,        ",
              "                        else",
              "                        {",
              "                            SetData(20, 0, cur_ship);",
              "                            //       ",
              "                            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "                            {",
              "                                tdwd1 = GroupShip(QuestAttackers, i);",
              "                                SetData(0, 0, tdwd1);",
              "                                SetData(Id(cur_ship), 3, tdwd1);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  376,
          "#":  378,
          "Total.Lines":  139,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Destroy.2  ",
              "//   ,      ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if(!cur_ship || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    //     ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        if(~ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "        {",
              "            ShipDeleteCustomShipInfo(tdwd1, 'ShuMercsHQ_QuestTargetAttackMark');",
              "        }",
              "        OrderLock(tdwd1, 0);",
              "        ShipOut(tdwd1);",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(!cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //-   ",
              "        if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "        {",
              "            ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark');",
              "        }",
              "        OrderLock(cur_ship, 0);",
              "        ShipOut(cur_ship);",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    if(~ActiveQuestsHQArray[ActiveQuestHQ, 8]) NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "    if(~ActiveQuestsHQArray[ActiveQuestHQ, 9]) NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 9] - 1), 0);",
              "    if(~ActiveQuestsHQArray[ActiveQuestHQ, 10]) NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 10] - 1), 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(cur_ship), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "    //    ,    ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //          ",
              "        //      - ",
              "        if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark') && HullDamage(cur_ship) < 70)",
              "        {",
              "            //             ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 11] <= CurTurn())",
              "            {",
              "                //,          ,",
              "                //   ",
              "                tdwd1 = Id(ShipStar(cur_ship));",
              "                if(tdwd1 == ActiveQuestsHQArray[ActiveQuestHQ, 7]) num = 1;",
              "                else if(tdwd1 == ActiveQuestsHQArray[ActiveQuestHQ, 8]) num = 2;",
              "                else if(tdwd1 == ActiveQuestsHQArray[ActiveQuestHQ, 9]) num = 3;",
              "                else if(tdwd1 == ActiveQuestsHQArray[ActiveQuestHQ, 10]) num = 0;",
              "",
              "                if(~ActiveQuestsHQArray[ActiveQuestHQ, 7 + num]) num = 7 + num;",
              "                else num = 7;",
              "",
              "                //       33     ",
              "                OrderLock(cur_ship, 1);",
              "                SetData(32, 0, cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, num], 1, cur_ship);",
              "                for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestAttackers, i);",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, num], 1, tdwd1);",
              "                }",
              "",
              "                //      ,",
              "                //      ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11] = CurTurn() + 21;",
              "            }",
              "        }",
              "        //       ,    ",
              "        else",
              "        {",
              "            //      ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                RelationToRanger(GetShipHomePlanet(cur_ship), tdwd1, 0);",
              "            }",
              "            //            ",
              "            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                SetData(0, 1, tdwd1);",
              "            }",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 11] = 500000;",
              "            OrderLock(cur_ship, 0);",
              "            SetData(33, 0, cur_ship);",
              "            ChangeState('QuestTargetState', cur_ship);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  380,
          "#":  381,
          "Total.Lines":  282,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestAttackers (       QuestTarget):",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //    ",
              "    if(GetData(0) == 66)",
              "    {",
              "        OrderNone(CurShip);",
              "        ShipDestroy(CurShip, 1);",
              "    }",
              "    else",
              "    {",
              "        if(GetData(1))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "                SetData(0, 1);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "//ShipFreeFlight(CurShip, 1);",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 1);",
              "        //          ",
              "        if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //     ",
              "            if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "            //          ",
              "            else if(GetData(0) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0);",
              "                exit;",
              "            }",
              "            //            ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //     ",
              "                if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "                //          ",
              "                else if(GetData(0) == 32)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    SetData(33, 0);",
              "                    exit;",
              "                }",
              "                //            ",
              "                else if(GetData(0) == 3)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    ShipOut(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0);",
              "                exit;",
              "            }",
              "            //          ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //    (    )",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderFollowShip(CurShip, object, 1);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //        - ",
              "            if(GetData(0) != 6 || GetData(0) == 7)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, ShipStar(object));",
              "            }",
              "            //    6 -  ",
              "            else",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 3);",
              "        //          ",
              "        if(GetData(0) == 6 || GetData(0) == 7)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            ShipOut(CurShip);",
              "            exit;",
              "        }",
              "        //          ",
              "        else if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //          ",
              "        if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "        else",
              "        {",
              "            float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "            OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  383,
          "#":  384,
          "Total.Lines":  377,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestSupport:",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //    ",
              "    if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "    else",
              "    {",
              "        if(GetData(1))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "                SetData(0, 1);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//               ",
              "if(QuestSupportDialogCall > CurTurn())",
              "{",
              "    if(cur_star == ShipStar(Player()))",
              "    {",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            if(ShipInNormalSpace(CurShip))",
              "            {",
              "                if(CurShip == GroupToShip(QuestSupport)) //        ( , )   ",
              "                {",
              "                    if(Dist(Player(), CurShip) <= ShipRadarRange(Player()))",
              "                    {",
              "                        QuestSupportDialogCall = -1;",
              "                        Dialog(CurShip);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//    ,       ",
              "int check = GetData(0);",
              "if(check >= 10000)",
              "{",
              "    SetData(GetData(0) - 10000, 0);",
              "    int dwd0 = GetData(0);",
              "    int dwd1 = GetData(1);",
              "    int dwd2 = GetData(2);",
              "    int dwd3 = GetData(3);",
              "    ShipOut(CurShip);",
              "    ShipJoin(QuestAttackers, CurShip, '', dwd0, dwd1, dwd2, dwd3);",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "//ShipFreeFlight(CurShip, 1);",
              "",
              "//    ",
              "if(GetData(0) == 20)",
              "{",
              "    OrderForsage(CurShip, 1);",
              "}",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "}",
              "//     ,         ( )",
              "if(target)",
              "{",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else SetData(0, 1);",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    //  ",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //     ",
              "            if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "            //            ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    //  ",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //     ",
              "                if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "                //            ",
              "                else if(GetData(0) == 3)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    ShipOut(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //   (      )",
              "                if(GetData(0) <= 1)",
              "                {",
              "                    //         ",
              "                    if(!ShipInNormalSpace(object))",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(!sit) sit = GetShipRuins(object);",
              "",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(GetShipPlanet(CurShip) != sit && GetShipRuins(CurShip) != sit) OrderTakeOff(CurShip);",
              "                        }",
              "                        else OrderLanding(CurShip, sit);",
              "                    }",
              "                    else",
              "                    {",
              "                        //   ",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            OrderTakeOff(CurShip);",
              "                            exit;",
              "                        }",
              "",
              "                        OrderFollowShip(CurShip, object, 0);",
              "",
              "                        //      ,  ,  ",
              "                        int closest_dist = 500000;",
              "                        target = 0;",
              "                        for(int i = 0; i < StarShips(cur_star); i = i + 1)",
              "                        {",
              "                            dword ship = StarShips(cur_star, i);",
              "",
              "                            if(ShipInCurScript(ship))",
              "                            {",
              "                                //          ,",
              "                                //      ...   ",
              "                                if(ShipGroup(ship) == RandomAttackers) continue;",
              "                            }",
              "",
              "                            if(IsPlayer(ship)) continue; //   (   ,         )",
              "                            if(ShipInHyperSpace(ship, 1)) continue;",
              "                            if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "                            if(RelationToShip(ship, object) < 10)",
              "                            {",
              "                                if(!ShipInScript(ship, 0))",
              "                                {",
              "                                    ShipJoin(RandomAttackers, ship);",
              "                                    // 10       ",
              "                                    SetData(CurTurn() + 10, 0, ship);",
              "                                }",
              "",
              "                                int dist = Dist(CurShip, ship);",
              "                                if(dist < closest_dist)",
              "                                {",
              "                                    //      /,",
              "                                    //        ",
              "                                    if(ShipInNormalSpace(ship) || !target)",
              "                                    {",
              "                                        closest_dist = dist;",
              "                                        target = ship;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        //   ,         ",
              "                        if(target)",
              "                        {",
              "                            ShipSetBad(CurShip, target);",
              "                            ShipFreeFlight(CurShip, 1);",
              "",
              "                            //  ,          ()",
              "                            if(!ShipInScript(target, 0))",
              "                            {",
              "                                ShipJoin(RandomAttackers, target);",
              "                                // 10       ",
              "                                SetData(CurTurn() + 10, 0, target);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //    (    )",
              "                else if(GetData(0) <= 3)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else",
              "                    {",
              "                        OrderFollowShip(CurShip, object, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //        - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else SetData(0, 3);",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   ,    ",
              "    if(GetData(0) == 12) exit;",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "        OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  388,
          "#":  389,
          "Total.Lines":  375,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestSupport:",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //    ",
              "    if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "    else",
              "    {",
              "        if(GetData(1))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "                SetData(0, 1);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//               ",
              "if(QuestSupportDialogCall > CurTurn())",
              "{",
              "    if(cur_star == ShipStar(Player()))",
              "    {",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            if(ShipInNormalSpace(CurShip))",
              "            {",
              "                if(CurShip == GroupToShip(QuestSupport)) //        ( , )   ",
              "                {",
              "                    if(Dist(Player(), CurShip) <= ShipRadarRange(Player()))",
              "                    {",
              "                        QuestSupportDialogCall = -1;",
              "                        Dialog(CurShip);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//    ,       ",
              "int check = GetData(0);",
              "if(check >= 10000)",
              "{",
              "    SetData(GetData(0) - 10000, 0);",
              "    int dwd0 = GetData(0);",
              "    int dwd1 = GetData(1);",
              "    int dwd2 = GetData(2);",
              "    int dwd3 = GetData(3);",
              "    ShipOut(CurShip);",
              "    ShipJoin(QuestAttackers, CurShip, '', dwd0, dwd1, dwd2, dwd3);",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "//    ",
              "if(GetData(0) == 20)",
              "{",
              "    OrderForsage(CurShip, 1);",
              "}",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "}",
              "//     ,         ( )",
              "if(target)",
              "{",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else SetData(0, 1);",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //     ",
              "            if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "            //            ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //     ",
              "                if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "                //            ",
              "                else if(GetData(0) == 3)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    ShipOut(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //   (      )",
              "                if(GetData(0) <= 1)",
              "                {",
              "                    //         ",
              "                    if(!ShipInNormalSpace(object))",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(!sit) sit = GetShipRuins(object);",
              "",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(GetShipPlanet(CurShip) != sit && GetShipRuins(CurShip) != sit) OrderTakeOff(CurShip);",
              "                        }",
              "                        else OrderLanding(CurShip, sit);",
              "                    }",
              "                    else",
              "                    {",
              "                        //   ",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            OrderTakeOff(CurShip);",
              "                            exit;",
              "                        }",
              "",
              "                        OrderFollowShip(CurShip, object, 0);",
              "",
              "                        //      ,  ,  ",
              "                        int closest_dist = 500000;",
              "                        target = 0;",
              "                        for(int i = 0; i < StarShips(cur_star); i = i + 1)",
              "                        {",
              "                            dword ship = StarShips(cur_star, i);",
              "",
              "                            if(ShipInCurScript(ship))",
              "                            {",
              "                                //          ,",
              "                                //      ...   ",
              "                                if(ShipGroup(ship) == RandomAttackers) continue;",
              "                            }",
              "",
              "                            if(IsPlayer(ship)) continue; //   (   ,         )",
              "                            if(ShipInHyperSpace(ship, 1)) continue;",
              "                            if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "                            if(RelationToShip(ship, object) < 10)",
              "                            {",
              "                                if(!ShipInScript(ship, 0))",
              "                                {",
              "                                    ShipJoin(RandomAttackers, ship);",
              "                                    // 10       ",
              "                                    SetData(CurTurn() + 10, 0, ship);",
              "                                }",
              "",
              "                                int dist = Dist(CurShip, ship);",
              "                                if(dist < closest_dist)",
              "                                {",
              "                                    //      /,",
              "                                    //        ",
              "                                    if(ShipInNormalSpace(ship) || !target)",
              "                                    {",
              "                                        closest_dist = dist;",
              "                                        target = ship;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        //   ,         ",
              "                        if(target)",
              "                        {",
              "                            ShipSetBad(CurShip, target);",
              "                            ShipFreeFlight(CurShip, 1);",
              "",
              "                            //  ,          ()",
              "                            if(!ShipInScript(target, 0))",
              "                            {",
              "                                ShipJoin(RandomAttackers, target);",
              "                                // 10       ",
              "                                SetData(CurTurn() + 10, 0, target);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //    (    )",
              "                else if(GetData(0) <= 3)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else",
              "                    {",
              "                        OrderFollowShip(CurShip, object, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //        - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else SetData(0, 3);",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   ,    ",
              "    if(GetData(0) == 12) exit;",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "        OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  390,
          "#":  391,
          "Total.Lines":  653,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ,   ",
              "SkipGreeting();",
              "",
              "//       ,",
              "//         , ..",
              "//ActiveQuestHQ      ,     ActiveQuestsHQArray",
              "//  ,      ",
              "//(       )",
              "int ship_group = ShipGroup(cur_ship);",
              "str employer_type = GetParFromString(ActiveQuestsHQArray[1, 3], '.', 3, 0);",
              "str quest_type = GetParFromString(ActiveQuestsHQArray[1, 3], '.', 4, 0);",
              "int quest_num = GetParFromString(ActiveQuestsHQArray[1, 3], '.', 5, 0);",
              "",
              "//      ",
              "if(employer_type == 'Private')",
              "{",
              "    if(quest_type == 'Destroy')",
              "    {",
              "        if(quest_num == 1 || quest_num == 2)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                //             ",
              "                if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreetingNormal');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                //  ",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreetingFoe');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                if(quest_num == 1)",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreetingFoe');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else if(quest_num == 2)",
              "                {",
              "                    //             ",
              "                    if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark'))",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreetingNormal');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    //  ",
              "                    else",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreetingFoe');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'Protect')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(QuestTargetDialogCall == -1) //      (  )",
              "                {",
              "                    tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffStart'), '<Consul'+'>', Name(cur_ship), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10])));",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                    QuestTargetDialogCall = 0;",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "        else if(quest_num == 2)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(QuestTargetDialogCall == -1) //      (  )",
              "                {",
              "                    tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffStart'), '<Smuggler'+'>', Name(cur_ship), '<Star'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)));",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                    QuestTargetDialogCall = 0;",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "        else if(quest_num == 3) //   ",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                //  ",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "                {",
              "                    if(QuestTargetDialogCall == -1) //      (  )",
              "                    {",
              "                        tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffStart'), '<Liner'+'>', Name(cur_ship), '<FirstStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<SecondStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)));",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                        QuestTargetDialogCall = 0;",
              "                    }",
              "                    else",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "                //     ",
              "                else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "                {",
              "                    //     ",
              "                    if(!ActiveQuestsHQArray[ActiveQuestHQ, 12])",
              "                    {",
              "                        tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[1, 3] + '.TargetReturning'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])));",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        if(!Hit(cur_ship, 0)) //        ",
              "                        {",
              "                            tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[1, 3] + '.TargetWasAttacked'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])));",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        else",
              "                        {",
              "                            tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[1, 3] + '.TargetWasAttackedByPlayer'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])));",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "        else if(quest_num == 4) //   ",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(Hit(cur_ship, 0)) //                    -",
              "                {",
              "                    if(BuildOwnBase_Condition == 6) tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetTakeOffWasAttackedByPlayerTziptzilot');",
              "                    else tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetTakeOffWasAttackedByPlayer');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else",
              "                {",
              "                    if(QuestTargetDialogCall == -1) //     ",
              "                    {",
              "                        if(BuildOwnBase_Condition == 6) tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffStartTziptzilot');",
              "                        else tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetTakeOffStart');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                        QuestTargetDialogCall = -2;",
              "                    }",
              "                    else",
              "                    {",
              "                        //   1  2      ",
              "                        if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreeting');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        //   3            ",
              "                        else",
              "                        {",
              "                            if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingIfDomikAttacked');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                            else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 2)",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingIfWarriorsAttacked');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                            else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 3)",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingIfPiratesAttacked');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                            else",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingIfNotAttacked');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                if(quest_num == 4)",
              "                {",
              "                    //   ",
              "                    if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "                    {",
              "                        //    ",
              "                        if(HaveProgramm(5))",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingDomikIntercom' + ShipSubrace(cur_ship));",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        else",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingDomik' + RndObject(1, 5, cur_ship));",
              "                            tstr2 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingDomicAnswer');",
              "                        }",
              "                    }",
              "                    else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 2)",
              "                    {",
              "                        tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingWarrior'), '<TargetName'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 0]);",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 3)",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingPirate');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//      ",
              "else if(employer_type == 'Coalition')",
              "{",
              "    if(quest_type == 'AttackDominators')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestSupport)",
              "            {",
              "                if(quest_num == 1)",
              "                {",
              "                    if(QuestSupportDialogCall == -1) //     (     )",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                        QuestSupportDialogCall = 0;",
              "                    }",
              "                    else",
              "                    {",
              "                        if(ShipGetBad(cur_ship))",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingWhileBattle');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        else",
              "                        {",
              "                            cur_star = GalaxyStar(ActiveQuestsHQArray[1, 8] - 1);",
              "                            //      ",
              "                            if(StarOwner(cur_star) != 2)",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                            //    ",
              "                            else",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingAfterWin');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'AttackPirateClan')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestSupport)",
              "            {",
              "                if(quest_num == 1)",
              "                {",
              "                    if(QuestSupportDialogCall == -1) //     (     )",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                        QuestSupportDialogCall = 0;",
              "                    }",
              "                    else",
              "                    {",
              "                        if(ShipGetBad(cur_ship))",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingWhileBattle');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        else",
              "                        {",
              "                            cur_star = GalaxyStar(ActiveQuestsHQArray[1, 8] - 1);",
              "                            //      ",
              "                            if(StarOwner(cur_star) != 2)",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                            //    ",
              "                            else",
              "                            {",
              "                                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingAfterWin');",
              "                                tstr2 = '</color>' + CT('Talk.Exit');",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'AttackKlissan')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(quest_num == 1)",
              "                {",
              "                    //        (     )",
              "                    for(int i = 1; i <= 3; i = i + 1)",
              "                    {",
              "                        if(Name(cur_ship) == ActiveQuestsHQArray[ActiveQuestHQ, 10 + i]) break;",
              "                    }",
              "",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TrancGreeting' + i);",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                if(quest_num == 1)",
              "                {",
              "                    if(QuestSupportDialogCall == -1) //     (     )",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                        QuestSupportDialogCall = 0;",
              "                    }",
              "                    else",
              "                    {",
              "                        if(ActiveQuestsHQArray[ActiveQuestHQ, 3] <= 2)",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreeting');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        else",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportDuringBattle');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'DefendFromPirateClan')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//      ",
              "else if(employer_type == 'PirateClan')",
              "{",
              "    if(quest_type == 'AttackDominators')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestSupport)",
              "            {",
              "                if(QuestSupportDialogCall == -1) //     (     )",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                    QuestSupportDialogCall = 0;",
              "                }",
              "                else",
              "                {",
              "                    if(ShipGetBad(cur_ship))",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreetingWhileBattle');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "                        //      ",
              "                        if(StarOwner(cur_star) != 2)",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreeting');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        //    ",
              "                        else",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreetingAfterWin');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'AttackCoalition')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestSupport)",
              "            {",
              "                if(QuestSupportDialogCall == -1) //     (     )",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "                    QuestSupportDialogCall = 0;",
              "                }",
              "                else",
              "                {",
              "                    if(ShipGetBad(cur_ship))",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreetingWhileBattle');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "                        //      ",
              "                        if(StarOwner(cur_star) != 2)",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreeting');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                        //    ",
              "                        else",
              "                        {",
              "                            tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportGreetingAfterWin');",
              "                            tstr2 = '</color>' + CT('Talk.Exit');",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "        else",
              "        {",
              "            if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'Destroy')",
              "    {",
              "        if(quest_num == 1)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingNormal');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.TargetGreetingFoe'), '<TargetPlanet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[1, 9])));",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingNormal');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else if(ActiveQuestsHQArray[1, 1] == 3)",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingFoe');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersGreetingEnd');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "        }",
              "    }",
              "    else if(quest_type == 'Protect')",
              "    {",
              "        if(quest_num == 1) //        ",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                if(ActiveQuestsHQArray[1, 1] <= 3)",
              "                {",
              "                    //     ",
              "                    if(ShipGetBad(cur_ship) == Player() || RelationToRanger(GetShipHomePlanet(cur_ship), Player()) < 10)",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreetingFoe');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreetingNormal');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "                //        ",
              "                else",
              "                {",
              "                    if(ActiveQuestsHQArray[1, 1] == 4 && GetData(0, cur_ship) != 13)",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreetingFoe');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else if(ActiveQuestsHQArray[1, 1] == 4)",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting5');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        tstr1 = '</color>' + Format(CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting' + ActiveQuestsHQArray[1, 1]), '<BeginPlanet' + '>', Name(IdToPlanet(ActiveQuestsHQArray[1, 9])));",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                if(ActiveQuestsHQArray[1, 1])",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingAfterFailed');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                }",
              "            }",
              "            else if(ship_group == QuestAttackers)",
              "            {",
              "                tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.AttackersGreeting');",
              "                tstr2 = '</color>' + CT('Talk.Exit');",
              "            }",
              "        }",
              "        else if(quest_num == 2)",
              "        {",
              "            if(ship_group == QuestTarget)",
              "            {",
              "                //   ",
              "                if(QuestTargetDialogCall == -1)",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.TargetGreeting');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                    QuestTargetDialogCall = -2;",
              "                }",
              "            }",
              "            else if(ship_group == QuestSupport)",
              "            {",
              "                if(QuestSupportDialogCall == -1) //     ",
              "                {",
              "                    tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportTakeOffStart');",
              "                    tstr2 = '</color>' + CT('Talk.Exit');",
              "                    QuestSupportDialogCall = -2;",
              "                }",
              "                else",
              "                {",
              "                    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreeting');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                    else",
              "                    {",
              "                        tstr1 = '</color>' + CT(ActiveQuestsHQArray[1, 3] + '.SupportGreetingAfterHoleOpening');",
              "                        tstr2 = '</color>' + CT('Talk.Exit');",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  394,
          "#":  395,
          "Total.Lines":  344,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestAttackers (      QuestTarget):",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "",
              "dword object;",
              "dword target;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //    ",
              "    if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "    else",
              "    {",
              "        if(GetData(1))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "                SetData(0, 1);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 1);",
              "        //          ",
              "        if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //     ",
              "            if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "            //          ",
              "            else if(GetData(0) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0);",
              "                exit;",
              "            }",
              "            //            ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //     ",
              "                if(GetData(0) == 66) ShipDestroy(CurShip, 1);",
              "                //          ",
              "                else if(GetData(0) == 32)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    SetData(33, 0);",
              "                    exit;",
              "                }",
              "                //            ",
              "                else if(GetData(0) == 3)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    ShipOut(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0);",
              "                exit;",
              "            }",
              "            //          ",
              "            else if(GetData(0) == 3)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //   (      )",
              "                if(GetData(0) <= 1)",
              "                {",
              "                    //         ",
              "                    if(!ShipInNormalSpace(object))",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(!sit) sit = GetShipRuins(object);",
              "",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(GetShipPlanet(CurShip) != sit && GetShipRuins(CurShip) != sit) OrderTakeOff(CurShip);",
              "                        }",
              "                        else OrderLanding(CurShip, sit);",
              "                    }",
              "                    else",
              "                    {",
              "                        //   ",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            OrderTakeOff(CurShip);",
              "                            exit;",
              "                        }",
              "",
              "                        OrderFollowShip(CurShip, object, 0);",
              "",
              "                        //      ,  ,  ",
              "                        int closest_dist = 500000;",
              "                        target = 0;",
              "                        for(int i = 0; i < StarShips(cur_star); i = i + 1)",
              "                        {",
              "                            dword ship = StarShips(cur_star, i);",
              "",
              "                            if(ShipInHyperSpace(ship, 1)) continue;",
              "                            if(ObjectType(ship) != 5) continue;",
              "                            if(ShipGetBad(ship) == object)",
              "                            {",
              "                                int dist = Dist(CurShip, ship);",
              "                                if(dist < closest_dist)",
              "                                {",
              "                                    //      /,",
              "                                    //        ",
              "                                    if(ShipInNormalSpace(ship) || !target)",
              "                                    {",
              "                                        closest_dist = dist;",
              "                                        target = ship;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        //   ,         ",
              "                        if(target)",
              "                        {",
              "                            ShipSetBad(CurShip, target);",
              "                            ShipFreeFlight(CurShip, 1);",
              "                        }",
              "                    }",
              "                }",
              "                //    (    )",
              "                else if(GetData(0) <= 6)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else",
              "                    {",
              "                        OrderFollowShip(CurShip, object, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //        - ",
              "            if(GetData(0) != 6 || GetData(0) == 7)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, ShipStar(object));",
              "            }",
              "            //    6 -  ",
              "            else",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                ShipOut(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 3);",
              "        //          ",
              "        if(GetData(0) == 6 || GetData(0) == 7)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            ShipOut(CurShip);",
              "            exit;",
              "        }",
              "        //          ",
              "        else if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //          ",
              "        if(GetData(0) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0);",
              "            exit;",
              "        }",
              "        else",
              "        {",
              "            float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "            OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  396,
          "#":  397,
          "Total.Lines":  322,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestTarget:",
              "//Data0 ==    (    )",
              "//    13 -    -",
              "",
              "//    17 -  (    QuestPlace)",
              "//    18 -     (        QuestPlace)",
              "",
              "//    66 -  ",
              "//    33 -      ",
              "//    20 -     ",
              "//    22 -      :",
              "//      Data1 -  X",
              "//      Data2 -  Y",
              "//      Data3 -   (12 : ID , 20  - -    )",
              "//    -1 -     ",
              "",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//   :",
              "//     :  id  2",
              "//     /(   ):  id  2 + 1",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "",
              "//     -",
              "if(GetData(0, CurShip) == 13)",
              "{",
              "    OrderLock(CurShip, 1);",
              "    for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "    {",
              "        dword gun = ShipWeapon(CurShip, i);",
              "        WeaponTarget(gun, 0);",
              "    }",
              "",
              "    OrderNone(CurShip);",
              "    exit;",
              "}",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //     ",
              "    if(GetData(0, CurShip) == 66) ShipDestroy(CurShip, 1);",
              "    else",
              "    {",
              "        if(GetData(1, CurShip))",
              "        {",
              "            //    ",
              "            object = GalaxyStar(GetData(1, CurShip) - 1);",
              "            if(cur_star == object)",
              "            {",
              "                //   ,       ",
              "                //       ",
              "                if(GetData(0, CurShip) == 34)",
              "                {",
              "                    ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                    SetData(33, 0, CurShip);",
              "                    OrderLock(CurShip, 0);",
              "                }",
              "",
              "                SetData(0, 1, CurShip);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//    -      ",
              "if(QuestTargetDialogCall > CurTurn())",
              "{",
              "    if(cur_star == ShipStar(Player()))",
              "    {",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            if(ShipInNormalSpace(CurShip))",
              "            {",
              "                if(Dist(Player(), CurShip) <= ShipRadarRange(Player()))",
              "                {",
              "                    QuestTargetDialogCall = -1;",
              "                    Dialog(CurShip);",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0, CurShip) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0, CurShip) >= 100)",
              "    {",
              "        SetData(GetData(0, CurShip) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "",
              "//    ",
              "if(GetData(0, CurShip) == 20)",
              "{",
              "    OrderForsage(CurShip, 1);",
              "}",
              "",
              "//     :",
              "//  Data1 -  X",
              "//  Data2 -  Y",
              "//  Data3 -   (12 : ID , 20  - -    )",
              "if(GetData(0) == 22)",
              "{",
              "    OrderTeleport(CurShip, GalaxyStar((GetData(3) >> 20) - 1), int(GetData(1)), int(GetData(2)), 5, GetData(3) & 1048575);",
              "    SetData(113, 0);",
              "    exit;",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1, CurShip))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1, CurShip) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 1, CurShip);",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "//  /",
              "else if(GetData(2, CurShip))",
              "{",
              "    if(!(GetData(2, CurShip) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2, CurShip) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2, CurShip);",
              "            //     ",
              "            if(GetData(0, CurShip) == 66) ShipDestroy(CurShip, 1);",
              "            //          ",
              "            else if(GetData(0, CurShip) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0, CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2, CurShip) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2, CurShip);",
              "                //     ",
              "                if(GetData(0, CurShip) == 66) ShipDestroy(CurShip, 1);",
              "                //          ",
              "                else if(GetData(0, CurShip) == 32)",
              "                {",
              "                    OrderLock(CurShip, 0);",
              "                    SetData(33, 0, CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2, CurShip);",
              "            //          ",
              "            if(GetData(0, CurShip) == 32)",
              "            {",
              "                OrderLock(CurShip, 0);",
              "                SetData(33, 0, CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3, CurShip))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3, CurShip));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                OrderFollowShip(CurShip, object, 0);",
              "",
              "                //  ,        ",
              "                if(GetData(0, CurShip) == 1)",
              "                {",
              "                    if(!ShipInNormalSpace(object))",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(sit) OrderLanding(CurShip, sit);",
              "                        else OrderLanding(CurShip, GetShipRuins(object));",
              "                    }",
              "                    else",
              "                    {",
              "                        OrderTakeOff(CurShip);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //      - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 3, CurShip);",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //          ",
              "        if(GetData(0, CurShip) == 32)",
              "        {",
              "            OrderLock(CurShip, 0);",
              "            SetData(33, 0, CurShip);",
              "            exit;",
              "        }",
              "        else",
              "        {",
              "            float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "            OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  398,
          "#":  399,
          "Total.Lines":  499,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestMercs (       QuestTarget):",
              "//Data0 ==    (    )",
              "//        3 -           (,          ..)",
              "//        4 -        ,    ChangeShipScriptGroupInfo     ",
              "",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0),        (  < 0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    if(GetData(1))",
              "    {",
              "        //    ",
              "        object = GalaxyStar(GetData(1) - 1);",
              "        if(cur_star == object)",
              "        {",
              "            //   ,       ",
              "            //       ",
              "            if(GetData(0) == 34)",
              "            {",
              "                ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                SetData(33, 0);",
              "                OrderLock(CurShip, 0);",
              "            }",
              "            else if(GetData(0) >= 97 && GetData(0) <= 99)",
              "            {",
              "                ShipSpecialBonuses(CurShip, bonFuel, ShipSpecialBonuses(CurShip, bonFuel) - 10000);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(0, 3);",
              "                OrderLock(CurShip, 1);",
              "",
              "                if(GetData(0) == 97)",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapDomState');",
              "                }",
              "                else if(GetData(0) == 98)",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapPirState');",
              "                }",
              "                else",
              "                {",
              "                    SetData(40, 0);",
              "                    ChangeState('QuestMercsCapCoalState');",
              "                }",
              "                exit;",
              "            }",
              "            SetData(0, 1);",
              "        }",
              "    }",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //         ",
              "    dword target = ShipGetBad(CurShip);",
              "    if(target)",
              "    {",
              "        if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //        ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(ShipInScript(target, 0))",
              "        {",
              "            if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "            {",
              "                TruceBetweenShips(CurShip, target);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        // ,     ",
              "        //ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//      (       )",
              "//ShipFreeFlight(CurShip, 1);",
              "",
              "//         ",
              "target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "        target = 0;",
              "    }",
              "    else if(ShipInScript(target, 0))",
              "    {",
              "        if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "            target = 0;",
              "        }",
              "    }",
              "}",
              "",
              "//     ,         ( )",
              "if(target)",
              "{",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//    ",
              "//  Data1 -  X",
              "//  Data2 -  Y",
              "if(GetData(0) == 16)",
              "{",
              "    OrderMove(CurShip, int(GetData(1)), int(GetData(2)));",
              "    exit;",
              "}",
              "",
              "//          (       )",
              "if(GetData(0) == 18)",
              "{",
              "    OrderJumpHole(CurShip, IdToHole(GetData(1)), 100);",
              "    ShipOrderData1(CurShip, GetData(2));",
              "    //     (              )",
              "    SetData(-1, 0);",
              "    SetData(0, 1);",
              "    SetData(0, 2);",
              "    SetData(-3, 3);",
              "    exit;",
              "}",
              "",
              "//  (     0)",
              "if(GetData(1))",
              "{",
              "    if(!ShipInNormalSpace(CurShip))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "",
              "    object = GalaxyStar(GetData(1) - 1);",
              "    if(cur_star != object)",
              "    {",
              "        OrderJump(CurShip, object);",
              "    }",
              "    else SetData(0, 1);",
              "}",
              "//  /",
              "else if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //            ",
              "            if(GetData(0) == 3)",
              "            {",
              "                SetData(0, 0);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(-3, 3);",
              "                ChangeState('ReturningStrikeState');",
              "                exit;",
              "            }",
              "            //      ,   ChangeShipScriptGroupInfo",
              "            else if(GetData(0) == 4)",
              "            {",
              "                ChangeShipScriptGroupFromInfo(CurShip);",
              "                ShipFreeFlight(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                SetData(0, 2);",
              "                //            ",
              "                if(GetData(0) == 3)",
              "                {",
              "                    SetData(0, 0);",
              "                    SetData(0, 1);",
              "                    SetData(0, 2);",
              "                    SetData(-3, 3);",
              "                    ChangeState('ReturningStrikeState');",
              "                    exit;",
              "                }",
              "                //      ,   ChangeShipScriptGroupInfo",
              "                else if(GetData(0) == 4)",
              "                {",
              "                    ChangeShipScriptGroupFromInfo(CurShip);",
              "                    ShipFreeFlight(CurShip);",
              "                    exit;",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            SetData(0, 2);",
              "            //          ",
              "            if(GetData(0) == 3)",
              "            {",
              "                SetData(0, 0);",
              "                SetData(0, 1);",
              "                SetData(0, 2);",
              "                SetData(-3, 3);",
              "                ChangeState('ReturningStrikeState');",
              "                exit;",
              "            }",
              "            //      ,   ChangeShipScriptGroupInfo",
              "            else if(GetData(0) == 4)",
              "            {",
              "                ChangeShipScriptGroupFromInfo(CurShip);",
              "                ShipFreeFlight(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "//  ",
              "else if(GetData(3))",
              "{",
              "    int move_mark = GetData(3);",
              "    //    ",
              "    if(move_mark < 0)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else if(move_mark == -1) OrderMove(CurShip, QuestPlace);",
              "        else if(move_mark == -2) OrderMove(CurShip, AroundStar);",
              "        else if(move_mark == -3) OrderMove(CurShip, AroundQuestTarget);",
              "        else /*if(move_mark == -4)*/ OrderMove(CurShip, AroundQuestSupport);",
              "        exit;",
              "    }",
              "",
              "    object = IdToShip(GetData(3));",
              "    if(object)",
              "    {",
              "        if(cur_star == ShipStar(object))",
              "        {",
              "            if(!ShipInHyperSpace(object))",
              "            {",
              "                //   (      )",
              "                if(GetData(0) <= 2)",
              "                {",
              "                    //          (   GetData(0) != 2)",
              "                    if(!ShipInNormalSpace(object) && GetData(0) != 2)",
              "                    {",
              "                        dword sit = GetShipPlanet(object);",
              "                        if(!sit) sit = GetShipRuins(object);",
              "",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            if(GetShipPlanet(CurShip) != sit && GetShipRuins(CurShip) != sit) OrderTakeOff(CurShip);",
              "                        }",
              "                        else OrderLanding(CurShip, sit);",
              "                    }",
              "                    else",
              "                    {",
              "                        //   ",
              "                        if(!ShipInNormalSpace(CurShip))",
              "                        {",
              "                            OrderTakeOff(CurShip);",
              "                            exit;",
              "                        }",
              "",
              "                        if(ShipTurnBeforeEndOrder(object) <= 1)",
              "                        {",
              "                            int target_order = ShipOrder(object);",
              "                            if(target_order == 3)",
              "                            {",
              "                                OrderJump(CurShip, ShipOrderObj(object));",
              "                                exit;",
              "                            }",
              "                            else if(target_order == 4)",
              "                            {",
              "                                OrderJumpHole(CurShip, ShipOrderObj(object));",
              "                                exit;",
              "                            }",
              "                        }",
              "",
              "                        OrderFollowShip(CurShip, object, 0);",
              "",
              "                        //      ,  ,  ",
              "                        int closest_dist = 500000;",
              "                        target = 0;",
              "                        for(int i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "                        {",
              "                            dword ship = StarShips(cur_star, i);",
              "",
              "                            if(ShipInCurScript(ship))",
              "                            {",
              "                                //          ,",
              "                                //      ...   ",
              "                                if(ShipGroup(ship) == RandomAttackers) continue;",
              "                            }",
              "",
              "                            if(IsPlayer(ship)) continue; //   (   ,         )",
              "                            if(ShipInHyperSpace(ship, 1)) continue;",
              "                            if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "                            if(RelationToShip(ship, object) < 10)",
              "                            {",
              "                                if(!ShipInScript(ship, 0))",
              "                                {",
              "                                    ShipJoin(RandomAttackers, ship);",
              "                                    // 10       ",
              "                                    SetData(CurTurn() + 10, 0, ship);",
              "                                }",
              "",
              "                                int dist = Dist(CurShip, ship);",
              "                                if(dist < closest_dist)",
              "                                {",
              "                                    //      /,",
              "                                    //        ",
              "                                    if(ShipInNormalSpace(ship) || !target)",
              "                                    {",
              "                                        closest_dist = dist;",
              "                                        target = ship;",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "",
              "                        //   ,         ",
              "                        if(target)",
              "                        {",
              "                            ShipSetBad(CurShip, target);",
              "                            ShipFreeFlight(CurShip, 1);",
              "",
              "                            //  ,          ()",
              "                            if(!ShipInScript(target, 0))",
              "                            {",
              "                                ShipJoin(RandomAttackers, target);",
              "                                // 10       ",
              "                                SetData(CurTurn() + 10, 0, target);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                //    (    )",
              "                else if(GetData(0) == 3 || GetData(0) == 4)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else",
              "                    {",
              "                        OrderFollowShip(CurShip, object, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        //        - ",
              "        else",
              "        {",
              "            if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "            else OrderJump(CurShip, ShipStar(object));",
              "        }",
              "    }",
              "    else",
              "    {",
              "        if(GetData(0) < 3) SetData(0, 3);",
              "        //           ",
              "        else if(GetData(0) == 3)",
              "        {",
              "            SetData(0, 0);",
              "            SetData(0, 1);",
              "            SetData(0, 2);",
              "            SetData(-3, 3);",
              "            ChangeState('ReturningStrikeState');",
              "            exit;",
              "        }",
              "        //      ,   ChangeShipScriptGroupInfo",
              "        else if(GetData(0) == 4)",
              "        {",
              "            ChangeShipScriptGroupFromInfo(CurShip);",
              "            ShipFreeFlight(CurShip);",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "        OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  378,
          "#":  401,
          "Total.Lines":  283,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Destroy.2",
              "function PrivateDestroyQuestTwoConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int max_range = CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.2.TargetStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > max_range) continue;",
              "",
              "        // ,              ",
              "        int check = 0;",
              "        for(int k = 0; k < StarPlanets(cur_star); k = k + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(cur_star, k);",
              "",
              "            for(int m = 0; m < PlanetWarriors(cur_planet); m = m + 1)",
              "            {",
              "                dword warrior = PlanetWarriors(cur_planet, m);",
              "",
              "                if(ShipInScript(warrior, 0)) continue;",
              "                if(ShipInGameEvent(warrior)) continue;",
              "                if(ShipSubType(warrior)) continue; //  ",
              "                if(GetShipPlanet(warrior) != cur_planet) continue; //    ",
              "",
              "                check = 1;",
              "                break;",
              "            }",
              "",
              "            if(check) break;",
              "        }",
              "        if(!check) continue;",
              "        else",
              "        {",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = cur_star;",
              "                tarr2[0, 1] = warrior;",
              "                tarr2[0, 2] = cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = cur_star;",
              "                tarr2[available_options, 1] = warrior;",
              "                tarr2[available_options, 2] = cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //-",
              "        tarr1[next_num, 0] = tarr2[available_options, 1];",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], max_range / 2, max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.2.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.2.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Destroy.2';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 8, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id (      ,      )",
              "        //    ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //     ( 0, ,       )",
              "        //-1,       ",
              "        tarr1[next_num, 8] = -1;",
              "        //     ( 0, ,       )",
              "        tarr1[next_num, 9] = -1;",
              "        //     ( 0, ,       )",
              "        tarr1[next_num, 10] = -1;",
              "        //      (        )",
              "        tarr1[next_num, 11] = 0;",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', ShipName(tarr1[next_num, 0]),",
              "                                     '<TargetNameFull'+'>', Name(tarr1[next_num, 0]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Destroy.2",
              "function PrivateDestroyQuestTwoPrepare(int q_num)",
              "{",
              "    //   (  )",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "    dword target_ship = ActiveQuestsHQArray[q_num, 0];",
              "",
              "    //         (      )",
              "    ShipMoney(target_ship, ShipMoney(target_ship) * 3);",
              "    for(int i = 1; i <= 3; i = i + 1) ShipRefit(target_ship);",
              "    ShipImproveItems(target_ship, 5);",
              "    ShipRefuel(target_ship);",
              "    HullHP(target_ship, ItemSize(ShipItems(target_ship, 0)));",
              "    NoTargetToShip(target_ship, 3);",
              "    ShipJoin(QuestTarget, target_ship, 1);",
              "    // -          ",
              "    //        , !",
              "    SetData(232, 0, target_ship);",
              "    ChangeState('QuestTargetMoveState', target_ship);",
              "    //       ",
              "    OrderTakeOff(target_ship);",
              "    //    ()",
              "    ActiveQuestsHQArray[q_num, 11] = CurTurn() + 7;",
              "",
              "    //-1    -",
              "    int add_warriors = -1 + CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.2.TotalWarriorsCount');",
              "    str string = Id(target_ship);",
              "    dword cur_planet = GetShipPlanet(target_ship);",
              "    for(i = 0; i < PlanetWarriors(cur_planet); i = i + 1)",
              "    {",
              "        dword ship = PlanetWarriors(cur_planet, i);",
              "",
              "        if(ship == target_ship) continue;",
              "        if(ShipInScript(ship, 0)) continue;",
              "        if(ShipInGameEvent(ship)) continue;",
              "        if(ShipSubType(ship)) continue; //  ",
              "        if(GetShipPlanet(ship) != cur_planet) continue; //    ",
              "",
              "        //          ",
              "        ShipMoney(ship, ShipMoney(ship) * 2);",
              "        ShipRefit(ship);",
              "        ShipImproveItems(ship, 2);",
              "        ShipRefuel(ship);",
              "        HullHP(ship, ItemSize(ShipItems(ship, 0)));",
              "        ShipJoin(QuestAttackers, ship, 1);",
              "        ChangeState('QuestAttackersProtectState', ship);",
              "        //       ",
              "        SetData(Id(target_ship), 3, ship);",
              "        SetData(100, 0, ship);",
              "        OrderTakeOff(ship);",
              "",
              "        string = string + ',' + Id(ship);",
              "        add_warriors = add_warriors - 1;",
              "        //       ",
              "        if(!add_warriors) break;",
              "    }",
              "    //        ,     ",
              "    for(i = 1; i <= add_warriors; i = i + 1)",
              "    {",
              "        ship = BuyWarrior(cur_planet, 200);",
              "        for(int j = 1; j <= 2; j = j + 1) ShipRefit(ship);",
              "        ShipImproveItems(ship, 3);",
              "        ShipJoin(QuestAttackers, ship, 1);",
              "        ChangeState('QuestAttackersProtectState', ship);",
              "        //       ",
              "        SetData(Id(target_ship), 3, ship);",
              "        SetData(100, 0, ship);",
              "        OrderTakeOff(ship);",
              "",
              "        string = string + ',' + Id(ship);",
              "    }",
              "",
              "    //     ( )               ,     ",
              "    // ,        ",
              "    str text = 'Ether2,,,0,,,' + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.TargetOnAttack'), '<Warrior'+'>', Name(target_ship), '255,240,100');",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, Id(cur_planet), 0, string, text);",
              "    for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestAttackers, i);",
              "        ShipAddCustomShipInfo(ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, Id(cur_planet), 0, string, text);",
              "    }",
              "",
              "    //     ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    //       ",
              "    dword con = StarToCon(ActiveQuestsHQArray[q_num, 7]);",
              "    for(i = 0; i < ConStars(con); i = i + 1)",
              "    {",
              "        ship = ConStar(con, i);",
              "",
              "        if(ship == ActiveQuestsHQArray[q_num, 7]) continue;",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "",
              "        //         ",
              "        if(ActiveQuestsHQArray[q_num, 8] == -1)",
              "        {",
              "            NoComeKlingToStar(ship, 1);",
              "            ActiveQuestsHQArray[q_num, 8] = ship;",
              "        }",
              "        else if(ActiveQuestsHQArray[q_num, 9] == -1)",
              "        {",
              "            NoComeKlingToStar(ship, 1);",
              "            ActiveQuestsHQArray[q_num, 9] = ship;",
              "        }",
              "        else if(ActiveQuestsHQArray[q_num, 10] == -1)",
              "        {",
              "            NoComeKlingToStar(ship, 1);",
              "            ActiveQuestsHQArray[q_num, 10] = ship;",
              "        }",
              "        else break;",
              "    }",
              "",
              "    //,      ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "",
              "    // ,       ",
              "    ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "",
              "    //       ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "",
              "        SetData(3, 0, ship); //         ",
              "        SetData(Id(target_ship), 3, ship);",
              "    }",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(target_ship), '255,240,100');",
              "    string = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    string = string + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    string = string + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    string = string + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    string = string + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], string, target_ship);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    if(~ActiveQuestsHQArray[q_num, 8]) ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    if(~ActiveQuestsHQArray[q_num, 9]) ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "    if(~ActiveQuestsHQArray[q_num, 10]) ActiveQuestsHQArray[q_num, 10] = Id(ActiveQuestsHQArray[q_num, 10]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  371,
          "#":  402,
          "Total.Lines":  205,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Protect.1",
              "function PrivateProtectQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.1.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 2);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 2) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(cur_range > second_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(2);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.1.TargetName' + Rnd(1, 3, sqr(seed + 77)));",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //   ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Protect.1';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 8, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id (      ,      )",
              "        // ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "",
              "        //      ",
              "        //    (  )",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr2[available_options, 0]); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(tarr2[available_options, 0], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 67))];",
              "",
              "        //      ",
              "        //    (  )",
              "        ArrayClear(t_array);",
              "        for(i = 0; i < StarPlanets(tarr2[available_options, 1]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr2[available_options, 1], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 10] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 57))];",
              "",
              "        // ( )",
              "        tarr1[next_num, 11] = 0;",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', tarr1[next_num, 0],",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<DestinationPlanet'+'>', Name(tarr1[next_num, 10]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Protect.1",
              "function PrivateProtectQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "    dword target_name = ActiveQuestsHQArray[q_num, 0];",
              "",
              "    //   ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //,      ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Transport, i);",
              "",
              "    //     (      )",
              "    dword target_ship = BuyTransport(ActiveQuestsHQArray[q_num, 9], 2, 200);",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]);",
              "    for(i = 1; i <= 3; i = i + 1) ShipRefit(target_ship);",
              "    ShipJoin(QuestTarget, target_ship);",
              "    SetData(-1, 0, target_ship);",
              "    //      ",
              "    dword engine = ShipEqInSlot(target_ship, t_Engine);",
              "    if(ItemLevel(engine) > 4)",
              "    {",
              "        ItemCost(engine, round(PortionInDiapason(ItemLevel(engine), 5, 8, 0.875, 0.500) * ItemCost(engine)));",
              "        ItemLevel(engine, 4);",
              "    }",
              "    NoDropItem(engine, 1);",
              "    ShipImproveItems(target_ship, RndObject(1, 3, target_ship));",
              "    ItemExtraSpecialsAddByType(ShipEqInSlot(target_ship, t_Hull), FindBonusByNameInCfg('ShuMercsHQ_QuestTargetDebuff'), 10);",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "    //    \"  \"",
              "    NoTargetToShip(target_ship, 6);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(target_ship), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteStageOne'), '<Star'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text, target_ship);",
              "",
              "    //        ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 7]), 1, ship);",
              "    }",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "    ActiveQuestsHQArray[q_num, 10] = Id(ActiveQuestsHQArray[q_num, 10]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  405,
          "#":  404,
          "Total.Lines":  147,
          "Code.Type":  "Init",
          "Code":          
          [
              "//    (   ,  )",
              "//ActiveQuestsHQArray[0, 0] -         (        )",
              "free(ActiveQuestsHQArray);",
              "ActiveQuestsHQArray = newarray(2, 16);",
              "for(i = 0; i < 16; i = i + 1) ActiveQuestsHQArray[0, i] = 0; // ",
              "",
              "//     LockedQuestsHQArray",
              "LockedQuestsHQArray[0] = '';",
              "LockedQuestsHQArray[1] = '';",
              "LockedQuestsHQArray[2] = '';",
              "LockedQuestsHQArray[3] = '';",
              "LockedQuestsHQArray[4] = '';",
              "LockedQuestsHQArray[5] = '';",
              "",
              "//      \"\" ",
              "function EndQuestHQ(int quest_num, int status)",
              "{",
              "    //LockedQuestsHQArray[0] -     ",
              "    //LockedQuestsHQArray[1] -     ",
              "    //LockedQuestsHQArray[2] -     ",
              "    //LockedQuestsHQArray[3] -     ",
              "    //LockedQuestsHQArray[4] -      ",
              "    //LockedQuestsHQArray[5] -      ",
              "",
              "    //status == 0 -   ",
              "    //status == 1 -   ",
              "    //status == 2 -          ",
              "",
              "    //ActiveQuestsHQArray[quest_num, 5] -     ",
              "    //ActiveQuestsHQArray[quest_num, 6] -        ",
              "",
              "    dword HQ = GroupToShip(PlayerHQ);",
              "",
              "    //  ",
              "    if(!status)",
              "    {",
              "        //       ",
              "        if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.Private.'))",
              "        {",
              "            //LockedQuestsHQArray[0] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[1] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            if(HQ) PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = CurTurn() + RndObject(60, 120, HQ);",
              "            PlayerHQMainArray['Quests', 'PrivateQuestsFailed'] = PlayerHQMainArray['Quests', 'PrivateQuestsFailed'] + 1;",
              "        }",
              "        //       ",
              "        else if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.Coalition.'))",
              "        {",
              "            LockedQuestsHQArray[2] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[3] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'CoalitionReputation'] = max(PlayerHQMainArray['Main', 'CoalitionReputation'] - 100, 0);",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 500, 275, 92);",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestsFailed'] = PlayerHQMainArray['Quests', 'CoalitionQuestsFailed'] + 1;",
              "        }",
              "        //       ",
              "        else if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.PirateClan.'))",
              "        {",
              "            LockedQuestsHQArray[4] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[5] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'PirateClanReputation'] = max(PlayerHQMainArray['Main', 'PirateClanReputation'] - 100, 0);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 500, 275, 92);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestsFailed'] = PlayerHQMainArray['Quests', 'PirateClanQuestsFailed'] + 1;",
              "        }",
              "",
              "        //     ",
              "        int tint = ActiveQuestsHQArray[quest_num, 5] / 2;",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = min(PlayerHQMainArray['Finance', 'CurrentBalance'] + tint, 1000000000);",
              "        //     1   , .. ",
              "        PlayerHQMainArray['Finance', 'StatsInQuests'] = PlayerHQMainArray['Finance', 'StatsInQuests'] + tint;",
              "    }",
              "    //  ",
              "    else if(status == 1)",
              "    {",
              "        //       ",
              "        if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.Private.'))",
              "        {",
              "            //LockedQuestsHQArray[0] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[1] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = CurTurn() + RndObject(30, 60, HQ);",
              "            PlayerHQMainArray['Quests', 'PrivateQuestsCompleted'] = PlayerHQMainArray['Quests', 'PrivateQuestsCompleted'] + 1;",
              "        }",
              "        //       ",
              "        else if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.Coalition.'))",
              "        {",
              "            LockedQuestsHQArray[2] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[3] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'CoalitionReputation'] = min(PlayerHQMainArray['Main', 'CoalitionReputation'] + 50, 1000);",
              "            PlayerHQMainArray['Main', 'PirateClanReputation'] = max(PlayerHQMainArray['Main', 'PirateClanReputation'] - 25, 0);",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 500, 275, 92);",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestsCompleted'] = PlayerHQMainArray['Quests', 'CoalitionQuestsCompleted'] + 1;",
              "        }",
              "        //       ",
              "        else if(~findsubstr(ActiveQuestsHQArray[quest_num, 3], '.PirateClan.'))",
              "        {",
              "            LockedQuestsHQArray[4] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[5] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'PirateClanReputation'] = min(PlayerHQMainArray['Main', 'PirateClanReputation'] + 50, 1000);",
              "            PlayerHQMainArray['Main', 'CoalitionReputation'] = max(PlayerHQMainArray['Main', 'CoalitionReputation'] - 25, 0);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 500, 275, 92);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestsCompleted'] = PlayerHQMainArray['Quests', 'PirateClanQuestsCompleted'] + 1;",
              "        }",
              "",
              "        //    ",
              "        tint = ActiveQuestsHQArray[quest_num, 5];",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = min(PlayerHQMainArray['Finance', 'CurrentBalance'] + tint, 1000000000);",
              "        //     1   , .. ",
              "        PlayerHQMainArray['Finance', 'StatsInQuests'] = PlayerHQMainArray['Finance', 'StatsInQuests'] + tint;",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        //        (    )",
              "        if(!GAnswerData)",
              "        {",
              "            //LockedQuestsHQArray[0] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[1] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = CurTurn() + RndObject(15, 30, HQ);",
              "        }",
              "        //        (    )",
              "        else if(GAnswerData == 1)",
              "        {",
              "            LockedQuestsHQArray[2] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[3] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'CoalitionReputation'] = max(PlayerHQMainArray['Main', 'CoalitionReputation'] - 25, 0);",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + 92;//PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 500, 275, 92);",
              "        }",
              "        //        (    )",
              "        else",
              "        {",
              "            LockedQuestsHQArray[4] = GetParFromString(ActiveQuestsHQArray[quest_num, 3], '.', 4, 0);",
              "            LockedQuestsHQArray[5] = ActiveQuestsHQArray[quest_num, 3];",
              "",
              "            PlayerHQMainArray['Main', 'PirateClanReputation'] = max(PlayerHQMainArray['Main', 'PirateClanReputation'] - 25, 0);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + 92;//PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 500, 275, 92);",
              "        }",
              "    }",
              "",
              "    TempQuestHQSeed = 0; //          ",
              "    ActiveQuestHQ = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  406,
          "#":  407,
          "Total.Lines":  40,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = (PlayerHQMainArray['Quests', 'PrivateQuestAppear'] <= CurTurn());",
              "tdwd2 = (PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] <= CurTurn());",
              "tdwd3 = (PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] <= CurTurn());",
              "",
              "if( ActiveQuestHQ ||",
              "    GroupCount(QuestMercs) ||",
              "    PlayerHQMainArray['Quests', 'MercsRestingAfterQuest'] > CurTurn() ||",
              "    (!tdwd1 && !tdwd2 && !tdwd3) ||",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'MaxAtReady'] / 2",
              "  )",
              "{",
              "    //   ",
              "    if(ActiveQuestHQ) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingInProcess');",
              "    //    ",
              "    else if(GroupCount(QuestMercs)) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingMercsReturning');",
              "    //    ",
              "    else if(PlayerHQMainArray['Quests', 'MercsRestingAfterQuest'] > CurTurn()) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingMercsResting');",
              "    //        ",
              "    else if(!tdwd1 && !tdwd2 && !tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingNoContracts');",
              "    //      ",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingLowShips');",
              "",
              "    //\"\"          ( )",
              "    tdwd1 = 0;",
              "    tdwd2 = 0;",
              "    tdwd3 = 0;",
              "}",
              "//     ",
              "else if(tdwd1 && !tdwd2 && !tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingPrivate');",
              "else if(!tdwd1 && tdwd2 && !tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingCoalition');",
              "else if(!tdwd1 && !tdwd2 && tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingPirateClan');",
              "else if(tdwd1 && tdwd2 && !tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingPrivateCoalition');",
              "else if(tdwd1 && !tdwd2 && tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingPrivatePirateClan');",
              "else if(!tdwd1 && tdwd2 && tdwd3) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingCoalitionPirateClan');",
              "else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.GreetingPrivateCoalitionPirateClan');",
              "",
              "tstr1 = tstr1 + \"<br>\" + \"<br>\" + Format(CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.Reputation'),",
              "'<CoalitionReputation' + '>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%',",
              "'<PiratesReputation' + '>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%'",
              ");"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  427,
          "#":  409,
          "Total.Lines":  211,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "free(tarr1);",
              "tarr1 = newarray(1, 16);",
              "",
              "// ,            ",
              "//(   )",
              "tint1 = 0;",
              "if(GroupCount(QuestTarget)) tint1 = tint1 + -1;",
              "else if(GroupCount(QuestMercs)) tint1 = tint1 + -2;",
              "else if(GroupCount(QuestSupport)) tint1 = tint1 + -3;",
              "else if(GroupCount(QuestAttackers)) tint1 = tint1 + -4;",
              "else tint1 = 1;",
              "//NewsAdd(tint1); // ",
              "",
              "//LockedQuestsHQArray[0] -     ",
              "//LockedQuestsHQArray[1] -     ",
              "//LockedQuestsHQArray[2] -     ",
              "//LockedQuestsHQArray[3] -     ",
              "//LockedQuestsHQArray[4] -      ",
              "//LockedQuestsHQArray[5] -      ",
              "",
              "if(tint1 == 1)",
              "{",
              "    //    ",
              "    if(!GAnswerData)",
              "    {",
              "        if(LockedQuestsHQArray[0] != 'Destroy')",
              "        {",
              "            if(PirateWin() != 3 && PirateWin() != 4) // ,    ",
              "            {",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Destroy.1') PrivateDestroyQuestOneConditions();",
              "            }",
              "            if(!CoalitionDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Destroy.2') PrivateDestroyQuestTwoConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[0] != 'Protect')",
              "        {",
              "            if(PirateWin() != 3 && PirateWin() != 4) // ,    ",
              "            {",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Protect.1') PrivateProtectQuestOneConditions();",
              "            }",
              "            if(!CoalitionDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Protect.2') PrivateProtectQuestTwoConditions();",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Protect.3') PrivateProtectQuestThreeConditions();",
              "                if(LockedQuestsHQArray[1] != 'Quest.ShuMercs.QuestsHQ.Private.Protect.4') PrivateProtectQuestFourConditions();",
              "            }",
              "        }",
              "    }",
              "    //    ",
              "    else if(GAnswerData == 1)",
              "    {",
              "        if(LockedQuestsHQArray[2] != 'AttackDominators')",
              "        {",
              "            if(!DomiksDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1') CoalitionAttackDominatorsQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[2] != 'AttackPirateClan')",
              "        {",
              "            if(PirateWin() != 3 && PirateWin() != 4) // ,    ",
              "            {",
              "                if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1') CoalitionAttackPirateClanQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[2] != 'AttackKlissan')",
              "        {",
              "            if(CurrentMods('ShusRangers\\ShuKlissan'))",
              "            {",
              "                if(CurrentMods('Expansion\\ExpArts'))",
              "                {",
              "                    if(KlissanInvasion['PlotEnding'] == 'NotFinished' && !KlissanInvasion['KlissanControl.WasReceived']) //          ",
              "                    {",
              "                        if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1') CoalitionAttackKlissanQuestOneConditions();",
              "                    }",
              "                }",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[2] != 'DefendFromDominators')",
              "        {",
              "            if(!DomiksDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1') CoalitionDefendFromDominatorsQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[2] != 'DefendFromPirateClan')",
              "        {",
              "            if(PirateWin() != 3 && PirateWin() != 4) // ,    ",
              "            {",
              "                if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1') CoalitionDefendFromPirateClanQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        //   ",
              "        if(0)//LockedQuestsHQArray[2] != 'Destroy')",
              "        {",
              "            if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.Destroy.1') CoalitionDestroyQuestOneConditions();",
              "        }",
              "",
              "        if(0)//LockedQuestsHQArray[2] != 'Protect')",
              "        {",
              "            if(PirateWin() != 3 && PirateWin() != 4) // ,    ",
              "            {",
              "                if(LockedQuestsHQArray[3] != 'Quest.ShuMercs.QuestsHQ.Coalition.Protect.1') CoalitionProtectQuestOneConditions();",
              "            }",
              "        }",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        if(LockedQuestsHQArray[4] != 'AttackDominators')",
              "        {",
              "            if(!DomiksDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1') PirateClanAttackDominatorsQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[4] != 'AttackCoalition')",
              "        {",
              "            if(!CoalitionDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1') PirateClanAttackCoalitionQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        //   ",
              "        if(0)//LockedQuestsHQArray[4] != 'DefendFromDominators')",
              "        {",
              "            if(!DomiksDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.DefendFromDominators.1') PirateClanDefendFromDominatorsQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(0)//LockedQuestsHQArray[4] != 'DefendFromCoalition')",
              "        {",
              "            if(!CoalitionDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.DefendFromCoalition.1') PirateClanDefendFromCoalitionQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[4] != 'Destroy')",
              "        {",
              "            if(!CoalitionDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1') PirateClanDestroyQuestOneConditions();",
              "            }",
              "        }",
              "",
              "        if(LockedQuestsHQArray[4] != 'Protect')",
              "        {",
              "            if(!CoalitionDefeated())",
              "            {",
              "                //           ExpArts",
              "                if(CurrentMods('Expansion\\ExpArts'))",
              "                {",
              "                    if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1') PirateClanProtectQuestOneConditions();",
              "                }",
              "            }",
              "",
              "            if(!DomiksDefeated())",
              "            {",
              "                if(LockedQuestsHQArray[5] != 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2') PirateClanProtectQuestTwoConditions();",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//     ",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    //     (    ~10 ,   )",
              "    if(ActiveQuestsHQArray[0, 0] <= CurTurn())",
              "    {",
              "        tint2 = sqr(CurTurn() + 10);",
              "        ActiveQuestsHQArray[0, 0] = tint2;",
              "    }",
              "    else",
              "    {",
              "        tint2 = ActiveQuestsHQArray[0, 0];",
              "    }",
              "",
              "    rand = Rnd(1, ArrayDim(tarr1) - 1, sqr(tint2));",
              "    cost = 100;",
              "",
              "    //      ",
              "    tstr1 = '</color>' + tarr1[rand, 15];",
              "    tstr2 = '</color>' + CT(tarr1[rand, 3] + '.QuestAcceptedPlayer');",
              "    tstr3 = '</color>' + CT(tarr1[rand, 3] + '.QuestDeclinedPlayer');",
              "    tstr4 = '</color>' + CT(tarr1[rand, 3] + '.QuestNeedToThinkPlayer');",
              "",
              "    //         EndQuestHQ",
              "    ActiveQuestsHQArray[1, 3] = tarr1[rand, 3];",
              "    tint1 = 1;",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.QuestIsUnavailable');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.PlayerIsUpset');",
              "    tint1 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  372,
          "#":  410,
          "Total.Lines":  338,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Protect.2",
              "function PrivateProtectQuestTwoConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.2.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.2.SecondStarMaxRange');",
              "    //     ",
              "    int min_warriors = GetParFromString(CT('Quest.ShuMercs.QuestsHQ.Private.Protect.2.MinWarriorsCount'), ',', 0, 1);",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 2);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        if(StarOwner(cur_star) != 2) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //  ,       ",
              "        // ,      5   (    +2)",
              "        dword pirate_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(pirate_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            if(StarOwner(cur_star)) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, pirate_star)));",
              "            if(cur_range > second_range) continue;",
              "",
              "            int check = 0;",
              "            for(int k = 0; k < StarPlanets(cur_star); k = k + 1)",
              "            {",
              "                dword cur_planet = StarPlanets(cur_star, k);",
              "                //        ",
              "                if(PlanetRace(cur_planet) == Peleng)",
              "                {",
              "                    check = -100;",
              "                    break;",
              "                }",
              "",
              "                for(int m = 0; m < PlanetWarriors(cur_planet); m = m + 1)",
              "                {",
              "                    dword warrior = PlanetWarriors(cur_planet, m);",
              "",
              "                    if(ShipInScript(warrior, 0)) continue;",
              "                    if(ShipInGameEvent(warrior)) continue;",
              "                    if(ShipSubType(warrior)) continue; //  ",
              "                    if(ShipStar(warrior) != cur_star) continue;",
              "                    //    ",
              "                    check = check + 1;",
              "                }",
              "            }",
              "            if(check < min_warriors) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = pirate_star;",
              "                tarr2[0, 1] = cur_star;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(2);",
              "                tarr2[available_options, 0] = pirate_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.2.TargetName' + Rnd(1, 3, sqr(seed + 77)));",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Protect.2';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 8, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id (      ,      )",
              "        //  ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //  ()",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //      ",
              "        //   (  )",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            dword target_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(target_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, target_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 55))];",
              "",
              "        //,   ,     ",
              "        tarr1[next_num, 10] = -1;",
              "        //     ",
              "        tarr1[next_num, 11] = min_warriors;",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', tarr1[next_num, 0],",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<DestinationStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Protect.2",
              "function PrivateProtectQuestTwoPrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    //    ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //,      ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Transport, i);",
              "    //          ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "    }",
              "",
              "    //     (     )",
              "    dword target_ship = BuyTransport(ActiveQuestsHQArray[q_num, 9], 0, 200);",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]);",
              "    for(i = 1; i <= 3; i = i + 1) ShipRefit(target_ship);",
              "    //   ",
              "    ShipSkill(target_ship, 'Trader', RndObject(3, 6, target_ship));",
              "    ShipSkill(target_ship, 'Charm', RndObject(3, 6, target_ship));",
              "    ShipOwner(target_ship, PirateClan);",
              "",
              "    if(IsScriptActive('Mod_ShuSmugglers'))",
              "    {",
              "        int race = ShipPilotRace(target_ship);",
              "        ShipType(target_ship, 'Smuggler');",
              "        //         ",
              "        if(!race) race = FindBonusByNameInCfg('ShuSmugglers_SmugglerMaloc');",
              "        else if(race == 1) race = FindBonusByNameInCfg('ShuSmugglers_SmugglerPeleng');",
              "        else if(race == 2) race = FindBonusByNameInCfg('ShuSmugglers_SmugglerPeople');",
              "        else if(race == 3) race = FindBonusByNameInCfg('ShuSmugglers_SmugglerFei');",
              "        else race = FindBonusByNameInCfg('ShuSmugglers_SmugglerGaal');",
              "        SpecialToEquipment(race, ShipEqInSlot(target_ship, t_Hull));",
              "        Chameleon(target_ship);",
              "    }",
              "",
              "    ShipJoin(QuestTarget, target_ship);",
              "    SetData(-1, 0, target_ship);",
              "    //      ",
              "    dword engine = ShipEqInSlot(target_ship, t_Engine);",
              "    if(ItemLevel(engine) > 3)",
              "    {",
              "        ItemCost(engine, round(PortionInDiapason(ItemLevel(engine), 4, 8, 0.875, 0.375) * ItemCost(engine)));",
              "        ItemLevel(engine, 3);",
              "    }",
              "    NoDropItem(engine, 1);",
              "",
              "    ShipImproveItems(target_ship, RndObject(1, 3, target_ship));",
              "    ItemExtraSpecialsAddByType(ShipEqInSlot(target_ship, t_Hull), FindBonusByNameInCfg('ShuMercsHQ_QuestTargetDebuff'), 15);",
              "    //       ,    ",
              "    for(i = t_Food; i <= t_Narcotics; i = i + 1) GoodsAdd(target_ship, i, -GoodsCount(target_ship, i));",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "    //    \"  \"",
              "    NoTargetToShip(target_ship, 6);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName' + '>', Name(target_ship), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteStageOne'), '<Star'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text, target_ship);",
              "",
              "    //        ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd2 = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 7]), 1, tdwd2);",
              "    }",
              "",
              "    //   ,       (  )",
              "    race = -1;",
              "    int warriors_cnt = 10000;",
              "    dword warriors_planet = 0;",
              "    int check = 0;",
              "    for(i = 0; i < StarPlanets(ActiveQuestsHQArray[q_num, 8]); i = i + 1)",
              "    {",
              "        cur_planet = StarPlanets(ActiveQuestsHQArray[q_num, 8], i);",
              "",
              "        //      ",
              "        if(race == -1) race = PlanetRace(cur_planet);",
              "",
              "        for(int j = 0; j < PlanetWarriors(cur_planet); j = j + 1)",
              "        {",
              "            dword warrior = PlanetWarriors(cur_planet, j);",
              "            if(ShipInScript(warrior, 0)) continue;",
              "            if(ShipInGameEvent(warrior)) continue;",
              "            if(ShipSubType(warrior)) continue; //  ",
              "            if(ShipStar(warrior) != ActiveQuestsHQArray[q_num, 8]) continue;",
              "            //    ",
              "            ShipJoin(QuestAttackers, warrior);",
              "            SetData(Id(cur_planet) * 2, 2, warrior);",
              "            check = check + 1;",
              "",
              "            //      ",
              "            if(PlanetWarriors(cur_planet) < warriors_cnt)",
              "            {",
              "                warriors_cnt = PlanetWarriors(cur_planet);",
              "                warriors_planet = cur_planet;",
              "            }",
              "        }",
              "    }",
              "    //   ( )  ,    ",
              "    int tint = ActiveQuestsHQArray[q_num, 11];",
              "    //   ",
              "    warriors_cnt = GetParFromString(CT('Quest.ShuMercs.QuestsHQ.Private.Protect.2.MinWarriorsCount'), ',', 1, 1);",
              "    tint = tint + warriors_cnt;",
              "    if(check < tint)",
              "    {",
              "        for(j = 1; j < (tint - check); j = j + 1)",
              "        {",
              "            warrior = BuyWarrior(warriors_planet, 250);",
              "            for(i = 1; i <= 2; i = i + 1) ShipRefit(warrior);",
              "            ShipJoin(QuestAttackers, warrior);",
              "        }",
              "    }",
              "",
              "    //   (      ,   !)",
              "    // ,   , ! (      )",
              "    if(race == Maloc) tint = t_Luxury;",
              "    else tint = RndObject(t_Arms, t_Narcotics, target_ship);",
              "    int size = RndObject(125, 200, target_ship);",
              "    dword quest_item = CreateQuestItem('ShuMercsHQ_GoodsImitation' + tint, PirateClan);",
              "    ItemSize(quest_item, size);",
              "    ItemCost(quest_item, size * GoodsSellPrice(ActiveQuestsHQArray[q_num, 9], tint));",
              "    NoDropItem(quest_item, 1);",
              "    LinkItemToScript(quest_item, QuestItem);",
              "",
              "    //        ",
              "    AddItemToShip(target_ship, quest_item);",
              "    //  ",
              "    ShipImproveItems(target_ship, 0);",
              "",
              "    // \"\"    ,",
              "    //        ",
              "    //,   ,   ?",
              "    ship = BuyTranclucator(StarPlanets(GalaxyStar(People), 2));",
              "    TransferShip(ship, StarPlanets(GalaxyStar(People), 0));",
              "    ShipOwner(ship, None);",
              "    ShipJoin(QuestSupport, ship);",
              "    SetData(-1, 0, ship);",
              "",
              "    //       ",
              "    i = 2;",
              "    dword pirates_star = StarNearbyStars(ActiveQuestsHQArray[q_num, 8], 1);",
              "    while(pirates_star == ActiveQuestsHQArray[q_num, 7])",
              "    {",
              "        pirates_star = StarNearbyStars(ActiveQuestsHQArray[q_num, 8], i);",
              "        i = i + 1;",
              "    }",
              "    ActiveQuestsHQArray[q_num, 10] = Id(pirates_star);",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  405,
          "#":  411,
          "Total.Lines":  35,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ShipIsTakeoff(Player())) exit;",
              "if(ShipOrder(Player()) == 4) //      ",
              "{",
              "    if(ShipInHyperSpace(Player()))",
              "    {",
              "        if(CurrentForm() == 'StarMap')",
              "        {",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 3] == 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2')",
              "            {",
              "                //         ",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 14]) exit;",
              "            }",
              "        }",
              "    }",
              "}",
              "if(LastTurnHandled == CurTurn()) exit;",
              "LastTurnHandled = CurTurn();",
              "",
              "num = ActiveQuestsHQArray[ActiveQuestHQ, 3];",
              "if(~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Private.'))",
              "{",
              "    check = 1;",
              "}",
              "else if(~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Coalition.'))",
              "{",
              "    check = 2;",
              "}",
              "else if(~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.PirateClan.'))",
              "{",
              "    check = 3;",
              "}",
              "else if(~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Special.'))",
              "{",
              "    check = 4;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  417,
          "#":  422,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "tstr1 = '</color>' + CT(tarr1[rand, 3] + '.QuestDeclined');",
              "EndQuestHQ(1, 2);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  416,
          "#":  425,
          "Total.Lines":  90,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT(tarr1[rand, 3] + '.QuestAccepted');",
              "ActiveQuestHQ = 1;",
              "",
              "//    (   )",
              "//( copy,      )",
              "for(i = 0; i <= 15; i = i + 1) copy(ActiveQuestsHQArray[ActiveQuestHQ, i], tarr1[rand, i]);",
              "",
              "free(tarr1);",
              "tarr1 = newarray(1);",
              "",
              "//      ",
              "tstr2 = ActiveQuestsHQArray[ActiveQuestHQ, 3];",
              "// ",
              "//    ",
              "if(!GAnswerData)",
              "{",
              "    if(~findsubstr(tstr2, '.Destroy.'))",
              "    {",
              "        if(1 == tstr2) PrivateDestroyQuestOnePrepare(ActiveQuestHQ);",
              "        else if(2 == tstr2) PrivateDestroyQuestTwoPrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.Protect.'))",
              "    {",
              "        if(1 == tstr2) PrivateProtectQuestOnePrepare(ActiveQuestHQ);",
              "        else if(2 == tstr2) PrivateProtectQuestTwoPrepare(ActiveQuestHQ);",
              "        else if(3 == tstr2) PrivateProtectQuestThreePrepare(ActiveQuestHQ);",
              "        else if(4 == tstr2) PrivateProtectQuestFourPrepare(ActiveQuestHQ);",
              "    }",
              "}",
              "//    ",
              "else if(GAnswerData == 1)",
              "{",
              "    if(~findsubstr(tstr2, '.AttackDominators.'))",
              "    {",
              "        if(1 == tstr2) CoalitionAttackDominatorsQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.AttackPirateClan.'))",
              "    {",
              "        if(1 == tstr2) CoalitionAttackPirateClanQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.AttackKlissan.'))",
              "    {",
              "        if(1 == tstr2) CoalitionAttackKlissanQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.DefendFromDominators.'))",
              "    {",
              "        if(1 == tstr2) CoalitionDefendFromDominatorsQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.DefendFromPirateClan.'))",
              "    {",
              "        if(1 == tstr2) CoalitionDefendFromPirateClanQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.Destroy.'))",
              "    {",
              "        if(1 == tstr2) CoalitionDestroyQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.Protect.'))",
              "    {",
              "        if(1 == tstr2) CoalitionProtectQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "}",
              "//    ",
              "else",
              "{",
              "    if(~findsubstr(tstr2, '.AttackDominators.'))",
              "    {",
              "        if(1 == tstr2) PirateClanAttackDominatorsQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.AttackCoalition.'))",
              "    {",
              "        if(1 == tstr2) PirateClanAttackCoalitionQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.DefendFromDominators.'))",
              "    {",
              "        if(1 == tstr2) PirateClanDefendFromDominatorsQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.DefendFromCoalition.'))",
              "    {",
              "        if(1 == tstr2) PirateClanDefendFromCoalitionQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.Destroy.'))",
              "    {",
              "        if(1 == tstr2) PirateClanDestroyQuestOnePrepare(ActiveQuestHQ);",
              "    }",
              "    else if(~findsubstr(tstr2, '.Protect.'))",
              "    {",
              "        if(1 == tstr2) PirateClanProtectQuestOnePrepare(ActiveQuestHQ);",
              "        else if(2 == tstr2) PirateClanProtectQuestTwoPrepare(ActiveQuestHQ);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  408,
          "#":  426,
          "Total.Lines":  16,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.PlayerAskPrivateQuest');",
              "if(!tdwd1) AddDialogBlock(tstr2, 1);",
              "InjectAnswer('PlayerHQQuestChoose', tstr2, 0);",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.PlayerAskCoalitionQuest');",
              "//     ",
              "if(!tdwd2 || CoalitionDefeated()) AddDialogBlock(tstr2, 1);",
              "InjectAnswer('PlayerHQQuestChoose', tstr2, 1);",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.PlayerAskPirateClanQuest');",
              "// ,    ",
              "if(!tdwd3 || PirateWin() == 3 || PirateWin() == 4) AddDialogBlock(tstr2, 1);",
              "InjectAnswer('PlayerHQQuestChoose', tstr2, 2);",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.PlayerOut');",
              "DAnswer('restart~' + tstr2);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  377,
          "#":  428,
          "Total.Lines":  247,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Destroy.1",
              "function PrivateDestroyQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 4);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        dword target = 0;",
              "        for(int k = 0; k < StarShips(cur_star); k = k + 1)",
              "        {",
              "            dword ship = StarShips(cur_star, k);",
              "",
              "            if(ShipInScript(ship, 0)) continue;",
              "            if(ShipTypeN(ship) != t_Pirate) continue;",
              "            if(ShipOwner(ship) == PirateClan) continue; //       ",
              "            if(ShipSubType(ship)) continue;",
              "            if(ShipInPrison(ship)) continue;",
              "            target = ship;",
              "            break;",
              "        }",
              "",
              "        if(!target) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 2) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = target;",
              "                tarr2[0, 1] = coalition_star;",
              "                tarr2[0, 2] = cur_star;",
              "                tarr2[0, 3] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(4);",
              "                tarr2[available_options, 0] = target;",
              "                tarr2[available_options, 1] = coalition_star;",
              "                tarr2[available_options, 2] = cur_star;",
              "                tarr2[available_options, 3] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //-",
              "        tarr1[next_num, 0] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 3], first_max_range / 2, first_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Private.Destroy.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Destroy.1';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 8, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id (      ,      )",
              "        //   -",
              "        tarr1[next_num, 7] = tarr2[available_options, 1];",
              "        //     -",
              "        tarr1[next_num, 8] = tarr2[available_options, 2];",
              "        //  - ( )",
              "        tarr1[next_num, 9] = 0;",
              "        //    (       )",
              "        //      ",
              "        tarr1[next_num, 10] = 0;",
              "        // ( )",
              "        tarr1[next_num, 11] = 0;",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', ShipName(tarr1[next_num, 0]),",
              "                                     '<TargetNameFull'+'>', Name(tarr1[next_num, 0]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Destroy.1",
              "function PrivateDestroyQuestOnePrepare(int q_num)",
              "{",
              "    //   (  )",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "    dword target_ship = ActiveQuestsHQArray[q_num, 0];",
              "    //            ",
              "    ShipSpecialBonuses(target_ship, bonFuel, ShipSpecialBonuses(target_ship, bonFuel) - 10000);",
              "    ShipSpecialBonuses(target_ship, bonSlotForsage, 50);",
              "    //     \"\" ",
              "    dword hull = ShipItems(target_ship, 0);",
              "    ItemSize(hull, round(1.3 * ItemSize(hull)));",
              "    HullHP(target_ship, ItemSize(hull));",
              "    //       ,      ",
              "    ItemDurability(ShipEqInSlot(target_ship, t_Engine), 100);",
              "    if(GetEquipmentStats(hull, 2) < 2) ShipSpecialBonuses(target_ship, bonSlotArt, 2 - GetEquipmentStats(hull, 2));",
              "    if(!ArtefactTypeInUse(target_ship, t_ArtForsage))",
              "    {",
              "        dword art = CreateArt(t_ArtForsage, None);",
              "        AddItemToShip(target_ship, art);",
              "        ItemIsInUse(art, target_ship, 1);",
              "        NoDropItem(art, 1);",
              "    }",
              "    if(!ArtefactTypeInUse(target_ship, t_ArtEnergyDef))",
              "    {",
              "        art = CreateArt(t_ArtEnergyDef, None);",
              "        AddItemToShip(target_ship, art);",
              "        ItemIsInUse(art, target_ship, 1);",
              "        NoDropItem(art, 1);",
              "    }",
              "    //  ",
              "    ShipImproveItems(target_ship, 0);",
              "    NoTargetToShip(target_ship, 3);",
              "    ShipJoin(QuestTarget, target_ship);",
              "    //-       ,     ",
              "    SetData(33, 0, target_ship);",
              "",
              "    //  -,      ",
              "    unknown t_array = newarray(1);",
              "    for(i = 0; i < StarPlanets(ActiveQuestsHQArray[q_num, 8]); i = i + 1)",
              "    {",
              "        dword cur_planet = StarPlanets(ActiveQuestsHQArray[q_num, 8], i);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        ArrayAdd(t_array, cur_planet);",
              "    }",
              "    //     ",
              "    ActiveQuestsHQArray[q_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(GetQuestSeed() + 27))];",
              "",
              "    //-1    -",
              "    int add_pirates = -1 + CT(ActiveQuestsHQArray[q_num, 3] + '.TotalPiratesCount');",
              "    for(i = 1; i <= add_pirates; i = i + 1)",
              "    {",
              "        dword ship = BuyWarrior(PlanetPirateClan(), 300); //      ",
              "        for(int j = 1; j <= 3; j = j + 1) ShipRefit(ship);",
              "        ShipImproveItems(ship, 5);",
              "        ShipJoin(QuestAttackers, ship, 1);",
              "        ChangeState('QuestAttackersProtectState', ship);",
              "        //       ",
              "        SetData(-1, 0, ship); //         ",
              "        TransferShip(ship, ActiveQuestsHQArray[q_num, 9]);",
              "    }",
              "",
              "    // -             ,     ",
              "    // ,        ",
              "    str text = 'Ether2,,,0,,,' + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.TargetOnAttack'), '<Pirate'+'>', Name(target_ship), '255,240,100');",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, 0, 0, Id(target_ship), text, '20,' + Id(ActiveQuestsHQArray[q_num, 8]) + ',0,' + Id(GroupToShip(QuestAttackers)));",
              "",
              "    //     ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //,       ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "",
              "    // ,       ",
              "    ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "",
              "    //       ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(3, 0, ship); //         ",
              "        SetData(Id(target_ship), 3, ship);",
              "    }",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(target_ship), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text, target_ship);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  443,
          "#":  434,
          "Total.Lines":  231,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Coalition.AttackDominators.1  ",
              "//  ,   ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "if(!StarOwner(cur_star) || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    //     ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        OrderLock(tdwd1, 0);",
              "        ShipOut(tdwd1);",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        // ,     ",
              "        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(cur_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            break;",
              "        }",
              "        cur_planet = Id(cur_planet) * 2;",
              "",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "",
              "            //           QuestMercsCapDomState",
              "            ChangeState('QuestMercsKillState', tdwd1);",
              "        }",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar' + '>', Name(cur_star), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    //   ",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(cur_star, 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[ActiveQuestHQ, 1]), '<BeginPlanet'+'>', Name(cur_planet), '<BeginStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,        ,    ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_planet))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,       ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,    ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "",
              "            QuestSupportDialogCall = CurTurn() + 3; //     ",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,     (  )    ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(!ActiveQuestsHQArray[ActiveQuestHQ, 11]) //         ,       ",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(!cur_ship) cur_ship = GroupToShip(QuestMercs);",
              "            if(!cur_ship)",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3; //   -  ",
              "            }",
              "",
              "            if(cur_ship)",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(ShipOrder(cur_ship) == 3)",
              "                    {",
              "                        QuestPlaceX = ShipOrder(cur_ship, 'X');",
              "                        QuestPlaceY = ShipOrder(cur_ship, 'Y');",
              "",
              "                        //      ",
              "                        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "                        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 11] = 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else //if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "        {",
              "            //  ,    ",
              "            if(",
              "                (!GroupCount(QuestMercs) || GroupIn(QuestMercs, QuestPlace)) &&",
              "                (!GroupCount(QuestSupport) || GroupIn(QuestSupport, QuestPlace))",
              "              )",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "",
              "                if(GroupCount(QuestMercs) || GroupCount(QuestSupport))",
              "                {",
              "                    //  !",
              "                    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "                        SetData(197, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(134, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //        ",
              "    //else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3) {}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  437,
          "#":  439,
          "Total.Lines":  263,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// PirateClan.AttackCoalition.1  ",
              "//  ,   ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "if(StarOwner(cur_star) == 2 || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    //   (,  ?)   ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        OrderLock(tdwd1, 0);",
              "        ShipOut(tdwd1);",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(StarOwner(cur_star) == 2)",
              "    {",
              "        // ,     ",
              "        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(cur_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            break;",
              "        }",
              "        cur_planet = Id(cur_planet) * 2;",
              "",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "",
              "            //           QuestMercsCapCoalState",
              "            ChangeState('QuestMercsKillState', tdwd1);",
              "        }",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar' + '>', Name(cur_star), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        //       ",
              "        RelationToRanger(PlanetPirateClan(), Player(), ActiveQuestsHQArray[ActiveQuestHQ, 10] + 25);",
              "",
              "        //        ",
              "        for(i = PlanetNews() - 1; i > PlanetNews() - 7; i = i - 1)",
              "        {",
              "            if(PlanetNewsDate(i))",
              "            {",
              "                if(PlanetNewsType(i) == 32)",
              "                {",
              "                    if(~findsubstr(PlanetNewsText(i), '>' + Name(cur_star) + '<'))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.GalaxyNewsAfterWin'), '<TargetStar' + '>', Name(cur_star), '<PlayerOrgName' + '>', PlayerHQMainArray['Main', 'OrganisationName']);",
              "                        PlanetNewsText(i, tstr1);",
              "                        break;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        //       ",
              "        RelationToRanger(PlanetPirateClan(), Player(), ActiveQuestsHQArray[ActiveQuestHQ, 10] - 25);",
              "        if(RelationToRanger(PlanetPirateClan(), Player()) < 10) RelationToRanger(PlanetPirateClan(), Player(), 10);",
              "    }",
              "",
              "    //   ",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(cur_star, 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[ActiveQuestHQ, 1]), '<BeginPlanet'+'>', Name(cur_planet), '<BeginStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,        ,    ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_planet))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                //  - Standing (     )",
              "                ShipStanding(tdwd1, 8);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,       ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,    ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "",
              "            QuestSupportDialogCall = CurTurn() + 3; //     ",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,     (  )    ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(!ActiveQuestsHQArray[ActiveQuestHQ, 11]) //         ,       ",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(!cur_ship) cur_ship = GroupToShip(QuestMercs);",
              "            if(!cur_ship)",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3; //   -  ",
              "            }",
              "",
              "            if(cur_ship)",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(ShipOrder(cur_ship) == 3)",
              "                    {",
              "                        QuestPlaceX = ShipOrder(cur_ship, 'X');",
              "                        QuestPlaceY = ShipOrder(cur_ship, 'Y');",
              "",
              "                        //      ",
              "                        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "                        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 11] = 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else //if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "        {",
              "            //  ,    ",
              "            if(",
              "                (!GroupCount(QuestMercs) || GroupIn(QuestMercs, QuestPlace)) &&",
              "                (!GroupCount(QuestSupport) || GroupIn(QuestSupport, QuestPlace))",
              "              )",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "",
              "                if(GroupCount(QuestMercs) || GroupCount(QuestSupport))",
              "                {",
              "                    //  !",
              "                    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "                        SetData(199, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(134, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //        ",
              "    //else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3) {}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  438,
          "#":  440,
          "Total.Lines":  249,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// PirateClan.AttackDominators.1  ",
              "//  ,   ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "if(StarOwner(cur_star) == 2 || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    check = 0;",
              "    //",
              "    if(StarOwner(cur_star) == 2)",
              "    {",
              "        // ,     ",
              "        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(cur_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            break;",
              "        }",
              "        cur_planet = Id(cur_planet) * 2;",
              "",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "",
              "            //           QuestMercsCapDomState",
              "            ChangeState('QuestMercsKillState', tdwd1);",
              "        }",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar' + '>', Name(cur_star), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        //       ",
              "        RelationToRanger(PlanetPirateClan(), Player(), ActiveQuestsHQArray[ActiveQuestHQ, 11] + 25);",
              "",
              "        //        ",
              "        for(i = PlanetNews() - 1; i > PlanetNews() - 7; i = i - 1)",
              "        {",
              "            if(PlanetNewsDate(i))",
              "            {",
              "                if(PlanetNewsType(i) == 31)",
              "                {",
              "                    if(~findsubstr(PlanetNewsText(i), '>' + Name(cur_star) + '<'))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.GalaxyNewsAfterWin'), '<TargetStar' + '>', Name(cur_star), '<PlayerOrgName' + '>', PlayerHQMainArray['Main', 'OrganisationName']);",
              "                        PlanetNewsText(i, tstr1);",
              "                        break;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        //       ",
              "        RelationToRanger(PlanetPirateClan(), Player(), ActiveQuestsHQArray[ActiveQuestHQ, 11] - 25);",
              "        if(RelationToRanger(PlanetPirateClan(), Player()) < 10) RelationToRanger(PlanetPirateClan(), Player(), 10);",
              "    }",
              "",
              "    //   ",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(cur_star, 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[ActiveQuestHQ, 1]), '<BeginPlanet'+'>', Name(cur_planet), '<BeginStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,        ,    ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_planet))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                //  - Standing (     )",
              "                ShipStanding(tdwd1, 8);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,       ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,    ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "",
              "            QuestSupportDialogCall = CurTurn() + 3; //     ",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,     (  )    ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(!ActiveQuestsHQArray[ActiveQuestHQ, 12]) //         ,       ",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(!cur_ship) cur_ship = GroupToShip(QuestMercs);",
              "            if(!cur_ship)",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3; //   -  ",
              "            }",
              "",
              "            if(cur_ship)",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(ShipOrder(cur_ship) == 3)",
              "                    {",
              "                        QuestPlaceX = ShipOrder(cur_ship, 'X');",
              "                        QuestPlaceY = ShipOrder(cur_ship, 'Y');",
              "",
              "                        //      ",
              "                        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "                        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 12] = 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else //if(ActiveQuestsHQArray[ActiveQuestHQ, 12] == 1)",
              "        {",
              "            //  ,    ",
              "            if(",
              "                (!GroupCount(QuestMercs) || GroupIn(QuestMercs, QuestPlace)) &&",
              "                (!GroupCount(QuestSupport) || GroupIn(QuestSupport, QuestPlace))",
              "              )",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "",
              "                if(GroupCount(QuestMercs) || GroupCount(QuestSupport))",
              "                {",
              "                    //  !",
              "                    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "                        SetData(197, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(134, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //        ",
              "    //else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3) {}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  439,
          "#":  441,
          "Total.Lines":  357,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.AttackCoalition.1",
              "function PirateClanAttackCoalitionQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star) != 2) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            if(StarOwner(cur_star)) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "            // ,   ",
              "            if(NoComeKlingToStar(cur_star)) continue;",
              "            if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], first_max_range / 2, first_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.PirateClan.AttackCoalition.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 19, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id",
              "        //       ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //       ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr2[available_options, 0]); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(tarr2[available_options, 0], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 13))];",
              "        //        (      )",
              "        tarr1[next_num, 10] = RelationToRanger(PlanetPirateClan(), Player());",
              "        tarr1[next_num, 11] = 0; //  ,               ",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //  \" \"          ",
              "        str split_line;",
              "        if(GetGameOptions('FontDialog') == '0') split_line = '</color>-----------------------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '1') split_line = '</color>------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '2') split_line = '</color>-------------------------------------------';",
              "        else split_line = '</color>--------------------------------------';",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5],",
              "                                     '<SplitLine'+'>', split_line);",
              "    }",
              "}",
              "",
              "//   PirateClan.AttackCoalition.1",
              "function PirateClanAttackCoalitionQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //           ",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "",
              "        //      ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "",
              "        //             ",
              "        for(int j = 0; j < StarPlanets(target_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(target_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 0);",
              "        }",
              "        for(j = 0; j < StarRuins(target_star); j = j + 1)",
              "        {",
              "            dword cur_ruin = StarRuins(target_star, j);",
              "            if(ShipStanding(cur_ruin) != 2 && ShipStanding(cur_ruin) != 3) continue;",
              "",
              "            RelationToRanger(cur_ruin, ship, 0);",
              "        }",
              "    }",
              "",
              "    //   ,       (  )",
              "    int warriors_count = 0;",
              "    int cap_ships_count = 0;",
              "    for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "    {",
              "        cur_planet = StarPlanets(target_star, i);",
              "        if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "        for(j = 0; j < PlanetWarriors(cur_planet); j = j + 1)",
              "        {",
              "            dword warrior = PlanetWarriors(cur_planet, j);",
              "            if(ShipInScript(warrior, 0))",
              "            {",
              "                //      (, )",
              "                if(ShipSubType(warrior)) cap_ships_count = cap_ships_count + 1;",
              "                continue;",
              "            }",
              "            if(ShipInGameEvent(warrior)) continue;",
              "            if(ShipStar(warrior) != target_star) continue;",
              "            //    ",
              "            //  ",
              "            if(ShipSubType(warrior)) cap_ships_count = cap_ships_count + 1;",
              "            else warriors_count = warriors_count + 1;",
              "",
              "            //ShipJoin(QuestAttackers, warrior);",
              "            //SetData(33, 0, warrior);",
              "        }",
              "    }",
              "    int stations_count = 0;",
              "    for(i = 0; i < StarRuins(target_star); i = i + 1)",
              "    {",
              "        cur_ruin = StarRuins(target_star, i);",
              "        if(ShipStanding(cur_ruin) != 2 && ShipStanding(cur_ruin) != 3) continue;",
              "",
              "        stations_count = stations_count + 1;",
              "    }",
              "",
              "    //   ,      ",
              "    int add_pirates = CT(ActiveQuestsHQArray[q_num, 3] + '.MinPiratesCount');",
              "    //            ",
              "    if(!CurrentMods('Evolution\\EvoArmada'))",
              "    {",
              "        int warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 0, 1);",
              "        int warriors_per_stan = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerStation'), ',', 0, 1);",
              "    }",
              "    else",
              "    {",
              "        warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 1, 1);",
              "        warriors_per_stan = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerStation'), ',', 1, 1);",
              "    }",
              "",
              "    //         ",
              "    //(       ,         )",
              "    warriors_count = warriors_count + (warriors_per_cap * cap_ships_count);",
              "    warriors_count = warriors_count + (warriors_per_stan * stations_count);",
              "    //   ,         \"\" ",
              "    warriors_count = warriors_count - CT(ActiveQuestsHQArray[q_num, 3] + '.MinWarriorsCount');",
              "",
              "    // ,         ",
              "    //(         )",
              "    if(warriors_count > 0)",
              "    {",
              "        add_pirates = add_pirates + warriors_count;",
              "    }",
              "",
              "    //        ",
              "    //(       ,  )",
              "    while(warriors_count < 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(warriors_count < 0)",
              "            {",
              "                warrior = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(warrior);",
              "                ShipImproveItems(warrior, RndObject(0, 2, cur_planet));",
              "                //ShipJoin(QuestAttackers, warrior);",
              "                //SetData(33, 0, warrior);",
              "",
              "                warriors_count = warriors_count + 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //            (  )",
              "    str id_line = '';",
              "    for(i = 0; i < StarShips(begin_star); i = i + 1)",
              "    {",
              "        warrior = StarShips(begin_star, i);",
              "        if(ShipInScript(warrior, 0)) continue;",
              "        if(ShipInGameEvent(warrior)) continue;",
              "        if(ShipOwner(warrior) != PirateClan) continue;",
              "",
              "        ShipJoin(QuestSupport, warrior);",
              "        //      ",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "        if(id_line == '') id_line = Id(warrior);",
              "        else id_line = id_line + ',' + Id(warrior);",
              "        add_pirates = add_pirates - 1;",
              "",
              "        //       ",
              "        if(!add_pirates) break;",
              "    }",
              "    //        ",
              "    //(        )",
              "    if(add_pirates > 20) add_pirates = 20;",
              "    while(add_pirates)",
              "    {",
              "        for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(begin_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_pirates)",
              "            {",
              "                warrior = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(warrior);",
              "                ShipImproveItems(warrior, RndObject(0, 3, cur_planet));",
              "",
              "                ShipJoin(QuestSupport, warrior);",
              "                //      ",
              "                SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "                if(id_line == '') id_line = Id(warrior);",
              "                else id_line = id_line + ',' + Id(warrior);",
              "                add_pirates = add_pirates - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        warrior = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(warrior, 'ShuMercsHQ_QuestShipsOutOnPlayerAttack', 'NoShow', 0, 0, 0, id_line, 'Ether2,,,0,,,' + CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'));",
              "    }",
              "",
              "    //       (--! \"\"  , ,  !)   ",
              "    RelationToRanger(PlanetPirateClan(), Player(), 100);",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'PirateClan');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[q_num, 1]), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<BeginStar'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //   ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  444,
          "#":  442,
          "Total.Lines":  228,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Coalition.AttackPirateClan.1  ",
              "//  ,   ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "if(!StarOwner(cur_star) || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    check = 0;",
              "    //",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        // ,     ",
              "        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(cur_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            break;",
              "        }",
              "        cur_planet = Id(cur_planet) * 2;",
              "",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "",
              "            //           QuestMercsCapPirState",
              "            ChangeState('QuestMercsKillState', tdwd1);",
              "        }",
              "        //     ,     ",
              "        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(3, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet, 2, tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar' + '>', Name(cur_star), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    //   ",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(cur_star, 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[ActiveQuestHQ, 1]), '<BeginPlanet'+'>', Name(cur_planet), '<BeginStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,        ,    ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_planet))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,       ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,    ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "",
              "            QuestSupportDialogCall = CurTurn() + 3; //     ",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,     (  )    ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(!ActiveQuestsHQArray[ActiveQuestHQ, 11]) //         ,       ",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(!cur_ship) cur_ship = GroupToShip(QuestMercs);",
              "            if(!cur_ship)",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3; //   -  ",
              "            }",
              "",
              "            if(cur_ship)",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(ShipOrder(cur_ship) == 3)",
              "                    {",
              "                        QuestPlaceX = ShipOrder(cur_ship, 'X');",
              "                        QuestPlaceY = ShipOrder(cur_ship, 'Y');",
              "",
              "                        //      ",
              "                        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "                        for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 11] = 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else //if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "        {",
              "            //  ,    ",
              "            if(",
              "                (!GroupCount(QuestMercs) || GroupIn(QuestMercs, QuestPlace)) &&",
              "                (!GroupCount(QuestSupport) || GroupIn(QuestSupport, QuestPlace))",
              "              )",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "",
              "                if(GroupCount(QuestMercs) || GroupCount(QuestSupport))",
              "                {",
              "                    //  !",
              "                    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "                        SetData(198, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(134, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //        ",
              "    //else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3) {}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  445,
          "#":  447,
          "Total.Lines":  224,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestMercs (           ):",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //         ",
              "    dword target = ShipGetBad(CurShip);",
              "    if(target)",
              "    {",
              "        if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //        ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(ShipInScript(target, 0))",
              "        {",
              "            if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "            {",
              "                TruceBetweenShips(CurShip, target);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        ",
              "if(GetData(0) == 40)",
              "{",
              "    //    ",
              "    if(StarOwner(cur_star) == 2)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip))",
              "        {",
              "            if(HullDamage(CurShip) < 8)",
              "            {",
              "                OrderTakeOff(CurShip);",
              "                exit;",
              "            }",
              "            else",
              "            {",
              "                ShipFreeFlight(CurShip);",
              "                OrderNone(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "        else if(HullDamage(CurShip) > 77)",
              "        {",
              "            OrderLanding(CurShip, NearCivilPlanet(CurShip));",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//         ",
              "target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(ShipInScript(target, 0))",
              "    {",
              "        if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//        ,  ,  ",
              "int closest_dist = 500000;",
              "target = 0;",
              "for(i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "{",
              "    dword ship = StarShips(cur_star, i);",
              "",
              "    if(IsPlayer(ship)) continue; //  ",
              "    if(ShipInHyperSpace(ship, 1)) continue;",
              "    //   -     ",
              "    int stand = ShipStanding(ship);",
              "    if(stand != 0 && stand != 2 && stand != 3 && stand != 9) continue;",
              "",
              "    int obj_type = ObjectType(ship);",
              "    int dist = Dist(CurShip, ship);",
              "    if(dist < closest_dist)",
              "    {",
              "        //:",
              "        //1 -   ",
              "        //2 -  ",
              "        //3 - ",
              "        //4 -       ",
              "        if(ShipInNormalSpace(ship) && ShipTypeN(ship) == t_Warrior && obj_type != 5)",
              "        {",
              "            closest_dist = dist;",
              "            target = ship;",
              "        }",
              "        else if(!target)",
              "        {",
              "            if(ShipInNormalSpace(ship) && obj_type != 5)",
              "            {",
              "                closest_dist = dist;",
              "                target = ship;",
              "            }",
              "            else if(!target)",
              "            {",
              "                if(obj_type == 5)",
              "                {",
              "                    closest_dist = dist;",
              "                    target = ship;",
              "                }",
              "                else if(!target)",
              "                {",
              "                    closest_dist = dist;",
              "                    target = ship;",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "//   ,         ",
              "if(target)",
              "{",
              "    ShipSetBad(CurShip, target);",
              "    if(ShipInNormalSpace(target)) OrderFollowShip(CurShip, target, 1);",
              "    else OrderFollowShip(CurShip, target, 0);",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //float angle = 0.01 * RndObject(0, 200, CurShip);",
              "        //int radius = RndObject(500, 1100, CurShip);",
              "        //float flt = round(sin(angle * pi) * radius);",
              "        //int coord_x = flt;",
              "        //flt = round(cos(angle * pi) * radius);",
              "        //int coord_y = flt;",
              "        //OrderMove(CurShip, coord_x, coord_y);",
              "        OrderMove(CurShip, AroundStar);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  446,
          "#":  448,
          "Total.Lines":  225,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestMercs (           ):",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //         ",
              "    dword target = ShipGetBad(CurShip);",
              "    if(target)",
              "    {",
              "        if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //        ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(ShipInScript(target, 0))",
              "        {",
              "            if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "            {",
              "                TruceBetweenShips(CurShip, target);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        ",
              "if(GetData(0) == 40)",
              "{",
              "    //      ",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        if(!ShipInNormalSpace(CurShip))",
              "        {",
              "            if(HullDamage(CurShip) < 8)",
              "            {",
              "                OrderTakeOff(CurShip);",
              "                exit;",
              "            }",
              "            else",
              "            {",
              "                ShipFreeFlight(CurShip);",
              "                OrderNone(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "        else if(HullDamage(CurShip) > 77)",
              "        {",
              "            OrderLanding(CurShip, NearCivilPlanet(CurShip));",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//         ",
              "target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(ShipInScript(target, 0))",
              "    {",
              "        if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//        ,  ,  ",
              "int closest_dist = 500000;",
              "target = 0;",
              "for(i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "{",
              "    dword ship = StarShips(cur_star, i);",
              "",
              "    if(IsPlayer(ship)) continue; //  ",
              "    if(ShipInHyperSpace(ship, 1)) continue;",
              "    //   -     ",
              "    int stand = ShipStanding(ship);",
              "    if(stand >= 1 && stand <= 6) continue;",
              "",
              "    int obj_type = ObjectType(ship);",
              "    int dist = Dist(CurShip, ship);",
              "    if(dist < closest_dist)",
              "    {",
              "        //:",
              "        //1 -  ",
              "        //2 -  ",
              "        //3 - ",
              "        //4 -       ",
              "        if(ShipInNormalSpace(ship) && ShipTypeN(ship) == t_Pirate && obj_type != 5)",
              "        {",
              "            closest_dist = dist;",
              "            target = ship;",
              "        }",
              "        else if(!target)",
              "        {",
              "            if(ShipInNormalSpace(ship) && obj_type != 5)",
              "            {",
              "                closest_dist = dist;",
              "                target = ship;",
              "            }",
              "            else if(!target)",
              "            {",
              "                if(obj_type == 5)",
              "                {",
              "                    closest_dist = dist;",
              "                    target = ship;",
              "                }",
              "                else if(!target)",
              "                {",
              "                    closest_dist = dist;",
              "                    target = ship;",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//   ,         ",
              "if(target)",
              "{",
              "    ShipSetBad(CurShip, target);",
              "    if(ShipInNormalSpace(target)) OrderFollowShip(CurShip, target, 1);",
              "    else OrderFollowShip(CurShip, target, 0);",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //float angle = 0.01 * RndObject(0, 200, CurShip);",
              "        //int radius = RndObject(500, 1100, CurShip);",
              "        //float flt = round(sin(angle * pi) * radius);",
              "        //int coord_x = flt;",
              "        //flt = round(cos(angle * pi) * radius);",
              "        //int coord_y = flt;",
              "        //OrderMove(CurShip, coord_x, coord_y);",
              "        OrderMove(CurShip, AroundStar);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  442,
          "#":  449,
          "Total.Lines":  366,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.AttackPirateClan.1",
              "function CoalitionAttackPirateClanQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 2) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "            // ,   ",
              "            if(NoComeKlingToStar(cur_star)) continue;",
              "            if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], first_max_range / 2, first_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Coalition.AttackPirateClan.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 15, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id (      ,      )",
              "        //       ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //     ",
              "        //       ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 42))];",
              "        //           ",
              "        ArrayClear(t_array);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 8]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr1[next_num, 8], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 10] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 52))];",
              "        tarr1[next_num, 11] = 0; //  ,               ",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //  \" \"          ",
              "        str split_line;",
              "        if(GetGameOptions('FontDialog') == '0') split_line = '</color>-----------------------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '1') split_line = '</color>------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '2') split_line = '</color>-------------------------------------------';",
              "        else split_line = '</color>--------------------------------------';",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 10]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5],",
              "                                     '<SplitLine'+'>', split_line);",
              "    }",
              "}",
              "",
              "//   Coalition.AttackPirateClan.1",
              "function CoalitionAttackPirateClanQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //    ,      ",
              "        ShipOwner(ship, ShipPilotRace(Player()));",
              "",
              "        //        ",
              "        for(int j = 0; j < StarRuins(target_star); j = j + 1)",
              "        {",
              "            dword cur_ruin = StarRuins(target_star, j);",
              "            if(ShipStanding(cur_ruin) != 7 && ShipStanding(cur_ruin) != 8) continue;",
              "",
              "            RelationToRanger(cur_ruin, ship, 0);",
              "        }",
              "        //            ",
              "        for(j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(begin_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 100);",
              "        }",
              "    }",
              "    //    ",
              "    for(j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "    {",
              "        cur_planet = StarPlanets(begin_star, j);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        if(RelationToRanger(cur_planet, Player()) < 60) RelationToRanger(cur_planet, Player(), 60);",
              "    }",
              "",
              "    //          (  )",
              "    int pirates_count = 0;",
              "    int cap_ships_count = 0;",
              "    for(i = 0; i < StarShips(target_star); i = i + 1)",
              "    {",
              "        dword pirate = StarShips(target_star, i);",
              "        if(ShipInScript(pirate, 0))",
              "        {",
              "            //     ( EvoArmada)",
              "            str text = ShipType(pirate);",
              "            if(text == 'PirateFrigate' || text == 'PirateGalleon') cap_ships_count = cap_ships_count + 1;",
              "            continue;",
              "        }",
              "        if(ShipInGameEvent(pirate)) continue;",
              "        //    ",
              "        else pirates_count = pirates_count + 1;",
              "",
              "        //ShipJoin(QuestAttackers, pirate);",
              "        //SetData(33, 0, pirate);",
              "    }",
              "    int stations_count = 0;",
              "    for(i = 0; i < StarRuins(target_star); i = i + 1)",
              "    {",
              "        cur_ruin = StarRuins(target_star, i);",
              "        if(ShipStanding(cur_ruin) != 7 && ShipStanding(cur_ruin) != 8) continue;",
              "",
              "        stations_count = stations_count + 1;",
              "    }",
              "",
              "    //   ,      ",
              "    int add_warriors = CT(ActiveQuestsHQArray[q_num, 3] + '.MinWarriorsCount');",
              "    //            ",
              "    if(!CurrentMods('Evolution\\EvoArmada'))",
              "    {",
              "        int warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 0, 1);",
              "        int pirates_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerCapitalShip'), ',', 0, 1);",
              "        int pirates_per_stan = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerStation'), ',', 0, 1);",
              "    }",
              "    else",
              "    {",
              "        warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 1, 1);",
              "        pirates_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerCapitalShip'), ',', 1, 1);",
              "        pirates_per_stan = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerStation'), ',', 1, 1);",
              "    }",
              "",
              "    //         ",
              "    //(       ,         )",
              "    pirates_count = pirates_count + (pirates_per_cap * cap_ships_count);",
              "    pirates_count = pirates_count + (pirates_per_stan * stations_count);",
              "    //   ,         \"\" ",
              "    pirates_count = pirates_count - CT(ActiveQuestsHQArray[q_num, 3] + '.MinPiratesCount');",
              "",
              "    // ,         ",
              "    //(         )",
              "    if(pirates_count > 0)",
              "    {",
              "        add_warriors = add_warriors + pirates_count;",
              "    }",
              "",
              "    //        ",
              "    //(       ,  )",
              "    while(pirates_count < 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(pirates_count < 0)",
              "            {",
              "                pirate = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(pirate);",
              "                ShipImproveItems(pirate, RndObject(0, 2, cur_planet));",
              "                //ShipJoin(QuestAttackers, pirate);",
              "                //SetData(33, 0, pirate);",
              "",
              "                pirates_count = pirates_count + 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //            (  )",
              "    str id_line = '';",
              "    for(i = 0; i < StarShips(begin_star); i = i + 1)",
              "    {",
              "        dword warrior = StarShips(begin_star, i);",
              "        if(ShipInScript(warrior, 0)) continue;",
              "        if(ShipInGameEvent(warrior)) continue;",
              "        if(ShipOwner(warrior) != PirateClan) continue;",
              "",
              "        ShipJoin(QuestSupport, warrior);",
              "        //      ",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "        if(id_line == '') id_line = Id(warrior);",
              "        else id_line = id_line + ',' + Id(warrior);",
              "        //        \"\"",
              "        if(!ShipSubType(warrior)) add_warriors = add_warriors - 1;",
              "        else add_warriors = add_warriors - warriors_per_cap;",
              "",
              "        //       ",
              "        if(add_warriors <= 0) break;",
              "    }",
              "    //        ",
              "    //(        )",
              "    if(add_warriors > 15) add_warriors = 15;",
              "    while(add_warriors > 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(begin_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_warriors > 0)",
              "            {",
              "                warrior = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(warrior);",
              "                ShipImproveItems(warrior, RndObject(0, 3, cur_planet));",
              "",
              "                ShipJoin(QuestSupport, warrior);",
              "                //      ",
              "                SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "                if(id_line == '') id_line = Id(warrior);",
              "                else id_line = id_line + ',' + Id(warrior);",
              "                add_warriors = add_warriors - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        warrior = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(warrior, 'ShuMercsHQ_QuestShipsOutOnPlayerAttack', 'NoShow', 0, 0, 0, id_line, 'Ether2,,,0,,,' + CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'));",
              "    }",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'Coalition');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[q_num, 1]), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<BeginStar'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "    ActiveQuestsHQArray[q_num, 10] = Id(ActiveQuestsHQArray[q_num, 10]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  440,
          "#":  450,
          "Total.Lines":  338,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.AttackDominators.1",
              "function PirateClanAttackDominatorsQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star) != 2) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 1) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "            // ,   ",
              "            if(NoComeKlingToStar(cur_star)) continue;",
              "            if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "            //    ",
              "            if(Blazer())",
              "            {",
              "                if(ShipStar(Blazer()) == cur_star) continue;",
              "            }",
              "            if(Keller())",
              "            {",
              "                if(ShipStar(Keller()) == cur_star) continue;",
              "            }",
              "            if(Terron())",
              "            {",
              "                if(ShipStar(Terron()) == cur_star) continue;",
              "            }",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], first_max_range / 2, first_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.PirateClan.AttackDominators.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 19, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id",
              "        //       ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //       ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr2[available_options, 0]); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(tarr2[available_options, 0], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 15))];",
              "        //            ",
              "        ArrayClear(t_array);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 8]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr1[next_num, 8], i);",
              "            if(PlanetOwner(cur_planet) != 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        tarr1[next_num, 10] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 17))];",
              "        //        (      )",
              "        tarr1[next_num, 11] = RelationToRanger(PlanetPirateClan(), Player());",
              "        tarr1[next_num, 12] = 0; //  ,               ",
              "        // ( )",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "",
              "        //  \" \"          ",
              "        str split_line;",
              "        if(GetGameOptions('FontDialog') == '0') split_line = '</color>-----------------------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '1') split_line = '</color>------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '2') split_line = '</color>-------------------------------------------';",
              "        else split_line = '</color>--------------------------------------';",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 10]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5],",
              "                                     '<SplitLine'+'>', split_line);",
              "    }",
              "}",
              "",
              "//   PirateClan.AttackDominators.1",
              "function PirateClanAttackDominatorsQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //           ",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "",
              "        //      ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "    }",
              "",
              "    //   ,      ",
              "    int add_pirates = CT(ActiveQuestsHQArray[q_num, 3] + '.MinPiratesCount');",
              "    //         ",
              "    unknown t_array = newarray(8);",
              "    if(!CurrentMods('Evolution\\EvoArmada'))",
              "    {",
              "        str text = CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerDomiks');",
              "        for(i = 1; i <= 7; i = i + 1) t_array[i] = 0 + GetParFromString(text, ',', i, 1);",
              "    }",
              "    else",
              "    {",
              "        text = CT(ActiveQuestsHQArray[q_num, 3] + '.PiratesPerDomiksEvoArmada');",
              "        for(i = 1; i <= 7; i = i + 1) t_array[i] = 0 + GetParFromString(text, ',', i, 1);",
              "    }",
              "",
              "    //      (    )",
              "    int domiks_count = 0;",
              "    for(i = 0; i < StarShips(target_star); i = i + 1)",
              "    {",
              "        ship = StarShips(target_star, i);",
              "        if(ShipTypeN(ship) != t_Kling) continue;",
              "        if(ShipCustomFaction(ship) != '') continue;",
              "",
              "        domiks_count = domiks_count + t_array[ShipSubType(ship)];",
              "",
              "        //ShipJoin(QuestAttackers, ship);",
              "        //SetData(33, 0, ship);",
              "    }",
              "",
              "    //   ,         \"\" ",
              "    domiks_count = domiks_count - CT(ActiveQuestsHQArray[q_num, 3] + '.MinDomiksCount');",
              "",
              "    // ,         ",
              "    //(       )",
              "    if(domiks_count > 0)",
              "    {",
              "        add_pirates = add_pirates + domiks_count;",
              "    }",
              "",
              "    //        ",
              "    //(       ,  )",
              "    while(domiks_count < 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(domiks_count < 0)",
              "            {",
              "                ship = BuyDomikExtremal(cur_planet);",
              "                ShipImproveItems(ship, RndObject(0, 2, cur_planet));",
              "                //ShipJoin(QuestAttackers, ship);",
              "                //SetData(33, 0, ship);",
              "",
              "                domiks_count = domiks_count + t_array[ShipSubType(ship)];",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //            (  )",
              "    str id_line = '';",
              "    for(i = 0; i < StarShips(begin_star); i = i + 1)",
              "    {",
              "        ship = StarShips(begin_star, i);",
              "        if(ShipInScript(ship, 0)) continue;",
              "        if(ShipInGameEvent(ship)) continue;",
              "        if(ShipOwner(ship) != PirateClan) continue;",
              "",
              "        ShipJoin(QuestSupport, ship);",
              "        //      ",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "        if(id_line == '') id_line = Id(ship);",
              "        else id_line = id_line + ',' + Id(ship);",
              "        add_pirates = add_pirates - 1;",
              "",
              "        //       ",
              "        if(!add_pirates) break;",
              "    }",
              "    //        ",
              "    //(        )",
              "    if(add_pirates > 20) add_pirates = 20;",
              "    while(add_pirates)",
              "    {",
              "        for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(begin_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_pirates)",
              "            {",
              "                ship = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(ship);",
              "                ShipImproveItems(ship, RndObject(0, 3, cur_planet));",
              "",
              "                ShipJoin(QuestSupport, ship);",
              "                //      ",
              "                SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "                if(id_line == '') id_line = Id(ship);",
              "                else id_line = id_line + ',' + Id(ship);",
              "                add_pirates = add_pirates - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(ship, 'ShuMercsHQ_QuestShipsOutOnPlayerAttack', 'NoShow', 0, 0, 0, id_line, 'Ether2,,,0,,,' + CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'));",
              "    }",
              "",
              "    //       (--! \"\"  , ,  !)   ",
              "    RelationToRanger(PlanetPirateClan(), Player(), 100);",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'PirateClan');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[q_num, 1]), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<BeginStar'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "    ActiveQuestsHQArray[q_num, 10] = Id(ActiveQuestsHQArray[q_num, 10]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  434,
          "#":  451,
          "Total.Lines":  345,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.AttackDominators.1",
              "function CoalitionAttackDominatorsQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 1) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "            // ,   ",
              "            if(NoComeKlingToStar(cur_star)) continue;",
              "            if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "            //    ",
              "            if(Blazer())",
              "            {",
              "                if(ShipStar(Blazer()) == cur_star) continue;",
              "            }",
              "            if(Keller())",
              "            {",
              "                if(ShipStar(Keller()) == cur_star) continue;",
              "            }",
              "            if(Terron())",
              "            {",
              "                if(ShipStar(Terron()) == cur_star) continue;",
              "            }",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], first_max_range / 2, first_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Coalition.AttackDominators.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 15, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id (      ,      )",
              "        //       ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //     ",
              "        //       ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 67))];",
              "        tarr1[next_num, 10] = 0; // ",
              "        tarr1[next_num, 11] = 0; //  ,               ",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "",
              "        //  \" \"          ",
              "        str split_line;",
              "        if(GetGameOptions('FontDialog') == '0') split_line = '</color>-----------------------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '1') split_line = '</color>------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '2') split_line = '</color>-------------------------------------------';",
              "        else split_line = '</color>--------------------------------------';",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5],",
              "                                     '<SplitLine'+'>', split_line);",
              "    }",
              "}",
              "",
              "//   Coalition.AttackDominators.1",
              "function CoalitionAttackDominatorsQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //    ,      ",
              "        ShipOwner(ship, ShipPilotRace(Player()));",
              "",
              "        //           ",
              "        for(int j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(begin_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 100);",
              "        }",
              "    }",
              "    //    ",
              "    for(j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "    {",
              "        cur_planet = StarPlanets(begin_star, j);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        if(RelationToRanger(cur_planet, Player()) < 60) RelationToRanger(cur_planet, Player(), 60);",
              "    }",
              "",
              "    //   ,      ",
              "    int add_warriors = CT(ActiveQuestsHQArray[q_num, 3] + '.MinWarriorsCount');",
              "    //         ",
              "    unknown t_array = newarray(8);",
              "    if(!CurrentMods('Evolution\\EvoArmada'))",
              "    {",
              "        int warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 0, 1);",
              "        str text = CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerDomiks');",
              "        for(i = 1; i <= 7; i = i + 1) t_array[i] = int(GetParFromString(text, ',', i, 1));",
              "    }",
              "    else",
              "    {",
              "        warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 1, 1);",
              "        text = CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerDomiksEvoArmada');",
              "        for(i = 1; i <= 7; i = i + 1) t_array[i] = int(GetParFromString(text, ',', i, 1));",
              "    }",
              "",
              "    //      (    )",
              "    int domiks_count = 0;",
              "    for(i = 0; i < StarShips(target_star); i = i + 1)",
              "    {",
              "        ship = StarShips(target_star, i);",
              "        if(ShipTypeN(ship) != t_Kling) continue;",
              "        if(ShipCustomFaction(ship) != '') continue;",
              "",
              "        domiks_count = domiks_count + t_array[ShipSubType(ship)];",
              "",
              "        //ShipJoin(QuestAttackers, ship);",
              "        //SetData(33, 0, ship);",
              "    }",
              "",
              "    //   ,         \"\" ",
              "    domiks_count = domiks_count - CT(ActiveQuestsHQArray[q_num, 3] + '.MinDomiksCount');",
              "",
              "    // ,         ",
              "    //(       )",
              "    if(domiks_count > 0)",
              "    {",
              "        add_warriors = add_warriors + domiks_count;",
              "    }",
              "",
              "    //        ",
              "    //(       ,  )",
              "    while(domiks_count < 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(domiks_count < 0)",
              "            {",
              "                ship = BuyDomikExtremal(cur_planet);",
              "                //    ",
              "                //for(j = 1; j <= 2; j = j + 1) ShipRefit(ship);",
              "                ShipImproveItems(ship, RndObject(0, 2, cur_planet));",
              "                //ShipJoin(QuestAttackers, ship);",
              "                //SetData(33, 0, ship);",
              "",
              "                domiks_count = domiks_count + t_array[ShipSubType(ship)];",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //            (  )",
              "    str id_line = '';",
              "    for(i = 0; i < StarShips(begin_star); i = i + 1)",
              "    {",
              "        dword warrior = StarShips(begin_star, i);",
              "        if(ShipInScript(warrior, 0)) continue;",
              "        if(ShipInGameEvent(warrior)) continue;",
              "        if(ShipOwner(warrior) != PirateClan) continue;",
              "",
              "        ShipJoin(QuestSupport, warrior);",
              "        //      ",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "        if(id_line == '') id_line = Id(warrior);",
              "        else id_line = id_line + ',' + Id(warrior);",
              "        //        \"\"",
              "        if(!ShipSubType(warrior)) add_warriors = add_warriors - 1;",
              "        else add_warriors = add_warriors - warriors_per_cap;",
              "",
              "        //       ",
              "        if(add_warriors <= 0) break;",
              "    }",
              "",
              "    //        ",
              "    //(        )",
              "    if(add_warriors > 15) add_warriors = 15;",
              "    while(add_warriors > 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(begin_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_warriors > 0)",
              "            {",
              "                warrior = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(warrior);",
              "                ShipImproveItems(warrior, RndObject(0, 3, cur_planet));",
              "",
              "                ShipJoin(QuestSupport, warrior);",
              "                //      ",
              "                SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "                if(id_line == '') id_line = Id(warrior);",
              "                else id_line = id_line + ',' + Id(warrior);",
              "                add_warriors = add_warriors - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    text = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '255,240,100');",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        warrior = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(warrior, 'ShuMercsHQ_QuestShipsOutOnPlayerAttack', 'NoShow', 0, 0, 0, id_line, 'Ether2,,,0,,,' + text);",
              "    }",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'Coalition');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[q_num, 1]), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<BeginStar'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //   ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  418,
          "#":  452,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQQuestsDialog.AnythingElse');",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  453,
          "#":  454,
          "Total.Lines":  209,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    QuestMercs (  /       ):",
              "//Data0 ==    (    )",
              "//  ,    (,  ,      )",
              "// ,        (\" \")",
              "//Data1 ==      (    ),  0,     ",
              "//Data2 ==  /    (    ),  0,     ",
              "//Data3 ==   (    ),     ,   (Data0)",
              "//      ==  -3 -      ",
              "",
              "dword object;",
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "    exit;",
              "}",
              "dword HQStar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    exit;",
              "}",
              "",
              "//       (  33)",
              "if(GetData(0) == 33)",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //         ",
              "    dword target = ShipGetBad(CurShip);",
              "    if(target)",
              "    {",
              "        if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //        ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "        else if(ShipInScript(target, 0))",
              "        {",
              "            if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "            {",
              "                TruceBetweenShips(CurShip, target);",
              "                //       ",
              "                target = ShipIsPartner(CurShip);",
              "                if(target) ShipSetPartner(CurShip, 0, 0);",
              "            }",
              "        }",
              "    }",
              "    exit;",
              "}",
              "else OrderLock(CurShip, 1);",
              "",
              "//        ",
              "if(GetData(0) == 40)",
              "{",
              "    //     (   ,     )",
              "    if(!StarOwner(cur_star) || StarOwner(cur_star) == 2)",
              "    {",
              "        if(!ShipInNormalSpace(CurShip))",
              "        {",
              "            if(HullDamage(CurShip) < 8)",
              "            {",
              "                OrderTakeOff(CurShip);",
              "                exit;",
              "            }",
              "            else",
              "            {",
              "                ShipFreeFlight(CurShip);",
              "                OrderNone(CurShip);",
              "                exit;",
              "            }",
              "        }",
              "        else if(HullDamage(CurShip) > 77)",
              "        {",
              "            OrderLanding(CurShip, NearCivilPlanet(CurShip));",
              "            exit;",
              "        }",
              "    }",
              "}",
              "",
              "//        (-1)",
              "if(~int(GetData(0)))",
              "{",
              "    // ,       ,",
              "    //    \" \"",
              "    if(GetData(0) >= 100)",
              "    {",
              "        SetData(GetData(0) - 100, 0);",
              "        exit;",
              "    }",
              "    else",
              "    {",
              "        ShipFreeFlight(CurShip);",
              "        OrderNone(CurShip);",
              "    }",
              "}",
              "",
              "//         ",
              "target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        TruceBetweenShips(CurShip, target);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(ShipInScript(target, 0))",
              "    {",
              "        if(ShipInCurScript(target) && ShipGroup(target) == QuestSupport)",
              "        {",
              "            TruceBetweenShips(CurShip, target);",
              "            //       ",
              "            target = ShipIsPartner(CurShip);",
              "            if(target) ShipSetPartner(CurShip, 0, 0);",
              "        }",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(int i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//    ,  ,  ",
              "int closest_dist = 500000;",
              "target = 0;",
              "for(i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "{",
              "    dword ship = StarShips(cur_star, i);",
              "",
              "    if(IsPlayer(ship)) continue; //  ",
              "    if(ShipInHyperSpace(ship, 1)) continue;",
              "    //       - ",
              "    int stand = ShipStanding(ship);",
              "    if(stand != 0 && stand != 9) continue;",
              "",
              "    int dist = Dist(CurShip, ship);",
              "    if(dist < closest_dist)",
              "    {",
              "        //:",
              "        //1 -  ",
              "        //2 -    ",
              "        if(ShipInNormalSpace(ship))",
              "        {",
              "            closest_dist = dist;",
              "            target = ship;",
              "        }",
              "        else if(!target)",
              "        {",
              "            if(!ShipInNormalSpace(ship))",
              "            {",
              "                closest_dist = dist;",
              "                target = ship;",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//   ,         ",
              "if(target)",
              "{",
              "    ShipSetBad(CurShip, target);",
              "    if(ShipInNormalSpace(target)) OrderFollowShip(CurShip, target, 1);",
              "    else OrderFollowShip(CurShip, target, 0);",
              "}",
              "",
              "//            (  )",
              "if(!ShipOrder(CurShip))",
              "{",
              "    //   !   ,         ",
              "    if(!GetShipPlanet(CurShip) && !GetShipRuins(CurShip))",
              "    {",
              "        //float angle = 0.01 * RndObject(0, 200, CurShip);",
              "        //int radius = RndObject(500, 1100, CurShip);",
              "        //float flt = round(sin(angle * pi) * radius);",
              "        //int coord_x = flt;",
              "        //flt = round(cos(angle * pi) * radius);",
              "        //int coord_y = flt;",
              "        //OrderMove(CurShip, coord_x, coord_y);",
              "        OrderMove(CurShip, AroundStar);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  457,
          "#":  459,
          "Total.Lines":  132,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Coalition.DefendFromDominators.1  ",
              "//  ,      ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "if(StarOwner(cur_star) || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    check = 0;",
              "    //",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar' + '>', Name(cur_star), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed'), '<TargetStar' + '>', Name(cur_star), '255,240,100');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 13] - 1), 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar' + '>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess'), '<TargetStar' + '>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,     ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,       -   ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_star))",
              "        {",
              "            //       ",
              "            tdwd2 = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 13] - 1);",
              "            cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 14]);",
              "            cnt = RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 1, 0), cur_star);",
              "            for(i = 1; i <= cnt; i = i + 1)",
              "            {",
              "                tdwd1 = BuyDomikExtremal(cur_planet);",
              "                //, !         ",
              "                //for(j = 1; j <= 3; j = j + 1) ShipRefit(tdwd1);",
              "                ShipImproveItems(tdwd1, RndObject(0, 3, tdwd1));",
              "",
              "                MakeShipEnterStar(tdwd1, cur_star, tdwd2, 1);",
              "            }",
              "",
              "            //      ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(2, 3, cur_star);",
              "",
              "            //    ",
              "            NoComeKlingToStar(cur_star, 0);",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,        ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 10] <= CurTurn())",
              "        {",
              "            //          ",
              "            if(GroupCount(QuestAttackers) < ActiveQuestsHQArray[ActiveQuestHQ, 9])",
              "            {",
              "                //       ",
              "                tdwd2 = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 13] - 1);",
              "                cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 14]);",
              "                cnt = RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 1, 0), cur_star);",
              "                for(i = 1; i <= cnt; i = i + 1)",
              "                {",
              "                    tdwd1 = BuyDomikExtremal(cur_planet);",
              "                    //, !         ",
              "                    //for(j = 1; j <= 3; j = j + 1) ShipRefit(tdwd1);",
              "                    ShipImproveItems(tdwd1, RndObject(0, 3, tdwd1));",
              "",
              "                    MakeShipEnterStar(tdwd1, cur_star, tdwd2, 1);",
              "                }",
              "",
              "                //      ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 11], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 11], ',', 1, 0), cur_star);",
              "            }",
              "            else",
              "            {",
              "                //   ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(2, 3, cur_star);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  458,
          "#":  460,
          "Total.Lines":  201,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Coalition.DefendFromPirateClan.1  ",
              "//  ,      ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "if(StarOwner(cur_star) || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    //         ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        if(ShipInHyperSpace(tdwd1))",
              "        {",
              "            OrderNone(tdwd1);",
              "            ShipDestroy(tdwd1, 1);",
              "        }",
              "        else",
              "        {",
              "            SetData(66, 0);",
              "            SetData(71, 1); //Id ",
              "        }",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar'+'>', Name(cur_star), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            //  ",
              "            ShipStanding(tdwd1, 5);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar' + '>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,     ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,       -   ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_star))",
              "        {",
              "            //        (   )",
              "            cur_planet = PlanetPirateClan();",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                //  - Standing (     )",
              "                ShipStanding(tdwd1, 2);",
              "",
              "                RelationToRanger(cur_planet, tdwd1, 0);",
              "                //           ",
              "                ShipKillFactionInCurSystem(tdwd1, 2, 3);",
              "            }",
              "",
              "            //       ",
              "            cnt = RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 1, 0), cur_star);",
              "            for(i = 1; i <= cnt; i = i + 1)",
              "            {",
              "                tdwd1 = BuyWarrior(cur_planet, 300);",
              "                for(j = 1; j <= 3; j = j + 1) ShipRefit(tdwd1);",
              "                ShipImproveItems(tdwd1, RndObject(0, 3, tdwd1));",
              "                if(i == 1) ActiveQuestsHQArray[ActiveQuestHQ, 13] = Id(tdwd1);",
              "",
              "                //  ",
              "                MakeShipEnterStar(tdwd1, cur_star, GalaxyStar(70), 1);",
              "",
              "                ShipJoin(QuestAttackers, tdwd1);",
              "                SetData(34, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "            }",
              "",
              "            //      ",
              "            //         ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(2, 3, cur_star);",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 12] = CurTurn() + 1;",
              "",
              "            //    ",
              "            NoComeKlingToStar(cur_star, 0);",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,        ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 10] <= CurTurn())",
              "        {",
              "            //          ",
              "            if(GroupCount(QuestAttackers) < ActiveQuestsHQArray[ActiveQuestHQ, 9])",
              "            {",
              "                //       ",
              "                cur_planet = PlanetPirateClan();",
              "                cnt = RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 8], ',', 1, 0), cur_star);",
              "                for(i = 1; i <= cnt; i = i + 1)",
              "                {",
              "                    tdwd1 = BuyWarrior(cur_planet, 300);",
              "                    for(j = 1; j <= 3; j = j + 1) ShipRefit(tdwd1);",
              "                    ShipImproveItems(tdwd1, RndObject(0, 3, tdwd1));",
              "                    if(i == 1) ActiveQuestsHQArray[ActiveQuestHQ, 13] = Id(tdwd1);",
              "",
              "                    //  ",
              "                    MakeShipEnterStar(tdwd1, cur_star, GalaxyStar(70), 1);",
              "",
              "                    ShipJoin(QuestAttackers, tdwd1);",
              "                    SetData(34, 0, tdwd1);",
              "                    SetData(Id(cur_star), 1, tdwd1);",
              "                }",
              "",
              "                //      ",
              "                //         ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 11], ',', 0, 0), GetParFromString(ActiveQuestsHQArray[ActiveQuestHQ, 11], ',', 1, 0), cur_star);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 12] = CurTurn() + 1;",
              "            }",
              "            else",
              "            {",
              "                //   ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 10] = CurTurn() + RndObject(2, 3, cur_star);",
              "            }",
              "        }",
              "",
              "        //       ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 12])",
              "        {",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 12] <= CurTurn())",
              "            {",
              "                cur_ship = IdToShip(ActiveQuestsHQArray[ActiveQuestHQ, 13]);",
              "                if(cur_ship)",
              "                {",
              "                    if(FilmFlags(0))",
              "                    {",
              "                        if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                        {",
              "                            tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersOnEnter' + RndObject(1, 5, cur_ship)), '<Pirate'+'>', Name(cur_ship));",
              "                            CustomEther('Ether2', 10, '', tstr1, cur_ship);",
              "                        }",
              "                    }",
              "                }",
              "",
              "                //    ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 12] = 0;",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  459,
          "#":  461,
          "Total.Lines":  230,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.DefendFromDominators.1",
              "function CoalitionDefendFromDominatorsQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int target_star_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1.TargetStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "        // ,   ",
              "        if(NoComeKlingToStar(cur_star)) continue;",
              "        if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > target_star_max_range) continue;",
              "",
              "        // ,          (     )",
              "        int check = CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1.MaxWarriorsCount');",
              "        for(int j = 0; j < StarPlanets(cur_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(cur_star, j);",
              "",
              "            for(int k = 0; k < PlanetWarriors(cur_planet); k = k + 1)",
              "            {",
              "                dword warrior = PlanetWarriors(cur_planet, k);",
              "                if(ShipStar(warrior) != cur_star) continue; // ,   ",
              "",
              "                check = check - 1;",
              "                if(!check) break;",
              "            }",
              "",
              "            if(!check) break;",
              "        }",
              "        if(!check) continue;",
              "",
              "        //      ,    ",
              "        dword dom_star = 0;",
              "        for(j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            dom_star = StarNearbyStars(cur_star, j);",
              "",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 1) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            if(MS_Terron_ToStar) //    ,    ,     ",
              "            {",
              "                if(StarSeries(cur_star) == 2) continue;",
              "            }",
              "",
              "            break;",
              "        }",
              "        if(!dom_star) continue;",
              "",
              "        //    ",
              "        if(!available_options)",
              "        {",
              "            tarr2[0, 0] = cur_star;",
              "            tarr2[0, 1] = cur_range;",
              "            tarr2[0, 2] = dom_star;",
              "",
              "            available_options = 1;",
              "        }",
              "        //   ",
              "        else",
              "        {",
              "            ArrayAdd(tarr2, dummy);",
              "            tarr2[available_options] = newarray(3);",
              "            tarr2[available_options, 0] = cur_star;",
              "            tarr2[available_options, 1] = cur_range;",
              "            tarr2[available_options, 2] = dom_star;",
              "",
              "            available_options = available_options + 1;",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 1], target_star_max_range / 2, target_star_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Coalition.DefendFromDominators.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 15, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id",
              "        //   ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //      : \"2,3\"",
              "        tarr1[next_num, 8] = '' + trim(CT(tarr1[next_num, 3] + '.DomiksPerWave'));",
              "        //    ,    ,    \"\"",
              "        tarr1[next_num, 9] = 0 + CT(tarr1[next_num, 3] + '.MaxDomiksAtOnce');",
              "        //       ",
              "        tarr1[next_num, 10] = 0;",
              "        //       : \"4,8\"",
              "        tarr1[next_num, 11] = '' + trim(CT(tarr1[next_num, 3] + '.WavesFrequency'));",
              "        //           ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 12] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 42))];",
              "        // ,      ",
              "        tarr1[next_num, 13] = tarr2[available_options, 2];",
              "        //,       ",
              "        ArrayClear(t_array);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 13]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr1[next_num, 13], i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //      (   )",
              "        tarr1[next_num, 14] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 52))];",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetSector'+'>', Name(StarToCon(tarr1[next_num, 7])),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 12]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Coalition.DefendFromDominators.1",
              "function CoalitionDefendFromDominatorsQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword target_star = ActiveQuestsHQArray[q_num, 7];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(197, 0, ship);",
              "        SetData(Id(target_star), 1, ship);",
              "",
              "        //    ,      ",
              "        ShipOwner(ship, ShipPilotRace(Player()));",
              "",
              "        //           ",
              "        for(int j = 0; j < StarPlanets(target_star); j = j + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 100);",
              "        }",
              "    }",
              "    //    ",
              "    for(j = 0; j < StarPlanets(target_star); j = j + 1)",
              "    {",
              "        cur_planet = StarPlanets(target_star, j);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        if(RelationToRanger(cur_planet, Player()) < 60) RelationToRanger(cur_planet, Player(), 60);",
              "    }",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'Coalition');",
              "",
              "    // ( )      ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    //    ,     ,  ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 13], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(target_star);",
              "    ActiveQuestsHQArray[q_num, 13] = Id(ActiveQuestsHQArray[q_num, 13]);",
              "    //    ",
              "    ActiveQuestsHQArray[q_num, 12] = Id(ActiveQuestsHQArray[q_num, 12]);",
              "    ActiveQuestsHQArray[q_num, 14] = Id(ActiveQuestsHQArray[q_num, 14]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  460,
          "#":  462,
          "Total.Lines":  186,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.DefendFromPirateClan.1",
              "function CoalitionDefendFromPirateClanQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int target_star_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1.TargetStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "        // ,   ",
              "        if(NoComeKlingToStar(cur_star)) continue;",
              "        if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > target_star_max_range) continue;",
              "",
              "        // ,          (     )",
              "        int check = CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1.MaxWarriorsCount');",
              "        for(int j = 0; j < StarPlanets(cur_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(cur_star, j);",
              "",
              "            for(int k = 0; k < PlanetWarriors(cur_planet); k = k + 1)",
              "            {",
              "                dword warrior = PlanetWarriors(cur_planet, k);",
              "                if(ShipStar(warrior) != cur_star) continue; // ,   ",
              "",
              "                check = check - 1;",
              "                if(!check) break;",
              "            }",
              "",
              "            if(!check) break;",
              "        }",
              "        if(!check) continue;",
              "",
              "        //    ",
              "        if(!available_options)",
              "        {",
              "            tarr2[0, 0] = cur_star;",
              "            tarr2[0, 1] = cur_range;",
              "",
              "            available_options = 1;",
              "        }",
              "        //   ",
              "        else",
              "        {",
              "            ArrayAdd(tarr2, dummy);",
              "            tarr2[available_options] = newarray(3);",
              "            tarr2[available_options, 0] = cur_star;",
              "            tarr2[available_options, 1] = cur_range;",
              "",
              "            available_options = available_options + 1;",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = 0;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 1], target_star_max_range / 2, target_star_max_range, 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1.MinTime'), 0 + CT('Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1.MaxTime'));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Coalition.DefendFromPirateClan.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 15, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id",
              "        //   ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //       : \"8,12\"",
              "        tarr1[next_num, 8] = '' + trim(CT(tarr1[next_num, 3] + '.PiratesPerWave'));",
              "        //    ,    ,    \"\"",
              "        tarr1[next_num, 9] = 0 + CT(tarr1[next_num, 3] + '.MaxPiratesAtOnce');",
              "        //       ",
              "        tarr1[next_num, 10] = 0;",
              "        //       : \"4,8\"",
              "        tarr1[next_num, 11] = '' + trim(CT(tarr1[next_num, 3] + '.WavesFrequency'));",
              "        //         ",
              "        tarr1[next_num, 12] = 0;",
              "        //Id ,            ",
              "        tarr1[next_num, 13] = 0;",
              "        // ( )",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetSector' + '>', Name(StarToCon(tarr1[next_num, 7])),",
              "                                     '<TargetStar' + '>', Name(tarr1[next_num, 7]),",
              "                                     '<EndDate' + '>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost' + '>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Coalition.DefendFromPirateClan.1",
              "function CoalitionDefendFromPirateClanQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword target_star = ActiveQuestsHQArray[q_num, 7];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        //SetData(34, 0, ship);",
              "        SetData(198, 0, ship);",
              "        SetData(Id(target_star), 1, ship);",
              "",
              "        //    ,      ",
              "        ShipOwner(ship, ShipPilotRace(Player()));",
              "",
              "        //           ",
              "        for(int j = 0; j < StarPlanets(target_star); j = j + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 100);",
              "        }",
              "    }",
              "    //    ",
              "    for(j = 0; j < StarPlanets(target_star); j = j + 1)",
              "    {",
              "        cur_planet = StarPlanets(target_star, j);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        if(RelationToRanger(cur_planet, Player()) < 60) RelationToRanger(cur_planet, Player(), 60);",
              "    }",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'Coalition');",
              "",
              "    // ( )      ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(target_star);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  465,
          "#":  467,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  466,
          "#":  468,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  467,
          "#":  469,
          "Total.Lines":  6,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.DefendFromDominators.1",
              "function PirateClanDefendFromDominatorsQuestOneConditions()",
              "{}",
              "//   PirateClan.DefendFromDominators.1",
              "function PirateClanDefendFromDominatorsQuestOnePrepare(int q_num)",
              "{}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  468,
          "#":  470,
          "Total.Lines":  6,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.DefendFromCoalition.1",
              "function PirateClanDefendFromCoalitionQuestOneConditions()",
              "{}",
              "//   PirateClan.DefendFromCoalition.1",
              "function PirateClanDefendFromCoalitionQuestOnePrepare(int q_num)",
              "{}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  473,
          "#":  475,
          "Total.Lines":  293,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// PirateClan.Destroy.1  ",
              "//   ,        (   )",
              "cur_ship = GroupToShip(QuestTarget);",
              "cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "if(!GroupToShip(QuestTarget) || GroupIn(QuestTarget, cur_planet) || !GroupToShip(PlayerHQ))",
              "{",
              "    //    ",
              "    for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "        SetData(66, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1); // Id       ,   ",
              "        SetData(0, 3, tdwd1);",
              "    }",
              "",
              "    check = 0;",
              "    //",
              "    if(!cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //    ",
              "        for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestAttackers, i);",
              "",
              "            SetData(66, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1); // Id       ,   ",
              "            SetData(0, 3, tdwd1);",
              "        }",
              "",
              "        //-   (..       )",
              "        ShipDestroy(cur_ship, 1);",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed'), '<TargetPlanet' + '>', Name(cur_planet), '255,240,100');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        while(1)",
              "        {",
              "            cur_star = ShipStar(cur_ship);",
              "            //       ",
              "            if(ShipInNormalSpace(cur_ship))",
              "            {",
              "                if(ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark') == -1)",
              "                {",
              "                    tdwd3 = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "                    //          ",
              "                    for(i = 0; i < StarPlanets(tdwd3); i = i + 1)",
              "                    {",
              "                        tdwd1 = StarPlanets(tdwd3, i);",
              "                        if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                        RelationToRanger(tdwd1, Player(), 0);",
              "",
              "                        //     ",
              "                        for(j = 0; j < GroupCount(QuestMercs); j = j + 1)",
              "                        {",
              "                            tdwd2 = GroupShip(QuestMercs, j);",
              "                            RelationToRanger(tdwd1, tdwd2, 0);",
              "                        }",
              "                    }",
              "",
              "                    SetData(20, 0, cur_ship); //   ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship); //    ",
              "                    ShipSpecialBonuses(cur_ship, bonSpeed, -(ShipSpeed(cur_ship) / 3));",
              "",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess3'), '<TargetStar' + '>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '<TargetPlanet' + '>', Name(cur_planet), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                    break;",
              "                }",
              "            }",
              "",
              "            tdwd2 = GetShipPlanet(cur_ship);",
              "            if(tdwd2)",
              "            {",
              "                //       ,   ",
              "                if(!ActiveQuestsHQArray[ActiveQuestHQ, 2])",
              "                {",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + 3;",
              "                    break;",
              "                }",
              "                else",
              "                {",
              "                    //      ",
              "                    if(ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn())",
              "                    {",
              "                        //       (  )",
              "                        if(ActiveQuestsHQArray[ActiveQuestHQ, 11])",
              "                        {",
              "                            ArrayClear(tarr1);",
              "                            for(i = ShipItems(cur_ship) - 1; i >= 1; i = i - 1)",
              "                            {",
              "                                cur_item = ShipItems(cur_ship, i);",
              "                                if(ItemType(cur_item) != t_UselessItem) continue;",
              "                                if(EquipmentImageName(cur_item) != 'ShuMercsHQ_GoldIngots') continue;",
              "                                ArrayAdd(tarr1, cur_item);",
              "                            }",
              "                            cur_item = tarr1[RndObject(1, ArrayDim(tarr1) - 1, cur_ship)];",
              "                            FreeItem(GetItemFromShip(cur_ship, cur_item));",
              "                            ActiveQuestsHQArray[ActiveQuestHQ, 11] = ActiveQuestsHQArray[ActiveQuestHQ, 11] - 1;",
              "                        }",
              "",
              "                        //       ",
              "                        check = 0;",
              "                        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                        {",
              "                            tdwd1 = StarPlanets(cur_star, i);",
              "                            if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                            if(check)",
              "                            {",
              "                                check = 2;",
              "                                break;",
              "                            }",
              "                            else if(tdwd1 == tdwd2)",
              "                            {",
              "                                check = 1;",
              "                            }",
              "                        }",
              "",
              "                        // ,     ",
              "                        if(check == 2)",
              "                        {",
              "                            SetData(Id(tdwd1) * 2, 2, cur_ship);",
              "                            ActiveQuestsHQArray[ActiveQuestHQ, 2] = 0;",
              "                            //        ",
              "                            for(i = t_Food; i <= t_Narcotics; i = i + 1) GoodsAdd(cur_ship, i, -GoodsCount(cur_ship, i));",
              "",
              "                            //      ,   ",
              "                            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "                            {",
              "                                tdwd1 = GroupShip(QuestAttackers, i);",
              "                                SetData(100, 0, tdwd1);",
              "                                OrderTakeOff(tdwd1);",
              "                            }",
              "                        }",
              "                        // ,        ",
              "                        else",
              "                        {",
              "                            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "                            //        ",
              "                            for(i = t_Food; i <= t_Narcotics; i = i + 1) GoodsAdd(cur_ship, i, -GoodsCount(cur_ship, i));",
              "",
              "                            //      ,   ",
              "                            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "                            {",
              "                                tdwd1 = GroupShip(QuestAttackers, i);",
              "                                SetData(100, 0, tdwd1);",
              "                                OrderTakeOff(tdwd1);",
              "                            }",
              "",
              "                            //  ",
              "                            tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                            tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess2'), '<TargetStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '<TargetPlanet'+'>', Name(cur_planet), '255,240,100');",
              "                            CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "                            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "",
              "            break;",
              "        }",
              "    }",
              "    //  ,          ",
              "    //(     )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //       ",
              "        cur_star = ShipStar(cur_ship);",
              "        if(ShipInNormalSpace(cur_ship))",
              "        {",
              "            if(ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_QuestTargetAttackMark') == -1)",
              "            {",
              "                tdwd3 = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "                //          ",
              "                for(i = 0; i < StarPlanets(tdwd3); i = i + 1)",
              "                {",
              "                    tdwd1 = StarPlanets(tdwd3, i);",
              "                    if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                    RelationToRanger(tdwd1, Player(), 0);",
              "",
              "                    //     ",
              "                    for(j = 0; j < GroupCount(QuestMercs); j = j + 1)",
              "                    {",
              "                        tdwd2 = GroupShip(QuestMercs, j);",
              "                        RelationToRanger(tdwd1, tdwd2, 0);",
              "                    }",
              "                }",
              "",
              "                SetData(20, 0, cur_ship); //   ",
              "                ShipSpecialBonuses(cur_ship, bonSpeed, -(ShipSpeed(cur_ship) / 3));",
              "",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess3'), '<TargetStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '<TargetPlanet'+'>', Name(cur_planet), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "            }",
              "        }",
              "    }",
              "    //  ,     ,       ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "        //     (      ),      ",
              "        if(!GroupIn(QuestTarget, cur_star))",
              "        {",
              "            cur_item = ShipEqInSlot(cur_ship, t_Engine);",
              "            if(ItemDurability(cur_item))",
              "            {",
              "                if(ItemDurability(cur_item) < 57) ItemDurability(cur_item, 57);",
              "            }",
              "        }",
              "        //     ",
              "        else",
              "        {",
              "            SetData(0, 0, cur_ship);",
              "            ShipSpecialBonuses(cur_ship, bonSpeed, 0);",
              "        }",
              "",
              "        //        ",
              "        check = PortionInDiapason(HullDamage(cur_ship), 15, 80, 0, ActiveQuestsHQArray[ActiveQuestHQ, 11]);",
              "        while(check)",
              "        {",
              "            ArrayClear(tarr1);",
              "            for(i = ShipItems(cur_ship) - 1; i >= 1; i = i - 1)",
              "            {",
              "                cur_item = ShipItems(cur_ship, i);",
              "                if(ItemType(cur_item) != t_UselessItem) continue;",
              "                if(EquipmentImageName(cur_item) != 'ShuMercsHQ_GoldIngots') continue;",
              "                ArrayAdd(tarr1, cur_item);",
              "            }",
              "            cur_item = tarr1[RndObject(1, ArrayDim(tarr1) - 1, cur_ship)];",
              "            NoDropItem(cur_item, 0);",
              "            DropItem(cur_ship, cur_item);",
              "            check = check - 1;",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 11] = ActiveQuestsHQArray[ActiveQuestHQ, 11] - 1;",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  474,
          "#":  476,
          "Total.Lines":  740,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// PirateClan.Protect.1  ",
              "//   ,   ( ),    ,  ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if(!cur_ship || !GroupCount(QuestSupport) || !GroupToShip(PlayerHQ))",
              "{",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestMercs, i);",
              "        SetData(0, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(0, 2, tdwd1);",
              "        SetData(-3, 3, tdwd1);",
              "        ChangeState('ReturningStrikeState', tdwd1);",
              "    }",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestSupport, i);",
              "        SetData(66, 0, tdwd1);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, tdwd1);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "    }",
              "",
              "    //  ,   ",
              "    if(cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedBySupport');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        SetData(66, 0, cur_ship);",
              "        if(ShipStar(cur_ship) != GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1))",
              "        {",
              "            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "        }",
              "        else SetData(0, 1, cur_ship);",
              "        SetData(Id(NearCivilPlanet(cur_ship)) * 2, 2, cur_ship);",
              "",
              "        if(~ShipFindCustomShipInfoByType(cur_ship, 'ShuMercsHQ_GuardedShip')) ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_GuardedShip');",
              "    }",
              "    else",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTarget');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    //         ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 13])",
              "    {",
              "        // ",
              "        tdwd1 = IdToShip(ActiveQuestsHQArray[ActiveQuestHQ, 13]);",
              "        if(tdwd1)",
              "        {",
              "            if(ShipInNormalSpace(tdwd1))",
              "            {",
              "                SetData(166, 0, tdwd1);",
              "                //       ",
              "                OrderTeleport(tdwd1, GalaxyStar(70), CoordX(tdwd1), CoordY(tdwd1));",
              "            }",
              "            else ShipDestroy(tdwd1, 1);",
              "        }",
              "    }",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //       -  ,   ",
              "        if(!GroupCount(QuestMercs))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            SetData(66, 0, cur_ship);",
              "            if(ShipStar(cur_ship) != GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1))",
              "            {",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "            }",
              "            else SetData(0, 1, cur_ship);",
              "            SetData(Id(NearCivilPlanet(cur_ship)) * 2, 2, cur_ship);",
              "",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "                SetData(66, 0, tdwd1);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, tdwd1);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "            }",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "        else",
              "        {",
              "            //        ",
              "            cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "            if(GroupIn(QuestMercs, cur_planet))",
              "            {",
              "                //        ",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "                    //    ,      ",
              "                    SetData(100, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "",
              "                ArrayClear(tarr1);",
              "                tdwd1 = GroupToShip(QuestSupport);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, tdwd1);",
              "                tarr1[0] = ShipSpeed(tdwd1);",
              "                //      ",
              "                for(i = 1; i < GroupCount(QuestSupport); i = i + 1)",
              "                {",
              "                    tdwd2 = GroupShip(QuestSupport, i);",
              "                    SetData(Id(tdwd1), 3, tdwd2);",
              "",
              "                    //    ,      ",
              "                    SetData(100, 0, tdwd2);",
              "                    OrderTakeOff(tdwd2);",
              "",
              "                    ArrayAdd(tarr1, ShipSpeed(tdwd2));",
              "                }",
              "                //    ,",
              "                //      ",
              "                tint1 = min(tarr1[0], tarr1[1], tarr1[2]);",
              "                for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                {",
              "                    tdwd2 = GroupShip(QuestSupport, i);",
              "                    ShipSpecialBonuses(tdwd2, bonSpeed, tint1 - ShipSpeed(tdwd2));",
              "                }",
              "",
              "                //    ,     ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess2'), '<TargetShip'+'>', Name(cur_ship), '<TargetStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1)), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                tdwd1 = GroupToShip(QuestSupport);",
              "                if(FilmFlags(0))",
              "                {",
              "                    if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnMeeting'), '<Mercenary'+'>', Name(tdwd1), '255,240,100');",
              "                        CustomEther('Ether2', 0, '', tstr1, cur_planet);",
              "                    }",
              "                }",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "            }",
              "        }",
              "    }",
              "    //  ,       ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //      ",
              "        tdwd1 = GroupToShip(QuestMercs);",
              "        if(!GetData(3, tdwd1))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "            }",
              "",
              "            tdwd1 = GroupToShip(QuestSupport);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, tdwd1);",
              "            //       ",
              "            for(i = 1; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd2 = GroupShip(QuestSupport, i);",
              "                SetData(Id(tdwd1), 3, tdwd2);",
              "            }",
              "        }",
              "",
              "        //      ",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "        if(GroupIn(QuestSupport, cur_star) && (GroupIn(QuestMercs, cur_star) || !GroupCount(QuestMercs)))",
              "        {",
              "            //          ",
              "            //(     )",
              "            if(GroupIn(QuestSupport, AroundQuestSupport))",
              "            {",
              "                //     ",
              "                //for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                //{",
              "                //    tdwd1 = GroupShip(QuestSupport, i);",
              "                //    SetData(0, 0, tdwd1);",
              "                //    SetData(Id(cur_ship), 3, tdwd1);",
              "                //}",
              "",
              "                tdwd1 = GroupToShip(QuestSupport);",
              "                SetData(Id(cur_ship), 3, tdwd1);",
              "                ShipAddCustomShipInfo(tdwd1, 'ShuMercsHQ_MoveRangeController', 'NoShow', Id(cur_ship), 0, 0, '850');",
              "                //       ",
              "                for(i = 1; i < GroupCount(QuestSupport); i = i + 1)",
              "                {",
              "                    tdwd2 = GroupShip(QuestSupport, i);",
              "                    ShipAddCustomShipInfo(tdwd2, 'ShuMercsHQ_MoveRangeController', 'NoShow', Id(cur_ship), 0, 0, '850');",
              "                }",
              "",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess3'), '<TargetShip'+'>', Name(cur_ship), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "            }",
              "        }",
              "    }",
              "    //  ,       ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //      ",
              "        tdwd1 = GroupToShip(QuestMercs);",
              "        if(!GetData(3, tdwd1))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "            }",
              "",
              "            tdwd1 = GroupToShip(QuestSupport);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(Id(cur_ship), 1, tdwd1);",
              "",
              "            //       ",
              "            for(i = 1; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd2 = GroupShip(QuestSupport, i);",
              "                SetData(Id(tdwd1), 3, tdwd2);",
              "            }",
              "        }",
              "",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "",
              "        tdwd1 = GroupToShip(QuestSupport);",
              "        //      ",
              "        if(ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_MoveRangeController') == -1)",
              "        {",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "                ShipDeleteCustomShipInfo(tdwd1, 'ShuMercsHQ_MoveRangeController');",
              "            }",
              "",
              "            //     ",
              "            tdwd1 = GroupToShip(QuestSupport);",
              "",
              "            if(FilmFlags(0))",
              "            {",
              "                if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()))",
              "                {",
              "                    tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnEMPLaunch'), '<Mercenary'+'>', Name(tdwd1), '255,240,100');",
              "                    CustomEther('Ether2', 0, '', tstr1, tdwd1);",
              "                }",
              "            }",
              "",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipCustomShipInfoData(tdwd1, 'ShuMercsHQ_EMPTorpedo', 1, Id(cur_ship));",
              "                ShipSpecialBonuses(tdwd1, bonSpeed, 0);",
              "",
              "                //           ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(0, 3, tdwd1);",
              "            }",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4;",
              "        }",
              "    }",
              "    //  ,   , ,  ",
              "    //(     ,   )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 4)",
              "    {",
              "        //      ",
              "        tdwd1 = GroupToShip(QuestMercs);",
              "        if(!GetData(3, tdwd1))",
              "        {",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "            }",
              "        }",
              "",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "        //      ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 12] <= 1)",
              "        {",
              "            if(!ActiveQuestsHQArray[ActiveQuestHQ, 12])",
              "            {",
              "                for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestSupport, i);",
              "                    //        ",
              "                    if(~ShipFindCustomShipInfoByType(tdwd1, 'ShuMercsHQ_EMPTorpedo')) break;",
              "",
              "                    // ,     ",
              "                    if(i == GroupCount(QuestSupport) - 1) ActiveQuestsHQArray[ActiveQuestHQ, 12] = 1;",
              "                }",
              "            }",
              "",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 12] == 1)",
              "            {",
              "                if(StarMissiles(cur_star))",
              "                {",
              "                    for(i = 0; i < StarMissiles(cur_star); i = i + 1)",
              "                    {",
              "                        tdwd1 = StarMissiles(cur_star, i);",
              "                        //        ",
              "                        if(BonusNumInCfg(EqSpecial(tdwd1)) == 'ShuMercsHQ_EMPTorpedo') break;",
              "                        // ,        ,        ",
              "                        if(i == StarMissiles(cur_star) - 1)",
              "                        {",
              "                            if(GetData(0, cur_ship) == 13) ActiveQuestsHQArray[ActiveQuestHQ, 12] = 2;",
              "                            else ActiveQuestsHQArray[ActiveQuestHQ, 12] = 3;",
              "                        }",
              "                    }",
              "                }",
              "                else",
              "                {",
              "                    //,      ",
              "                    if(GetData(0, cur_ship) == 13) ActiveQuestsHQArray[ActiveQuestHQ, 12] = 2;",
              "                    else ActiveQuestsHQArray[ActiveQuestHQ, 12] = 3;",
              "                }",
              "            }",
              "        }",
              "        //      ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 12] == 2)",
              "        {",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                //    ",
              "                SetData(20, 0, tdwd1);",
              "                //    ",
              "                SetData(Id(cur_ship) * 2 + 1, 2, tdwd1);",
              "                SetData(0, 3, tdwd1);",
              "            }",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                SetData(Id(cur_ship), 3, tdwd1);",
              "                //   ,        ",
              "                ChangeState('QuestMercsState', tdwd1);",
              "            }",
              "",
              "            //    ,         ",
              "            ShipAddCustomShipInfo(cur_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 5;",
              "        }",
              "        //       ,   ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 12] == 3)",
              "        {",
              "            //      ",
              "            tdwd1 = GroupToShip(QuestSupport);",
              "",
              "            if(FilmFlags(0))",
              "            {",
              "                if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()))",
              "                {",
              "                    tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnEMPLost'), '<Mercenary'+'>', Name(tdwd1), '<BeginPlanet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                    CustomEther('Ether2', 0, '', tstr1, tdwd1);",
              "                }",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByMissiles');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            SetData(66, 0, cur_ship);",
              "            SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "            SetData(Id(NearCivilPlanet(cur_ship)) * 2, 2, cur_ship);",
              "",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "                SetData(66, 0, tdwd1);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, tdwd1);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "            }",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,       ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 5)",
              "    {",
              "        //       ( , ..      )",
              "        // tdwd1 = GroupToShip(QuestMercs);",
              "        // if(!GetData(3, tdwd1))",
              "        // {",
              "            // for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            // {",
              "                // tdwd1 = GroupShip(QuestMercs, i);",
              "                // SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "            // }",
              "        // }",
              "",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 2])",
              "        {",
              "            //    ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn())",
              "            {",
              "                //     ",
              "                tdwd1 = GroupToShip(QuestSupport);",
              "",
              "                if(FilmFlags(0))",
              "                {",
              "                    if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnEndCapture'), '<Mercenary' + '>', Name(cur_ship), '<BeginStar' + '>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '255,240,100');",
              "                        CustomEther('Ether2', 0, '', tstr1, cur_ship);",
              "                    }",
              "                }",
              "",
              "                // \"\"       ",
              "                //        ",
              "                for(i = ShipItems(cur_ship) - 1; i >= 1; i = i - 1)",
              "                {",
              "                    cur_item = ShipItems(cur_ship, i);",
              "                    if(!ItemIsInUse(cur_item)) continue;",
              "                    tint2 = ItemType(cur_item);",
              "                    //   ,     ",
              "                    if(tint2 >= t_Weapon1 && tint2 <= t_CustomWeapon)",
              "                    {",
              "                        ItemDurability(cur_item, 0);",
              "                        continue;",
              "                    }",
              "                    //  ",
              "                    if(tint2 != t_Engine && tint2 != t_FuelTanks && tint2 != t_Radar) continue;",
              "",
              "                    if(ItemDurability(cur_item) < 53) ItemDurability(cur_item, RndObject(35, 53, cur_ship));",
              "                }",
              "",
              "                ShipPilotRace(cur_ship, Fei);",
              "                ShipFace(cur_ship, ShipFace(GroupToShip(QuestSupport)));",
              "                ShipOwner(cur_ship, PirateClan);",
              "                ShipCustomFaction(cur_ship, 'SubFactionFixedStanding');",
              "                ShipStanding(cur_ship, 8);",
              "                NoTargetToShip(cur_ship, 1);",
              "                //     ,      ",
              "                ShipStatistic(cur_ship, 10, PlanetPirateClan());",
              "                RelationToRanger(PlanetPirateClan(), Player(), 100);",
              "",
              "                //        ,          ",
              "                tint1 = 4;",
              "                while(tint1)",
              "                {",
              "                    for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                    {",
              "                        cur_planet = StarPlanets(cur_star, i);",
              "                        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "                        if(tint1)",
              "                        {",
              "                            tdwd1 = BuyWarrior(cur_planet, 300);",
              "                            for(j = 1; j <= 3; j = j + 1) ShipRefit(tdwd1);",
              "                            ShipImproveItems(tdwd1, RndObject(3, 6, tdwd1));",
              "",
              "                            tint1 = tint1 - 1;",
              "                        }",
              "                        else break;",
              "                    }",
              "                }",
              "",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess5'), '<TargetShip' + '>', Name(cur_ship), '<BeginStar' + '>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                //    ",
              "                SetData(0, 0, cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 6;",
              "            }",
              "        }",
              "        else",
              "        {",
              "            if(GroupIn(QuestSupport, cur_ship))",
              "            {",
              "                //,    ,         ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + PortionInDiapason(GroupCount(QuestSupport), 1, 3, 9, 3);",
              "",
              "                //     ",
              "                tdwd1 = GroupToShip(QuestSupport);",
              "",
              "                if(FilmFlags(0))",
              "                {",
              "                    if(Dist(Player(), tdwd1) <= ShipRadarRange(Player()))",
              "                    {",
              "                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportOnStartCapture'), '<Mercenary' + '>', Name(tdwd1), '255,240,100');",
              "                        CustomEther('Ether2', 0, '', tstr1, cur_ship);",
              "                    }",
              "                }",
              "",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess4'), '<TargetShip' + '>', Name(cur_ship), '<TargetStar' + '>', Name(cur_star), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                // ,          ",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                    for(j = 0; j < StarPlanets(cur_star); j = j + 1)",
              "                    {",
              "                        cur_planet = StarPlanets(cur_star, j);",
              "                        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "                        RelationToRanger(cur_planet, tdwd1, 0);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //  ,          ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 6)",
              "    {",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "        cur_ship = GroupToShip(QuestTarget);",
              "        //    ",
              "        if(GroupIn(QuestTarget, cur_star))",
              "        {",
              "            //    (  ),     ",
              "            if(!ActiveQuestsHQArray[ActiveQuestHQ, 13])",
              "            {",
              "                tdwd2 = GalaxyStar(70);",
              "                if(ShipStar(Player()) != tdwd2) tdwd2 = BuildRuins(tdwd2, t_CB);",
              "                else tdwd2 = BuildRuins(GalaxyStar(71), t_CB);",
              "                OrderLock(tdwd2, 1);",
              "                NoLanding(Player(), 1);",
              "                ShipJoin(QuestSupport, tdwd2);",
              "                SetData(112, 0, tdwd2);",
              "                OrderTeleport(tdwd2, cur_star, CoordX(tdwd2), CoordY(tdwd2));",
              "                ShipOrderData1(tdwd2, ShipOrderData1(cur_ship) + 2);",
              "",
              "                //       ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 12] = 0;",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 13] = Id(tdwd2);",
              "",
              "                //   ",
              "                SetData(Id(tdwd2) * 2 + 1, 2, cur_ship);",
              "            }",
              "            else",
              "            {",
              "                tdwd2 = IdToShip(ActiveQuestsHQArray[ActiveQuestHQ, 13]);",
              "                //  ,       ",
              "                if(!tdwd2)",
              "                {",
              "                    //  ",
              "                    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess6'), '<TargetShip' + '>', Name(cur_ship), '<BeginPlanet' + '>', Name(cur_planet), '<BeginStar' + '>', Name(cur_star), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                    //      ",
              "                    if(ShipStar(Player()) == cur_star && ShipInNormalSpace(Player()))",
              "                    {",
              "                        if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                        {",
              "                            tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.SupportAfterDominionLost'), '<Mercenary' + '>', Name(cur_ship), '<BeginPlanet' + '>', Name(cur_planet), '255,240,100');",
              "                            CustomEther('Ether2', 0, '', tstr1, cur_ship);",
              "                        }",
              "                    }",
              "",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 7;",
              "                }",
              "                else",
              "                {",
              "                    if(!ActiveQuestsHQArray[ActiveQuestHQ, 12])",
              "                    {",
              "                        if(ShipInNormalSpace(tdwd2))",
              "                        {",
              "                            if(Dist(tdwd2, cur_ship) <= 750)",
              "                            {",
              "                                //    ",
              "                                if(FilmFlags(0))",
              "                                {",
              "                                    if(Dist(Player(), cur_ship) <= ShipRadarRange(Player()))",
              "                                    {",
              "                                        tstr1 = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.DominionAfterArrival'), '<Dominion' + '>', Name(tdwd2), '<Mercenary' + '>', Name(cur_ship), '255,240,100');",
              "                                        CustomEther('Ether', 0, '', tstr1, tdwd2, cur_ship);",
              "                                    }",
              "                                }",
              "",
              "                                ActiveQuestsHQArray[ActiveQuestHQ, 12] = 1;",
              "                            }",
              "                        }",
              "                    }",
              "",
              "                    //      ,  ",
              "                    if(GetShipRuins(cur_ship) == tdwd2)",
              "                    {",
              "                        //     ",
              "                        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(0, 2, tdwd1);",
              "                            SetData(-3, 3, tdwd1);",
              "                            ChangeState('ReturningStrikeState', tdwd1);",
              "                        }",
              "",
              "                        //  ",
              "                        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "                        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess1'), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "                        NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                        NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "                        //       ",
              "                        SetData(166, 0, tdwd2);",
              "                        //       ",
              "                        OrderTeleport(tdwd2, GalaxyStar(70), CoordX(tdwd2), CoordY(tdwd2));",
              "",
              "                        //   ",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "                        //    ",
              "                        EndQuestHQ(ActiveQuestHQ, 1);",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //        ,",
              "    //    ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 7)",
              "    {",
              "        cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "        cur_ship = GroupToShip(QuestTarget);",
              "        //      (  ),  ",
              "        if(GroupIn(QuestTarget, cur_planet))",
              "        {",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess2'), '<BeginPlanet' + '>', Name(cur_planet), '<Cost' + '>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "            CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   ",
              "            ShipDestroy(cur_ship, 1);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            //   ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  475,
          "#":  477,
          "Total.Lines":  321,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.Destroy.1",
              "function PirateClanDestroyQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1.SecondStarMaxRange');",
              "    //     ",
              "    int min_warriors = GetParFromString(CT('Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1.TargetStarMinWarriorsCount'), ',', 0, 1);",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 4);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        //,          2-  ",
              "        int planet_count = 0;",
              "        for(int j = 0; j < StarPlanets(cur_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(cur_star, j);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            planet_count = planet_count + 1;",
              "        }",
              "        if(planet_count < 2) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //   ,       ",
              "        // ,        ",
              "        dword first_star = cur_star;",
              "        for(j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(first_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            if(StarOwner(cur_star)) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, first_star)));",
              "            if(cur_range > second_range) continue;",
              "",
              "            //    ",
              "            int warriors_count = 0;",
              "            unknown target_planets_arr = newarray(1);",
              "            for(int k = 0; k < StarPlanets(cur_star); k = k + 1)",
              "            {",
              "                cur_planet = StarPlanets(cur_star, k);",
              "                if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "                //      ",
              "                if(PlanetEco(cur_planet) == 2) ArrayAdd(target_planets_arr, cur_planet);",
              "",
              "                for(int m = 0; m < PlanetWarriors(cur_planet); m = m + 1)",
              "                {",
              "                    dword warrior = PlanetWarriors(cur_planet, m);",
              "",
              "                    if(ShipInScript(warrior, 0)) continue;",
              "                    if(ShipInGameEvent(warrior)) continue;",
              "                    if(ShipStar(warrior) != cur_star) continue;",
              "                    //    ",
              "                    warriors_count = warriors_count + 1;",
              "                }",
              "            }",
              "            if(warriors_count < min_warriors) continue;",
              "            if(ArrayDim(target_planets_arr) < 2) continue;",
              "            //     ",
              "            int target_planet = target_planets_arr[Rnd(1, ArrayDim(target_planets_arr) - 1, sqr(seed + 13))];",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = first_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = target_planet;",
              "                tarr2[0, 3] = warriors_count;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(4);",
              "                tarr2[available_options, 0] = first_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = target_planet;",
              "                tarr2[available_options, 3] = warriors_count;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1.TargetName' + PlanetRace(tarr2[available_options, 2]));",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.PirateClan.Destroy.1';",
              "        //    (      ,      ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 19, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, cost, cost * 2));",
              "        //       ",
              "        tarr1[next_num, 6] = 50;",
              "        //  ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //  ()",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //       (      )",
              "        tarr1[next_num, 9] = tarr2[available_options, 2];",
              "        //      (,         )",
              "        tarr1[next_num, 10] = tarr2[available_options, 3];",
              "        //        ",
              "        tarr1[next_num, 11] = 5;",
              "        // ( )",
              "        tarr1[next_num, 12] = 0;",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<TargetName'+'>', tarr1[next_num, 0],",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "//   PirateClan.Destroy.1",
              "function PirateClanDestroyQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "    }",
              "",
              "    //  ,      ",
              "    //(    )",
              "    for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "    {",
              "        dword begin_planet = StarPlanets(begin_star, i);",
              "        if(PlanetOwner(begin_planet) == None) continue;",
              "        break;",
              "    }",
              "",
              "    //      ",
              "    //(      )",
              "    int angle = Angle(begin_star, begin_planet);",
              "    int radius = PlanetOrbitRadius(begin_planet) + Rnd(100, 200, sqr(GetQuestSeed() + 15));",
              "    int coordX = round(sin(angle) * radius);",
              "    int coordY = round(cos(angle) * radius);",
              "",
              "    // -",
              "    dword target_ship = BuyTransport(ActiveQuestsHQArray[q_num, 9], 2, 400);",
              "    for(int j = 1; j <= 5; j = j + 1) ShipRefit(target_ship);",
              "    //   ",
              "    dword engine = ShipEqInSlot(target_ship, t_Engine);",
              "    if(ItemLevel(engine) > 2)",
              "    {",
              "        ItemCost(engine, round(PortionInDiapason(ItemLevel(engine), 3, 8, 0.875, 0.250) * ItemCost(engine)));",
              "        ItemLevel(engine, 2);",
              "    }",
              "    NoDropItem(engine, 1);",
              "    ShipImproveItems(target_ship, RndObject(8, 12, target_ship));",
              "    ShipSpecialBonuses(target_ship, bonSlotForsage, 10);",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]);",
              "    //     \"\"  ",
              "    for(j = 1; j <= 5; j = j + 1)",
              "    {",
              "        dword cur_item = CreateQuestItem('ShuMercsHQ_GoldIngots', ShipPilotRace(target_ship));",
              "        UselessItemText(cur_item, CT('UselessItems.ShuMercsHQ_GoldIngots.Description' + j));",
              "        ItemCost(cur_item, round(0.1 * RndObject(17, 25, target_ship) * ItemCost(cur_item)));",
              "        ItemSize(cur_item, min(ItemSize(cur_item), 100));",
              "        NoDropItem(cur_item, 1);",
              "        AddItemToShip(target_ship, cur_item);",
              "    }",
              "    //  ",
              "    ShipImproveItems(target_ship, 0);",
              "",
              "    //         ",
              "    ShipJoin(QuestTarget, target_ship, 'QuestTargetMoveState', 0, 0, Id(begin_planet) * 2);",
              "    TransferShip(target_ship, begin_star);",
              "    ShipChangeStar(target_ship, begin_star);",
              "    ShipSetCoords(target_ship, coordX, coordY);",
              "    str id_line = Id(target_ship);",
              "    //MakeShipEnterStar(target_ship, begin_star, target_star, 1);",
              "",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "",
              "        SetData(3, 0, ship);",
              "        SetData(Id(target_ship), 3, ship);",
              "    }",
              "",
              "    //     ",
              "    int add_warriors = CT(ActiveQuestsHQArray[q_num, 3] + '.ConvoyWarriorsCount');",
              "    for(i = 1; i <= add_warriors; i = i + 1)",
              "    {",
              "        ship = BuyWarrior(ActiveQuestsHQArray[q_num, 9], 300);",
              "        for(j = 1; j <= 3; j = j + 1) ShipRefit(ship);",
              "        ShipImproveItems(ship, RndObject(4, 7, ship));",
              "",
              "        //   ",
              "        ShipJoin(QuestAttackers, ship, 'QuestAttackersProtectState', 0, 0, 0, Id(target_ship));",
              "        TransferShip(ship, begin_star);",
              "        ShipChangeStar(ship, begin_star);",
              "        ShipSetCoords(ship, coordX + RndObject(-50, 50, ship), coordY + RndObject(-50, 50, ship));",
              "        id_line = id_line + ',' + Id(ship);",
              "        //MakeShipEnterStar(ship, begin_star, target_star, 1);",
              "    }",
              "",
              "    //,       ",
              "    str text = CT(ActiveQuestsHQArray[q_num, 3] + '.TargetStarMinWarriorsCount');",
              "    add_warriors = 0 + GetParFromString(text, ',', 0, 1) + GetParFromString(text, ',', 1, 1);",
              "    add_warriors = add_warriors - ActiveQuestsHQArray[q_num, 10];",
              "    //        ",
              "    //(       ,  )",
              "    while(add_warriors > 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_warriors > 0)",
              "            {",
              "                ship = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(ship);",
              "                ShipImproveItems(ship, RndObject(3, 5, ship));",
              "",
              "                add_warriors = add_warriors - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //     ( )               ,     ",
              "    // ,        ",
              "    text = 'Ether2,,,0,,,' + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.TargetOnApproach'), '<Diplomat'+'>', Name(target_ship), '<TargetPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '255,240,100');",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, 0, 0, id_line, text);",
              "    for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestAttackers, i);",
              "        ShipAddCustomShipInfo(ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, 0, 0, id_line, text);",
              "    }",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetShip'+'>', Name(target_ship), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess1'), '<BeginStar'+'>', Name(begin_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //   ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  476,
          "#":  478,
          "Total.Lines":  352,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     PirateClan.Protect.1",
              "function PirateClanProtectQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1.SecondStarMaxRange');",
              "    //     ",
              "    int min_warriors = GetParFromString(CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1.MinWarriorsCount'), ',', 0, 1);",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        if(StarOwner(cur_star) != 2) continue;",
              "        //  (  )     ",
              "        if(StarRuins(cur_star, 'CB')) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //  ,       ",
              "        // ,        ",
              "        dword pirate_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(pirate_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            if(StarOwner(cur_star)) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, pirate_star)));",
              "            if(cur_range > second_range) continue;",
              "",
              "            int warriors_count = 0;",
              "            for(int k = 0; k < StarPlanets(cur_star); k = k + 1)",
              "            {",
              "                dword cur_planet = StarPlanets(cur_star, k);",
              "",
              "                for(int m = 0; m < PlanetWarriors(cur_planet); m = m + 1)",
              "                {",
              "                    dword warrior = PlanetWarriors(cur_planet, m);",
              "",
              "                    if(ShipInScript(warrior, 0)) continue;",
              "                    if(ShipInGameEvent(warrior)) continue;",
              "                    if(ShipStar(warrior) != cur_star) continue;",
              "                    //    ",
              "                    warriors_count = warriors_count + 1;",
              "                }",
              "            }",
              "            if(warriors_count < min_warriors) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = pirate_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = warriors_count;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = pirate_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = warriors_count;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1.TargetName' + Rnd(1, 3, sqr(seed + 77)));",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.1';",
              "        //    (      ,      ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 23, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, cost, cost * 2));",
              "        //       ",
              "        tarr1[next_num, 6] = 50;",
              "        //  ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //  ()",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //       ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            dword target_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(target_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, target_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 13))];",
              "        //     (,         )",
              "        tarr1[next_num, 10] = tarr2[available_options, 2];",
              "        //          ",
              "        if(!ShipPilotRace(tarr1[next_num, 0])) tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.Malocs');",
              "        else if(!ShipPilotRace(tarr1[next_num, 0]) == Peleng) tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.Pelengs');",
              "        else if(!ShipPilotRace(tarr1[next_num, 0]) == People) tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.Peoples');",
              "        else if(!ShipPilotRace(tarr1[next_num, 0]) == Fei) tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.Feis');",
              "        else tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.Gaals');",
              "        //              /",
              "        tarr1[next_num, 12] = 0;",
              "        //Id ,      ",
              "        tarr1[next_num, 13] = 0;",
              "        // ( )",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetShip'+'>', tarr1[next_num, 0],",
              "                                     '<TargetShipRace'+'>', '</color>' + tarr1[next_num, 11],",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "//   PirateClan.Protect.1",
              "function PirateClanProtectQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "",
              "        ShipOwner(ship, PirateClan);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "    }",
              "",
              "    //     ",
              "    int planet_race = PlanetRace(ActiveQuestsHQArray[q_num, 9]);",
              "    int planet_owner = PlanetOwner(ActiveQuestsHQArray[q_num, 9]);",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], 3);",
              "    PlanetOwner(ActiveQuestsHQArray[q_num, 9], 3);",
              "    str id_line;",
              "    for(i = 1; i <= 3; i = i + 1)",
              "    {",
              "        ship = BuyRanger(ActiveQuestsHQArray[q_num, 9], 300);",
              "        for(int j = 1; j <= 4; j = j + 1) ShipRefit(ship);",
              "        ShipImproveItems(ship, RndObject(4, 7, ship));",
              "        dword hull = ShipItems(ship, 0);",
              "        HullSeries(hull, -1);",
              "        SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_StarCockerelFeiHull'), hull);",
              "        Chameleon(ship);",
              "        NoDropItem(hull, 1);",
              "",
              "        //       ",
              "        //(       )",
              "        dword engine = ShipEqInSlot(ship, t_Engine);",
              "        if(ItemLevel(engine) > 5)",
              "        {",
              "            ItemCost(engine, round(PortionInDiapason(ItemLevel(engine), 6, 8, 0.875, 0.625) * ItemCost(engine)));",
              "            ItemLevel(engine, 5);",
              "        }",
              "        NoDropItem(engine, 1);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "",
              "        //    ",
              "        ShipJoin(QuestSupport, ship);",
              "        if(id_line == '') id_line = Id(ship);",
              "        else id_line = id_line + ',' + Id(ship);",
              "",
              "        SetName(ship, CT(ActiveQuestsHQArray[q_num, 3] + '.Cockerel' + i));",
              "        ShipFace(ship, 'New'); //   ",
              "        ShipType(ship, 'StarCockerel');",
              "        ShipCustomFaction(ship, 'SubFactionStarCockerels');",
              "        ShipOwner(ship, PirateClan);",
              "",
              "        //\"\"   ",
              "        ShipAddCustomShipInfo(ship, 'ShuMercsHQ_EMPTorpedo');",
              "",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "        //            ",
              "        for(j = 0; j < StarPlanets(target_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(target_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 0);",
              "        }",
              "        for(j = 0; j < StarRuins(target_star); j = j + 1)",
              "        {",
              "            dword cur_ruin = StarRuins(target_star, j);",
              "            if(ShipStanding(cur_ruin) != 7 && ShipStanding(cur_ruin) != 8) continue;",
              "",
              "            RelationToRanger(cur_ruin, ship, 0);",
              "        }",
              "",
              "        //  ,       ",
              "        ShipSkill(ship, 'Leadership', 0);",
              "        ShipSpecialBonuses(ship, bonSkill6, -30);",
              "        //      , , ,    !",
              "        while(GetShipPirateRank(ship) < 7)",
              "        {",
              "            ShipPirateRankPoints(ship, ShipNextPirateRankPoints(ship));",
              "            RaisePirateRank(ship);",
              "        }",
              "        //   ( )   ",
              "        NoTargetToShip(ship, 3);",
              "    }",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], planet_race);",
              "    PlanetOwner(ActiveQuestsHQArray[q_num, 9], planet_owner);",
              "",
              "    //        ,      ",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(ship, 'ShuMercsHQ_QuestTargetAttackMark', 'NoShow', 0, Id(PlanetPirateClan()), 0, id_line, 'Ether2,,,0,,,' + CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'), '10066,0,' + (Id(ActiveQuestsHQArray[q_num, 9]) * 2) + ',0,SetToAll');",
              "    }",
              "",
              "    //,       ",
              "    str text = CT(ActiveQuestsHQArray[q_num, 3] + '.MinWarriorsCount');",
              "    int add_warriors = 0 + GetParFromString(text, ',', 0, 1) + GetParFromString(text, ',', 1, 1);",
              "    add_warriors = add_warriors - ActiveQuestsHQArray[q_num, 10];",
              "    //        ",
              "    //(       ,  )",
              "    dword target_planet;",
              "    while(1)",
              "    {",
              "        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(target_star, i);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "            //      -",
              "            if(RndObject(0, 1, cur_planet)) target_planet = cur_planet;",
              "",
              "            if(add_warriors > 0)",
              "            {",
              "                ship = BuyWarrior(cur_planet, 350);",
              "                for(j = 1; j <= 4; j = j + 1) ShipRefit(ship);",
              "                ShipImproveItems(ship, RndObject(4, 8, ship));",
              "",
              "                add_warriors = add_warriors - 1;",
              "            }",
              "            else if(target_planet) break;",
              "        }",
              "",
              "        if(add_warriors <= 0 && target_planet) break;",
              "    }",
              "",
              "    //  -",
              "    dword target_ship = BuyBigWarrior(target_planet, 500);",
              "    for(j = 1; j <= 6; j = j + 1) ShipRefit(target_ship);",
              "    ShipImproveItems(target_ship, RndObject(8, 12, target_ship));",
              "    //      (  )",
              "    while(ShipRank(target_ship) < 6)",
              "    {",
              "        ShipRankPoints(target_ship, ShipNextRankPoints(target_ship));",
              "        ShipRaiseRank(target_ship);",
              "    }",
              "    while(GetShipPirateRank(target_ship) < 5)",
              "    {",
              "        ShipPirateRankPoints(target_ship, ShipNextPirateRankPoints(target_ship));",
              "        RaisePirateRank(target_ship);",
              "    }",
              "",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]);",
              "    ShipJoin(QuestTarget, target_ship, 'QuestTargetMoveState', 133);",
              "    OrderTakeOff(target_ship);",
              "",
              "    //   ,     -",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_EMPTorpedoTargetHit', 'NoShow');",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'PirateClan');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetShip'+'>', ShipName(target_ship), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess1'), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  481,
          "#":  483,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  482,
          "#":  484,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  483,
          "#":  485,
          "Total.Lines":  6,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.Destroy.1",
              "function CoalitionDestroyQuestOneConditions()",
              "{}",
              "//   Coalition.Destroy.1",
              "function CoalitionDestroyQuestOnePrepare(int q_num)",
              "{}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  484,
          "#":  486,
          "Total.Lines":  6,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.Protect.1",
              "function CoalitionProtectQuestOneConditions()",
              "{}",
              "//   Coalition.Protect.1",
              "function CoalitionProtectQuestOnePrepare(int q_num)",
              "{}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  490,
          "#":  491,
          "Total.Lines":  299,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "//   ",
              "//    /",
              "cur_ruin = GetShipRuins(Player());",
              "if(cur_ruin)",
              "{",
              "    tstr1 = Format(ShipType(cur_ruin), '_licensed', '', '');",
              "    //     ",
              "    if(tstr1 == 'PlayerMB')",
              "    {",
              "        cur_star = ShipStar(cur_ruin);",
              "",
              "        //        ",
              "        if(!PlayerHQMainArray['Main', 'GreetingDialog'])",
              "        {",
              "            AddDialogBlock(CT('FormRuins.GN.Modern.PlayerAsk'), 2); // \"      \"",
              "",
              "            tint1 = 1;",
              "            tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.IntroText' + tint1);",
              "            tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.PlayerNext');",
              "            AddDialogInject('PlayerHQIntroDialog', tstr1, tstr2, 0, 1);",
              "        }",
              "        else",
              "        {",
              "            //        (         )",
              "            if(ShipInHyperSpace(cur_ruin))",
              "            {",
              "                tstr1 = Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.InHyper'),",
              "                                  '<Star'+'>', StarName(ShipOrderObj(cur_ruin)),",
              "                                  '<DaysLeft'+'>', ShipOrderData1(cur_ruin));",
              "                tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerInHyper');",
              "                AddDialogInject('PlayerHQInHyper', tstr1, tstr2, 0, 1);",
              "                exit;",
              "            }",
              "            //     \"/ \"   ",
              "            if(PlayerHQJumpReady != '')",
              "            {",
              "                AddDialogOverride(PlayerHQJumpReady, 30001);",
              "                exit;",
              "            }",
              "            //   ,                 ",
              "            if(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] != '')",
              "            {",
              "                tint1 = GetParFromString(PlayerHQMainArray['Science', 'PortalGeneratorReturnData'], ',', 1, 0);",
              "                tstr1 = Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.WaitingForExtraction'),",
              "                                  '<Star'+'>', StarName(GalaxyStar(tint1)));",
              "                tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerWaitingForExtraction');",
              "                AddDialogInject('PlayerHQInHyper', tstr1, tstr2, 0, 1);",
              "                exit;",
              "            }",
              "",
              "            //,      ",
              "            if(PlayerHQMainArray['Main', 'GreetingDialog'] == 2)",
              "            {",
              "                if(Keller())",
              "                {",
              "                    if(ShipStar(Keller()) != cur_star || !ShipInNormalSpace(Keller()))",
              "                    {",
              "                        if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= 500000)",
              "                        {",
              "                            tint1 = Rnd(1, 4, sqr(sqr(CurTurn() + 56)));",
              "                            if(tint1 < 4) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJoke' + tint1);",
              "                            else",
              "                            {",
              "                                if(BuildOwnBase_Condition == 6) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJokeRichTziptzilot');",
              "                                else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJokeRich');",
              "                            }",
              "                        }",
              "                        else",
              "                        {",
              "                            tint1 = Rnd(1, 3, sqr(sqr(CurTurn() + 56)));",
              "                            tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJoke' + tint1);",
              "                        }",
              "                    }",
              "                    //    ",
              "                    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJokeKeller');",
              "                }",
              "                else",
              "                {",
              "                    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= 500000)",
              "                    {",
              "                        tint1 = Rnd(1, 4, sqr(sqr(CurTurn() + 56)));",
              "                        if(tint1 < 4) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJoke' + tint1);",
              "                        else",
              "                        {",
              "                            if(BuildOwnBase_Condition == 6) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJokeRichTziptzilot');",
              "                            else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJokeRich');",
              "                        }",
              "                    }",
              "                    else",
              "                    {",
              "                        tint1 = Rnd(1, 3, sqr(sqr(CurTurn() + 56)));",
              "                        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingJoke' + tint1);",
              "                    }",
              "                }",
              "",
              "                if(PlayerHQMainArray['Finance', 'CurrentBalance'] < 10000) tint1 = 1;",
              "                else if(PlayerHQMainArray['Finance', 'CurrentBalance'] < 500000) tint1 = 2;",
              "                else tint1 = 3;",
              "                tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingBalance' + tint1);",
              "            }",
              "            //       ",
              "            else",
              "            {",
              "                tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.IntroAfterHQDestroyed');",
              "                PlayerHQMainArray['Main', 'GreetingDialog'] = 2;",
              "            }",
              "",
              "            AddDialogBlock(CT('FormRuins.GN.Modern.PlayerAsk'), 2); // \"      \"",
              "            AddDialogBlock('HiddenAnswer', 2);",
              "            AddDialogInject('GreetingText', tstr1, 'HiddenAnswer', 120, 1);",
              "",
              "            //  ",
              "            tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskMercs');",
              "            AddDialogInject('PlayerHQMercsDialog', '', tstr1, 110);",
              "",
              "            //",
              "            tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskFinance');",
              "            AddDialogInject('PlayerHQFinanceDialog', '', tstr1, 100);",
              "",
              "            //  ()",
              "            tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskQuests');",
              "            tdwd1 = (PlayerHQMainArray['Quests', 'PrivateQuestAppear'] <= CurTurn());",
              "            tdwd2 = (PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] <= CurTurn() && !CoalitionDefeated());",
              "            tdwd3 = (PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] <= CurTurn() && PirateWin() != 3 && PirateWin() != 4);",
              "            if(!ActiveQuestHQ)",
              "            {",
              "                if(tdwd2 && tdwd3) tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingNewCoalAndPirQuest');",
              "                else if(tdwd2) tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingNewCoalQuest');",
              "                else if(tdwd3) tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.GreetingNewPirQuest');",
              "                else tstr2 = '';",
              "            }",
              "            else tstr2 = '';",
              "            AddDialogInject('PlayerHQQuestsDialog', tstr2, tstr1, 90);",
              "",
              "            // ",
              "            if(GroupCount(PlayerMercsStrike) && !GroupIn(PlayerMercsStrike, cur_ruin))",
              "            {",
              "                //      ",
              "                tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskStrikeGroupOut');",
              "                AddDialogBlock(tstr1, 1);",
              "            }",
              "            else tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskStrikeGroup');",
              "            AddDialogInject('PlayerHQStrikeDialog', '', tstr1, 80);",
              "",
              "            // ",
              "            if(PlayerHQMainArray['Science', 'ScientificDepartment'])",
              "            {",
              "                //      ExpRepair",
              "                if(PlayerHQMainArray['Main', 'HQScienceDialog'])",
              "                {",
              "                    if(IsScriptActive('Mod_ExpRepair'))",
              "                    {",
              "                        tstr1 = CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskRepair');",
              "                        AddDialogInject('Mod_ExpRepair:RepairDialog', '', tstr1, 75);",
              "                    }",
              "                    tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskScience');",
              "                }",
              "                else tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskScienceIntro');",
              "                AddDialogInject('PlayerHQScienceDialog', '', tstr1, 70);",
              "",
              "                //      ",
              "                if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 2)",
              "                {",
              "                    tstr1 = CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.PlayerAskIntro');",
              "                    AddDialogInject('GluonGunsQuestDialog1', CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.MainDialogAddText'), tstr1, 65);",
              "                }",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 3)",
              "                {",
              "                    tstr1 = CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.PlayerAskIntroTwice');",
              "                    AddDialogInject('GluonGunsQuestDialog1', '', tstr1, 60);",
              "                }",
              "                else if(PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 6)",
              "                {",
              "                    if(!PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'])",
              "                    {",
              "                        tstr1 = CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.NewGunsPlayer');",
              "                        AddDialogInject('GluonGunsQuestDialog3', '', tstr1, 55);",
              "                    }",
              "                }",
              "            }",
              "",
              "            //",
              "            if(PlayerHQMainArray['Medicine', 'MedicalDepartment'])",
              "            {",
              "                if(PlayerHQMainArray['Main', 'HQMedicineDialog'])",
              "                {",
              "                    tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskMedicine');",
              "                }",
              "                else tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskMedicineIntro');",
              "                AddDialogInject('PlayerHQMedicineDialog', '', tstr1, 50);",
              "",
              "                if(CurrentMods('ShusRangers\\ShuBounty'))",
              "                {",
              "                    //    ",
              "                    //    tarr1",
              "                    i = FindEscapePodsInStock(cur_ruin, (1 << t_Ranger) + (1 << t_Pirate), 'PlayerMerc');",
              "                    if(i) AddDialogInject('HandOverEscapePod', CT('Script.Mod_ShuBounty.EscapePodsDialog.AskToHandOverPlayerMB'), CT('Script.Mod_ShuBounty.EscapePodsDialog.PlayerHandOver'), 0);",
              "                }",
              "            }",
              "",
              "            // ",
              "            if(PlayerHQMainArray['Armory', 'ArmoryWorkshop'])",
              "            {",
              "                if(PlayerHQMainArray['Main', 'HQArmoryDialog'])",
              "                {",
              "                    tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskArmory');",
              "                }",
              "                else tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskArmoryIntro');",
              "                AddDialogInject('PlayerHQArmoryDialog', '', tstr1, 40);",
              "            }",
              "",
              "            //",
              "            if(PlayerHQMainArray['Shipyard', 'ProductionShipyard'])",
              "            {",
              "                if(PlayerHQMainArray['Main', 'HQShipyardDialog']) tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskShipyard');",
              "                else tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskShipyardIntro');",
              "                AddDialogInject('PlayerHQShipyardDialog', '', tstr1, 30);",
              "            }",
              "",
              "            // ",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1)",
              "            {",
              "                if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn())",
              "                {",
              "                    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskPortalGenerator');",
              "                }",
              "                else",
              "                {",
              "                    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskPortalGeneratorOnRecharge'),",
              "                                                   '<DaysLeft'+'>', PlayerHQMainArray['Science', 'PortalGeneratorTimer'] - CurTurn(), '');",
              "                    AddDialogBlock(tstr1, 1);",
              "                }",
              "                AddDialogInject('PlayerHQPortalGeneratorDialog', '', tstr1, 20);",
              "",
              "                //         ",
              "                if(ItemExist(ApprovalDocuments))",
              "                {",
              "                    tstr1 = Name(GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1))));",
              "                    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJumpCancel'), '<Star'+'>', tstr1);",
              "                    AddDialogInject('PlayerHQLongJumpCancel', '', tstr1, 19);",
              "                }",
              "            }",
              "",
              "            // ",
              "            if(PlayerHQMainArray['Main', 'HQImproveDialog'])",
              "            {",
              "                //     (..      )",
              "                tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskHQImprove');",
              "                AddDialogInject('Mod_ExpHullsBases:ruinhull_upgrade_talk', '', tstr1, 10);",
              "                //      ",
              "                tstr1 = CT('Script.Mod_ShuMercs.PlayerHQImproveDialog.PlayerAskHQRefit');",
              "                AddDialogInject('PlayerHQImproveDialog', '', tstr1, 9, 0, 0);",
              "",
              "                //   ,         ",
              "                RuinsAllowModernization(cur_ruin, 1);",
              "            }",
              "            else",
              "            {",
              "                tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskHQImproveIntro');",
              "                AddDialogInject('PlayerHQImproveDialog', '', tstr1, 10);",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //     \"/ \"   ",
              "        if(PlayerHQJumpReady != '')",
              "        {",
              "            AddDialogOverride(PlayerHQJumpReady, 30001);",
              "            exit;",
              "        }",
              "",
              "        tint1 = PlayerBridge();",
              "        //      ",
              "        if(tint1 && tint1 <= 3)",
              "        {",
              "            //    ,       ",
              "            if(BuildOwnBase_InProcess == 6)",
              "            {",
              "                if(PlayerHQMainArray['Main', 'GreetingDialog']) //        ",
              "                {",
              "                    tdwd1 = GroupToShip(PlayerHQ);",
              "                    if(tdwd1)",
              "                    {",
              "                        //  ,      ",
              "                        if(!ShipInHyperSpace(tdwd1) && ShipOrder(tdwd1) != 7 && PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] == '')",
              "                        {",
              "                            if(!GroupIn(PlayerGroup, tdwd1))",
              "                            {",
              "                                tstr1 = Format(CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQ'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName']);",
              "                                AddDialogInject('PlayerHQBridgeDialog', '', tstr1, 0);",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  492,
          "#":  493,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = tint1 + 1;",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.IntroText' + tint1);",
              "if(tint1 >= 6)",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.PlayerEnd');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQIntroDialog.IntroOut');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  495,
          "#":  501,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Main', 'GreetingDialog'] = 2;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  502,
          "#":  503,
          "Total.Lines":  23,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "",
              "//tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.Greeting');",
              "tint3 = GroupCount(PlayerMercsFree) + GroupCount(PlayerMercsDefenders) + GroupCount(QuestMercs);",
              "tint4 = PlayerHQMainArray['Mercs', 'MaxFree'] + PlayerHQMainArray['Mercs', 'MaxStrike'] + PlayerHQMainArray['Mercs', 'CurrentAtReady'] + PlayerHQMainArray['Mercs', 'MaxReserve']; //     ",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.QuantityInfo'),",
              "'<MercsOnFreeEarnings'+'>', GroupCount(PlayerMercsFree),",
              "'<MercsAtReady'+'>', GroupCount(PlayerMercsDefenders) + GroupCount(QuestMercs) + PlayerHQMainArray['Mercs', 'CurrentAtReady'],",
              "'<MercsStrike'+'>', GroupCount(PlayerMercsStrike),",
              "'<MercsMaxStrike'+'>', PlayerHQMainArray['Mercs', 'MaxStrike'],",
              "'<MercsReserve'+'>', PlayerHQMainArray['Mercs', 'CurrentReserve'],",
              "'<MercsTotal'+'>', tint3 + GroupCount(PlayerMercsStrike) + PlayerHQMainArray['Mercs', 'CurrentAtReady'] + PlayerHQMainArray['Mercs', 'CurrentReserve'],",
              "'<MercsMax'+'>', tint4);",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskRecruitment');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskQuantity');",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxFree');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxAtReady');",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxReserve');",
              "tstr7 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerOut');",
              "",
              "tint1 = 1;",
              "tint2 = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  507,
          "#":  511,
          "Total.Lines":  16,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(PlayerHQMainArray['Mercs', 'PlanetsCount'] <= 1) tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.DevelopedPlanet');",
              "else tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.DevelopedPlanets');",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.TrainMercsCount' + PlayerHQMainArray['Mercs', 'ReplenishmentCount']);",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.RecruitmentInfo1'),",
              "'<HQStar'+'>', Name(ShipStar(cur_ruin)),",
              "'<DevelopedPlanets'+'>', tstr5,",
              "'<PlanetsCount'+'>', PlayerHQMainArray['Mercs', 'PlanetsCount'],",
              "'<HQLevel'+'>', '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.HQLevel' + PlayerHQMainArray['Main', 'HQLevel']),",
              "'<DaysCount'+'>', PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'],",
              "'<TrainMercsCount'+'>', tstr6);",
              "",
              "if(PlayerHQMainArray['Main', 'HQLevel'] < PlayerHQMainArray['Main', 'HQLevelMax']) tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.RecruitmentInfo2');",
              "",
              "tint1 = 0;",
              "tint2 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  508,
          "#":  512,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(~tint1)",
              "{",
              "    tint3 = GroupCount(PlayerMercsFree) + GroupCount(PlayerMercsDefenders) + GroupCount(QuestMercs);",
              "    tint4 = PlayerHQMainArray['Mercs', 'MaxFree'] + PlayerHQMainArray['Mercs', 'MaxStrike'] + PlayerHQMainArray['Mercs', 'CurrentAtReady'] + PlayerHQMainArray['Mercs', 'MaxReserve']; //     ",
              "",
              "    if(tint1 == 2) tstr1 = tstr1 + \"<br>\" + \"<br>\";",
              "    else tstr1 = '</color>';",
              "    tstr1 = tstr1 + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.QuantityInfo'),",
              "    '<MercsOnFreeEarnings' + '>', GroupCount(PlayerMercsFree),",
              "    '<MercsAtReady'+'>', GroupCount(PlayerMercsDefenders) + GroupCount(QuestMercs) + PlayerHQMainArray['Mercs', 'CurrentAtReady'],",
              "    '<MercsStrike'+'>', GroupCount(PlayerMercsStrike),",
              "    '<MercsMaxStrike'+'>', PlayerHQMainArray['Mercs', 'MaxStrike'],",
              "    '<MercsReserve'+'>', PlayerHQMainArray['Mercs', 'CurrentReserve'],",
              "    '<MercsTotal'+'>', tint3 + GroupCount(PlayerMercsStrike) + PlayerHQMainArray['Mercs', 'CurrentAtReady'] + PlayerHQMainArray['Mercs', 'CurrentReserve'],",
              "    '<MercsMax'+'>', tint4);",
              "",
              "    tint1 = 1;",
              "    tint2 = 0;",
              "}",
              "else tint1 = tint3;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  514,
          "#":  515,
          "Total.Lines":  31,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "",
              "//tstr2 = GameDateTxtByTurn(PlayerHQMainArray['Finance', 'FiscalPeriod'] - CT('Script.Mod_ShuMercs.PlayerMercsParams.FiscalPeriod'));",
              "//tstr2 = DeleteTags(substr(tstr2, 0, count(tstr2) - 5));",
              "//tstr2 = '<color=0,50,200>' + (0 + tstr2) + '</color>' + TrimNumbers(tstr2);",
              "//tstr3 = GameDateTxtByTurn(PlayerHQMainArray['Finance', 'FiscalPeriod']);",
              "//tstr3 = DeleteTags(substr(tstr3, 0, count(tstr3) - 5));",
              "//tstr3 = '<color=0,50,200>' + (0 + tstr3) + '</color>' + TrimNumbers(tstr3);",
              "",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] != 2) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.Greeting'), '<AddFleetMaintenance'+'>', '', '');",
              "//        ,   ",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.Greeting'), '<AddFleetMaintenance'+'>', CT('FormInfo.br') + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.FleetMaintenance'), '');",
              "",
              "tstr1 = Format(tstr1,",
              "               '<OutSalaries'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsOutSalaries']),",
              "               '<OutEquipments'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsOutEquipments']),",
              "               '<FleetMaintenance'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance']),",
              "               '<OutExpenses'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsOutExpenses']),",
              "               '<MoneyOut'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsOutSalaries'] + PlayerHQMainArray['Finance', 'StatsOutEquipments'] + PlayerHQMainArray['Finance', 'StatsOutFleetMaintenance'] + PlayerHQMainArray['Finance', 'StatsOutExpenses']),",
              "               '<InEarnings'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsInEarnings']),",
              "               '<InQuests'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsInQuests']),",
              "               '<MoneyIn'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'StatsInEarnings'] + PlayerHQMainArray['Finance', 'StatsInQuests']),",
              "               //'<FiscalPeriodStart'+'>', '</color>' + tstr2,",
              "               //'<FiscalPeriodEnd'+'>', tstr3,",
              "               '<CurrentBalance'+'>', AddNumSeparators(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.PlayerAskTopUp');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.PlayerAskWithdraw');",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.PlayerAskInfo');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.PlayerOut');",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  526,
          "#":  527,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.WithdrawalFeePercent');",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.FinanceInfo'),",
              "                               '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']),",
              "                               '<WithdrawalPercent'+'>', '' + (100 - tint1) + '%',",
              "                               '<WithdrawalFeePercent'+'>', '' + tint1 + '%');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.PlayerOk');",
              "tint1 = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  525,
          "#":  530,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "i = min(ShipMoney(Player()), 1000000000 - PlayerHQMainArray['Finance', 'CurrentBalance']); //   ( - 10.000)",
              "tint2 = NumberBox('Bm.ItemsUseless.2Usl_Elus_s', CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.BalanceTopUpSum'), 10000, i, i, 'Bm.FormCount2.2KindCredits');",
              "if(tint2)",
              "{",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] + tint2;",
              "    ShipMoney(Player(), ShipMoney(Player()) - tint2);",
              "    Sound('Sound.Sell');",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.BalanceTopUp'), '<TopUpCount'+'>', tint2, '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "}",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.Greeting'), '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  524,
          "#":  531,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "i = min(PlayerHQMainArray['Finance', 'CurrentBalance'] - 100000, RoundTo(100.0 / (100 - CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.WithdrawalFeePercent')) * (100000000 - ShipMoney(Player())), 1, 0)); //  ",
              "float to_withdraw = NumberBox('Bm.ItemsUseless.2Usl_Elus_s', CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.BalanceWithdrawSum'), 10000, i, i, 'Bm.FormCount2.2KindCredits');",
              "if(to_withdraw)",
              "{",
              "    tint3 = min(RoundTo(to_withdraw * ('0.' + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.WithdrawalFeePercent')), 1, 0), 100000000);",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.BalanceWithdrawWarning'), '<WithdrawCount'+'>', tint3);",
              "",
              "    if(MessageBoxYesNo(tstr1, 8))",
              "    {",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - to_withdraw;",
              "        ShipMoney(Player(), ShipMoney(Player()) + tint3);",
              "        Sound('Sound.Buy');",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.BalanceWithdraw'), '<WithdrawCount'+'>', tint3, '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "    }",
              "    else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.Greeting'), '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "}",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQFinanceDialog.Greeting'), '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  534,
          "#":  535,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskFinance');",
              "InjectAnswer('PlayerHQFinanceDialog', tstr1, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  539,
          "#":  540,
          "Total.Lines":  28,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!PlayerBridge()) tstr1 = CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.GreetingAddText');",
              "else tstr1 = '';",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.Greeting'), '<AddText'+'>', tstr1, '');",
              "",
              "tint1 = GroupCount(PlayerMercsStrike);",
              "if(tint1 < PlayerHQMainArray['Mercs', 'MaxStrike'] && PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] != ',,')",
              "{",
              "    tint2 = 1;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHire');",
              "}",
              "else if(tint1 >= PlayerHQMainArray['Mercs', 'MaxStrike'])",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireMax');",
              "}",
              "else",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireNoMoreCandidates');",
              "}",
              "",
              "if(tint1)",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskRefit');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskFire');",
              "    tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskDisband');",
              "}",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  544,
          "#":  545,
          "Total.Lines":  47,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "",
              "if(!PlayerHQMainArray['Main', 'HQScienceDialog'])",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.GreetingIntro');",
              "    tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerIntroOut');",
              "",
              "    PlayerHQMainArray['Main', 'HQScienceDialog'] = 1;",
              "    tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.Greeting');",
              "    if(GTL >= 4 || PlayerHQMainArray['Science', 'PortalGenerator'] <= 0)",
              "    {",
              "        if(!PlayerHQMainArray['Science', 'PortalGenerator']) tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorAddOffer');",
              "        else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -1) tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorAddOfferAgain');",
              "        else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -2) tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorAddOfferTwice');",
              "    }",
              "",
              "    //   ",
              "    if(PlayerHQMainArray['Science', 'SpeedUpRefill'] <= CurTurn())",
              "    {",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUp');",
              "        tint2 = 1;",
              "    }",
              "    //         ",
              "    else",
              "    {",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUpNotEnough');",
              "        tint2 = 0;",
              "    }",
              "",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskReliabilityImprove');",
              "",
              "    if(GTL >= 4 && PlayerHQMainArray['Science', 'PortalGenerator'] <= 0)",
              "    {",
              "        if(!PlayerHQMainArray['Science', 'PortalGenerator']) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGenerator');",
              "        else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -1) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorAgain');",
              "        else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -2) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorTwice');",
              "    }",
              "    else tstr4 = '';",
              "",
              "    tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerOut');",
              "",
              "    tint1 = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  555,
          "#":  561,
          "Total.Lines":  43,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(GetGameOptions('FontDialog') == '0') tstr6 = '-----------------------------------------------------------';",
              "else if(GetGameOptions('FontDialog') == '1') tstr6 = '------------------------------------------';",
              "else if(GetGameOptions('FontDialog') == '2') tstr6 = '-------------------------------------------';",
              "else tstr6 = '--------------------------------------';",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.CandidatesListStart');",
              "//    ",
              "tstr4 = '';",
              "",
              "for(i = 0; i <= 2; i = i + 1)",
              "{",
              "    tstr3 = GetParFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesList'], ',', i, 0);",
              "    //  ",
              "    tflt1 = GetParFromString(tstr3, '*', 1, 0);",
              "    //    ",
              "    tstr3 = GetParFromString(tstr3, '*', 0, 0);",
              "",
              "    //      ",
              "    if(tstr3 != '')",
              "    {",
              "        //       ",
              "        cost = int(GetParFromString(tstr3, '.', 0, 0));",
              "        tint4 = round(0.87 * GalaxyMoney(4, 4) * 3);",
              "        cost = round(tflt1 * (tint4 + tint4 * cost));",
              "        tstr4 = tstr4 + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr3 + '.Name') + '.' + cost;",
              "",
              "        //        ",
              "        tstr1 = tstr1 + \"<br>\";",
              "        if(findsubstr(tstr1, tstr6) == -1) tstr1 = tstr1 + tstr6; //    ,        ",
              "        //if(!i)",
              "        tstr1 = tstr1 + \"<br>\" + Format(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr3 + '.Description') '<Name'+'>', CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr3 + '.Name'), '<Cost'+'>', cost);",
              "    }",
              "    //else",
              "    //{",
              "    //    if(!i) tstr1 = tstr1 + \"<br>\" + tstr6 + \"<br>\" + (i + 1) + ') ' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.AlreadyHired');",
              "    //    else tstr1 = tstr1 + \"<br>\" + \"<br>\" + (i + 1) + ') ' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.AlreadyHired');",
              "    //}",
              "",
              "    tstr4 = tstr4 + ',';",
              "}",
              "",
              "tstr1 = tstr1 + \"<br>\" + tstr6 + \"<br>\" + Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.CandidatesListEnd'), '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerHireOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  557,
          "#":  562,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.WhoToRefit');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerRefitOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  558,
          "#":  563,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.WhoToFire');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerFireOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  560,
          "#":  564,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.DisbandConfirm');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerDisbandYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerDisbandNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  571,
          "#":  572,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.ChoosedDisbandNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  570,
          "#":  573,
          "Total.Lines":  13,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = GroupCount(PlayerMercsStrike) - 1; i >= 0; i = i - 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    FreePlayerMerc(cur_ship);",
              "    TransferShip(cur_ship, StarPlanets(GalaxyStar(2), 0));",
              "    ShipDestroy(cur_ship, 1);",
              "",
              "    //Sound('Sound.Drop');",
              "}",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.ChoosedDisbandYes');",
              "PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "Sound('Sound.Drop');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -140,
          "Parent":  575,
          "#":  574,
          "Total.Lines":  24,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = GroupCount(PlayerMercsStrike);",
              "if(tint1 < PlayerHQMainArray['Mercs', 'MaxStrike'] && PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] != ',,')",
              "{",
              "    tint2 = 1;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHire');",
              "}",
              "else if(tint1 >= PlayerHQMainArray['Mercs', 'MaxStrike'])",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireMax');",
              "}",
              "else",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireNoMoreCandidates');",
              "}",
              "",
              "if(tint1)",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskRefit'); //    ",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskFire');",
              "    tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskDisband');",
              "}",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  566,
          "#":  576,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class' + substr(GetData(0, cur_ship), 0, 1) + '.' + substr(GetData(0, cur_ship), 1) + '.NameInGenitive');",
              "    InjectAnswer('PlayerHQStrikeFire', Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerToFire'), '<Name'+'>', tstr1), i);//Format(ShipName(cur_ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', '')), i);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  565,
          "#":  579,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "for(i = 0; i <= 2; i = i + 1)",
              "{",
              "    //tstr1 = GetParFromString(GetParFromString(tstr4, ',', i, 0), '.', 0, 0); //  ",
              "    //    ",
              "    tstr1 = GetParFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesList'], ',', i, 0);",
              "    tstr1 = GetParFromString(tstr1, '*', 0, 0);",
              "    tstr3 = CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr1 + '.NameInGenitive');",
              "    if(tstr1 == '') continue;",
              "",
              "    tstr1 = Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerToHire'), '<Name'+'>', tstr3);",
              "    cost = GetParFromString(GetParFromString(tstr4, ',', i, 0), '.', 1, 0);",
              "    if(PlayerHQMainArray['Finance', 'CurrentBalance'] < cost && ShipMoney(Player()) < cost)",
              "    {",
              "        tstr1 = DeleteTags(tstr1);",
              "        AddDialogBlock(tstr1, 1);",
              "    }",
              "",
              "    InjectAnswer('PlayerHQStrikeHire', tstr1, i);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  580,
          "#":  581,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.Greeting');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  577,
          "#":  583,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ship = GroupShip(PlayerMercsStrike, GAnswerData);",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.FireDone'), '<MercName'+'>', substr(ShipName(cur_ship), count(PlayerHQMainArray['Main', 'OrganisationName']) + 1));",
              "FreePlayerMerc(cur_ship);",
              "TransferShip(cur_ship, StarPlanets(GalaxyStar(2), 0));",
              "ShipDestroy(cur_ship, 1);",
              "",
              "//      ",
              "if(!GroupCount(PlayerMercsStrike)) PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "Sound('Sound.Drop');",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  578,
          "#":  585,
          "Total.Lines":  78,
          "Code.Type":  "Turn",
          "Code":          
          [
              "while(1)",
              "{",
              "    //        ",
              "    tstr2 = GetParFromString(tstr4, ',', GAnswerData, 0);",
              "    cost = GetParFromString(tstr2, '.', 1, 0);",
              "    if(ShipMoney(Player()) >= cost)",
              "    {",
              "        tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAccountPaymentOffer');",
              "        if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost) tstr1 = tstr1 + ' ' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAccountPaymentOfferAdd');",
              "",
              "        if(MessageBoxYesNo(tstr1))",
              "        {",
              "            ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "        }",
              "        else if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost)",
              "        {",
              "            PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "            PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + cost;",
              "        }",
              "        else",
              "        {",
              "            tint1 = 0;",
              "            break;",
              "        }",
              "    }",
              "    else",
              "    {",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "        PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + cost;",
              "    }",
              "    tint1 = 1;",
              "    Sound('Sound.Buy');",
              "",
              "    // ",
              "    tstr3 = GetParFromString(tstr2, '.', 0, 0);",
              "    //    ",
              "    tstr1 = GetParFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesList'], ',', GAnswerData, 0);",
              "    tstr1 = GetParFromString(tstr1, '*', 0, 0);",
              "    //  ",
              "    i = GetParFromString(tstr1, '.', 0, 0);",
              "    //  ",
              "    j = GetValueFromScript('', CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr1 + '.Race'));",
              "    if(i == 1) i = 110 + j;",
              "    else if(i == 2) i = 120 + j;",
              "    else i = 130 + j;",
              "",
              "    cur_ship = SpawnPlayerMerc(NearCivilPlanet(cur_ruin), cur_ruin, i, 1);",
              "    SetName(cur_ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + GetParFromString(tstr2, '.', 0, 0));",
              "    //SetName(cur_ship, PlayerHQMainArray['Main', 'OrganisationName'] + ' ' + GetParFromString(tstr2, '.', 0, 0));",
              "    //       Lang ( '18',    -  ,   -       )",
              "    SetData(tstr1, 0, cur_ship);",
              "",
              "    tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.' + tstr1 + '.Face');",
              "    if(tstr1 != '') ShipFace(cur_ship, int(tstr1));",
              "",
              "    //     ( ,       )",
              "    //(         ,      ,  )",
              "    ItemExtraSpecialsAddByType(ShipItems(cur_ship, 0), FindBonusByNameInCfg('ShuMercsHQ_StrikeMercOwnItemMark'));",
              "",
              "    //  ,   \"\"     ",
              "    //    ( )",
              "    if(ParsCountFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'], ',') == 12)",
              "    {",
              "        PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] = SetParFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'], ',', 0, '');",
              "        PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] = substr(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'], 1);",
              "    }",
              "",
              "    if(PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] != '') PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] = PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] + ',' + tstr3;",
              "    else PlayerHQMainArray['Mercs', 'StrikeCandidatesNamesLine'] = tstr3;",
              "",
              "    PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] = SetParFromString(PlayerHQMainArray['Mercs', 'StrikeCandidatesList'], ',', GAnswerData, '');",
              "    //        ",
              "    if(!PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive']) PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 1;",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.HireDone'), '<MercName'+'>', tstr3);",
              "",
              "    break;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  550,
          "#":  597,
          "Total.Lines":  38,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = ShipEqInSlot(Player(), t_Engine);",
              "tdwd2 = ShipEqInSlot(Player(), t_FuelTanks);",
              "",
              "if(tdwd1 && tdwd2)",
              "{",
              "    //if(ItemInScript(tdwd1) == 1)",
              "    //{",
              "    //    tint3 = EqSpecial(tdwd1);",
              "    //    if(~tint3)",
              "    //    {",
              "    //        if(CT('MicroModuls.' + BonusNumInCfg(tint3) + '.ScriptItemIgnore')) tint3 = 1;",
              "    //        else tint3 = 0;",
              "    //    }",
              "    //    else tint3 = 0;",
              "    //}",
              "    //else tint3 = 1;",
              "",
              "    if(ItemInScript(tdwd1) != 1 && ItemInScript(tdwd2) != 1)",
              "    {",
              "        cost = (ItemCost(tdwd1) + ItemCost(tdwd2)) / 4;",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.SpeedUpCost'),",
              "        '<Cost' + '>', cost,",
              "        '<CurrentBalance' + '>', int(PlayerHQMainArray['Finance', 'CurrentBalance'])",
              "        );",
              "",
              "        tint1 = 1;",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.SpeedUpNotSupported');",
              "        tint1 = 0;",
              "    }",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.SpeedUpNoEquipment');",
              "    tint1 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  598,
          "#":  599,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ,       ",
              "if(tint1)",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerSpeedUpYesOrgBalance');",
              "    if(PlayerHQMainArray['Finance', 'CurrentBalance'] < cost)",
              "    {",
              "        tstr2 = DeleteTags(tstr2);",
              "        AddDialogBlock(tstr2, 1);",
              "    }",
              "    InjectAnswer('PlayerHQScienceSpeedUp', tstr2, 0);",
              "",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerSpeedUpYesOwnMoney');",
              "    if(ShipMoney(Player()) < cost)",
              "    {",
              "        tstr2 = DeleteTags(tstr2);",
              "        AddDialogBlock(tstr2, 1);",
              "    }",
              "    InjectAnswer('PlayerHQScienceSpeedUp', tstr2, 1);",
              "}",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerSpeedUpNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  600,
          "#":  601,
          "Total.Lines":  30,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 = CT('Script.Mod_ShuMercs.PlayerMercsParams.SpeedUpDuration');",
              "//tstr1 = GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_TetroazinePumpingEquipment');",
              "LinkItemToScript(tdwd1);",
              "ScriptItemData(tdwd1, 1, tint3);",
              "ItemOnActCode(tdwd1, GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_TetroazinePumpingEquipment'));",
              "CanSellItem(tdwd1, 1);",
              "//ItemOnActCode(tdwd1, tstr1); //   , ..     ,    ",
              "LinkItemToScript(tdwd2);",
              "ScriptItemData(tdwd2, 1, tint3);",
              "ItemOnActCode(tdwd2, GenerateCodeStringFromBlock('ActCodeBlocksList.ShuMercsHQ_TetroazinePumpingEquipment'));",
              "CanSellItem(tdwd2, 1);",
              "//ItemOnActCode(tdwd2, tstr1);",
              "",
              "//      ",
              "PlayerHQMainArray['Science', 'SpeedUpRefill'] = CurTurn() + tint3;",
              "",
              "tint3 = FindBonusByNameInCfg('ShuMercsHQ_TetroazinePumping');",
              "tint4 = CT('Script.Mod_ShuMercs.PlayerMercsParams.SpeedUpBonCount');",
              "ItemExtraSpecialsAddByType(tdwd1, tint3, tint4 / 2);",
              "ItemExtraSpecialsAddByType(tdwd2, tint3, tint4 / 2);",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.SpeedUpDone');",
              "// ",
              "if(!GAnswerData)",
              "{",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "    PlayerHQMainArray['Finance', 'StatsOutExpenses'] = PlayerHQMainArray['Finance', 'StatsOutExpenses'] + cost;",
              "}",
              "else ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -160,
          "Parent":  604,
          "#":  602,
          "Total.Lines":  22,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ",
              "if(PlayerHQMainArray['Science', 'SpeedUpRefill'] <= CurTurn())",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUp');",
              "    tint2 = 1;",
              "}",
              "//         ",
              "else",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUpNotEnough');",
              "    tint2 = 0;",
              "}",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskReliabilityImprove');",
              "if(GTL >= 4 || PlayerHQMainArray['Science', 'PortalGenerator'] <= 0)",
              "{",
              "    if(!PlayerHQMainArray['Science', 'PortalGenerator']) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGenerator');",
              "    else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -1) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorAgain');",
              "    else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -2) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorTwice');",
              "}",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerOut');",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  603,
          "#":  605,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.Declain');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  549,
          "#":  606,
          "Total.Lines":  75,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveStart');",
              "//     ,       ",
              "if(PlayerHQMainArray['Main', 'HQLevel'] < 5)",
              "{",
              "    tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveRestrictions');",
              "    tstr1 = tstr1 + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.RestrictionsOnHQLevel' + PlayerHQMainArray['Main', 'HQLevel']);",
              "",
              "    //       ",
              "    if(PlayerHQMainArray['Main', 'HQLevel'] < 3) tdwd1 = 1+2; //  ",
              "    else if(PlayerHQMainArray['Main', 'HQLevel'] < 4) tdwd1 = 1+2+4+8; //, ,   ",
              "    else tdwd1 = 1+2+4+8+16+32+64; //,  ",
              "}",
              "else tdwd1 = 1+2+4+8+16+32+64+128+256+512+1024+2048+4096+8192+16384+32768+65536+131072+262144+524288+1048576+2097152+4194304+8388608+16777216+33554432; //   ",
              "",
              "//     \"\" ",
              "ArrayClear(tarr1);",
              "for(i = 1; i < ShipItems(Player()); i = i + 1)",
              "{",
              "    cur_item = ShipItems(Player(), i);",
              "",
              "    tint1 = ItemType(cur_item);",
              "    if(tint1 < t_FuelTanks || tint1 > t_CustomWeapon) continue;",
              "",
              "    if(EqCustomFaction(cur_item) == 'Klissan') continue;",
              "",
              "    tint2 = EqSpecial(cur_item);",
              "    if(~tint2)",
              "    {",
              "        tstr2 = BonusNumInCfg(tint2);",
              "        //     \" \"",
              "        if(CT('MicroModuls.' + tstr2 + '.BlockImp')) continue;",
              "        //   ()",
              "        //if(ItemInScript(cur_item) == 1)",
              "        //{",
              "        //    //         ",
              "        //    if(!CT('MicroModuls.' + tstr2 + '.ScriptItemIgnore')) continue;",
              "        //}",
              "    }",
              "    //else if(ItemInScript(cur_item) == 1) continue;",
              "",
              "    if(ItemExtraSpecials(cur_item))",
              "    {",
              "        check = 0;",
              "        for(j = 0; j < ItemExtraSpecials(cur_item); j = j + 1)",
              "        {",
              "            tint2 = ItemExtraSpecials(cur_item, j);",
              "            //      ",
              "            if(BonusNumInCfg(tint2) == 'ShuMercsHQ_Exdurality')",
              "            {",
              "                check = 1;",
              "                break;",
              "            }",
              "        }",
              "",
              "        if(check) continue;",
              "    }",
              "",
              "    //        ",
              "    tint1 = tint1 - t_FuelTanks;",
              "    if(!(tdwd1 & (1 << tint1))) continue;",
              "",
              "    ArrayAdd(tarr1, cur_item);",
              "}",
              "",
              "//  ,         ",
              "if(ArrayDim(tarr1) < 2)",
              "{",
              "    tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveNoItems');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerReliabilityImproveNoItems');",
              "}",
              "else",
              "{",
              "    tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveEnd');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerReliabilityImproveNo');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  607,
          "#":  608,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//          \"\"",
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    cur_item = tarr1[i];",
              "",
              "    tstr1 = Format(Name(cur_item), '<color=255,167,84>', '<color=255,125,0>', '');",
              "    if(ItemIsInUse(cur_item)) tstr1 = tstr1 + ' ' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ItemIsInUse');",
              "    InjectAnswer('PlayerHQScienceReliabilityImprove', tstr1, cur_item);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  610,
          "#":  611,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_item = GAnswerData;",
              "cost = round(1.25 * (ItemCost(cur_item) / 2));",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveCost'),",
              "'<EqName'+'>', DeleteTags(ItemFullName(cur_item)),",
              "'<Cost'+'>', cost,",
              "'<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance'])",
              ");",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerReliabilityImproveYesOrgBalance');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerReliabilityImproveYesOwnMoney');",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerReliabilityImproveOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -80,
          "Parent":  609,
          "#":  612,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.Greeting');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  614,
          "#":  620,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  615,
          "#":  621,
          "Total.Lines":  22,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// \"\"",
              "ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('ShuMercsHQ_Exdurality'));",
              "//   , ..     ",
              "ItemCost(cur_item, round(0.01 * CT('MicroModuls.ShuMercsHQ_Exdurality.Cost') * ItemCost(cur_item)));",
              "//  \"   \"   ExpArts,      ",
              "tint1 = FindBonusByNameInCfg('ExpArts_FragiliumParts');",
              "if(ItemExtraSpecials(cur_item))",
              "{",
              "    for(i = 0; i < ItemExtraSpecials(cur_item); i = i + 1)",
              "    {",
              "        tint2 = ItemExtraSpecials(cur_item, i);",
              "        //    ExpArts_FragiliumParts",
              "        if(tint2 == tint1)",
              "        {",
              "            ItemExtraSpecialsDeleteByType(cur_item, tint1, ItemExtraSpecialsCountByType(cur_item, tint1));",
              "        }",
              "    }",
              "}",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveDone'), '<EqName'+'>', Name(cur_item));",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  616,
          "#":  622,
          "Total.Lines":  23,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// \"\"",
              "ItemExtraSpecialsAddByType(cur_item, FindBonusByNameInCfg('ShuMercsHQ_Exdurality'));",
              "//   , ..     ",
              "ItemCost(cur_item, round(0.01 * CT('MicroModuls.ShuMercsHQ_Exdurality.Cost') * ItemCost(cur_item)));",
              "//  \"   \"   ExpArts,      ",
              "tint1 = FindBonusByNameInCfg('ExpArts_FragiliumParts');",
              "if(ItemExtraSpecials(cur_item))",
              "{",
              "    for(i = 0; i < ItemExtraSpecials(cur_item); i = i + 1)",
              "    {",
              "        tint2 = ItemExtraSpecials(cur_item, i);",
              "        //    ExpArts_FragiliumParts",
              "        if(tint2 == tint1)",
              "        {",
              "            ItemExtraSpecialsDeleteByType(cur_item, tint1, ItemExtraSpecialsCountByType(cur_item, tint1));",
              "        }",
              "    }",
              "}",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.ReliabilityImproveDone'), '<EqName'+'>', Name(cur_item));",
              "PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "PlayerHQMainArray['Finance', 'StatsOutExpenses'] = PlayerHQMainArray['Finance', 'StatsOutExpenses'] + cost;",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  629,
          "#":  630,
          "Total.Lines":  47,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!PlayerHQMainArray['Main', 'HQMedicineDialog'])",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.GreetingIntro');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerIntroOut');",
              "",
              "    PlayerHQMainArray['Main', 'HQMedicineDialog'] = 1;",
              "    tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.Greeting');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskMedExamination');",
              "    if(ShipFindCustomShipInfoByType(Player(), 'ShuMercsHQ_ExpirinStimulant') == -1)",
              "    {",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskUniqueStimulant');",
              "        tint2 = 1;",
              "    }",
              "    //  \"\",       ",
              "    else",
              "    {",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskUniqueStimulantAlreadyUsed');",
              "        tint2 = 0;",
              "    }",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerOut');",
              "",
              "    //      ",
              "    check = 0;",
              "    for(i = 13; i <= 24; i = i + 1)",
              "    {",
              "        if(ShipHealthFactor(Player(), i))",
              "        {",
              "            check = check + 1;",
              "        }",
              "    }",
              "    //    \"\"",
              "    if(~ShipFindCustomShipInfoByType(Player(), 'ShuMercsHQ_ExpirinStimulant'))",
              "    {",
              "        check = check + 1;",
              "    }",
              "",
              "    // ,          ",
              "    check = check - (ShipSpecialBonuses(Player(), bonStimCapacity) - CT('Script.Mod_ShuMercs.PlayerMercsParams.ExpirinStimulantSlots')) - ArtefactTypeInUse(Player(), t_ArtBio);",
              "    check = 0.4 * sqr(max(0, check));",
              "",
              "    tstr6 = ''; //,        ,     - ",
              "    tint1 = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  633,
          "#":  634,
          "Total.Lines":  30,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     \"\"     ",
              "if(PlayerHQMainArray['Medicine', 'UniqueStimulantLastIntake'] + 365 > CurTurn())",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantTooEarly');",
              "    tint1 = 0;",
              "}",
              "//       ( \"\"   2 \"\"  )",
              "//(        4%)",
              "else if(check > 4)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantTooMuchStimulants');",
              "    tint1 = 0;",
              "}",
              "//   ",
              "else",
              "{",
              "    cost = round(0.45 * GalaxyMoney(4, 4));",
              "    tint3 = CT('Illness.Stimulant.Expirin.ExpBonPercent');",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantStats'),",
              "                                   '<Percent'+'>', tint3,",
              "                                   '<Duration'+'>', int(CT('Illness.Stimulant.Expirin.Duration')),",
              "                                   '<Cost'+'>', cost,",
              "                                   '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance'])",
              "                               );",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerUniqueStimulantYesOrgBalance');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerUniqueStimulantYesOwnMoney');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerUniqueStimulantNo');",
              "",
              "    tint1 = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  636,
          "#":  635,
          "Total.Lines":  54,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     (    ),",
              "//  - ,     ",
              "check = 0;",
              "tstr2 = '</color>';",
              "for(i = 1; i <= 12; i = i + 1)",
              "{",
              "    if(ShipHealthFactorStatus(Player(), i) > 50 && i != 6)",
              "    {",
              "        //   ",
              "        check = check + 1;",
              "        if(check > 1) tstr2 = tstr2 + \"<br>\";",
              "        tstr2 = tstr2 + check + '. <color=0,50,200>' + CT('Illness.Illness.' + (i - 1) + '.Name') + '</color>';",
              "    }",
              "}",
              "",
              "if(check)",
              "{",
              "    if(GetGameOptions('FontDialog') == '0') tstr5 = '</color>' + '-----------------------------------------------------------';",
              "    else if(GetGameOptions('FontDialog') == '1') tstr5 = '</color>' + '------------------------------------------';",
              "    else if(GetGameOptions('FontDialog') == '2') tstr5 = '</color>' + '-------------------------------------------';",
              "    else /*if(GetGameOptions('FontDialog') == '3')*/ tstr5 = '</color>' + '--------------------------------------';",
              "",
              "    //,        (    ),     - ",
              "    if(tstr6 == '')",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.MedExaminationTrue'),",
              "        '<SplitLine'+'>', tstr5,",
              "        '<DiseasesList'+'>', tstr2",
              "        );",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatDonePart'),",
              "        '<SplitLine'+'>', tstr5,",
              "        '<DiseasesList'+'>', tstr2,",
              "        '<Disease'+'>', tstr6",
              "        );",
              "        tstr6 = '';",
              "    }",
              "",
              "    tint1 = 1;",
              "}",
              "else",
              "{",
              "    //,        (    ),     - ",
              "    if(tstr6 == '') tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.MedExaminationFalse');",
              "    else",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatDoneAll'), '<Disease'+'>', tstr6);",
              "        tstr6 = '';",
              "    }",
              "",
              "    tint1 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  646,
          "#":  653,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -170,
          "Parent":  654,
          "#":  655,
          "Total.Lines":  15,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskMedExamination');",
              "if(ShipFindCustomShipInfoByType(Player(), 'ShuMercsHQ_ExpirinStimulant') == -1)",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskUniqueStimulant');",
              "    tint2 = 1;",
              "}",
              "//  \"\",       ",
              "else",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerAskUniqueStimulantAlreadyUsed');",
              "    tint2 = 0;",
              "}",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerOut');",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  639,
          "#":  657,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.GreetingOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  645,
          "#":  660,
          "Total.Lines":  29,
          "Code.Type":  "Turn",
          "Code":          
          [
              "str bons_str = '';",
              "CT('Illness.Stimulant.Expirin', tarr1);",
              "for(int i = 0; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    if(GetVariableName(tarr1[i]) == 'AddBonuses')",
              "    {",
              "        for(int j = ArrayDim(tarr1['AddBonuses']) - 1; j >= 0; j = j - 1)",
              "        {",
              "            str bon_str = GetVariableName(tarr1['AddBonuses', j]);",
              "            bons_str = bons_str + bon_str + '=' + tarr1['AddBonuses', j];",
              "            if(j) bons_str = bons_str + ',';",
              "",
              "            int bon = GetValueFromScript('', bon_str);",
              "            ShipSpecialBonuses(Player(), bon, ShipSpecialBonuses(Player(), bon) + tarr1['AddBonuses', j]);",
              "        }",
              "",
              "        break;",
              "    }",
              "}",
              "",
              "int percent = CT('Illness.Stimulant.Expirin.ExpBonPercent');",
              "tstr1 = Format(CT('Illness.Stimulant.Expirin.Text'), '<Percent'+'>', percent, '255,240,100');",
              "ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_ExpirinStimulant', tstr1, CurTurn() + (30 * CT('Illness.Stimulant.Expirin.Duration')), tint2, GetShipExpByType(Player(), 0), bons_str, '0.' + percent, tstr1);",
              "PlayerHQMainArray['Medicine', 'UniqueStimulantLastIntake'] = CurTurn();",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantYes');",
              "PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "PlayerHQMainArray['Finance', 'StatsOutExpenses'] = PlayerHQMainArray['Finance', 'StatsOutExpenses'] + cost;",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  651,
          "#":  661,
          "Total.Lines":  28,
          "Code.Type":  "Turn",
          "Code":          
          [
              "str bons_str = '';",
              "CT('Illness.Stimulant.Expirin', tarr1);",
              "for(int i = 0; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    if(GetVariableName(tarr1[i]) == 'AddBonuses')",
              "    {",
              "        for(int j = ArrayDim(tarr1['AddBonuses']) - 1; j >= 0; j = j - 1)",
              "        {",
              "            str bon_str = GetVariableName(tarr1['AddBonuses', j]);",
              "            bons_str = bons_str + bon_str + '=' + tarr1['AddBonuses', j];",
              "            if(j) bons_str = bons_str + ',';",
              "",
              "            int bon = GetValueFromScript('', bon_str);",
              "            ShipSpecialBonuses(Player(), bon, ShipSpecialBonuses(Player(), bon) + tarr1['AddBonuses', j]);",
              "        }",
              "",
              "        break;",
              "    }",
              "}",
              "",
              "int percent = CT('Illness.Stimulant.Expirin.ExpBonPercent');",
              "tstr1 = Format(CT('Illness.Stimulant.Expirin.Text'), '<Percent'+'>', percent, '255,240,100');",
              "ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_ExpirinStimulant', tstr1, CurTurn() + (30 * CT('Illness.Stimulant.Expirin.Duration')), tint2, GetShipExpByType(Player(), 0), bons_str, '0.' + percent, tstr1);",
              "PlayerHQMainArray['Medicine', 'UniqueStimulantLastIntake'] = CurTurn();",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.UniqueStimulantYes');",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  663,
          "#":  664,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//        ",
              "check = 0;",
              "for(i = 1; i <= 12; i = i + 1)",
              "{",
              "    if(ShipHealthFactorStatus(Player(), i) > 50 && i != 6)",
              "    {",
              "        InjectAnswer('PlayerHQMedicineTreat', Format(CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatDisease'), '<Disease' + '>', CT('Illness.Illness.' + (i - 1) + '.Name')), i);",
              "        check = check + 1;",
              "    }",
              "}",
              "//        ",
              "if(check > 1)",
              "{",
              "    InjectAnswer('PlayerHQMedicineTreat', CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatAll'), -1);",
              "}",
              "",
              "//      ",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatNo');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.PlayerTreatNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  665,
          "#":  666,
          "Total.Lines":  49,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = GAnswerData;",
              "",
              "//    -  ",
              "if(~tint1)",
              "{",
              "    ShipHealthFactor(Player(), tint1, 0);",
              "    if(RndObject(1, 100, cur_ruin) <= 66 || tint1 <= 3 || tint1 == 6) ShipHealthFactorStatus(Player(), tint1, 0);",
              "    // ,     ",
              "    else ShipHealthFactorStatus(Player(), tint1, RndObject(1, 15, cur_ruin));",
              "    //    ",
              "    PlayerImmunity(PlayerImmunity() + 20);",
              "    check = check - 1;",
              "",
              "    //    ,    -   / ",
              "    if(check)",
              "    {",
              "        tstr6 = CT('Illness.Illness.' + (tint1 - 1) + '.Name');",
              "        tint1 = 1;",
              "    }",
              "    //    ",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatDoneAll');",
              "        tstr6 = '';",
              "    }",
              "}",
              "//    ",
              "else",
              "{",
              "    for(i = 1; i <= 12; i = i + 1)",
              "    {",
              "        if(ShipHealthFactorStatus(Player(), i) > 50 && i != 6)",
              "        {",
              "            ShipHealthFactor(Player(), i, 0);",
              "            if(RndObject(1, 100, cur_ruin) <= 66 || i <= 3 || i == 6) ShipHealthFactorStatus(Player(), i, 0);",
              "            // ,     ",
              "            else ShipHealthFactorStatus(Player(), i, RndObject(1, 15, cur_ruin));",
              "        }",
              "    }",
              "",
              "    //     ( +20    )",
              "    PlayerImmunity(PlayerImmunity() + 20 * check);",
              "",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMedicineDialog.TreatDoneAll');",
              "    tstr6 = '';",
              "    check = 0;",
              "}",
              "",
              "Sound('Sound.Repair');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  675,
          "#":  676,
          "Total.Lines":  16,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!PlayerHQMainArray['Main', 'HQArmoryDialog'])",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQArmoryDialog.GreetingIntro');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQArmoryDialog.PlayerIntroOut');",
              "",
              "    PlayerHQMainArray['Main', 'HQArmoryDialog'] = 1;",
              "    tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQArmoryDialog.Greeting');",
              "    if(PlayerHQMainArray['Science', 'GluonGunsDeveloped']) tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerHQArmoryDialog.GreetingGluonGuns');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQArmoryDialog.PlayerOut');",
              "",
              "    tint1 = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  670,
          "#":  680,
          "Total.Lines":  181,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!PlayerHQMainArray['Main', 'HQShipyardDialog'])",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.GreetingIntro');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerIntroOut');",
              "",
              "    PlayerHQMainArray['Main', 'HQShipyardDialog'] = 1;",
              "    tint1 = -1;",
              "}",
              "else",
              "{",
              "    //       /",
              "    if(PlayerHQMainArray['Shipyard', 'ShipInProduction'] == '')",
              "    {",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.Greeting'),",
              "                                       '<CoalitionReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%',",
              "                                       '<PiratesReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerAskForConstruction');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerOut');",
              "",
              "        //      25%,     (   )",
              "        check = max(PlayerHQMainArray['Main', 'CoalitionReputation'], PlayerHQMainArray['Main', 'PirateClanReputation']);",
              "        if(check >= 0) tint1 = 1;",
              "        else tint1 = 0;",
              "    }",
              "    //  /   ",
              "    else",
              "    {",
              "        tstr1 = CT(PlayerHQMainArray['Shipyard', 'ShipInProduction'] + 'Name');",
              "        if(GetParFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.', ParsCountFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.') - 2, 0) == 'Tranclucator') tstr1 = lowercase(tstr1);",
              "",
              "        tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.GreetingInProcess'),",
              "                                       '<CoalitionReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%',",
              "                                       '<PiratesReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%',",
              "                                       '<ShipName'+'>', tstr1,",
              "                                       '<DaysLeft'+'>', PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] - CurTurn());",
              "        tstr2 = Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerAskForConstructionInProcess'), '<Days'+'>', PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] - CurTurn(), '');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerAskForConstruction');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerOut');",
              "",
              "        tint1 = 0;",
              "    }",
              "}",
              "",
              "if(tint1)",
              "{",
              "    if(GetGameOptions('FontDialog') == '0') tstr5 = '-----------------------------------------------------------';",
              "    else if(GetGameOptions('FontDialog') == '1') tstr5 = '------------------------------------------';",
              "    else if(GetGameOptions('FontDialog') == '2') tstr5 = '-------------------------------------------';",
              "    else tstr5 = '--------------------------------------';",
              "",
              "    tstr4 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.ProjectsList'), '<BreakLine'+'>', tstr5, '<CurrentBalance'+'>', '<color=0,50,200>' + int(PlayerHQMainArray['Finance', 'CurrentBalance']) + '</color>', '');",
              "",
              "    ArrayClear(tarr1);",
              "    ArrayDelete(tarr1, 0);",
              "    str descriptions = '';",
              "",
              "    for(j = 0; j <= 2; j = j + 1)",
              "    {",
              "        if(!j) str add_path = '';",
              "        else if(j == 1) add_path = '.Coalition';",
              "        else add_path = '.PirateClan';",
              "",
              "        int cnt = CT('Script.Mod_ShuMercsHQ.PlayerHQShipyardProjects' + add_path, tarr2);",
              "        if(cnt)",
              "        {",
              "            for(i = 0; i < cnt; i = i + 1)",
              "            {",
              "                str block_path = GetVariableName(tarr2[i]);",
              "                if(block_path == 'Coalition' || block_path == 'PirateClan' || block_path == 'Special') continue;",
              "                block_path = 'Script.Mod_ShuMercsHQ.PlayerHQShipyardProjects' + add_path + '.' + block_path + '.';",
              "",
              "                //           ",
              "                int next = 1;",
              "                int repeat = CT(block_path + 'LimitedProduction'); //         ",
              "                if(repeat)",
              "                {",
              "                    if(~findsubstr(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], block_path))",
              "                    {",
              "                        for(int t = 0; t < ParsCountFromString(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], ','); t = t + 1)",
              "                        {",
              "                            str ships_str = GetParFromString(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], ',', t, 0);",
              "                            if(GetParFromString(ships_str, '/', 0, 0) == block_path)",
              "                            {",
              "                                //       ",
              "                                if(int(GetParFromString(ships_str, '/', 1, 0)) >= repeat) next = 0;",
              "                                break;",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "                if(!next) continue;",
              "",
              "                //        ,      ",
              "                ships_str = CT(block_path + 'ExcludingShips');",
              "                if(ships_str != '')",
              "                {",
              "                    for(t = 0; t < ParsCountFromString(ships_str, ','); t = t + 1)",
              "                    {",
              "                        if(~findsubstr(PlayerHQMainArray['Shipyard', 'ShipsBuilt'], GetParFromString(ships_str, ',', t, 1)))",
              "                        {",
              "                            next = 0;",
              "                            break;",
              "                        }",
              "                    }",
              "                }",
              "                if(!next) continue;",
              "",
              "                unknown t_arr = newarray(1);",
              "                ArrayDelete(t_arr, 0);",
              "                ArrayAdd(t_arr, CT(block_path + 'Name'), 'Name');",
              "                //           ",
              "                ArrayAdd(tarr1, t_arr, block_path);",
              "                ArrayAdd(tarr1[block_path], j, 'Owner');",
              "",
              "                if(!j) int rep_to_check = check;",
              "                else if(j == 1) rep_to_check = PlayerHQMainArray['Main', 'CoalitionReputation'];",
              "                else rep_to_check = PlayerHQMainArray['Main', 'PirateClanReputation'];",
              "",
              "                //   ",
              "                str req_rep_str = CT(block_path + 'RequiredReputation');",
              "                ArrayAdd(tarr1[block_path], int(req_rep_str), 'RequiredReputation');",
              "                if(rep_to_check >= req_rep_str) req_rep_str = '' + round(0.1 * req_rep_str) + '%';",
              "                else req_rep_str = '<color=255,0,0>' + round(0.1 * req_rep_str) + '%' + '</color>';",
              "                //        ",
              "                str cost_str = CT(block_path + 'Cost');",
              "                if(int(cost_str) == -1) cost_str = ExecuteCodeFromString(GenerateCodeStringFromBlock(block_path + 'CostCalc'), 'result_cost');",
              "                ArrayAdd(tarr1[block_path], int(cost_str), 'Cost');",
              "                if(ShipMoney(Player()) < cost_str && PlayerHQMainArray['Finance', 'CurrentBalance'] < cost_str) cost_str = '<color=255,0,0>' + cost_str + '</color>';",
              "",
              "                descriptions = descriptions + \"<br>\" + tstr5 + \"<br>\" + Format(CT(block_path + 'Description'),",
              "                                             '<RequiredReputation'+'>', req_rep_str,",
              "                                             '<Cost'+'>', cost_str,",
              "                                             '<ProductionTime'+'>', CT(block_path + 'ProductionTime')",
              "                                             '<OrganisationName'+'>', PlayerHQMainArray['Main', 'OrganisationName']);",
              "                ArrayAdd(tarr1[block_path], int(CT(block_path + 'ProductionTime')), 'ProductionTime');",
              "            }",
              "        }",
              "    }",
              "",
              "    //       ,       6- ",
              "    if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 1)",
              "    {",
              "        block_path = 'Script.Mod_ShuMercsHQ.PlayerHQShipyardProjects.Special.PlayerOrgCruiser.';",
              "        t_arr = newarray(1);",
              "        ArrayDelete(t_arr, 0);",
              "        ArrayAdd(t_arr, CT(block_path + 'Name'), 'Name');",
              "        //           ",
              "        ArrayAdd(tarr1, t_arr, block_path);",
              "        ArrayAdd(tarr1[block_path], 0, 'Owner');",
              "        ArrayAdd(tarr1[block_path], 0, 'RequiredReputation');",
              "        int cost = GalaxyMoney(4, 4) * 25;",
              "        ArrayAdd(tarr1[block_path], cost, 'Cost'); //    ",
              "        ArrayAdd(tarr1[block_path], int(CT(block_path + 'ProductionTime')), 'ProductionTime');",
              "",
              "        descriptions = descriptions + \"<br>\" + tstr5 + \"<br>\" + Format(CT(block_path + 'Description'),",
              "                                     //'<RequiredReputation'+'>', req_rep_str,",
              "                                     '<Cost'+'>', cost,",
              "                                     '<ProductionTime'+'>', CT(block_path + 'ProductionTime')",
              "                                     '<OrganisationName'+'>', PlayerHQMainArray['Main', 'OrganisationName']);",
              "    }",
              "",
              "    tstr4 = Format(tstr4, '<ProjectsList'+'>', descriptions, '');",
              "",
              "    if(!ArrayDim(tarr1))",
              "    {",
              "        ArrayAdd(tarr1, 0); //         (,  , ),       ",
              "        tint1 = 0;",
              "",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.GreetingNoProjects');",
              "    }",
              "}",
              "",
              "//         ",
              "if(tstr1 == 'CruiserSoldCanceled')",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.CruiserSoldCanceled');",
              "}",
              "else if(tstr1 == 'CruiserSolded')",
              "{",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.CruiserSolded'), '<Cost'+'>', GAnswerData);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  684,
          "#":  685,
          "Total.Lines":  48,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//,     ,      EvoTranc",
              "int info = ShipFindCustomShipInfoByType(CurShip, 'TrancModAddInfo');",
              "if(~info)",
              "{",
              "    //       ,           ",
              "    if(ShipCustomShipInfoTextData(CurShip, info, 3) == 'turn') //,        ",
              "    {",
              "        //     ",
              "        if(!ShipCustomShipInfoData(CurShip, info, 3))",
              "        {",
              "            ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "            OrderForsage(CurShip, 0);",
              "            ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "        }",
              "        //      ,       ",
              "        //     ",
              "        else if(ShipCustomShipInfoData(CurShip, info, 3) == -1)",
              "        {",
              "            if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)) > 1)",
              "            {",
              "                OrderForsage(CurShip, 1);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "                OrderForsage(CurShip, 0);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "        }",
              "        //      ,      ",
              "        else",
              "        {",
              "            if(ItemDurability(ShipEqInSlot(CurShip, t_Engine)) > 1)",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, ShipCustomShipInfoData(CurShip, info, 3) - 1);",
              "                OrderForsage(CurShip, 1);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "            else",
              "            {",
              "                ShipCustomShipInfoData(CurShip, info, 3, 0);",
              "                OrderForsage(CurShip, 0);",
              "                ShipCustomShipInfoTextData(CurShip, info, 3, '');",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  686,
          "#":  687,
          "Total.Lines":  204,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!PlayerHQMainArray['Main', 'HQImproveDialog'])",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQImproveDialog.GreetingIntro');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQImproveDialog.PlayerIntroOut');",
              "",
              "    PlayerHQMainArray['Main', 'HQImproveDialog'] = 1;",
              "    tint1 = 1;",
              "}",
              "else",
              "{",
              "    //     ",
              "    if(!GAnswerData)",
              "    {",
              "        FormChange('Ship', cur_ruin);",
              "        tint1 = 0;",
              "    }",
              "    //      (   ExpHullsBases)",
              "    else",
              "    {",
              "        //       ",
              "        PlayerHQMainArray['Main', 'HQLevel'] = PlayerHQMainArray['Main', 'HQLevel'] + 1;",
              "",
              "        if(PlayerHQMainArray['Main', 'HQLevel'] == 2)",
              "        {",
              "            PlayerHQMainArray['Science', 'ScientificDepartment'] = 1;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxFree'] == PlayerHQMainArray['Mercs', 'MaxFree'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxFree'] = 10;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 10;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxFree'] = 10;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] == PlayerHQMainArray['Mercs', 'MaxAtReady'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxAtReady'] = 5;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 5;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxAtReady'] = 5;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] == PlayerHQMainArray['Mercs', 'MaxReserve'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxReserve'] = 15;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 15;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxReserve'] = 15;",
              "",
              "            ShipType(cur_ruin, 'PlayerMB_licensed');",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel2');",
              "            else Chameleon(cur_ruin, 'Ruins.PlayerMBLevel2');",
              "        }",
              "        else if(PlayerHQMainArray['Main', 'HQLevel'] == 3)",
              "        {",
              "            PlayerHQMainArray['Medicine', 'MedicalDepartment'] = 1;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxFree'] == PlayerHQMainArray['Mercs', 'MaxFree'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxFree'] = 12;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 12;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxFree'] = 12;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] == PlayerHQMainArray['Mercs', 'MaxAtReady'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxAtReady'] = 6;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 6;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxAtReady'] = 6;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] == PlayerHQMainArray['Mercs', 'MaxReserve'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxReserve'] = 20;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 20;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxReserve'] = 20;",
              "",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel3');",
              "            else Chameleon(cur_ruin, 'Ruins.PlayerMBLevel3');",
              "        }",
              "        else if(PlayerHQMainArray['Main', 'HQLevel'] == 4)",
              "        {",
              "            PlayerHQMainArray['Armory', 'ArmoryWorkshop'] = 1;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxFree'] == PlayerHQMainArray['Mercs', 'MaxFree'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxFree'] = 14;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 14;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxFree'] = 14;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] == PlayerHQMainArray['Mercs', 'MaxAtReady'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxAtReady'] = 7;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 7;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxAtReady'] = 7;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] == PlayerHQMainArray['Mercs', 'MaxReserve'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxReserve'] = 25;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 25;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxReserve'] = 25;",
              "",
              "            //           ",
              "            if(!PlayerHQMainArray['Science', 'GluonGunsDeveloped'] && ~PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'])",
              "            {",
              "                PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 1;",
              "                PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + RndObject(14, 28, cur_ruin);",
              "            }",
              "",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel4');",
              "            else Chameleon(cur_ruin, 'Ruins.PlayerMBLevel4');",
              "        }",
              "        else if(PlayerHQMainArray['Main', 'HQLevel'] == 5)",
              "        {",
              "            PlayerHQMainArray['Shipyard', 'ProductionShipyard'] = 1;",
              "            PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxFree'] == PlayerHQMainArray['Mercs', 'MaxFree'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxFree'] = 18;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 18;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxFree'] = 18;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] == PlayerHQMainArray['Mercs', 'MaxAtReady'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxAtReady'] = 9;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 9;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxAtReady'] = 9;",
              "",
              "            if(PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] == PlayerHQMainArray['Mercs', 'MaxReserve'])",
              "            {",
              "                PlayerHQMainArray['Mercs', 'MaxReserve'] = 35;",
              "                PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 35;",
              "            }",
              "            else PlayerHQMainArray['Mercs', 'MaxReserve'] = 35;",
              "",
              "            // 200 .   ,   ,",
              "            //       1500 . ",
              "            tdwd1 = CreateHull(0, 1000, GalaxyTechLevel(), People, -1);",
              "            SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), tdwd1);",
              "            EqCustomFaction(tdwd1, 'SubFactionPlayerMercsFixedStanding');",
              "            AddItemToStorage(cur_ruin, tdwd1);",
              "",
              "            //        (      )",
              "            if(GroupIn(PlayerMercsStrike, cur_ruin))",
              "            {",
              "                for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "                {",
              "                    dword ship = GroupShip(PlayerMercsStrike, i);",
              "                    dword hull = ShipItems(ship, 0);",
              "                    int hull_check = 0;",
              "",
              "                    int counter = ItemExtraSpecials(hull);",
              "                    if(!counter) hull_check = 0;",
              "                    else for(j = 0; j < counter; j = j + 1)",
              "                    {",
              "                        if(BonusNumInCfg(ItemExtraSpecials(hull, j)) == 'ShuMercsHQ_StrikeMercOwnItemMark') break;",
              "                        if(j == counter - 1) hull_check = 0;",
              "                    }",
              "",
              "                    if(hull_check) //       ",
              "                    {",
              "                        NoDropItem(hull, 0);",
              "                        if(BonusNumInCfg(EqSpecial(hull)) != 'ShuMercsHQ_PlayerMercSpecialHull')",
              "                        {",
              "                            SpecialToEquipment(-1, hull); //     ",
              "                            SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), hull);",
              "                            EqCustomFaction(hull, 'SubFactionPlayerMercsFixedStanding');",
              "                            Chameleon(ship);",
              "                        }",
              "",
              "                        //   ",
              "                        ShipRefit(ship);",
              "                        ShipRefit(ship);",
              "                        hull = ShipItems(ship, 0); //       ",
              "                        HullSeries(hull, -1);",
              "                        NoDropItem(hull, 1);",
              "                    }",
              "                }",
              "            }",
              "",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel5');",
              "            else Chameleon(cur_ruin, 'Ruins.PlayerMBLevel5');",
              "        }",
              "        /*",
              "        else //if(PlayerHQMainArray['Main', 'HQLevel'] == 6)",
              "        {",
              "            if(PlayerHQMainArray['Science', 'PortalGenerator'] == 1) Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel6');",
              "            else Chameleon(cur_ruin, 'Ruins.PlayerMBLevel6');",
              "        }",
              "        */",
              "",
              "        GotoGov(0);",
              "        tint1 = 0;",
              "        //  ",
              "        DAnswer('main');",
              "        //     , ..     ",
              "        exit;",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  691,
          "#":  692,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskMercs');",
              "InjectAnswer('PlayerHQMercsDialog', tstr1, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  695,
          "#":  696,
          "Total.Lines":  7,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    tstr1 = CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class' + substr(GetData(0, cur_ship), 0, 1) + '.' + substr(GetData(0, cur_ship), 1) + '.NameInGenitive');",
              "    InjectAnswer('PlayerHQStrikeRefit', Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerToRefit'), '<Name'+'>', tstr1), i);//Format(ShipName(cur_ship), PlayerHQMainArray['Main', 'OrganisationName'] + ' ', '', '')), i);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  697,
          "#":  698,
          "Total.Lines":  15,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ship = GroupShip(PlayerMercsStrike, GAnswerData);",
              "FormChange('Ship', cur_ship);",
              "",
              "//      (-      )",
              "ShipCalcParam(cur_ship);",
              "if(ShipFreeSpace(cur_ship) < 0)",
              "{",
              "    //       ,     -   ",
              "    phrases_path = 'Script.Mod_ShuMercs.PlayerMercsStrikeGroup.CandidatesList.Class' + substr(GetData(0, cur_ship), 0, 1) + '.' + substr(GetData(0, cur_ship), 1) + '.PersonalPhrases';",
              "    if(BlockExist(phrases_path)) MessageBox(CT(phrases_path + '.IAmOverloadedBoss'), 10);",
              "    else MessageBox(CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.IAmOverloadedBoss'), 10);",
              "}",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.RefitDone'), '<MercName'+'>', substr(ShipName(cur_ship), count(PlayerHQMainArray['Main', 'OrganisationName']) + 1));",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  702,
          "#":  703,
          "Total.Lines":  8,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskStrikeGroup');",
              "//      ",
              "if(GroupCount(PlayerMercsStrike) && !GroupIn(PlayerMercsStrike, GroupToShip(PlayerHQ)))",
              "{",
              "    tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskStrikeGroupOut');",
              "    AddDialogBlock(tstr1, 1);",
              "}",
              "InjectAnswer('PlayerHQStrikeDialog', tstr1, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  705,
          "#":  704,
          "Total.Lines":  46,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroup');",
              "//,      (    )",
              "cur_ruin = GroupToShip(PlayerHQ);",
              "tint1 = 0; //       (    )",
              "check = 1;",
              "if(GroupCount(PlayerMercsStrike))",
              "{",
              "    real_strikes = 0;",
              "    for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "    {",
              "        cur_ship = GroupShip(PlayerMercsStrike, i);",
              "        if(int(GetData(3, cur_ship)) != -2) continue;",
              "",
              "        //           ",
              "        if(GetShipRuins(cur_ship) != cur_ruin || StateIs(cur_ship, 'MovingOutState'))",
              "        {",
              "            check = 0;",
              "            tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupOut');",
              "            break;",
              "        }",
              "        //    ,    \"  \"",
              "        else",
              "        {",
              "            //     dword,        int",
              "            if(int(GetData(2, cur_ship)) < 0)",
              "            {",
              "                check = 0;",
              "                tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupRefuel');",
              "                break;",
              "            }",
              "        }",
              "",
              "        real_strikes = real_strikes + 1;",
              "    }",
              "",
              "    if(!real_strikes)",
              "    {",
              "        check = 0;",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupNoGroup');",
              "    }",
              "}",
              "else",
              "{",
              "    check = 0;",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerAskGroupNoGroup');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -160,
          "Parent":  322,
          "#":  706,
          "Total.Lines":  25,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = GroupCount(PlayerMercsStrike);",
              "",
              "if(tint1 < PlayerHQMainArray['Mercs', 'MaxStrike'] && PlayerHQMainArray['Mercs', 'StrikeCandidatesList'] != ',,')",
              "{",
              "    tint2 = 1;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHire');",
              "}",
              "else if(tint1 >= PlayerHQMainArray['Mercs', 'MaxStrike'])",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireMax');",
              "}",
              "else",
              "{",
              "    tint2 = 0;",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskHireNoMoreCandidates');",
              "}",
              "",
              "if(tint1)",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskRefit');",
              "    tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskFire');",
              "    tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerAskDisband');",
              "}",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQStrikeDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  708,
          "#":  709,
          "Total.Lines":  34,
          "Code.Type":  "Turn",
          "Code":          
          [
              "str new_limit;",
              "if(!PlayerHQMainArray['Shipyard', 'ProductionShipyard']) new_limit = NumberBox('Bm.Items.2Hull_PlayerMercGaal_s', CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxFree'), 0, PlayerHQMainArray['Mercs', 'MaxFree'], PlayerHQMainArray['Mercs', 'MaxFree'], '', PlayerHQMainArray['Mercs', 'CurrentMaxFree']);",
              "else new_limit = NumberBox('Bm.Items.2Hull_PlayerMercSpecial_s', CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxFree'), 0, PlayerHQMainArray['Mercs', 'MaxFree'], PlayerHQMainArray['Mercs', 'MaxFree'], '', PlayerHQMainArray['Mercs', 'CurrentMaxFree']);",
              "if(new_limit != 'Cancel')",
              "{",
              "    int limit = new_limit;",
              "",
              "    //  \"\"  \"\"    ",
              "    if(GroupCount(PlayerMercsFree) > limit)",
              "    {",
              "        for(int i = GroupCount(PlayerMercsFree) - 1; i >= 0; i = i - 1)",
              "        {",
              "            dword merc = GroupShip(PlayerMercsFree, i);",
              "            SetData(-1, 3, merc); //   ,     ",
              "",
              "            if(i == limit) break;",
              "        }",
              "    }",
              "    //else if(GroupCount(PlayerMercsFree) < limit)",
              "    //{",
              "    //}",
              "",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = limit;",
              "    if(limit == PlayerHQMainArray['Mercs', 'MaxFree']) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxFreeDoneMax');",
              "    else if(limit) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxFreeDone'), '<NewLimit'+'>', limit);",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxFreeDoneNone');",
              "",
              "    tint1 = 2;",
              "}",
              "else",
              "{",
              "    tint3 = tint1;",
              "    tint1 = -1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -70,
          "Parent":  513,
          "#":  710,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "",
              "tint3 = GroupCount(PlayerMercsFree) + GroupCount(PlayerMercsDefenders) + GroupCount(QuestMercs);",
              "tint4 = PlayerHQMainArray['Mercs', 'MaxFree'] + PlayerHQMainArray['Mercs', 'MaxStrike'] + PlayerHQMainArray['Mercs', 'CurrentAtReady'] + PlayerHQMainArray['Mercs', 'MaxReserve']; //     ",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskRecruitment');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskQuantity');",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxFree');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxAtReady');",
              "tstr6 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerAskChangeMaxReserve');",
              "tstr7 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -60,
          "Parent":  452,
          "#":  712,
          "Total.Lines":  15,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = (PlayerHQMainArray['Quests', 'PrivateQuestAppear'] <= CurTurn());",
              "tdwd2 = (PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] <= CurTurn());",
              "tdwd3 = (PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] <= CurTurn());",
              "",
              "if( ActiveQuestHQ ||",
              "    GroupCount(QuestMercs) ||",
              "    PlayerHQMainArray['Quests', 'MercsRestingAfterQuest'] > CurTurn() ||",
              "    (!tdwd1 && !tdwd2 && !tdwd3) ||",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] < PlayerHQMainArray['Mercs', 'MaxAtReady'] / 2 )",
              "{",
              "    //\"\"          ( )",
              "    tdwd1 = 0;",
              "    tdwd2 = 0;",
              "    tdwd3 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  714,
          "#":  715,
          "Total.Lines":  27,
          "Code.Type":  "Turn",
          "Code":          
          [
              "str new_limit;",
              "if(!PlayerHQMainArray['Shipyard', 'ProductionShipyard']) new_limit = NumberBox('Bm.Items.2Hull_PlayerMercMaloc_s', CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxAtReady'), 0, PlayerHQMainArray['Mercs', 'MaxAtReady'], PlayerHQMainArray['Mercs', 'MaxAtReady'], '', PlayerHQMainArray['Mercs', 'CurrentMaxAtReady']);",
              "else new_limit = NumberBox('Bm.Items.2Hull_PlayerMercSpecial_s', CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxAtReady'), 0, PlayerHQMainArray['Mercs', 'MaxAtReady'], PlayerHQMainArray['Mercs', 'MaxAtReady'], '', PlayerHQMainArray['Mercs', 'CurrentMaxAtReady']);",
              "if(new_limit != 'Cancel')",
              "{",
              "    int limit = new_limit;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = limit;",
              "    if(limit == PlayerHQMainArray['Mercs', 'MaxAtReady']) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxAtReadyDoneMax');",
              "    else if(limit) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxAtReadyDone'), '<NewLimit'+'>', limit);",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxAtReadyDoneNone');",
              "",
              "    int overflow = PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] - PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    //       ,           ",
              "    if(overflow < 0)",
              "    {",
              "        PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] + abs(overflow);",
              "        PlayerHQMainArray['Mercs', 'CurrentReserve'] = min(PlayerHQMainArray['Mercs', 'CurrentReserve'] + abs(overflow), PlayerHQMainArray['Mercs', 'CurrentMaxReserve']);",
              "    }",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = min(PlayerHQMainArray['Mercs', 'CurrentAtReady'], PlayerHQMainArray['Mercs', 'CurrentMaxAtReady']);",
              "",
              "    tint1 = 2;",
              "}",
              "else",
              "{",
              "    tint3 = tint1;",
              "    tint1 = -1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  720,
          "#":  721,
          "Total.Lines":  18,
          "Code.Type":  "Turn",
          "Code":          
          [
              "str new_limit = NumberBox('Bm.Icons.ReserveMerc', CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxReserve'), 0, PlayerHQMainArray['Mercs', 'MaxReserve'], PlayerHQMainArray['Mercs', 'MaxReserve'], '', PlayerHQMainArray['Mercs', 'CurrentMaxReserve']);",
              "if(new_limit != 'Cancel')",
              "{",
              "    tint3 = new_limit;",
              "    PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = tint3;",
              "    if(tint3 == PlayerHQMainArray['Mercs', 'MaxReserve']) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxReserveDoneMax');",
              "    else if(tint3) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxReserveDone'), '<NewLimit' + '>', tint3);",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMercsDialog.ChangeMaxReserveDoneNone');",
              "",
              "    PlayerHQMainArray['Mercs', 'CurrentReserve'] = min(PlayerHQMainArray['Mercs', 'CurrentReserve'], PlayerHQMainArray['Mercs', 'CurrentMaxReserve']);",
              "",
              "    tint1 = 2;",
              "}",
              "else",
              "{",
              "    tint3 = tint1;",
              "    tint1 = -1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  724,
          "#":  725,
          "Total.Lines":  6,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ship = IdToShip(PlayerHQMainArray['Quests', 'GluonGunsQuestScienceBaseId']);",
              "tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestIntro'), '<SB'+'>', ShipName(cur_ship), '<Star'+'>', Name(ShipStar(cur_ship)));",
              "tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestAcceptedPlayer');",
              "tstr3 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNeedToThinkPlayer');",
              "",
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 3;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  730,
          "#":  731,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNeedToThink');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  729,
          "#":  733,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestAccepted'), '<SB'+'>', ShipName(cur_ship), '<Star'+'>', Name(ShipStar(cur_ship)));",
              "",
              "//  ",
              "str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "text = text + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteInProcess1'), '<SB'+'>', ShipName(cur_ship), '<Star'+'>', Name(ShipStar(cur_ship)), '255,240,100');",
              "CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', text, cur_ship);",
              "",
              "//   ",
              "ShipOwner(cur_ship, People); //   ",
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 4;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  736,
          "#":  738,
          "Total.Lines":  5,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBegin1');",
              "tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBeginPlayer2');",
              "tstr3 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBegin2');",
              "tstr4 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBeginPlayer3');",
              "tstr5 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBegin3'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName']);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  737,
          "#":  739,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBeginTwice');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  750,
          "#":  745,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet']:",
              "//1 -    ,      ;",
              "//2 -     \"\";",
              "//4 -     \"\";",
              "",
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBasePersuasionPlayer');",
              "tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseThreatPlayer');",
              "tstr3 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribePlayer');",
              "tstr4 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseReturnPlayer');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  744,
          "#":  750,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] = PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] + 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  754,
          "#":  761,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "int persuasion = PersuasionCalc(0, cur_ruin, ShipOwner(cur_ruin));",
              "//   ",
              "if(Rnd(1, 100, sqr(Id(cur_ruin) + 333)) <= persuasion)",
              "{",
              "    tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBasePersuasionSuccess');",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 5;",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + 7;",
              "",
              "    //  ",
              "    tstr2 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr2 = tstr2 + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "    tstr2 = tstr2 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteInProcess2');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr2, cur_ruin);",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBasePersuasionFailed');",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] = PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] + 2;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  756,
          "#":  762,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "int threat = ThreatCalc(0, cur_ruin, ShipOwner(cur_ruin));",
              "//   ",
              "if(Rnd(1, 100, sqr(Id(cur_ruin) + 666)) <= threat)",
              "{",
              "    tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseThreatSuccess');",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 5;",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + 7;",
              "",
              "    //  ",
              "    tstr2 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr2 = tstr2 + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "    tstr2 = tstr2 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteInProcess2');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr2, cur_ruin);",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseThreatFailed');",
              "    PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] = PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] + 4;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  758,
          "#":  763,
          "Total.Lines":  8,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost = max(500000, 15 * GalaxyMoney(4, 4));",
              "if((PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 2)) cost = round(1.5 * cost); // \"\"  ",
              "if((PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 4)) cost = round(2.0 * cost); // \"\"  ",
              "",
              "tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribe'), '<Cost'+'>', cost);",
              "tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribeYesPlayer');",
              "tstr3 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribeNeedToThinkPlayer');",
              "tstr4 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribeNeedToThink');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  764,
          "#":  770,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.ScienceBaseBribeYes');",
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = 5;",
              "PlayerHQMainArray['Quests', 'GluonGunsQuestTimer'] = CurTurn() + 7;",
              "",
              "//  ",
              "tstr2 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "tstr2 = tstr2 + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteTitle');",
              "tstr2 = tstr2 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.QuestNoteInProcess2');",
              "CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention', tstr2, cur_ruin);",
              "",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  779,
          "#":  780,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.NewGunsDone');",
              "tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Special.GluonGunsInvention.NewGunsDonePlayer');",
              "",
              "dword new_gun = CreateGluonGun(cur_ruin, 1, 1);",
              "AddItemToStorage(cur_ruin, new_gun);",
              "new_gun = CreateGluonGun(cur_ruin, 2, 1);",
              "AddItemToStorage(cur_ruin, new_gun);",
              "new_gun = CreateGluonGun(cur_ruin, 3, 1);",
              "AddItemToStorage(cur_ruin, new_gun);",
              "",
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] = -1; //  ,       "          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  782,
          "#":  783,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "FormChange('Ship');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  784,
          "#":  786,
          "Total.Lines":  22,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  /   ,   ",
              "if(check <= 4)",
              "{",
              "    if(!(status & 32))",
              "    {",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatFail');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatFailP');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureFail');",
              "        tstr2 = '</color>' + CT(dialog_path + 'PlanetGovCoalThreatNotSureFailP');",
              "    }",
              "}",
              "else",
              "{",
              "    //if(!(status & 32))",
              "    //{",
              "    tstr1 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatFail');",
              "    tstr2 = '</color>' + CT(dialog_path + 'PlanetGovPirThreatDead');",
              "    //}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  789,
          "#":  790,
          "Total.Lines":  70,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "SetData(0, 1, cur_ship);",
              "ChangeState('StrikeFollowState', cur_ship);",
              "",
              "//      ,    ",
              "int check = 0;",
              "if(GroupCount(PlayerMercsStrike) > 1)",
              "{",
              "    for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "    {",
              "        cur_ship = GroupShip(PlayerMercsStrike, i);",
              "        if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "        if(!ShipInNormalSpace(cur_ship)) continue;",
              "        if(ShipStar(cur_ship) != ShipStar(Player())) continue;",
              "        if(StateIs(cur_ship, 'StrikeFollowState')) continue;",
              "",
              "        check = 1;",
              "        break;",
              "    }",
              "",
              "    //  ,       ",
              "    if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "    {",
              "        cur_ship = GroupToShip(CruisersDefenders);",
              "        if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "        {",
              "            if(ShipInNormalSpace(cur_ship))",
              "            {",
              "                if(ShipStar(cur_ship) == ShipStar(Player()))",
              "                {",
              "                    if(!StateIs(cur_ship, 'StrikeFollowState')) check = 1;",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "if(check)",
              "{",
              "    tint1 = 1;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.IsItGroupOrderStrike');",
              "        tstr2 = '</color>' + CT(phrases_path + '.PlayerYesItsForGroupStrike');",
              "        tstr3 = '</color>' + CT(phrases_path + '.PlayerNoItsPersonalStrike');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.IsItGroupOrderStrike');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerYesItsForGroupStrike');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerNoItsPersonalStrike');",
              "    }",
              "}",
              "else",
              "{",
              "    tint1 = 0;",
              "",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.FollowOne');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.FollowOne');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  795,
          "#":  796,
          "Total.Lines":  29,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       ",
              "for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(PlayerMercsStrike, i);",
              "    if(StateIs(cur_ship, 'SittingBaseState')) continue;",
              "",
              "    if(!ShipInNormalSpace(cur_ship)) continue;",
              "    if(ShipStar(cur_ship) != ShipStar(Player())) continue;",
              "",
              "    SetData(0, 1, cur_ship);",
              "    ChangeState('StrikeFollowState', cur_ship);",
              "}",
              "",
              "//  ,       ",
              "if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "{",
              "    cur_ship = GroupToShip(CruisersDefenders);",
              "    if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "    {",
              "        if(ShipInNormalSpace(cur_ship))",
              "        {",
              "            if(ShipStar(cur_ship) == ShipStar(Player()))",
              "            {",
              "                SetData(0, 1, cur_ship);",
              "                ChangeState('StrikeFollowState', cur_ship);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  797,
          "#":  798,
          "Total.Lines":  212,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword cur_star = ShipStar(CurShip);",
              "dword HQ = GroupToShip(PlayerHQ);",
              "",
              "//   ,    ",
              "if(!HQ || Hit(CurShip, 0))",
              "{",
              "    //   ,      ",
              "    if(HQ)",
              "    {",
              "        if(!GroupCount(PlayerMercsStrike))",
              "        {",
              "            CustomEther('PlayerMercsOrg', 0, '', CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupWasQuit'));",
              "            PlayerHQMainArray['Mercs', 'StrikeGroupIsAlive'] = 0;",
              "        }",
              "    }",
              "",
              "    dword cur_merc = CurShip;",
              "    if(Hit(cur_merc, 0)) Dialog(cur_merc);",
              "    else FreePlayerMerc(cur_merc);",
              "",
              "    exit;",
              "}",
              "",
              "// ,          ",
              "if(ShipFindCustomShipInfoByType(CurShip, 'ShuMercsHQ_MercTalksBlock') == -1)",
              "{",
              "    ShipAddCustomShipInfo(CurShip, 'ShuMercsHQ_MercTalksBlock');",
              "}",
              "",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "",
              "//  ,     ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//         ",
              "dword target = ShipGetBad(CurShip);",
              "if(target)",
              "{",
              "    if(ShipType(target) == 'PlayerMerc' || target == Player())",
              "    {",
              "        //     ,          ,    ",
              "        int no_tar = NoTargetToShip(target);",
              "        NoTargetToShip(target, 4);",
              "        TruceBetweenShips(CurShip, target);",
              "        NoTargetToShip(target, no_tar);",
              "        //        ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "    else if(~ShipFindCustomShipInfoByType(target, 'ShuMercsHQ_GuardedShip'))",
              "    {",
              "        no_tar = NoTargetToShip(target);",
              "        //     ,          ,    ",
              "        NoTargetToShip(target, 4);",
              "        TruceBetweenShips(CurShip, target);",
              "        NoTargetToShip(target, no_tar);",
              "        //       ",
              "        target = ShipIsPartner(CurShip);",
              "        if(target) ShipSetPartner(CurShip, 0, 0);",
              "    }",
              "}",
              "",
              "//     ",
              "if(GetData(2) <= CurTurn())",
              "{",
              "    int strikes = 0;",
              "    for(int i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "    {",
              "        cur_ship = GroupShip(PlayerMercsStrike, i);",
              "",
              "        ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "        NoTalkToShip(cur_ship, 0);",
              "        OrderLock(cur_ship, 1);",
              "",
              "        if(int(GetData(3, cur_ship)) != -2) ShipJoin(PlayerMercsFree, cur_ship, 'FreeEarningState', 0, 0, 0);",
              "        else",
              "        {",
              "            ChangeState('ReturningStrikeState', cur_ship);",
              "            strikes = strikes + 1;",
              "        }",
              "    }",
              "",
              "    //  ,       ",
              "    if(PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2)",
              "    {",
              "        cur_ship = GroupToShip(CruisersDefenders);",
              "        if(StateIs(cur_ship, 'MovingOutState', 'StrikeAttackState', 'StrikeFollowState', 'StrikeAtEasyState', 'ReturningStrikeState'))",
              "        {",
              "            ShipDeleteCustomShipInfo(cur_ship, 'ShuMercsHQ_MercTalksBlock');",
              "            NoTalkToShip(cur_ship, 0);",
              "            OrderLock(cur_ship, 1);",
              "            //       ",
              "            //ChangeState('ReturningBaseState', cur_ship);",
              "            // , ",
              "            ChangeState('ReturningStrikeState', cur_ship);",
              "            strikes = strikes + 1;",
              "        }",
              "    }",
              "",
              "",
              "    if(strikes)",
              "    {",
              "        if(GroupCount(PlayerMercsStrike)) CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupReturning'), '<Star'+'>', Name(cur_star), '255,240,100'));",
              "        // ,        ",
              "        else CustomEther('PlayerMercsOrg', 0, '', Format(CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.StrikeGroupReturningOnlyCruiser'), '<Star'+'>', Name(cur_star), '255,240,100'));",
              "    }",
              "",
              "    exit;",
              "}",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip, 1);",
              "OrderLock(CurShip, 1);",
              "",
              "dword player_star = ShipStar(Player());",
              "if(player_star != cur_star)",
              "{",
              "    OrderJump(CurShip, player_star);",
              "    exit;",
              "}",
              "",
              "//       ,          ",
              "if(!ShipInNormalSpace(CurShip))",
              "{",
              "    if(ShipInNormalSpace(Player()))",
              "    {",
              "        OrderTakeOff(CurShip);",
              "        exit;",
              "    }",
              "}",
              "",
              "// \" \" ,         \"\"",
              "for(i = 1; i <= ShipCntWeapon(CurShip); i = i + 1)",
              "{",
              "    dword gun = ShipWeapon(CurShip, i);",
              "    if(ItemDurability(gun) < 15) ItemDurability(CurShip, 15);",
              "}",
              "",
              "//      ,  ,  ",
              "int closest_dist = 500000;",
              "target = 0;",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    dword ship = StarShips(cur_star, i);",
              "",
              "    if(ShipInCurScript(ship))",
              "    {",
              "        if(ShipGroup(ship) == RandomAttackers) continue;",
              "    }",
              "",
              "    if(IsPlayer(ship)) continue; //   (   ,     )",
              "    if(ShipInHyperSpace(ship, 1)) continue;",
              "    if(ObjectType(ship) != 4 && ObjectType(ship) != 5) continue;",
              "    if(RelationToShip(ship, Player()) < 10)",
              "    {",
              "        if(!ShipInScript(ship, 0))",
              "        {",
              "            ShipJoin(RandomAttackers, ship);",
              "            // 10       ",
              "            SetData(CurTurn() + 10, 0, ship);",
              "        }",
              "",
              "        int dist = Dist(CurShip, ship);",
              "        if(dist < closest_dist)",
              "        {",
              "            //      /,",
              "            //        ",
              "            if(ShipInNormalSpace(ship) || !target)",
              "            {",
              "                closest_dist = dist;",
              "                target = ship;",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//   ,        ,",
              "//   ,    , ",
              "if(target)",
              "{",
              "    ShipSetBad(CurShip, target);",
              "    //  ,           ()",
              "    if(!ShipInScript(target, 0))",
              "    {",
              "        ShipJoin(RandomAttackers, target);",
              "        // 10       ",
              "        SetData(CurTurn() + 10, 0, target);",
              "    }",
              "}",
              "",
              "//      ,      ",
              "if(ShipOrder(Player()) == 3)",
              "{",
              "    if(ShipTurnBeforeEndOrder(Player()) == 1)",
              "    {",
              "        OrderJump(CurShip, ShipOrderObj(Player()));",
              "        exit;",
              "    }",
              "}",
              "",
              "if(ShipInNormalSpace(Player()))",
              "{",
              "    OrderFollowShip(CurShip, Player(), 0);",
              "}",
              "else",
              "{",
              "    dword player_planet = GetShipPlanet(Player());",
              "    if(!player_planet) player_planet = GetShipRuins(Player());",
              "",
              "    OrderLanding(CurShip, player_planet);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  802,
          "#":  804,
          "Total.Lines":  58,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//         ",
              "ArrayClear(tarr1);",
              "for(i = 0; i < StarShips(cur_star); i = i + 1)",
              "{",
              "    tdwd2 = StarShips(cur_star, i);",
              "",
              "    if(tdwd2 == cur_ship) continue;",
              "    if(!ShipInNormalSpace(tdwd2)) continue;",
              "    if(ShipType(tdwd2) != 'PlayerMerc') continue;",
              "    if(!StateIs(tdwd2, 'OrderAttackState')) continue;",
              "    if(GetData(1, tdwd2) != GetData(1, cur_ship)) continue; //      ",
              "",
              "    ArrayAdd(tarr1, tdwd2);",
              "}",
              "",
              "SetData(0, 1, cur_ship); //  ",
              "",
              "OrderLock(cur_ship, 0);",
              "OrderNone(cur_ship);",
              "ShipFreeFlight(cur_ship);",
              "",
              "if(ShipGroup(cur_ship) == PlayerMercsFree)",
              "{",
              "    ChangeState('FreeEarningState', cur_ship);",
              "}",
              "else //if(ShipGroup(cur_ship) == PlayerMercsDefenders || ShipGroup(cur_ship) == PlayerMercsStrike)",
              "{",
              "    ChangeState('DefendingStarState', cur_ship);",
              "}",
              "",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.IsItGroupOrder');",
              "        tstr2 = '</color>' + CT(phrases_path + '.PlayerYesItsForGroup');",
              "        tstr3 = '</color>' + CT(phrases_path + '.PlayerNoItsPersonal');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.IsItGroupOrder');",
              "        tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerYesItsForGroup');",
              "        tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.PlayerNoItsPersonal');",
              "    }",
              "}",
              "else",
              "{",
              "    if(phrases_path != '')",
              "    {",
              "        tstr1 = '</color>' + CT(phrases_path + '.AtEasyRogerRoger');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsTalks.AtEasyRogerRoger');",
              "        tstr3 = '</color>' + CT('Talk.Exit');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  807,
          "#":  809,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      ,   ",
              "for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    cur_ship = tarr1[i];",
              "",
              "    SetData(0, 1, cur_ship); //  ",
              "",
              "    OrderLock(cur_ship, 0);",
              "    OrderNone(cur_ship);",
              "    ShipFreeFlight(cur_ship);",
              "",
              "    if(ShipGroup(cur_ship) == PlayerMercsFree)",
              "    {",
              "        ChangeState('FreeEarningState', cur_ship);",
              "    }",
              "    else //if(ShipGroup(cur_ship) == PlayerMercsDefenders || ShipGroup(cur_ship) == PlayerMercsStrike)",
              "    {",
              "        ChangeState('DefendingStarState', cur_ship);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  812,
          "#":  813,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!check) //      ,   0  ",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAskAutographFirst');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographAgreedFirst');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographRefusedFirst');",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAskAutographSecond');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographAgreedSecond');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographRefusedSecond');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  817,
          "#":  819,
          "Total.Lines":  36,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ",
              "if(!check)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAskAutographFirstDone');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographAgreedFirstDone');",
              "}",
              "//      ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAskAutographSecondDone');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAutographAgreedSecondDone');",
              "}",
              "",
              "//       ",
              "cur_item = CreateQuestItem('ShuMercsHQ_HoloTablet', Peleng);",
              "ItemSize(cur_item, 1);",
              "LinkItemToScript(cur_item, HoloTablet);",
              "ItemOnActCode(cur_item, GenerateCodeStringFromBlock('UselessItems.ShuMercsHQ_HoloTablet.OnScriptActCode'));",
              "ScriptItemData(cur_item, 1, CurTurn() + 7);",
              "//    ",
              "float angle = pi * (-Angle(cur_ship, Player())) / 180;",
              "int dist_to = min(Dist(cur_ship, Player()) / 2, 200);",
              "int dest_coord_X = round(sin(angle) * dist_to) + CoordX(cur_ship);",
              "int dest_coord_Y = round(cos(angle) * dist_to) + CoordY(cur_ship);",
              "DropItemInSystem(ShipStar(cur_ship), cur_item, CoordX(cur_ship), CoordY(cur_ship), dest_coord_X, dest_coord_Y);",
              "",
              "//       ",
              "NoTalkToShip(cur_ship, 1);",
              "",
              "// ",
              "SetData(0, 0, cur_ship);",
              "SetData(0, 2, cur_ship);",
              "ChangeState('TziptzilotFlyAwayState', cur_ship);",
              "",
              "//AddItemToShip(cur_ship, cur_item);",
              "//DropItem(cur_ship, cur_item);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -80,
          "Parent":  820,
          "#":  822,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "check = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  821,
          "#":  823,
          "Total.Lines":  25,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//      ",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAskAutographSecondRefused');",
              "// ",
              "tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "//    ",
              "SetData(3, 0, cur_ship);",
              "SetData(Id(StarPlanets(StarNearbyStars(ShipStar(cur_ship), 65), 0)) * 2, 2, cur_ship);",
              "ChangeState('TziptzilotFlyAwayState', cur_ship);",
              "// -        ",
              "for(i = 1; i <= 2; i = i + 1) ExecuteCodeFromString(GenerateCodeStringFromBlock('UselessItems.ShuMercsHQ_HoloTablet.SpawnTrancCollector'), 'tranc_num', i, 'cur_state', 'TrancsFlyAwayState');",
              "for(i = 0; i < 2; i = i + 1)",
              "{",
              "    tdwd1 = GroupShip(TrancsCollectors, i);",
              "    SetData(Id(StarNearbyStars(ShipStar(cur_ship), 65)) - 1, 0, tdwd1);",
              "    SetData(Id(cur_ship), 1, tdwd1);",
              "    SetData(0, 2, tdwd1);",
              "    ShipSetBad(tdwd1, cur_ship);",
              "}",
              "",
              "//  ()",
              "//BuildOwnBase_Condition = -BuildOwnBase_Condition;",
              "//     (2-4 )",
              "BuildOwnBase_ConditionCooldown = CurTurn() + RndObject(730, 1460, cur_ship);",
              "BuildOwnBase_Condition = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  830,
          "#":  831,
          "Total.Lines":  207,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//BuildOwnBase_Condition == < 0 -       ,     (   ,     ,    )",
              "//BuildOwnBase_Condition ==   0 -          ",
              "//BuildOwnBase_Condition ==   1 -   ,    ,       ,    ",
              "//BuildOwnBase_Condition ==   2 -   ,       ",
              "//BuildOwnBase_Condition ==   3 -          ",
              "//BuildOwnBase_Condition ==   4 -         ,     (      )   ",
              "//BuildOwnBase_Condition ==   5 -         (  ),    ",
              "//BuildOwnBase_Condition ==   6 -       ,   ",
              "",
              "//          ",
              "//BuildOwnBase_Condition = 0; // ",
              "if(!BuildOwnBase_Condition) //   ",
              "{",
              "    //      ,        (2-4 )",
              "    if(BuildOwnBase_ConditionCooldown <= CurTurn())",
              "    {",
              "        //  ",
              "        if(ShipIsTakeoff(Player()))",
              "        {",
              "            //          ",
              "            if(!ShipDestination(Player()))",
              "            {",
              "                cur_star = ShipStar(Player());",
              "                if(StarOwner(cur_star) != 1 && StarCustomFaction(cur_star) == '')",
              "                {",
              "                    if(!StarBattle(cur_star))",
              "                    {",
              "                        if(!ShipNearbyShips(Player(), -1, 0, 1, '', '')) //          ",
              "                        {",
              "                            //    ",
              "                            tint1 = GetValueFromScript('Mod_ShuMercs', 'MercCenterId');",
              "                            if(tint1)",
              "                            {",
              "                                cur_ruin = IdToShip(tint1);",
              "                                if(cur_ruin)//StarRuins(cur_star, 'MB'))",
              "                                {",
              "                                    tdwd1 = GetShipPlanet(Player());",
              "                                    if(!tdwd1) tdwd1 = GetShipRuins(Player());",
              "                                    //     ",
              "                                    if(tdwd1 != cur_ruin)",
              "                                    {",
              "                                        // /   ,     ",
              "                                        if(RelationToShip(tdwd1, Player()) > 9)",
              "                                        {",
              "                                            //      ",
              "                                            if(",
              "                                                RangerStatus(Player(), 'EminentWarrior') ||",
              "                                                RangerStatus(Player(), 'EminentTrader')  ||",
              "                                                RangerStatus(Player(), 'EminentPirate')  ||",
              "                                                RangerPlaceInRating(Player()) == 1",
              "                                              )",
              "                                            {",
              "                                                if(ShipRadarRange(Player()) >= 650)",
              "                                                {",
              "                                                    if(ShipHookPower(Player()) >= 1)",
              "                                                    {",
              "                                                        MercCenterId = tint1; //    ",
              "                                                        cur_planet = PlanetPirateClan(); //  ",
              "                                                        tint1 = PlanetRace(cur_planet);",
              "                                                        tint2 = PlanetOwner(cur_planet);",
              "                                                        PlanetRace(cur_planet, Peleng);",
              "                                                        PlanetOwner(cur_planet, Peleng);",
              "",
              "                                                        // ,     ",
              "                                                        cur_ship = BuyRanger(cur_planet, 1000);",
              "",
              "                                                        SetName(cur_ship, CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.BlasterTziptzilotName'));",
              "                                                        //  ,     ",
              "                                                        ShipType(cur_ship, 'BlasterTziptzilot');",
              "                                                        RangerExcludedFromRating(cur_ship, 1);",
              "                                                        if(ShipPilotRace(Player()) != Peleng || ShipFace(Player()) != 1) ShipFace(cur_ship, 1);",
              "                                                        else ShipFace(cur_ship, 0);",
              "",
              "                                                        //   ",
              "                                                        ShipStatus(cur_ship, 0, 50); //",
              "                                                        ShipStatus(cur_ship, 1, 20); //",
              "                                                        ShipStatus(cur_ship, 2, 30); //",
              "                                                        //\"\"      \"\"",
              "                                                        ShipSubType(cur_ship, 2);",
              "",
              "                                                        // ",
              "                                                        ShipSkill(cur_ship, 'Accuracy', 6);",
              "                                                        ShipSkill(cur_ship, 'Mobility', 4);",
              "                                                        ShipSkill(cur_ship, 'Technical', 5);",
              "                                                        ShipSkill(cur_ship, 'Trader', 6);",
              "                                                        ShipSkill(cur_ship, 'Charm', 6);",
              "                                                        ShipSkill(cur_ship, 'Leadership', 5);",
              "",
              "                                                        //       ",
              "                                                        cur_item = ShipItems(cur_ship, 0);",
              "                                                        HullSeries(cur_item, -1);",
              "                                                        ItemSize(cur_item, max(ItemSize(cur_item), 85 * GTL, 230));",
              "                                                        ItemSize(cur_item, ItemSize(cur_item) + RndObject(-10, 10, cur_ship));",
              "                                                        HullHP(cur_item, 'To100');",
              "                                                        SpecialToEquipment(FindBonusByNameInCfg('ShuMercs_FreeMercPelengHull'), cur_item);",
              "                                                        ShipSpecialBonuses(cur_ship, bonSlotForsage, 10);",
              "                                                        NoDropItem(cur_item, 1); //   ",
              "                                                        Chameleon(cur_ship);",
              "",
              "                                                        for(i = 1; i <= 5; i = i + 1) ShipRefit(cur_ship);",
              "",
              "                                                        cur_item = ShipWeapon(cur_ship, 1);",
              "                                                        if(ItemType(cur_item) == t_Weapon1) //      ",
              "                                                        {",
              "                                                            FreeItem(GetItemFromShip(cur_ship, cur_item));",
              "                                                            //  ,   ",
              "                                                            cur_item = CreateEquipment(GetValueFromScript('', 't_Weapon' + RndObject(3, 5, cur_ship)), RndObject(25, 50, cur_ship), PlanetInventionLevel(cur_planet, 7), tint1);",
              "                                                            AddItemToShip(cur_ship, cur_item);",
              "                                                        }",
              "                                                        cur_item = ShipWeapon(cur_ship, 2);",
              "                                                        if(!cur_item) //       ",
              "                                                        {",
              "                                                            //  ,   ",
              "                                                            cur_item = CreateEquipment(GetValueFromScript('', 't_Weapon' + RndObject(3, 5, cur_ship)), RndObject(25, 50, cur_ship), PlanetInventionLevel(cur_planet, 7), tint1);",
              "                                                            AddItemToShip(cur_ship, cur_item);",
              "                                                        }",
              "                                                        cur_item = ShipEqInSlot(cur_ship, t_CargoHook);",
              "                                                        if(!cur_item) //       ",
              "                                                        {",
              "                                                            //  ,   ",
              "                                                            cur_item = CreateEquipment(t_CargoHook, RndObject(25, 50, cur_ship), PlanetInventionLevel(cur_planet, 7), tint1);",
              "                                                            AddItemToShip(cur_ship, cur_item);",
              "                                                            ItemIsInUse(cur_item, 1);",
              "                                                            NoDropItem(cur_item, 1);",
              "                                                        }",
              "",
              "                                                        ShipImproveItems(cur_ship, 7);",
              "",
              "                                                        //   ( )  ",
              "                                                        NoTargetToShip(cur_ship, 3);",
              "                                                        //      ",
              "                                                        cur_item = CreateQuestItem('ShuMercsHQ_TziptzilotsKey', Peleng);",
              "                                                        ItemSize(cur_item, 1);",
              "                                                        LinkItemToScript(cur_item, TziptzilotsKey);",
              "                                                        ShipAddDropItem(cur_ship, cur_item);",
              "                                                        RelationToRanger(cur_ship, Player(), 100);",
              "",
              "                                                        ArrangeItems(cur_ship);",
              "                                                        //    ",
              "                                                        if(!GetShipRuins(Player())) TransferShip(cur_ship, GetShipPlanet(Player()));",
              "                                                        else TransferShip(cur_ship, GetShipRuins(Player()));",
              "                                                        ShipJoin(BlasterTziptzilot, cur_ship);",
              "",
              "                                                        PlanetRace(cur_planet, tint1);",
              "                                                        PlanetOwner(cur_planet, tint2);",
              "",
              "                                                        // ",
              "                                                        BuildOwnBase_Condition = 1;",
              "                                                    }",
              "                                                }",
              "                                            }",
              "                                        }",
              "                                    }",
              "                                }",
              "                            }",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "}",
              "else //if(BuildOwnBase_Condition > 0)",
              "{",
              "    // ,          , ,    ,   ",
              "    cur_ship = GroupToShip(BlasterTziptzilot);",
              "    cur_ruin = IdToShip(MercCenterId);",
              "    if(BuildOwnBase_Condition < 6)",
              "    {",
              "        //          ,   ",
              "        if(!cur_ship || !cur_ruin)",
              "        {",
              "            //   ,      ",
              "            if(cur_ship)",
              "            {",
              "                cur_planet = NearCivilPlanet(cur_ship);",
              "                SetData(0, 2, cur_ship);",
              "                SetData(Id(cur_planet) * 2, 2, cur_ship);",
              "                OrderLanding(cur_ship, cur_planet);",
              "            }",
              "",
              "            ReleaseItemFromScript(HoloTablet);",
              "            BuildOwnBase_Condition = -1;",
              "        }",
              "        //   ,      ",
              "        else if(BuildOwnBase_Condition == 4)",
              "        {",
              "            if(!StateIs(cur_ship, 'TziptzilotFollowPlayerState'))",
              "            {",
              "                //ChangeState('TziptzilotFollowPlayerState', cur_ship);",
              "                //       ",
              "                ShipJoinToScript(cur_ship, 'Mod_ShuMercsHQ.BlasterTziptzilot.TziptzilotFollowPlayerState');",
              "            }",
              "        }",
              "        else if((BuildOwnBase_Condition == 2 || BuildOwnBase_Condition == 3) && !GroupCount(TrancsCollectors))",
              "        {",
              "            BuildOwnBase_Condition = 4;",
              "",
              "            if(!StateIs(cur_ship, 'TziptzilotFollowPlayerState'))",
              "            {",
              "                //ChangeState('TziptzilotFollowPlayerState', cur_ship);",
              "                //       ",
              "                ShipJoinToScript(cur_ship, 'Mod_ShuMercsHQ.BlasterTziptzilot.TziptzilotFollowPlayerState');",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  833,
          "#":  834,
          "Total.Lines":  67,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ,    ",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "//   ",
              "if(Hit(CurShip, 0))",
              "{",
              "    if(BuildOwnBase_Condition >= 0)",
              "    {",
              "        BuildOwnBase_Condition = -BuildOwnBase_Condition;",
              "        if(ItemExist(HoloTablet)) ReleaseItemFromScript(HoloTablet);",
              "        ChangeState('TziptzilotAttackOnPlayerState');",
              "        Dialog(CurShip); //   CurShip    , ..      ",
              "        exit;",
              "    }",
              "}",
              "else RelationToRanger(CurShip, Player(), 100);",
              "",
              "//         ",
              "if(ShipStar(CurShip) == ShipStar(Player()))",
              "{",
              "    if(ShipInNormalSpace(Player()))",
              "    {",
              "        OrderLock(CurShip, 0);",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else",
              "        {",
              "            //int radar_range = ShipRadarRange(Player());",
              "            //if(radar_range)",
              "            //{",
              "            //    if(Dist(CurShip, Player()) <= radar_range)",
              "            //    {",
              "            //        check = 0;",
              "            //        Dialog(CurShip);",
              "            //    }",
              "            //}",
              "            //   -  ,     ,     ",
              "            //else",
              "            if(BuildOwnBase_Condition == 1) int dist = 5000;",
              "            else dist = 300;",
              "            if(Dist(CurShip, Player()) <= dist)",
              "            {",
              "                check = 0;",
              "                Dialog(CurShip);",
              "            }",
              "        }",
              "    }",
              "}",
              "//    (         ,       TziptzilotFlyAwayState)",
              "else",
              "{",
              "    OrderLock(CurShip, 1);",
              "    dword object = IdToShip(MercCenterId);",
              "    dword object_star = ShipStar(object);",
              "    if(object_star != ShipStar(CurShip))",
              "    {",
              "        if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "        else OrderJump(CurShip, object_star);",
              "    }",
              "    else",
              "    {",
              "        if(!ShipInNormalSpace(CurShip))",
              "        {",
              "            if(GetShipRuins(CurShip) != object) OrderTakeOff(CurShip);",
              "        }",
              "        else OrderLanding(CurShip, object);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  835,
          "#":  836,
          "Total.Lines":  162,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ( ,   ,    )",
              "//      ,      ",
              "//Data0 -   :",
              "// == 1 -      ,    ",
              "// == 2 -      ,   ,  ",
              "//Data2 - Id  /,     ",
              "//Data3 -   ,       (  ,       )",
              "",
              "//  ,    ",
              "if(ShipInHyperSpace(CurShip))",
              "{",
              "    //    ",
              "    if(GetData(0) == 3) ShipDestroy(CurShip, 1);",
              "    else exit;",
              "}",
              "",
              "//     ,     ,      ",
              "ShipSpecialBonuses(CurShip, bonHookRadius, -500);",
              "",
              "dword cur_star = ShipStar(CurShip);",
              "",
              "//   ",
              "if(Hit(CurShip, 0))",
              "{",
              "    if(BuildOwnBase_Condition >= 0)",
              "    {",
              "        BuildOwnBase_Condition = -BuildOwnBase_Condition;",
              "        if(ItemExist(HoloTablet)) ReleaseItemFromScript(HoloTablet);",
              "",
              "        //       ,    ",
              "        if(BuildOwnBase_Condition == -1)",
              "        {",
              "            //C -      ",
              "            for(int i = 1; i <= 2; i = i + 1) ExecuteCodeFromString(GenerateCodeStringFromBlock('UselessItems.ShuMercsHQ_HoloTablet.SpawnTrancCollector'), 'tranc_num', i, 'cur_state', 'TrancsFlyAwayState');",
              "            for(i = 0; i < 2; i = i + 1)",
              "            {",
              "                dword tranc = GroupShip(TrancsCollectors, i);",
              "                SetData(Id(StarNearbyStars(ShipStar(CurShip), 65)) - 1, 0, tranc);",
              "                SetData(Id(CurShip), 1, tranc);",
              "                SetData(0, 2, tranc);",
              "                ShipSetBad(tranc, CurShip);",
              "            }",
              "        }",
              "",
              "        ChangeState('TziptzilotAttackOnPlayerState');",
              "        if(!BuildOwnBase_Condition) BuildOwnBase_Condition = -1; // ,    ,       ",
              "        Dialog(CurShip); //   CurShip    , ..      ",
              "        exit;",
              "    }",
              "}",
              "else RelationToRanger(CurShip, Player(), 100);",
              "",
              "//      (       )",
              "ShipFreeFlight(CurShip);",
              "OrderLock(CurShip, 1);",
              "",
              "//  /",
              "if(GetData(2))",
              "{",
              "    if(!(GetData(2) % 2))",
              "    {",
              "        dword object = IdToPlanet(GetData(2) / 2);",
              "        if(GetShipPlanet(CurShip) != object)",
              "        {",
              "            dword object_star = PlanetToStar(object);",
              "            if(object_star != cur_star)",
              "            {",
              "                if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                else OrderJump(CurShip, object_star);",
              "            }",
              "            else",
              "            {",
              "                if(!ShipInNormalSpace(CurShip))",
              "                {",
              "                    if(GetShipPlanet(CurShip) != object) OrderTakeOff(CurShip);",
              "                }",
              "                else OrderLanding(CurShip, object);",
              "            }",
              "        }",
              "        //    ",
              "        else",
              "        {",
              "            //    ",
              "            if(GetData(0) == 2) ShipDestroy(CurShip, 1);",
              "        }",
              "    }",
              "    else",
              "    {",
              "        object = IdToShip((GetData(2) - 1) / 2);",
              "        if(object)",
              "        {",
              "            if(GetShipRuins(CurShip) != object)",
              "            {",
              "                object_star = ShipStar(object);",
              "                if(object_star != cur_star)",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip)) OrderTakeOff(CurShip);",
              "                    else OrderJump(CurShip, object_star);",
              "                }",
              "                else",
              "                {",
              "                    if(!ShipInNormalSpace(CurShip))",
              "                    {",
              "                        if(GetShipRuins(CurShip) != object) OrderTakeOff(CurShip);",
              "                    }",
              "                    else OrderLanding(CurShip, object);",
              "                }",
              "            }",
              "            //    ",
              "            else",
              "            {",
              "                //    ",
              "                if(GetData(0) == 2)",
              "                {",
              "                    ShipDestroy(CurShip, 1);",
              "                    //   ,     ",
              "                    if(BuildOwnBase_Condition == 5) BuildOwnBase_Condition = 6;",
              "                }",
              "                else OrderNone(CurShip);",
              "            }",
              "        }",
              "        //   ,  ",
              "        else",
              "        {",
              "            //     ",
              "            object = NearCivilPlanet(CurShip);",
              "            SetData(0, 2);",
              "            SetData(Id(object) * 2, 2);",
              "            OrderLanding(CurShip, object);",
              "            if(BuildOwnBase_Condition >= 0) BuildOwnBase_Condition = -BuildOwnBase_Condition;",
              "        }",
              "    }",
              "}",
              "//   ",
              "else",
              "{",
              "    float angle = pi * (ShipAngle(CurShip) + 90.0) / RndObject(179, 181, CurShip);",
              "    OrderMove(CurShip, cos(angle) * 10.0 + CoordX(CurShip), sin(angle) * 10.0 + CoordY(CurShip));",
              "}",
              "",
              "//  ,  ",
              "if(GetData(0) == 1 || GetData(0) == 3)",
              "{",
              "    if(ShipInNormalSpace(CurShip))",
              "    {",
              "        dword engine = ShipEqInSlot(CurShip, t_Engine);",
              "        if(ItemDurability(engine) < 33) ItemDurability(engine, 33);",
              "        OrderForsage(CurShip, 1);",
              "    }",
              "    else",
              "    {",
              "        SetData(0, 0);",
              "        OrderForsage(CurShip, 0);",
              "    }",
              "}",
              "",
              "//     ,   ",
              "if(GetData(3))//BuildOwnBase_Condition == 2)",
              "{",
              "    Dialog(Player());",
              "    exit;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  838,
          "#":  839,
          "Total.Lines":  30,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "if(!Hit(cur_ship, 0))",
              "{",
              "    if(BuildOwnBase_Condition == 2)",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotVerySorry');",
              "    }",
              "    else //if(BuildOwnBase_Condition < 0)",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAfterQuestDone');",
              "    }",
              "",
              "    //      ",
              "    NoTalkToShip(cur_ship, 1);",
              "    // ",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}",
              "//    ",
              "else",
              "{",
              "    if(abs(BuildOwnBase_Condition) >= 2) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotOnPlayerAggression');",
              "    //       ,     ",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotOnPlayerAggressionAtBegin');",
              "",
              "    //      ",
              "    NoTalkToShip(cur_ship, 1);",
              "",
              "    // ",
              "    tstr2 = '</color>' + CT('Talk.Exit');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  811,
          "#":  842,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//BuildOwnBase_Condition == < 0 -       ,     (   ,     ,    )",
              "//BuildOwnBase_Condition ==   0 -          ",
              "//BuildOwnBase_Condition ==   1 -   ,    ,       ,    ",
              "//BuildOwnBase_Condition ==   2 -   ,       ",
              "//BuildOwnBase_Condition ==   3 -          ",
              "//BuildOwnBase_Condition ==   4 -         ,     (      )   ",
              "//BuildOwnBase_Condition ==   5 -         (  ),    ",
              "//BuildOwnBase_Condition ==   6 -       ,   ",
              "",
              "cur_ship = GetTalkShip();"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  843,
          "#":  844,
          "Total.Lines":  9,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "//   ,   ",
              "OrderLock(CurShip, 1);",
              "if(ShipStar(Player()) != ShipStar(CurShip))",
              "{",
              "    if(!GetShipPlanet(CurShip)) OrderLanding(CurShip, NearCivilPlanet(CurShip));",
              "    else ShipDestroy(CurShip, 1);",
              "}",
              "else OrderFollowShip(CurShip, Player(), 1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  846,
          "#":  847,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.MercCenterAboutTziptzilotsKey');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerCheckTziptzilotsStorage');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  849,
          "#":  850,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ",
              "FreeItem(GetItemFromShip(Player(), ScriptItemToItem(TziptzilotsKey)));",
              "//     ",
              "cost = RoundTo(max(100000, 3 * GalaxyMoney(4, 4)), 10000, 0);",
              "cur_item = CreateQuestItem('ShuMercsHQ_TurbinatorFigurine', 1);",
              "ItemSize(cur_item, 1);",
              "ItemCost(cur_item, 1);",
              "AddItemToShip(Player(), cur_item);",
              "ShipMoney(Player(), ShipMoney(Player()) + cost);",
              "Sound('Sound.Sell');",
              "MessageBox(Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotsStorageContentMsg'), '<Money'+'>', cost));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  851,
          "#":  852,
          "Total.Lines":  14,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//Data0 -  ,    ",
              "//Data1 -  ,      ",
              "//Data2 - ---",
              "//Data3 -    ",
              "",
              "cur_ship = GetTalkShip();",
              "cost = GetData(3, cur_ship);",
              "if(BuildOwnBase_Condition > 0)",
              "{",
              "    if(BuildOwnBase_Condition <= 3) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancCollectorGreets'), '<Cost'+'>', cost);",
              "    else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancWhileFlyAway');",
              "}",
              "//   ",
              "else tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancWhileChaseTziptzilot');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  857,
          "#":  858,
          "Total.Lines":  36,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ,      ",
              "//Data0 -  ,    ",
              "//Data1 -  ,      ",
              "//Data2 -   ,             ",
              "//Data3 -    ",
              "",
              "ShipSetBad(CurShip, Player());",
              "if(ShipInHyperSpace(CurShip)) exit;",
              "",
              "if(ShipStar(CurShip) != ShipStar(Player()))",
              "{",
              "    OrderLock(CurShip, 1);",
              "    OrderJump(CurShip, ShipStar(Player()));",
              "}",
              "else",
              "{",
              "    OrderLock(CurShip, 0);",
              "",
              "    //        ",
              "    if(!GetData(2))",
              "    {",
              "        if(ShipInNormalSpace(Player()))",
              "        {",
              "            if(Dist(Player(), CurShip) <= ShipRadarRange(Player()))",
              "            {",
              "                for(int i = 0; i < GroupCount(TrancsCollectors); i = i + 1)",
              "                {",
              "                    dword cur_ship = GroupShip(TrancsCollectors, i);",
              "                    SetData(1, 2, cur_ship);",
              "                }",
              "",
              "                Dialog(CurShip);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  859,
          "#":  860,
          "Total.Lines":  26,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//        ",
              "//Data0 - Id ,     ",
              "//Data1 - Id ,     (),   ",
              "//Data2 -        ",
              "OrderLock(CurShip, 1);",
              "ShipFreeFlight(CurShip); //       ",
              "if(ShipInNormalSpace(CurShip))",
              "{",
              "    if(!GetData(1)) OrderJump(CurShip, GalaxyStar(GetData(0)));",
              "    else",
              "    {",
              "        dword target = IdToShip(GetData(1));",
              "        if(target) OrderFollowShip(CurShip, target, 1);",
              "        else",
              "        {",
              "            SetData(0, 1);",
              "            OrderJump(CurShip, GalaxyStar(GetData(0)));",
              "        }",
              "    }",
              "}",
              "else",
              "{",
              "    //     \"\"    ",
              "    if(GetData(2)) ShipDestroy(CurShip, 1);",
              "    else SetData(1, 2);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  853,
          "#":  862,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   -   ",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerRefusesToPay');",
              "tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAgreedToPay'), '<Cost'+'>', cost);",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerTrancOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  854,
          "#":  863,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerWantsToSendRequest');",
              "tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAgreedToPayAfterTalk'), '<Cost'+'>', cost);",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerTrancOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  867,
          "#":  868,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ,    ",
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "Sound('Sound.Buy');",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancReceivesPayment');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAfterPay');",
              "",
              "for(int i = 0; i < GroupCount(TrancsCollectors); i = i + 1)",
              "{",
              "    cur_ship = GroupShip(TrancsCollectors, i);",
              "    ShipSetBad(cur_ship, 0);",
              "    SetData(Id(StarNearbyStars(ShipStar(cur_ship), 60)) - 1, 0, cur_ship);",
              "    SetData(0, 1, cur_ship);",
              "    SetData(0, 2, cur_ship);",
              "    SetData(0, 3, cur_ship);",
              "    ChangeState('TrancsFlyAwayState', cur_ship);",
              "}",
              "",
              "BuildOwnBase_Condition = 4;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  866,
          "#":  869,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancOfferToSendRequest');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerRefusesToPayTrue');",
              "",
              "tint1 = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  878,
          "#":  877,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ,         ",
              "BuildOwnBase_Condition = 3;",
              "",
              "//         ",
              "if(!tint1) tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancAskForCaptchaStart'), '<Count'+'>', GetData(1, cur_ship));",
              "//    ",
              "else tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancAskForCaptchaAfterMistake'), '<Count'+'>', GetData(1, cur_ship));",
              "tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancAskForCaptcha' + GetData(0, cur_ship));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerInsertAnswer');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerRefusesToAnswer');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  883,
          "#":  884,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancOnRefuse');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  50,
          "Parent":  882,
          "#":  887,
          "Total.Lines":  29,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2 = TextBox(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.InsertAnswer'));",
              "",
              "//   ,   ,   ",
              "if(tint2 == int(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.CaptchaAnswer' + GetData(0, cur_ship))))",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancAnswerIsCorrect');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerOnAnswerIsCorrect');",
              "",
              "    for(int i = 0; i < GroupCount(TrancsCollectors); i = i + 1)",
              "    {",
              "        cur_ship = GroupShip(TrancsCollectors, i);",
              "        ShipSetBad(cur_ship, 0);",
              "        SetData(Id(StarNearbyStars(ShipStar(cur_ship), 60)) - 1, 0, cur_ship);",
              "        SetData(0, 1, cur_ship);",
              "        SetData(0, 2, cur_ship);",
              "        SetData(0, 3, cur_ship);",
              "        ChangeState('TrancsFlyAwayState', cur_ship);",
              "    }",
              "",
              "    BuildOwnBase_Condition = 4;",
              "}",
              "//   ,   ",
              "else",
              "{",
              "    SetData(GetData(1, cur_ship) - 1, 1, cur_ship);",
              "    tint1 = 1;",
              "",
              "    if(!GetData(1, cur_ship)) tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TrancAnswerNoMoreTries');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  900,
          "#":  901,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAfterConflictDone');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAgreedToForgive');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerRefusesToForgive');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  903,
          "#":  907,
          "Total.Lines":  8,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAfterNonForgive');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAfterNonForgive');",
              "",
              "ChangeState('TziptzilotAttackOnPlayerState', cur_ship);",
              "ShipSetBad(cur_ship, Player());",
              "",
              "// ",
              "BuildOwnBase_Condition = -BuildOwnBase_Condition;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  906,
          "#":  908,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.TziptzilotAfterForgive');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.PlayerAfterForgive');",
              "",
              "//   ",
              "cur_item = CreateQuestItem('ShuMercsHQ_AgedEkupBottle', Fei);",
              "ItemSize(cur_item, 1);",
              "//    ",
              "float angle = pi * (-Angle(cur_ship, Player())) / 180;",
              "int dist_to = min(Dist(cur_ship, Player()) / 2, 200);",
              "int dest_coord_X = round(sin(angle) * dist_to) + CoordX(cur_ship);",
              "int dest_coord_Y = round(cos(angle) * dist_to) + CoordY(cur_ship);",
              "DropItemInSystem(ShipStar(cur_ship), cur_item, CoordX(cur_ship), CoordY(cur_ship), dest_coord_X, dest_coord_Y);",
              "",
              "OrderForsage(cur_ship, 0);",
              "SetData(2, 0, cur_ship);",
              "SetData(MercCenterId * 2 + 1, 2, cur_ship);",
              "ChangeState('TziptzilotFlyAwayState', cur_ship);",
              "//  ",
              "BuildOwnBase_Condition = 5;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  290,
          "Pos.y":  350,
          "Parent":  -1,
          "#":  911,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ",
              "tstr2 = '</color>' + CT('Talk.Exit');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  912,
          "#":  913,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   MessageBox()   ,     ",
              "",
              "cur_ship = GroupToShip(BlasterTziptzilot);",
              "SetData(1, 0, cur_ship);",
              "SetData(MercCenterId * 2 + 1, 2, cur_ship);",
              "SetData(0, 3, cur_ship);",
              "ShipFreeFlight(cur_ship); //   ",
              "OrderForsage(cur_ship, 1); //     , -,   ",
              "",
              "//if(GetData(3, cur_ship))",
              "InterfaceState('Talk', 'MainPanel', 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  914,
          "#":  915,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "Sound('Sound.Scan');",
              "MessageBox(CT('Script.Mod_ShuMercs.QuestBeforePlayerOrgDialogs.HoloTabletPickedUpMsg'), 10);",
              "ButtonClick('Talk', 'Close');",
              "InterfaceState('Talk', 'MainPanel', -1);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  928,
          "#":  920,
          "Total.Lines":  47,
          "Code.Type":  "Turn",
          "Code":          
          [
              "int cost = tarr1[GAnswerData, 'Cost'];",
              "if(ShipMoney(Player()) >= cost)",
              "{",
              "    tstr1 = CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAccountPaymentOffer');",
              "    if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost) tstr1 = tstr1 + ' ' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAccountPaymentOfferAdd');",
              "",
              "    if(MessageBoxYesNo(tstr1))",
              "    {",
              "        ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "        tint1 = 1;",
              "        Sound('Sound.Buy');",
              "    }",
              "    else if(PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost)",
              "    {",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "        PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + cost;",
              "        tint1 = 1;",
              "        Sound('Sound.Buy');",
              "    }",
              "    else",
              "    {",
              "        tint1 = 0;",
              "    }",
              "}",
              "else",
              "{",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "    PlayerHQMainArray['Finance', 'StatsOutEquipments'] = PlayerHQMainArray['Finance', 'StatsOutEquipments'] + cost;",
              "    tint1 = 1;",
              "    Sound('Sound.Buy');",
              "}",
              "",
              "//    ",
              "if(tint1)",
              "{",
              "    PlayerHQMainArray['Shipyard', 'ShipInProduction'] = GetVariableName(tarr1[GAnswerData]);",
              "    PlayerHQMainArray['Shipyard', 'ShipInProductionTime'] = CurTurn() + tarr1[GAnswerData, 'ProductionTime'];",
              "    PlayerHQMainArray['Shipyard', 'ShipInProductionCost'] = tarr1[GAnswerData, 'Cost'];",
              "    tstr1 = tarr1[GAnswerData, 'Name'];",
              "    if(GetParFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.', ParsCountFromString(PlayerHQMainArray['Shipyard', 'ShipInProduction'], '.') - 2, 0) == 'Tranclucator')",
              "    {",
              "        tstr1 = lowercase(tstr1);",
              "        PlayerHQMainArray['Shipyard', 'NextTrancProductionTime'] = 1 + CT(PlayerHQMainArray['Shipyard', 'ShipInProduction'] + 'DelayInProduction') + PlayerHQMainArray['Shipyard', 'ShipInProductionTime'];",
              "    }",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.ConstructionIsStarted'), '<ShipName'+'>', tstr1, '<Days'+'>', tarr1[GAnswerData, 'ProductionTime']);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  926,
          "#":  927,
          "Total.Lines":  46,
          "Code.Type":  "Turn",
          "Code":          
          [
              "for(i = 0; i < ArrayDim(tarr1); i = i + 1)",
              "{",
              "    int is_ok = 1;",
              "",
              "    if(ShipMoney(Player()) < tarr1[i, 'Cost'] && PlayerHQMainArray['Finance', 'CurrentBalance'] < tarr1[i, 'Cost']) is_ok = 0;",
              "    else",
              "    {",
              "        if(!tarr1[i, 'Owner'])",
              "        {",
              "           if(check < tarr1[i, 'RequiredReputation']) is_ok = 0;",
              "        }",
              "        else if(tarr1[i, 'Owner'] == 1)",
              "        {",
              "            if(PlayerHQMainArray['Main', 'CoalitionReputation'] < tarr1[i, 'RequiredReputation']) is_ok = 0;",
              "        }",
              "        else //if(tarr1[i, 'Owner'] == 2)",
              "        {",
              "            if(PlayerHQMainArray['Main', 'PirateClanReputation'] < tarr1[i, 'RequiredReputation']) is_ok = 0;",
              "        }",
              "    }",
              "",
              "    //         ",
              "    if(GetParFromString(GetVariableName(tarr1[i]), '.', ParsCountFromString(GetVariableName(tarr1[i]), '.') - 2, 0) == 'Tranclucator')",
              "    {",
              "        if(CurTurn() < PlayerHQMainArray['Shipyard', 'NextTrancProductionTime']) is_ok = 0;",
              "    }",
              "",
              "    str name = Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerConstructionStart'), '<ShipName'+'>', tarr1[i, 'Name']);",
              "    if(!is_ok)",
              "    {",
              "        name = DeleteTags(name);",
              "        if(GetParFromString(GetVariableName(tarr1[i]), '.', ParsCountFromString(GetVariableName(tarr1[i]), '.') - 2, 0) == 'Tranclucator')",
              "        {",
              "            if(CurTurn() < PlayerHQMainArray['Shipyard', 'NextTrancProductionTime'])",
              "            {",
              "                name = name + ' ' + Format(CT(GetVariableName(tarr1[i]) + 'DelayInProductionAddText'), '<NextProductionDaysLeft'+'>', PlayerHQMainArray['Shipyard', 'NextTrancProductionTime'] - CurTurn(), '');",
              "            }",
              "        }",
              "",
              "        AddDialogBlock(name, 1);",
              "    }",
              "",
              "    InjectAnswer('PlayerHQShipyardProjectsList', name, i);",
              "}",
              "",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerConstructionCancel');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -1970,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  929,
          "Total.Lines":  2,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "tstr1 = tstr4;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  930,
          "#":  931,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.AfterCancel'),",
              "                               '<CoalitionReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%',",
              "                               '<PiratesReputation'+'>', '' + (0 + RoundTo(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 0, 100), 1.0, -1)) + '%');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerAskForConstruction');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerOutAfterCancel');",
              "",
              "//      25%,     (   )",
              "tint1 = max(PlayerHQMainArray['Main', 'CoalitionReputation'], PlayerHQMainArray['Main', 'PirateClanReputation']);",
              "if(tint1 >= 0) tint1 = 1;",
              "else tint1 = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  936,
          "#":  937,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn())",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskPortalGenerator');",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQMainDialog.PlayerAskPortalGeneratorOnRecharge'),",
              "                                   '<DaysLeft'+'>', PlayerHQMainArray['Science', 'PortalGeneratorTimer'] - CurTurn(), '');",
              "    AddDialogBlock(tstr1, 1);",
              "}",
              "InjectAnswer('PlayerHQPortalGeneratorDialog', tstr1, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  938,
          "#":  939,
          "Total.Lines":  20,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_ruin = GroupToShip(PlayerHQ);",
              "cur_star = ShipStar(cur_ruin);",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.Greeting');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskShortJump');",
              "if(!ItemExist(ApprovalDocuments))",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJump');",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr3 = Name(GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1))));",
              "    tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJumpReady'), '<Star'+'>', tstr3);",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn() && ScriptItemData(ApprovalDocuments, 2)) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskExtraction');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  943,
          "#":  946,
          "Total.Lines":  34,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(ShipInNormalSpace(Player()))",
              "{",
              "    if(ShipStar(Player()) == cur_star)",
              "    {",
              "        //   ",
              "        if(Dist(Player(), cur_star) < 600)",
              "        {",
              "            tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpMyCoords') + ' ' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerCoordsTooClose');",
              "            AddDialogBlock(tstr1, 1);",
              "        }",
              "        //   ",
              "        else if(Dist(Player(), cur_star) > PlanetOrbitRadius(StarPlanets(cur_star, StarPlanets(cur_star) - 1)) + 800)",
              "        {",
              "            tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpMyCoords') + ' ' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerCoordsTooFar');",
              "            AddDialogBlock(tstr1, 1);",
              "        }",
              "        //",
              "        else tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpMyCoords');",
              "",
              "        InjectAnswer('PortalGeneratorShortJump', tstr1, Player());",
              "    }",
              "}",
              "",
              "for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "{",
              "    cur_planet = StarPlanets(cur_star, i);",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpPlanetCoords'),",
              "                                   '<Planet'+'>', Name(cur_planet));",
              "    InjectAnswer('PortalGeneratorShortJump', tstr1, cur_planet);",
              "}",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpWhatCoords');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerBack');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  945,
          "#":  947,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = ShipStar(Player());",
              "//  ",
              "//tint1 = Dist2Star(cur_star, tdwd1) / 10 + 1;",
              "tint1 = PortionInDiapason(round(sqrt(Dist2Star(cur_star, tdwd1))), 1, 125, 1, 3);",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ExtractionConfirm'),",
              "                               '<Star'+'>', Name(tdwd1),",
              "                               '<Days'+'>', tint1,",
              "                               '<Cooldown'+'>', CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionCooldown'));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerExtractionYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerExtractionNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  957,
          "#":  958,
          "Total.Lines":  17,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.Greeting');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskShortJump');",
              "if(!ItemExist(ApprovalDocuments))",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJump');",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr3 = Name(GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1))));",
              "    tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJumpReady'), '<Star'+'>', tstr3);",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn() && ScriptItemData(ApprovalDocuments, 2)) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskExtraction');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  959,
          "#":  961,
          "Total.Lines":  24,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = GAnswerData;",
              "if(PlayerHQJumpReady == '')",
              "{",
              "    //       ,     \"\"  \"\"",
              "    PlayerHQJumpReady = 'PortalGeneratorShortJump';",
              "    GotoGov(2);",
              "    if(!PlayerBridge()) Sound('Sound.PG_Activation');",
              "}",
              "",
              "//     (..      )",
              "if(GotoGov() && PlayerBridge())",
              "{",
              "    InterfaceState('RuinsTalk', 'ButFormClose', 0);",
              "    InterfaceState('RuinsTalk', 'ButFormCloseImgLock', 1);",
              "    InterfacePos('RuinsTalk', 'ButFormCloseImgLock', UICheckElement('RuinsTalk', 'ButFormClose', 'PosX'), UICheckElement('RuinsTalk', 'ButFormClose', 'PosY'), 1.0);",
              "}",
              "",
              "if(tdwd1 == Player()) tstr1 = CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpPlacePlayer');",
              "else tstr1 = Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpPlacePlanet'), '<Planet'+'>', Name(tdwd1));",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpActivation'),",
              "                               '<Place'+'>', tstr1, '');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  963,
          "#":  967,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpGo');",
              "if(!PlayerBridge()) tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpGo');",
              "else tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerShortJumpGoBridge');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  964,
          "#":  968,
          "Total.Lines":  13,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorDeactivationCooldown');",
              "",
              "PlayerHQJumpReady = '';",
              "GotoGov(0);",
              "if(!PlayerBridge()) Sound('Sound.PG_Deactivation');",
              "else",
              "{",
              "    InterfaceState('RuinsTalk', 'ButFormClose', 3);",
              "    InterfaceState('RuinsTalk', 'ButFormCloseImgLock', -1);",
              "}",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ShortJumpDeactivation');",
              "tstr2 = '';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  993,
          "#":  969,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = GAnswerData; //,   ,     ",
              "//  ",
              "tint1 = round(sqrt(Dist2Star(cur_star, tdwd1))) / 10 + 1;",
              "",
              "//    ",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpRegistration'),",
              "                               '<Star'+'>', Name(tdwd1),",
              "                               '<JumpTime'+'>', tint1);",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpRegistrationYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpRegistrationNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  972,
          "#":  973,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "while(ShipInHyperSpace(cur_ruin) || PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] != '') ButtonClick('RuinsTalk', 'PM_EndTurn');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  982,
          "#":  977,
          "Total.Lines":  23,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//  ,         ",
              "ScriptItemData(ApprovalDocuments, 1, 0);",
              "ScriptItemData(ApprovalDocuments, 2, 0);",
              "ScriptItemData(ApprovalDocuments, 3, 0);",
              "ScriptItemTextData(ApprovalDocuments, 1, '');",
              "ScriptItemTextData(ApprovalDocuments, 2, '');",
              "ScriptItemTextData(ApprovalDocuments, 3, '');",
              "//       ",
              "cur_item = ScriptItemToItem(ApprovalDocuments);",
              "ReleaseItemFromScript(ApprovalDocuments);",
              "FreeItem(GetItemFromShip(Player(), cur_item));",
              "",
              "//          ",
              "GBuildOwnBase_QuestsGiven = '';",
              "",
              "//          ",
              "for(i = ArrayDim(BuildOwnBase_QuestsArray) - 1; i > 0; i = i - 1) EtherDelete(BuildOwnBase_QuestsArray[i, 1]);",
              "free(BuildOwnBase_QuestsArray);",
              "BuildOwnBase_QuestsArray = newarray(1, 1);",
              "",
              "EtherDelete('PlayerHQRelocation');",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpCancelConfirmYes');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  988,
          "#":  978,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpCancelConfirm');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpCancelConfirmYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpCancelConfirmNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  983,
          "#":  989,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpCancelConfirmNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  990,
          "#":  992,
          "Total.Lines":  30,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = PlayerHQMainArray['Science', 'PortalGeneratorRange'];",
              "",
              "check = 0;",
              "for(i = 0; i < GalaxyStars(); i = i + 1)",
              "{",
              "    tdwd1 = StarNearbyStars(cur_star, i);",
              "    if(StarNearbyStarsDist(cur_star, i) > PlayerHQMainArray['Science', 'PortalGeneratorRange']) continue;",
              "    if(StarOwner(tdwd1) != 0) continue;",
              "    if(StarCustomFaction(tdwd1) != '') continue;",
              "    if(Id(tdwd1) - 1 == PlayerHQMainArray['Main', 'HQStar']) continue; //   ",
              "    // ,     ",
              "    if(!SectorVisible(StarToCon(tdwd1))) continue;",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpToStar'),",
              "                                   '<Star'+'>', Name(tdwd1));",
              "    InjectAnswer('PortalGeneratorLongJump', tstr1, tdwd1);",
              "    check = 1;",
              "}",
              "",
              "if(check)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpWhatStar');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerBack');",
              "}",
              "//        ",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpNoStars');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpNoStars');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  0,
          "Parent":  999,
          "#":  1000,
          "Total.Lines":  40,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cur_item = CreateQuestItem('ShuMercsHQ_ApprovalDocuments', Peleng);",
              "SetName(cur_item, CT('UselessItems.ShuMercsHQ_ApprovalDocuments.NameRelocation'));",
              "ItemSize(cur_item, 8);",
              "LinkItemToScript(cur_item, ApprovalDocuments);",
              "AddItemToShip(Player(), cur_item);",
              "NoDropItem(cur_item, 1);",
              "",
              "ScriptItemTextData(cur_item, 1, Id(tdwd1) - 1);",
              "ScriptItemData(cur_item, 1, StarOwner(tdwd1));",
              "",
              "tstr1 = '';",
              "tstr2 = '';",
              "for(i = 0; i < StarPlanets(tdwd1); i = i + 1)",
              "{",
              "    cur_planet = StarPlanets(tdwd1, i);",
              "    if(PlanetOwner(cur_planet) == 6) continue;",
              "    //ScriptItemTextData2 ==          '0,2,3'... (    StarPlanets(star, N))",
              "    //ScriptItemTextData3 ==            '0,1,0'...",
              "    tstr1 = tstr1 + i + ',';",
              "    tstr2 = tstr2 + '0,';",
              "    ScriptItemData(cur_item, 3, ScriptItemData(cur_item, 3) + 1);",
              "}",
              "ScriptItemTextData(cur_item, 2, tstr1);",
              "ScriptItemTextData(cur_item, 3, tstr2);",
              "",
              "//    (      )",
              "ApprovalDocumentsTextUpdate(cur_item);",
              "",
              "//      ",
              "tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Title');",
              "tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\";",
              "if(!StarOwner(tdwd1)) tstr1 = tstr1 + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Stage1'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "else tstr1 = tstr1 + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Stage1'), '<Star'+'>', '<color=255,240,100>' + Name(cur_star) + '</color>', '');",
              "CustomEther('QuestInProcess_PlayerMercsOrg', 3, 'PlayerHQRelocation', tstr1);",
              "",
              "//    ",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpRegistrationStarted'),",
              "                               '<Star'+'>', Name(tdwd1));",
              "tstr2 = '';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  998,
          "#":  1001,
          "Total.Lines":  18,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpRegistrationNo'),",
              "                               '<Star'+'>', Name(tdwd1));",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskShortJump');",
              "if(!ItemExist(ApprovalDocuments))",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJump');",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr3 = Name(GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1))));",
              "    tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJumpReady'), '<Star'+'>', tstr3);",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn() && ScriptItemData(ApprovalDocuments, 2)) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskExtraction');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  994,
          "#":  1004,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tdwd1 = GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1)));",
              "if(PlayerHQJumpReady == '')",
              "{",
              "    //       ,     \"\"  \"\"",
              "    PlayerHQJumpReady = 'PortalGeneratorLongJump';",
              "    GotoGov(2);",
              "    if(!PlayerBridge()) Sound('Sound.PG_Activation');",
              "}",
              "",
              "//     (..      )",
              "if(GotoGov() && PlayerBridge())",
              "{",
              "    InterfaceState('RuinsTalk', 'ButFormClose', 0);",
              "    InterfaceState('RuinsTalk', 'ButFormCloseImgLock', 1);",
              "    InterfacePos('RuinsTalk', 'ButFormCloseImgLock', UICheckElement('RuinsTalk', 'ButFormClose', 'PosX'), UICheckElement('RuinsTalk', 'ButFormClose', 'PosY'), 1.0);",
              "}",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpActivation'),",
              "                               '<Star'+'>', Name(tdwd1), '');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpYes');",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpNo');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1007,
          "#":  1009,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpGo');",
              "if(!PlayerBridge()) tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpGo');",
              "else tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerLongJumpGoBridge');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1008,
          "#":  1010,
          "Total.Lines":  13,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorDeactivationCooldown');",
              "",
              "PlayerHQJumpReady = '';",
              "GotoGov(0);",
              "if(!PlayerBridge()) Sound('Sound.PG_Deactivation');",
              "else",
              "{",
              "    InterfaceState('RuinsTalk', 'ButFormClose', 3);",
              "    InterfaceState('RuinsTalk', 'ButFormCloseImgLock', -1);",
              "}",
              "",
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.LongJumpDeactivation');",
              "tstr2 = '';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1016,
          "#":  1018,
          "Total.Lines":  12,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//,          ",
              "PlayerHQMainArray['Science', 'PortalGeneratorReturnData'] = '' + (CurTurn() + tint1 + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionWaitDays')) + ','",
              "                                                               + (Id(cur_star) - 1) + ','",
              "                                                               + CoordX(cur_ruin) + ','",
              "                                                               + CoordY(cur_ruin);",
              "",
              "OrderTeleport(cur_ruin, tdwd1, CoordX(cur_ruin), CoordY(cur_ruin), 1, tint1);",
              "",
              "PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionCooldown');",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ExtractionYes'),",
              "                               '<WaitDays'+'>', CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorExtractionWaitDays'));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1017,
          "#":  1019,
          "Total.Lines":  17,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.ExtractionNo');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskShortJump');",
              "if(!ItemExist(ApprovalDocuments))",
              "{",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJump');",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "else",
              "{",
              "    tstr3 = Name(GalaxyStar(int(ScriptItemTextData(ApprovalDocuments, 1))));",
              "    tstr3 = '</color>' + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskLongJumpReady'), '<Star'+'>', tstr3);",
              "    if(PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn() && ScriptItemData(ApprovalDocuments, 2)) tint1 = 1;",
              "    else tint1 = 0;",
              "}",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerAskExtraction');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercsHQ.PlayerHQPortalGeneratorDialog.PlayerOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1022,
          "#":  1023,
          "Total.Lines":  13,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "if(!PlayerHQMainArray['Science', 'PortalGenerator'])",
              "{",
              "    PlayerHQMainArray['Science', 'PortalGenerator'] = -1;",
              "    tstr7 = '';",
              "}",
              "//      ,     ",
              "else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -1) tstr7 = 'Again';",
              "//    (  )",
              "else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -2) tstr7 = 'Twice';",
              "",
              "cost = RoundTo(max(2000000, GalaxyMoney(4, 4) * 40), 1000, 0);",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGenerator' + tstr7), '<Cost'+'>', cost, '<CurrentBalance'+'>', int(PlayerHQMainArray['Finance', 'CurrentBalance']));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1024,
          "#":  1025,
          "Total.Lines":  64,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//     ",
              "if(!GAnswerData)",
              "{",
              "    //   (6-    )",
              "    Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel' + min(PlayerHQMainArray['Main', 'HQLevel'], 5));",
              "",
              "    PlayerHQMainArray['Science', 'PortalGenerator'] = 1;",
              "    //PlayerHQMainArray['Science', 'PortalGeneratorRange'] = 0;",
              "    //   (       )",
              "    tint1 = CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorBuildingCooldown');",
              "    PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + tint1;",
              "    ShipAddCustomShipInfo(cur_ruin, 'ShuMercsHQ_PortalGenerator', '', PlayerHQMainArray['Science', 'PortalGeneratorRange'], 0, 0, CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorBuildingCooldown') + CT('ShipInfo.AddInfo.CustomInfos.ShuMercsHQ_PortalGenerator.DaysLeft'));",
              "",
              "    PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] - cost;",
              "    Sound('Sound.Buy');",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorBuildStarted' + tstr7), '<DaysLeft'+'>', tint1);",
              "    tstr4 = '';",
              "}",
              "//     ",
              "else if(GAnswerData == 1)",
              "{",
              "    //   (6-    )",
              "    Chameleon(cur_ruin, 'Ruins.PlayerMBWithPGLevel' + min(PlayerHQMainArray['Main', 'HQLevel'], 5));",
              "",
              "    PlayerHQMainArray['Science', 'PortalGenerator'] = 1;",
              "    //PlayerHQMainArray['Science', 'PortalGeneratorRange'] = 0;",
              "    //   (       )",
              "    tint1 = CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorBuildingCooldown');",
              "    PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + tint1;",
              "    ShipAddCustomShipInfo(cur_ruin, 'ShuMercsHQ_PortalGenerator', '', PlayerHQMainArray['Science', 'PortalGeneratorRange'], 0, 0, CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorBuildingCooldown') + CT('ShipInfo.AddInfo.CustomInfos.ShuMercsHQ_PortalGenerator.DaysLeft'));",
              "",
              "    ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "    Sound('Sound.Buy');",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorBuildStarted' + tstr7), '<DaysLeft'+'>', tint1);",
              "    tstr4 = '';",
              "}",
              "//   ",
              "else /*if(GAnswerData == 2)*/",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PortalGeneratorBuildCancel' + tstr7);",
              "",
              "    if(PlayerHQMainArray['Science', 'PortalGenerator'] == -1) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorAgain');",
              "    else if(PlayerHQMainArray['Science', 'PortalGenerator'] == -2) tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskPortalGeneratorTwice');",
              "    else tstr4 = '';",
              "}",
              "",
              "//   ",
              "if(PlayerHQMainArray['Science', 'SpeedUpRefill'] <= CurTurn())",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUp');",
              "    tint2 = 1;",
              "}",
              "//         ",
              "else",
              "{",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskSpeedUpNotEnough');",
              "    tint2 = 0;",
              "}",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerAskReliabilityImprove');",
              "tstr5 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerOut');",
              "",
              "tint1 = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1028,
          "#":  1029,
          "Total.Lines":  18,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerPortalGeneratorYesOrgBalance' + tstr7);",
              "if(PlayerHQMainArray['Finance', 'CurrentBalance'] < cost)",
              "{",
              "    tstr2 = DeleteTags(tstr2);",
              "    AddDialogBlock(tstr2, 1);",
              "}",
              "InjectAnswer('PortalGeneratorBuild', tstr2, 0);",
              "",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerPortalGeneratorYesOwnMoney' + tstr7);",
              "if(ShipMoney(Player()) < cost)",
              "{",
              "    tstr3 = DeleteTags(tstr3);",
              "    AddDialogBlock(tstr3, 1);",
              "}",
              "InjectAnswer('PortalGeneratorBuild', tstr3, 1);",
              "",
              "tstr4 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQScienceDialog.PlayerPortalGeneratorNo' + tstr7);",
              "InjectAnswer('PortalGeneratorBuild', tstr4, 2);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  1034,
          "#":  1035,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "dword HQ = GroupToShip(PlayerHQ);",
              "//dword HQstar = ShipStar(HQ);",
              "if(RelationToRanger(CurShip, Player()) < 100) RelationToRanger(CurShip, Player(), 100);",
              "ShipOwner(CurShip, ShipOwner(HQ));",
              "",
              "//          ",
              "if(PlayerHQMainArray['Finance', 'SalariesDay'] <= CurTurn())",
              "{",
              "    ShipMoney(CurShip, ShipMoney(CurShip) + GalaxyMoney(2, 2) * 10);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1038,
          "#":  1036,
          "Total.Lines":  19,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 = GAnswerData;",
              "//   ",
              "if(!tint1)",
              "{",
              "    FormChange('Ship', cur_ship);",
              "    //      (-      )",
              "    ShipCalcParam(cur_ship);",
              "    if(ShipFreeSpace(cur_ship) < 0) MessageBox(CT('Script.Mod_ShuMercs.PlayerMercCruiserDialog.IAmOverloadedBoss'), 10);",
              "}",
              "//   ",
              "else",
              "{",
              "    //       ,     ",
              "    cost = 6.5 * GalaxyMoney(4, 4) * max(1.0 - (0.125 * GTL - ItemLevel(ShipItems(cur_ship, 0))), 0.250);",
              "",
              "    tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.CruiserSoldConfirm'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserSoldYes');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserSoldNo');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1032,
          "#":  1037,
          "Total.Lines":  21,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//       ",
              "cur_ship = GroupToShip(CruisersDefenders);",
              "if(cur_ship)",
              "{",
              "    if(GroupIn(CruisersDefenders, cur_ruin))",
              "    {",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserEquipChange');",
              "        InjectAnswer('MercCruiserDialog', tstr1, 0);",
              "        tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserSold');",
              "        InjectAnswer('MercCruiserDialog', tstr1, 1);",
              "    }",
              "    else",
              "    {",
              "        tstr1 = '</color><color=127,127,127>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserEquipChange') + ' ' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserOutAdd') + '</color>';",
              "        AddDialogBlock(tstr1, 1);",
              "        InjectAnswer('MercCruiserDialog', tstr1, 0);",
              "        tstr1 = '</color><color=127,127,127>' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserSold') + ' ' + CT('Script.Mod_ShuMercs.PlayerHQShipyardDialog.PlayerCruiserOutAdd') + '</color>';",
              "        AddDialogBlock(tstr1, 1);",
              "        InjectAnswer('MercCruiserDialog', tstr1, 1);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1043,
          "#":  1046,
          "Total.Lines":  11,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ,  ",
              "cur_ship = GroupToShip(CruisersDefenders);",
              "TransferShip(cur_ship, StarPlanets(GalaxyStar(People), 0));",
              "ShipDestroy(cur_ship, 1);",
              "PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "",
              "PlayerHQMainArray['Finance', 'CurrentBalance'] = PlayerHQMainArray['Finance', 'CurrentBalance'] + cost;",
              "Sound('Sound.Sell');",
              "GAnswerData = cost; // ,   cost    ",
              "",
              "tstr1 = 'CruiserSold';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1044,
          "#":  1047,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = 'CruiserSoldCanceled';"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1049,
          "#":  1050,
          "Total.Lines":  10,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//    ",
              "if(tint1 == 1)",
              "{",
              "    tint1 = 3;",
              "}",
              "//    ",
              "else //if(tint1 == 3)",
              "{",
              "    tint1 = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  971,
          "#":  1055,
          "Total.Lines":  105,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// ",
              "if(PlayerHQJumpReady == 'PortalGeneratorShortJump')",
              "{",
              "    OrderTeleport(cur_ruin, cur_star, CoordX(tdwd1), CoordY(tdwd1));",
              "    //     ",
              "    ShipOrderData1(cur_ruin, CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorShortJumpDays'));",
              "    PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorShortJumpCooldown');",
              "    PlayerHQJumpReady = '';",
              "",
              "    GotoGov(0);",
              "    if(!PlayerBridge())",
              "    {",
              "        Sound('Sound.PG_InWork');",
              "        ButtonClick('RuinsTalk', 'PM_EndTurn');",
              "    }",
              "    else",
              "    {",
              "        InterfaceState('RuinsTalk', 'ButFormClose', 3);",
              "        InterfaceState('RuinsTalk', 'ButFormCloseImgLock', -1);",
              "    }",
              "}",
              "// ",
              "else //if(PlayerHQJumpReady == 'PortalGeneratorLongJump')",
              "{",
              "    //     ",
              "    PlayerHQMainArray['Main', 'HQStar'] = Id(tdwd1) - 1;",
              "    PlayerHQMainArray['Mercs', 'PlanetsCount'] = ScriptItemData(ApprovalDocuments, 3);",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'] = CT('Script.Mod_ShuMercs.PlayerMercsParams.ReplenishmentFrequency');",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = CurTurn() + PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'];",
              "    PlayerHQMainArray['Mercs', 'ReplenishmentCount'] = ScriptItemData(ApprovalDocuments, 3); //        ",
              "",
              "    OrderTeleport(cur_ruin, tdwd1, CoordX(cur_ruin), CoordY(cur_ruin));",
              "    //     ",
              "    tint1 = round(sqrt(Dist2Star(cur_star, tdwd1))) / 10 + 1;",
              "    ShipOrderData1(cur_ruin, tint1);",
              "    PlayerHQMainArray['Science', 'PortalGeneratorTimer'] = CurTurn() + CT('Script.Mod_ShuMercsHQ.PlayerMercsParams.PortalGeneratorLongJumpCooldown');",
              "    PlayerHQJumpReady = '';",
              "",
              "    //         ,      ",
              "    if(GetData(3, cur_ruin))",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(PlayerMercsDefenders); i = i + 1)",
              "        {",
              "            cur_ship = GroupShip(PlayerMercsDefenders, i);",
              "",
              "            ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "            ChangeState('ReturningBaseState', cur_ship);",
              "        }",
              "        //    ",
              "        for(i = 0; i < GroupCount(PlayerMercsStrike); i = i + 1)",
              "        {",
              "            cur_ship = GroupShip(PlayerMercsStrike, i);",
              "            if(!StateIs(cur_ship, 'DefendingStarState')) continue;",
              "",
              "            ShipSpecialBonuses(cur_ship, bonFuel, ShipSpecialBonuses(cur_ship, bonFuel) + 10000);",
              "            ChangeState('ReturningStrikeState', cur_ship);",
              "        }",
              "",
              "        EtherDelete('PlayerMercsOrgStarAttack');",
              "        SetData(0, 3, cur_ruin);",
              "    }",
              "",
              "    GotoGov(0);",
              "    if(!PlayerBridge())",
              "    {",
              "        Sound('Sound.PG_InWork');",
              "        ButtonClick('RuinsTalk', 'PM_EndTurn');",
              "    }",
              "    else",
              "    {",
              "        InterfaceState('RuinsTalk', 'ButFormClose', 3);",
              "        InterfaceState('RuinsTalk', 'ButFormCloseImgLock', -1);",
              "    }",
              "",
              "    //  ,         ",
              "    ScriptItemData(ApprovalDocuments, 1, 0);",
              "    ScriptItemData(ApprovalDocuments, 2, 0);",
              "    ScriptItemData(ApprovalDocuments, 3, 0);",
              "    ScriptItemTextData(ApprovalDocuments, 1, '');",
              "    ScriptItemTextData(ApprovalDocuments, 2, '');",
              "    ScriptItemTextData(ApprovalDocuments, 3, '');",
              "    //       ",
              "    cur_item = ScriptItemToItem(ApprovalDocuments);",
              "    ReleaseItemFromScript(ApprovalDocuments);",
              "    FreeItem(GetItemFromShip(Player(), cur_item));",
              "",
              "    //          ",
              "    GBuildOwnBase_QuestsGiven = '';",
              "",
              "    //          ",
              "    for(i = ArrayDim(BuildOwnBase_QuestsArray) - 1; i > 0; i = i - 1) EtherDelete(BuildOwnBase_QuestsArray[i, 1]);",
              "    free(BuildOwnBase_QuestsArray);",
              "    BuildOwnBase_QuestsArray = newarray(1, 1);",
              "",
              "    //       ",
              "    tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Title');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT('Script.Mod_ShuMercsHQ.PlayerHQRelocation.QuestMessage.Complete'), '<Star'+'>', '<color=255,240,100>' + Name(tdwd1) + '</color>', '');",
              "    CustomEther('QuestComplete_PlayerMercsOrg', 4, 'PlayerHQRelocation', tstr1);",
              "",
              "    //   -  ,   ",
              "    //EtherDelete('PlayerHQRelocation');",
              "    //Sound('Sound.NewMsg');",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  1060,
          "#":  1064,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.PlayerHQBridgeDialog.PlayerCallHQOut');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1068,
          "#":  1069,
          "Total.Lines":  303,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Protect.3  ",
              "//   ,       ",
              "//     -  ",
              "cur_ship = GroupToShip(QuestTarget);",
              "if(",
              "    !cur_ship ||",
              "    Hit(cur_ship, 0) ||",
              "    !GroupToShip(PlayerHQ)",
              "  )",
              "{",
              "    //     ",
              "    for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestMercs, i);",
              "        SetData(0, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(0, 2, tdwd1);",
              "        SetData(-3, 3, tdwd1);",
              "        ChangeState('ReturningStrikeState', tdwd1);",
              "    }",
              "",
              "    //  ,   ",
              "    if(cur_ship)",
              "    {",
              "        //     ",
              "        if(Hit(cur_ship, 0))",
              "        {",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 12] = 1;",
              "",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByAggression');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   -",
              "            RelationToRanger(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9], Player(), 0));",
              "        }",
              "",
              "        //   ",
              "        if(!GroupToShip(PlayerHQ))",
              "        {",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "        }",
              "",
              "        //         ",
              "        SetData(66, 0, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "    }",
              "    else",
              "    {",
              "        //   ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    //        100%,  ",
              "    //(,         )",
              "    if(RelationToRanger(cur_ship, Player()) < 100)",
              "    {",
              "        RelationToRanger(cur_ship, Player(), 100);",
              "    }",
              "",
              "    //  ,       ",
              "    //      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //        ",
              "        cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "        if(GroupIn(QuestMercs, cur_star))",
              "        {",
              "            //       ,     ",
              "            if(GroupIn(QuestMercs, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(2, 0, tdwd1);",
              "                    SetData(0, 1, tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(cur_ship), 3, tdwd1);",
              "                    //    ,      ",
              "                    SetData(100, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "",
              "                //        ",
              "                //  ,         ",
              "                SetData(100, 0, cur_ship);",
              "                OrderTakeOff(cur_ship);",
              "",
              "                for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                {",
              "                    tdwd1 = StarPlanets(cur_star, i);",
              "                    if((ActiveQuestsHQArray[ActiveQuestHQ, 10] & (1 << i))) continue;",
              "                    if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                    //        ",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 11] = i;",
              "                    SetData(Id(tdwd1) * 2, 2, cur_ship);",
              "                    break;",
              "                }",
              "",
              "                //        ,      ",
              "                if(!GetData(2, cur_ship))",
              "                {",
              "                    //SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 10] = 0; //   ",
              "                    cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "                    for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                    {",
              "                        tdwd1 = StarPlanets(cur_star, i);",
              "                        if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                        //        ",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 11] = i;",
              "                        SetData(Id(tdwd1) * 2, 2, cur_ship);",
              "                        break;",
              "                    }",
              "                }",
              "",
              "                //    ,  ( )  ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Star'+'>', Name(cur_star), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                QuestTargetDialogCall = CurTurn() + 3; //     ",
              "            }",
              "            //      ",
              "            else",
              "            {",
              "                for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 1, tdwd1);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "                }",
              "            }",
              "        }",
              "        //       -  ,   ",
              "        else if(!GroupCount(QuestMercs))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,    ,   ,",
              "    //          ( ),     ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //   - ",
              "        if(ShipGetBad(cur_ship))",
              "        {",
              "            if(Dist(cur_ship, ShipGetBad(cur_ship)) <= 350)",
              "            {",
              "                //     ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 12] = 1;",
              "                SetData(0, 1, cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                exit;",
              "            }",
              "            else ShipSetBad(cur_ship, 0);",
              "        }",
              "",
              "        cur_star = ShipStar(cur_ship);",
              "        cur_planet = GetShipPlanet(cur_ship);",
              "",
              "        if(cur_planet)",
              "        {",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 10] = ActiveQuestsHQArray[ActiveQuestHQ, 10] + (1 << ActiveQuestsHQArray[ActiveQuestHQ, 11]);",
              "            SetData(0, 2, cur_ship);",
              "",
              "            for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "            {",
              "                tdwd1 = StarPlanets(cur_star, i);",
              "                if((ActiveQuestsHQArray[ActiveQuestHQ, 10] & (1 << i))) continue;",
              "                if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                //        ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11] = i;",
              "                SetData(Id(tdwd1) * 2, 2, cur_ship);",
              "                break;",
              "            }",
              "",
              "            //        ,      ",
              "            if(!GetData(2, cur_ship))",
              "            {",
              "                //       ",
              "                if(Id(cur_star) == ActiveQuestsHQArray[ActiveQuestHQ, 8])",
              "                {",
              "                    //     ",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                    SetData(0, 1, cur_ship);",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                }",
              "                else",
              "                {",
              "                    cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 10] = 0; //   ",
              "                    for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                    {",
              "                        tdwd1 = StarPlanets(cur_star, i);",
              "                        if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                        //        ",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 11] = i;",
              "                        SetData(Id(tdwd1) * 2, 2, cur_ship);",
              "                        break;",
              "                    }",
              "",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Star'+'>', Name(cur_star), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //   ()",
              "    //           ,  -  /",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])))",
              "        {",
              "            //     ",
              "            for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Planet'+'>', Name(IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9])), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "            CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   ",
              "            ShipDestroy(GroupToShip(QuestTarget), 1);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "            NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1), 0);",
              "",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1069,
          "#":  1070,
          "Total.Lines":  210,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Protect.3",
              "function PrivateProtectQuestThreeConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.3.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.3.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 2);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //  ,       ",
              "        // ,      5   (    +2)",
              "        dword first_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(first_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            if(StarOwner(cur_star)) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, first_star)));",
              "            if(cur_range > second_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = first_star;",
              "                tarr2[0, 1] = cur_star;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(2);",
              "                tarr2[available_options, 0] = first_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.3.LinerName' + Rnd(1, 5, sqr(seed ^ 2356787))); //+ PlanetRace(tarr2[available_options, 2])",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Protect.3';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 6, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id (      ,      )",
              "        //  ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        //  ()",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //      ",
              "        //   (  )",
              "        unknown t_array = newarray(1);",
              "        unknown t_array2 = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            dword target_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(target_planet) == None) continue;",
              "",
              "            ArrayAdd(t_array, target_planet);",
              "            ArrayAdd(t_array2, i);",
              "        }",
              "        //     ",
              "        int rnd = Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 55));",
              "        tarr1[next_num, 9] = t_array[rnd];",
              "",
              "        //         (     )",
              "        tarr1[next_num, 10] = (1 << t_array2[rnd]); //  -     ",
              "        tarr1[next_num, 11] = 0; //  (  ),       (     )",
              "        //    ( 1, ,      ,     )",
              "        tarr1[next_num, 12] = 0;",
              "        // ( )",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', tarr1[next_num, 0],",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<DestinationStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Protect.3",
              "function PrivateProtectQuestThreePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    //    ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    //,      ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Transport, i);",
              "    //          ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 0); //",
              "        ShipStatus(ship, 2, 100); //",
              "    }",
              "",
              "    //     (     )",
              "    dword target_ship = BuyTransport(ActiveQuestsHQArray[q_num, 9], 1, 300);",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]);",
              "    for(i = 1; i <= 3; i = i + 1) ShipRefit(target_ship);",
              "    ShipJoin(QuestTarget, target_ship);",
              "    SetData(-1, 0, target_ship);",
              "",
              "    //      ",
              "    dword engine = ShipEqInSlot(target_ship, t_Engine);",
              "    if(ItemLevel(engine) > 3)",
              "    {",
              "        ItemCost(engine, round(PortionInDiapason(ItemLevel(engine), 4, 8, 0.875, 0.375) * ItemCost(engine)));",
              "        ItemLevel(engine, 3);",
              "    }",
              "    NoDropItem(engine, 1);",
              "    ItemExtraSpecialsAddByType(ShipEqInSlot(target_ship, t_Hull), FindBonusByNameInCfg('ShuMercsHQ_QuestTargetDebuff'), 15);",
              "    //       ,    ",
              "    for(i = t_Food; i <= t_Narcotics; i = i + 1) GoodsAdd(target_ship, i, -GoodsCount(target_ship, i));",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "    //    \"  \"",
              "    NoTargetToShip(target_ship, 6);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(target_ship), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteStageOne'), '<Star'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<Planet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text, target_ship);",
              "",
              "    //        ",
              "    for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "    {",
              "        tdwd2 = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 7]), 1, tdwd2);",
              "        //SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 1, tdwd2);",
              "    }",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1073,
          "#":  1074,
          "Total.Lines":  404,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Private.Protect.4  ",
              "",
              "// ",
              "start_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "// ",
              "target_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "// ",
              "start_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "// ",
              "target_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 10]);",
              "//  ",
              "cur_ship = GroupToShip(QuestTarget);",
              "",
              "//   ,    ,  ",
              "if(!cur_ship || !GroupToShip(PlayerHQ))",
              "{",
              "    //     ",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd1 = GroupShip(QuestMercs, i);",
              "        SetData(0, 0, tdwd1);",
              "        SetData(0, 1, tdwd1);",
              "        SetData(0, 2, tdwd1);",
              "        SetData(-3, 3, tdwd1);",
              "        ChangeState('ReturningStrikeState', tdwd1);",
              "    }",
              "",
              "    //  ,   ",
              "    if(cur_ship)",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        SetData(66, 0, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "    }",
              "    else",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "        //        (  )     ,  ",
              "        cur_item = ScriptItemToItem(QuestItem);",
              "        if(cur_item)",
              "        {",
              "            // 3        ",
              "            ItemOnActCode(cur_item, 'if(' + (CurTurn() + 3) + ' <= CurTurn()) ReleaseItemFromScript(CurItem());', 't_OnStep|11');",
              "",
              "            //        ",
              "            cur_item = Id(cur_item);",
              "            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                ShipAddCustomShipInfo(ship, 'ShuMercsHQ_ShipDestroysItem', 'NoShow', cur_item, 0, CurTurn() + 3);",
              "            }",
              "        }",
              "    }",
              "",
              "    NoComeKlingToStar(start_star, 0);",
              "    NoComeKlingToStar(target_star, 0);",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    //        100%,  ",
              "    //(,         )",
              "    if(!Hit(cur_ship, 0))",
              "    {",
              "        if(RelationToRanger(cur_ship, Player()) < 100)",
              "        {",
              "            RelationToRanger(cur_ship, Player(), 100);",
              "        }",
              "    }",
              "    else //   ",
              "    {",
              "        //     ",
              "        for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedPlayerAttack');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "        {",
              "            SetData(73, 0, cur_ship);",
              "        }",
              "        else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "        {",
              "            //   ",
              "            NoTalkToShip(cur_ship,1);",
              "            SetData(66, 0, cur_ship);",
              "            for(i = 0; i != GroupCount(QuestAttackers); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                //              ",
              "                SetData(7, 0, tdwd1);",
              "            }",
              "        }",
              "",
              "        QuestTargetDialogCall = CurTurn() + 2;",
              "        //   ",
              "        RelationToRanger(cur_ship, Player(), 0);",
              "        NoComeKlingToStar(start_star, 0);",
              "        NoComeKlingToStar(target_star, 0);",
              "",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "        //    ",
              "        EndQuestHQ(ActiveQuestHQ, 0);",
              "    }",
              "",
              "    //  ,       ",
              "    //      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //        ",
              "        if(GroupIn(QuestMercs, start_star))",
              "        {",
              "            //       ,     ",
              "            if(GroupIn(QuestMercs, start_planet))",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(cur_ship), 3, tdwd1);",
              "                    //    ,      ,     2            ",
              "                    SetData(102, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "",
              "                //         ",
              "                //  ,         ",
              "                SetData(100, 0, cur_ship);",
              "                OrderTakeOff(cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8], 1, cur_ship);",
              "",
              "                // Id       ",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10] * 2, 2, cur_ship);",
              "",
              "                //    ,  ( )  ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Planet'+'>', Name(target_planet), '<Star'+'>', Name(target_star), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                QuestTargetDialogCall = CurTurn() + 3;",
              "            }",
              "            //     ",
              "            else",
              "            {",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 1, tdwd1);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, tdwd1);",
              "                }",
              "            }",
              "        }",
              "        //       -  ,   ",
              "        else if(!GroupCount(QuestMercs))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            NoComeKlingToStar(start_star, 0);",
              "            NoComeKlingToStar(target_star, 0);",
              "            ShipDestroy(cur_ship, 1);",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "            // ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,    ,   ,",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, target_star))",
              "        {",
              "            //    ",
              "            if(GroupIn(QuestTarget, target_planet))",
              "            {",
              "                //      ",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 2])",
              "                {",
              "                    //,          ",
              "                    if(ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn())",
              "                    {",
              "                        //      ",
              "                        tdwd1 = CreateQuestItem('ShuMercsHQ_PirateContainer', ShipPilotRace(cur_ship));",
              "                        //        ",
              "                        UselessItemData(tdwd1, 1, ActiveQuestsHQArray[ActiveQuestHQ, 12]);",
              "                        //           ",
              "                        ItemSize(tdwd1, 1);",
              "                        ShipAddDropItem(cur_ship, tdwd1);",
              "                        //      -  FireWeapon      ",
              "                        LinkItemToScript(tdwd1, QuestItem);",
              "",
              "                        //   ",
              "                        tdwd2 = CreateQuestItem('ShuMercsHQ_PirateContainer', ShipPilotRace(cur_ship));",
              "                        AddItemToShip(cur_ship, tdwd2);",
              "                        NoDropItem(tdwd2, 1);",
              "                        ItemSize(tdwd2, 1);",
              "                        //      ",
              "                        ItemCost(tdwd2, ItemCost(tdwd1));",
              "",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 7], 1, cur_ship);",
              "                        // Id      ",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 9] * 2, 2, cur_ship);",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 2] = 0;",
              "",
              "                        //  ",
              "                        tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                        tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree'), '<Planet'+'>', Name(start_planet), '<Star'+'>', Name(start_star), '255,240,100');",
              "                        CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                        //    ",
              "                        unknown planets_array = newarray(1);",
              "                        for(i = 0; i < StarPlanets(target_star); i = i + 1)",
              "                        {",
              "                            tdwd1 = StarPlanets(target_star, i);",
              "                            if(PlanetOwner(tdwd1) == None) continue;",
              "",
              "                            ArrayAdd(planets_array, tdwd1);",
              "                        }",
              "",
              "                        //            ",
              "                        if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 1)",
              "                        {",
              "                            //         ",
              "                            int tempstarserie = StarSeries(target_star);",
              "                            StarSeries(target_star, 1);",
              "",
              "                            int tempowner = PlanetOwner(planets_array[1]);",
              "                            PlanetOwner(planets_array[1], 5);",
              "                            cnt = Rnd(GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingDomiksCount'), ',', 0, 1), GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingDomiksCount'), ',', 1, 1), sqr(GetQuestSeed() + 82));",
              "                            for(i = 0; i != cnt; i = i + 1)",
              "                            {",
              "                                tdwd1 = BuyDomikExtremal(planets_array[1], Rnd(3, 5, sqr(GetQuestSeed() + 32)));",
              "                                //  ",
              "                                TransferShip(tdwd1, target_planet);",
              "                                ShipJoin(QuestAttackers, tdwd1);",
              "                                //   ,      ",
              "                                SetData(106, 0, tdwd1);",
              "                                SetData(Id(cur_ship), 3, tdwd1);",
              "                                OrderTakeOff(tdwd1);",
              "                            }",
              "",
              "                            PlanetOwner(planets_array[1], tempowner);",
              "                            //   ",
              "                            StarSeries(target_star, 1);",
              "                        }",
              "                        else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 2)",
              "                        {",
              "                            //       ",
              "                            ShipSubType(cur_ship, 2);",
              "                            cnt = Rnd(GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingWarriorsCount'), ',', 0, 0), GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingWarriorsCount'), ',', 1, 0), sqr(GetQuestSeed() + 66));",
              "                            for(i = 0; i != cnt; i = i + 1)",
              "                            {",
              "                                tdwd1 = BuyWarrior(planets_array[Rnd(1, ArrayDim(planets_array) - 1, sqr(GetQuestSeed() + 90))]);",
              "                                //  ",
              "                                TransferShip(tdwd1, target_planet);",
              "                                ShipJoin(QuestAttackers, tdwd1);",
              "                                //   ,      ",
              "                                SetData(107, 0, tdwd1);",
              "                                SetData(Id(cur_ship), 3, tdwd1);",
              "                                OrderTakeOff(tdwd1);",
              "                            }",
              "                        }",
              "                        else if(ActiveQuestsHQArray[ActiveQuestHQ, 11] == 3)",
              "                        {",
              "                            //         ",
              "                            NoTargetToShip(cur_ship, 6);",
              "                            cnt = Rnd(GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingPiratesCount'), ',', 0, 0), GetParFromString(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestEndingPiratesCount'), ',', 1, 0), sqr(GetQuestSeed() + 28));",
              "                            for(i = 0; i != cnt; i = i + 1)",
              "                            {",
              "                                tdwd1 = BuyWarrior(planets_array[Rnd(1, ArrayDim(planets_array) - 1, sqr(GetQuestSeed() + 28))]);",
              "                                //  ",
              "                                TransferShip(tdwd1, target_planet);",
              "                                ShipJoin(QuestAttackers, tdwd1);",
              "                                //   ,      ",
              "                                SetData(107, 0, tdwd1);",
              "                                SetData(Id(cur_ship), 3, tdwd1);",
              "                                OrderTakeOff(tdwd1);",
              "                            }",
              "                        }",
              "                        //   (  )",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "                    }",
              "                }",
              "                //    Lang",
              "                else",
              "                {",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwoWait'), '<Planet'+'>', Name(target_planet), '255,240,100');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.DaysOnPlanet');",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //        ,   ",
              "                if(!GroupIn(QuestMercs, target_star))",
              "                {",
              "                    if(!ShipInNormalSpace(cur_ship)) exit;",
              "                    //   17,  ",
              "                    if(GetData(0, cur_ship) == 17) exit;",
              "                    //   ",
              "                    QuestPlaceX = CoordX(cur_ship);",
              "                    QuestPlaceY = CoordY(cur_ship);",
              "                    SetData(17, 0, cur_ship);",
              "                    exit;",
              "                }",
              "",
              "                //       ,     ,        ",
              "                if(Dist(target_planet, cur_ship) <= 150 + ShipSpeed(cur_ship))",
              "                {",
              "                    if(!GroupIn(QuestMercs,AroundQuestTarget))",
              "                    {",
              "                        SetData(18, 0, cur_ship);",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10] * 2, 2, cur_ship);",
              "                        exit;",
              "                    }",
              "                }",
              "",
              "                SetData(0, 0, cur_ship);",
              "                SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10] * 2, 2, cur_ship);",
              "            }",
              "        }",
              "    }",
              "    //   ()",
              "    //      (    )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //    ",
              "        if(GroupIn(QuestTarget, start_star))",
              "        {",
              "            //          ",
              "            ShipSubType(cur_ship, 0);",
              "            NoTargetToShip(cur_ship, 3);",
              "",
              "            //      ",
              "            if(GroupIn(QuestTarget, start_planet))",
              "            {",
              "                //     ",
              "                for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 0, tdwd1);",
              "                    SetData(0, 1, tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(-3, 3, tdwd1);",
              "                    ChangeState('ReturningStrikeState', tdwd1);",
              "                }",
              "",
              "                //  ",
              "                tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<Planet'+'>', Name(start_planet), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "                CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "                //   ",
              "                ShipDestroy(cur_ship, 1);",
              "                NoComeKlingToStar(start_star, 0);",
              "                NoComeKlingToStar(target_star, 0);",
              "",
              "                //   ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "                //    ",
              "                EndQuestHQ(ActiveQuestHQ, 1);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1074,
          "#":  1075,
          "Total.Lines":  297,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Private.Protect.4",
              "function PrivateProtectQuestFourConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.FirstStarMaxRange');",
              "    int second_range = CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.SecondStarMaxRange');",
              "    //     ",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 2);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        //       ",
              "        if(StarOwner(cur_star) == 1) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "",
              "        //  ",
              "        dword pirate_star = cur_star;",
              "        for(int j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(pirate_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "            //       ",
              "            if(StarOwner(cur_star) == 1) continue;",
              "            if(StarCustomFaction(cur_star) != '') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "            cur_range = round(sqrt(Dist2Star(cur_star, pirate_star)));",
              "            if(cur_range > second_range) continue;",
              "            //       -     ",
              "            int check = 0;",
              "            for(int k = 0; k < StarPlanets(cur_star); k = k + 1)",
              "            {",
              "                if(PlanetOwner(StarPlanets(cur_star, k)) == None)",
              "                {",
              "                    check = 1;",
              "                    break;",
              "                }",
              "            }",
              "            if(!check) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = pirate_star;",
              "                tarr2[0, 1] = cur_star;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(2);",
              "                tarr2[available_options, 0] = pirate_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "        //      ",
              "        //     (    ~7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //    ",
              "        tarr1[next_num, 0] = '' + Rnd(1, 5, seed);",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Private.Protect.4';",
              "        //    (      ,   ,  )",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 8, 1000, 0);",
              "        tarr1[next_num, 5] = cost;",
              "        //       ",
              "        tarr1[next_num, 6] = 0;",
              "        //        Id",
              "        //   ()",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //   ",
              "        unknown t_array = newarray(1);",
              "        dword target_planet;",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            target_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            if(PlanetOwner(target_planet) == 6) continue;",
              "",
              "            ArrayAdd(t_array, target_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 45))];",
              "",
              "        //,   ,     ",
              "",
              "        ArrayClear(t_array);",
              "        //    ",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 8]); i = i + 1)",
              "        {",
              "            target_planet = StarPlanets(tarr1[next_num, 8], i);",
              "            if(PlanetOwner(target_planet) != None) continue;",
              "",
              "            ArrayAdd(t_array, target_planet);",
              "        }",
              "        //  ",
              "        tarr1[next_num, 10] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 67))];",
              "",
              "        //            ,       ",
              "        tarr1[next_num, 11] = CT(tarr1[next_num, 3] + '.QuestEndingAttackersPercents');",
              "        tarr1[next_num, 12] = CT(tarr1[next_num, 3] + '.QuestEndingContainerPercents');",
              "",
              "        tarr1[next_num, 13] = 0;",
              "        tarr1[next_num, 14] = 0;",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<Pirate'+'>', CT(tarr1[next_num, 3] + '.TargetName' + tarr1[next_num, 0]),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 10]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   Private.Protect.4",
              "function PrivateProtectQuestFourPrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    //    ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "",
              "    CoordX(QuestPlace, 0);",
              "    CoordY(QuestPlace, 0);",
              "",
              "    //,      ",
              "    //(  ,    )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    if(PlayerHQMainArray['Mercs', 'CurrentAtReady'] == 1) i = 1;",
              "    else i = PlayerHQMainArray['Mercs', 'CurrentAtReady'] / 2;",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = PlayerHQMainArray['Mercs', 'CurrentAtReady'] - i;",
              "    // ,       ",
              "    dword playerhq = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(playerhq), playerhq, t_Transport, i);",
              "    //        ,     ",
              "    int speedcoef = 0;",
              "    for(i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        tdwd2 = GroupShip(QuestMercs, i);",
              "        speedcoef = speedcoef + ShipSpeed(tdwd2);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 7]), 1, tdwd2);",
              "    }",
              "",
              "    //      (      )",
              "    int old_race = PlanetRace(ActiveQuestsHQArray[q_num, 9]);",
              "    int old_owner = PlanetRace(ActiveQuestsHQArray[q_num, 9]);",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], int(ActiveQuestsHQArray[q_num, 0]) - 1);",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], int(ActiveQuestsHQArray[q_num, 0]) - 1);",
              "    ActiveQuestsHQArray[q_num, 0] = CT(ActiveQuestsHQArray[q_num, 3] + '.TargetName' + ActiveQuestsHQArray[q_num, 0]);",
              "",
              "    dword target_ship = BuyPirate(ActiveQuestsHQArray[q_num, 9], 0);",
              "    //   ",
              "    speedcoef = speedcoef / GroupCount(QuestMercs);",
              "    ShipOwner(target_ship, ShipPilotRace(target_ship));",
              "",
              "    //     ,   ",
              "    ShipSpecialBonuses(target_ship, bonSpeed, (speedcoef + RndObject(-25, 25, ActiveQuestsHQArray[q_num, 7])) - ShipSpeed(target_ship));",
              "    //      ",
              "    ShipSpecialBonuses(target_ship, bonSlotForsage, -100);",
              "    ShipSpecialBonuses(target_ship, bonSlotHook, -100);",
              "",
              "    SetName(target_ship, ActiveQuestsHQArray[q_num, 0]); //  ,    ",
              "    for(i = 0; i < 3; i = i + 1) ShipRefit(target_ship);",
              "    ShipJoin(QuestTarget, target_ship);",
              "    SetData(-1, 0, target_ship);",
              "",
              "    ItemExtraSpecialsAddByType(ShipEqInSlot(target_ship, t_Hull), FindBonusByNameInCfg('ShuMercsHQ_QuestTargetDebuff'), 15);",
              "    ShipAddCustomShipInfo(target_ship, 'ShuMercsHQ_GuardedShip', 'NoShow');",
              "    //        ",
              "    NoTargetToShip(target_ship, 3);",
              "",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], old_race);",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 9], old_owner);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', Name(target_ship), '255,240,100');",
              "    str text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteStageOne'), '<Planet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<Star'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text, target_ship);",
              "",
              "    int rndresult = Rnd(1, 100, sqr(GetQuestSeed() + 69));",
              "",
              "    // ",
              "    //ActiveQuestsHQArray[q_num, 11] -      ",
              "    //0 -  ",
              "    //1 -  ",
              "    //2 -  ",
              "    //3 -  ",
              "    if(rndresult <= GetParFromString(ActiveQuestsHQArray[q_num, 11], ',', 0, 0))",
              "    {",
              "        ActiveQuestsHQArray[q_num, 11] = 0;",
              "    }",
              "    else if(rndresult <= GetParFromString(ActiveQuestsHQArray[q_num, 11], ',', 0, 0) + GetParFromString(ActiveQuestsHQArray[q_num, 11], ',', 1, 0))",
              "    {",
              "        ActiveQuestsHQArray[q_num, 11] = 1;",
              "    }",
              "    else",
              "    {",
              "        if(StarOwner(ActiveQuestsHQArray[q_num, 8]) == 0)",
              "        {",
              "            ActiveQuestsHQArray[q_num, 11] = 2;",
              "        }",
              "        else",
              "        {",
              "            ActiveQuestsHQArray[q_num, 11] = 3;",
              "        }",
              "    }",
              "",
              "    //ActiveQuestsHQArray[q_num, 12] -         ",
              "    //     ",
              "    //0 -  ",
              "    //1 -   ",
              "    //2 -   ",
              "",
              "    //QuestHQFlashDrivesInfo      ",
              "    //0 -           ",
              "    //1 -     ",
              "    //2 -     ",
              "    //3 -      ",
              "    rndresult = Rnd(1, 100, sqr(GetQuestSeed() + 54));",
              "    int zeta_chance = GetParFromString(ActiveQuestsHQArray[q_num, 12], ',', 2, 0);",
              "    int blueprint_chance = zeta_chance + GetParFromString(ActiveQuestsHQArray[q_num, 12], ',', 1, 0);",
              "",
              "    ActiveQuestsHQArray[q_num, 12] = 0;",
              "    if(QuestHQFlashDrivesGiven < 3)",
              "    {",
              "        if(rndresult <= blueprint_chance)",
              "        {",
              "            //   ",
              "            if(rndresult <= zeta_chance && QuestHQFlashDrivesGiven < 2)",
              "            {",
              "                ActiveQuestsHQArray[q_num, 12] = 2;",
              "                QuestHQFlashDrivesGiven = QuestHQFlashDrivesGiven + 2;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ActiveQuestsHQArray[q_num, 12] = 1;",
              "                QuestHQFlashDrivesGiven = QuestHQFlashDrivesGiven + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "    ActiveQuestsHQArray[q_num, 10] = Id(ActiveQuestsHQArray[q_num, 10]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1080,
          "#":  1081,
          "Total.Lines":  343,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// Coalition.AttackDominators.1  ",
              "//  ,   ",
              "cur_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 8] - 1);",
              "if(!StarOwner(cur_star) || ActiveQuestsHQArray[ActiveQuestHQ, 2] <= CurTurn() || !GroupToShip(PlayerHQ))",
              "{",
              "    check = 0;",
              "    //",
              "    if(!StarOwner(cur_star))",
              "    {",
              "        // ,     ",
              "        for(i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(cur_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "            break;",
              "        }",
              "        cur_planet = Id(cur_planet);",
              "",
              "        //     ,     ",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(4, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(cur_planet * 2, 2, tdwd1);",
              "            ShipAddCustomShipInfo(tdwd1, 'ChangeShipScriptGroupInfo', 'NoShow', 0,0,0, 'Mod_ShuKlissan.ToGetRewardShips.OrderGetReward,' + cur_planet + ',0,0,0', 'Mod_ShuMercsHQ.QuestMercs.ReturningStrikeState,0,0,0,-3');",
              "",
              "            //           QuestMercsCapPirState",
              "            ChangeState('QuestMercsKillState', tdwd1);",
              "        }",
              "        //     ,     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            ShipJoinToScript(tdwd1, 'Mod_ShuKlissan.ToGetRewardShips.OrderGetReward');",
              "            SetData(cur_planet, 0, tdwd1);",
              "            ShipFreeFlight(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetStar'+'>', Name(cur_star), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "        CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        check = 1;",
              "    }",
              "    //",
              "    else",
              "    {",
              "        //     ",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "        //     ",
              "        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestSupport, i);",
              "            ShipSpecialBonuses(tdwd1, bonFuel, ShipSpecialBonuses(tdwd1, bonFuel) + 10000);",
              "",
              "            if(!i) //   ,          (  ,  )",
              "            {",
              "                if(ShipSubType(tdwd1) == 1)",
              "                {",
              "                    for(j = ShipArts(tdwd1) - 1; j >= 0; j = j - 1)",
              "                    {",
              "                        cur_item = ShipArts(tdwd1, j);",
              "                        if(ItemType(cur_item) != t_ArtefactTranclucator) continue;",
              "                        FreeItem(GetArtFromShip(tdwd1, j));",
              "                    }",
              "",
              "                    ShipDeleteCustomShipInfo(tdwd1, 'ShuMercsHQ_QuestTrancOwner');",
              "                }",
              "            }",
              "",
              "            OrderLock(tdwd1, 0);",
              "            ShipOut(tdwd1);",
              "        }",
              "",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        if(GroupToShip(PlayerHQ)) tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        else tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    //   ",
              "    NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "    NoComeKlingToStar(cur_star, 0);",
              "",
              "    //        ",
              "    tint1 = Id(cur_star);",
              "    for(i = ArrayDim(KlissanInvasion['RegroupingNeurolinks']) - 1; i >= 1; i = i - 1)",
              "    {",
              "        //       ,     ",
              "        if(int(GetVariableName(KlissanInvasion['RegroupingNeurolinks', i])) == tint1)",
              "        {",
              "            ArrayDelete(KlissanInvasion['RegroupingNeurolinks'], i);",
              "            break;",
              "        }",
              "    }",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //     (,  )",
              "    EndQuestHQ(ActiveQuestHQ, check);",
              "}",
              "else",
              "{",
              "    cur_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 9]);",
              "",
              "    //    ",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 4] = Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 2] - CurTurn(), '255,240,100');",
              "    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[ActiveQuestHQ, 1]), '<BeginPlanet'+'>', Name(cur_planet), '<BeginStar'+'>', Name(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1)), '<TargetStar'+'>', Name(cur_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "    //  ,      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //     ,        ,    ",
              "        if(!GroupCount(QuestMercs) || GroupIn(QuestMercs, cur_planet))",
              "        {",
              "            for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,       ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "            for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestSupport, i);",
              "",
              "                ShipRefuel(tdwd1);",
              "                HullHP(tdwd1, ItemSize(ShipItems(tdwd1, 0)));",
              "                //   ,    ",
              "                SetData(0, 0, tdwd1);",
              "                SetData(Id(cur_star), 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                OrderTakeOff(tdwd1);",
              "            }",
              "",
              "            QuestSupportDialogCall = CurTurn() + 3; //     ",
              "            //    ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "        }",
              "    }",
              "    //  ,     (  )    ",
              "    //        ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        if(!ActiveQuestsHQArray[ActiveQuestHQ, 10]) //         ,       ",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(!cur_ship) cur_ship = GroupToShip(QuestMercs);",
              "            if(!cur_ship)",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4; //   -  ",
              "            }",
              "",
              "            if(cur_ship)",
              "            {",
              "                if(ShipInNormalSpace(cur_ship))",
              "                {",
              "                    if(ShipOrder(cur_ship) == 3)",
              "                    {",
              "                        QuestPlaceX = ShipOrder(cur_ship, 'X');",
              "                        QuestPlaceY = ShipOrder(cur_ship, 'Y');",
              "",
              "                        //      ",
              "                        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestMercs, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "                        for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "                        {",
              "                            tdwd1 = GroupShip(QuestSupport, i);",
              "                            SetData(0, 0, tdwd1);",
              "                            SetData(0, 1, tdwd1);",
              "                            SetData(-1, 3, tdwd1);",
              "                        }",
              "",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 10] = 1;",
              "                    }",
              "                }",
              "            }",
              "        }",
              "        else if(ActiveQuestsHQArray[ActiveQuestHQ, 10] == 1)",
              "        {",
              "            //  ,    ",
              "            if(",
              "                (!GroupCount(QuestMercs) || GroupIn(QuestMercs, QuestPlace)) &&",
              "                (!GroupCount(QuestSupport) || GroupIn(QuestSupport, QuestPlace))",
              "              )",
              "            {",
              "                NoComeKlingToStar(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 0);",
              "                NoComeKlingToStar(cur_star, 0);",
              "",
              "                if(!GroupCount(QuestMercs) && !GroupCount(QuestSupport)) ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4; //   -  ",
              "                else",
              "                {",
              "                    //  !",
              "                    for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs, i);",
              "                        SetData(197, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "                    for(i = GroupCount(QuestSupport) - 1; i >= 0; i = i - 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestSupport, i);",
              "                        SetData(134, 0, tdwd1);",
              "                        SetData(Id(cur_star), 1, tdwd1);",
              "                        SetData(0, 3, tdwd1);",
              "                        OrderJump(tdwd1, cur_star);",
              "                    }",
              "",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 10] = 2;",
              "                }",
              "            }",
              "        }",
              "        else if(ActiveQuestsHQArray[ActiveQuestHQ, 10] == 2)",
              "        {",
              "            cur_ship = GroupToShip(QuestSupport);",
              "            if(ShipSubType(cur_ship) == 1) //    (..    )",
              "            {",
              "                if(ShipInHyperSpace(cur_ship)) //     ,      ",
              "                {",
              "                    tdwd1 = 0;",
              "                    for(i = StarShips(cur_star) - 1; i >= 0; i = i - 1)",
              "                    {",
              "                        tdwd2 = StarShips(cur_star, i);",
              "                        if(ShipType(tdwd2) == 'Neurolink')",
              "                        {",
              "                            tdwd1 = tdwd2;",
              "                            break;",
              "                        }",
              "                    }",
              "",
              "                    if(tdwd1) //  (   ,       ,     )",
              "                    {",
              "                        ActiveQuestsHQArray[ActiveQuestHQ, 14] = Id(tdwd1); // Id,        (       )",
              "                        //      \"\"   ",
              "                        ShipAddCustomShipInfo(tdwd1, 'DeadByHitInfo', 'NoShow', 6, t_ArtefactBomb);",
              "                        ShipAddCustomShipInfo(tdwd1, 'DeadByHitInfo', 'NoShow', 6, t_UselessItem, 0, 'RNDbomb_1');",
              "",
              "                        tint1 = 0;",
              "                        for(i = ShipArts(cur_ship) - 1; i >= 0; i = i - 1)",
              "                        {",
              "                            cur_item = ShipArts(cur_ship, i);",
              "                            if(ItemType(cur_item) != t_ArtefactTranclucator) continue;",
              "                            //        ",
              "                            ShipAddCustomShipInfo(ArtTranclucatorToShip(cur_item), 'ChangeShipScriptGroupInfo', 'NoShow', 0,0,0, 'Mod_ShuMercsHQ.QuestTarget,20,0,0,' + Id(tdwd1));",
              "                            tint1 = tint1 + 1;",
              "                        }",
              "",
              "                        if(tint1)",
              "                        {",
              "                            //           ",
              "                            ShipCustomShipInfoData(cur_ship, 'ShuMercsHQ_QuestTrancOwner', 1, -1);",
              "                            ActiveQuestsHQArray[ActiveQuestHQ, 10] = 3;",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            else ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4;",
              "        }",
              "        else //if(ActiveQuestsHQArray[ActiveQuestHQ, 10] == 3)",
              "        {",
              "            //  ",
              "            if(GroupCount(QuestTarget))",
              "            {",
              "                for(i = 0; i < GroupCount(QuestTarget); i = i + 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestTarget, i);",
              "                    ShipSpecialBonuses(tdwd1, bonSlotForsage, 10);",
              "",
              "                    //          ",
              "                    for(j = ShipItems(tdwd1) - 1; j >= 1; j = j - 1)",
              "                    {",
              "                        cur_item = ShipItems(tdwd1, j);",
              "                        if(ItemType(cur_item) != t_UselessItem) continue;",
              "                        if(EquipmentImageName(cur_item) != 'RNDbomb_1') continue;",
              "",
              "                        UselessItemData(cur_item, 1, ShipTurnBeforeEndOrder(tdwd1) + 2); //          ( , )",
              "                        UselessItemText(cur_item, CT('UselessItems.' + EquipmentImageName(cur_item) + '.Text') + substr(CT('Cheat.Ok'), 0, 2) + '<br><clr><clrEnd><br>' + CT('Script.Mod_ExpArts.WillBeActivatedIn'));",
              "                        UselessItemData(cur_item, 2, -8);",
              "                    }",
              "                }",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "            }",
              "        }",
              "    }",
              "    //  ,    ,      (         )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //   ,     ",
              "        if(!GroupCount(QuestTarget))",
              "        {",
              "            //   ,        ",
              "            tdwd1 = IdToShip(ActiveQuestsHQArray[ActiveQuestHQ, 14]);",
              "            if(tdwd1)",
              "            {",
              "                ShipDeleteCustomShipInfo(tdwd1, 'DeadByHitInfo');",
              "                ShipDeleteCustomShipInfo(tdwd1, 'DeadByHitInfo');",
              "            }",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4;",
              "        }",
              "    }",
              "    //  ,        ",
              "    //else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 4)",
              "    //{}",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1081,
          "#":  1082,
          "Total.Lines":  478,
          "Code.Type":  "Init",
          "Code":          
          [
              "//  ,     Coalition.AttackKlissan.1",
              "function CoalitionAttackKlissanQuestOneConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1.FirstStarMaxRange');",
              "    int second_max_range = CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1.SecondStarMaxRange');",
              "",
              "    free(tarr2);",
              "    tarr2 = newarray(1, 3);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star, 1)) continue;",
              "        //      ",
              "        if(StarOwner(cur_star)) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "",
              "        //         ()",
              "        //int check = 0;",
              "        //for(int j = 0; j < StarPlanets(cur_star); j = j + 1)",
              "        //{",
              "            //dword cur_planet = StarPlanets(cur_star, j);",
              "            //if(PlanetRace(cur_planet) != Maloc) continue;",
              "            //if(PlanetOwner(cur_planet) == None) continue;",
              "            //check = 1;",
              "            //break;",
              "        //}",
              "        //if(!check) continue;",
              "",
              "        int first_cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(first_cur_range > first_max_range) continue;",
              "",
              "        //  ,       ",
              "        dword coalition_star = cur_star;",
              "        dword machpella_star = ShipStar(IdToShip(KlissanInvasion['MachpellaId']));",
              "        for(j = 1; j < GalaxyStars(); j = j + 1)",
              "        {",
              "            cur_star = StarNearbyStars(coalition_star, j);",
              "",
              "            //   ",
              "            if(cur_star == player_star) continue;",
              "            //,         ",
              "            if(StarBattle(cur_star)) continue;",
              "            if(StarOwner(cur_star) != 1) continue;",
              "            if(StarCustomFaction(cur_star) != 'Klissan') continue;",
              "            //      ",
              "            cur_sector = StarToCon(cur_star);",
              "            if(!SectorVisible(cur_sector)) continue;",
              "            if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "            // ,   ",
              "            if(NoComeKlingToStar(cur_star)) continue;",
              "            if(GetScriptNoKlingMarksFromStar(cur_star)) continue;",
              "            //   ",
              "            if(cur_star == machpella_star) continue;",
              "",
              "            //     ",
              "            dword neurolink = 0;",
              "            for(int l = 0; l < StarShips(cur_star); l = l + 1)",
              "            {",
              "                if(ShipType(StarShips(cur_star, l)) != 'Neurolink') continue;",
              "                neurolink = StarShips(cur_star, l);",
              "                break;",
              "            }",
              "            if(!neurolink) continue;",
              "",
              "            int second_cur_range = round(sqrt(Dist2Star(cur_star, coalition_star)));",
              "            if(second_cur_range > second_max_range) continue;",
              "",
              "            //    ",
              "            if(!available_options)",
              "            {",
              "                tarr2[0, 0] = coalition_star;",
              "                tarr2[0, 1] = cur_star;",
              "                tarr2[0, 2] = first_cur_range;",
              "",
              "                available_options = 1;",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                ArrayAdd(tarr2, dummy);",
              "                tarr2[available_options] = newarray(3);",
              "                tarr2[available_options, 0] = coalition_star;",
              "                tarr2[available_options, 1] = cur_star;",
              "                tarr2[available_options, 2] = first_cur_range;",
              "",
              "                available_options = available_options + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "",
              "        //      ",
              "        //     (    7 ,   )",
              "        int seed = GetQuestSeed();",
              "        available_options = Rnd(1, available_options, sqr(seed)) - 1;",
              "",
              "        //  (    Id)",
              "        tarr1[next_num, 0] = neurolink;",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        //    (   )",
              "        tarr1[next_num, 2] = CurTurn() + PortionInDiapason(tarr2[available_options, 2], first_max_range / 2, first_max_range, int(CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1.MinTime')), int(CT('Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1.MaxTime')));",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.Coalition.AttackKlissan.1';",
              "        //   ",
              "        tarr1[next_num, 4] = '';",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 15, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, cost, cost * 2));",
              "        //        ",
              "        tarr1[next_num, 6] = 50;",
              "        //        Id (      ,      )",
              "        //       ",
              "        tarr1[next_num, 7] = tarr2[available_options, 0];",
              "        // ",
              "        tarr1[next_num, 8] = tarr2[available_options, 1];",
              "        //     ",
              "        //        ",
              "        unknown t_array = newarray(1);",
              "        for(i = 0; i < StarPlanets(tarr1[next_num, 7]); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(tarr1[next_num, 7], i);",
              "            //if(PlanetRace(cur_planet) != Maloc) continue;",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            ArrayAdd(t_array, cur_planet);",
              "        }",
              "        //     ",
              "        tarr1[next_num, 9] = t_array[Rnd(1, ArrayDim(t_array) - 1, sqr(seed + 42))];",
              "        tarr1[next_num, 10] = 0; //  ,               ",
              "        // - (           )",
              "        tarr1[next_num, 11] = '';",
              "        tarr1[next_num, 12] = '';",
              "        tarr1[next_num, 13] = '';",
              "        tarr1[next_num, 14] = 0; //Id ,      (       )",
              "",
              "        //  \" \"          ",
              "        str split_line;",
              "        if(GetGameOptions('FontDialog') == '0') split_line = '</color>-----------------------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '1') split_line = '</color>------------------------------------------';",
              "        else if(GetGameOptions('FontDialog') == '2') split_line = '</color>-------------------------------------------';",
              "        else split_line = '</color>--------------------------------------';",
              "        //    (  , ..        )",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<BeginPlanet'+'>', Name(tarr1[next_num, 9]),",
              "                                     '<BeginStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<EndDate'+'>', GameDateTxtByTurn(tarr1[next_num, 2]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5],",
              "                                     '<SplitLine'+'>', split_line);",
              "    }",
              "}",
              "",
              "//   Coalition.AttackKlissan.1",
              "function CoalitionAttackKlissanQuestOnePrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    dword begin_star = ActiveQuestsHQArray[q_num, 7];",
              "    dword target_star = ActiveQuestsHQArray[q_num, 8];",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Pirate, i);",
              "",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, ship);",
              "",
              "        //    ,      ",
              "        ShipOwner(ship, ShipPilotRace(Player()));",
              "",
              "        //           ",
              "        for(int j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "        {",
              "            dword cur_planet = StarPlanets(begin_star, j);",
              "            if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "            RelationToRanger(cur_planet, ship, 100);",
              "        }",
              "    }",
              "",
              "    //    ",
              "    for(j = 0; j < StarPlanets(begin_star); j = j + 1)",
              "    {",
              "        cur_planet = StarPlanets(begin_star, j);",
              "        if(PlanetOwner(cur_planet) == 6) continue;",
              "",
              "        if(RelationToRanger(cur_planet, Player()) < 60) RelationToRanger(cur_planet, Player(), 60);",
              "    }",
              "",
              "    //   ,      ",
              "    int add_warriors = CT(ActiveQuestsHQArray[q_num, 3] + '.MinWarriorsCount');",
              "    //         ",
              "    unknown t_array = newarray(8);",
              "    if(!CurrentMods('Evolution\\EvoArmada'))",
              "    {",
              "        int warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 0, 1);",
              "        str text = CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerKlissan');",
              "        for(i = 0; i <= 5; i = i + 1) t_array[i] = int(GetParFromString(text, ',', i, 1));",
              "    }",
              "    else",
              "    {",
              "        warriors_per_cap = GetParFromString(CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerCapitalShip'), ',', 1, 1);",
              "        text = CT(ActiveQuestsHQArray[q_num, 3] + '.WarriorsPerKlissanEvoArmada');",
              "        for(i = 0; i <= 5; i = i + 1) t_array[i] = int(GetParFromString(text, ',', i, 1));",
              "    }",
              "",
              "    //   (  )    (    )",
              "    int klissan_count = 0;",
              "    for(i = 0; i < StarShips(target_star); i = i + 1)",
              "    {",
              "        ship = StarShips(target_star, i);",
              "        if(ShipTypeN(ship) != t_Kling) continue;",
              "        if(ShipCustomFaction(ship) != 'Klissan') continue;",
              "",
              "        klissan_count = klissan_count + t_array[ShipSubType(ship)];",
              "",
              "        //ShipJoin(QuestAttackers, ship);",
              "        //SetData(33, 0, ship);",
              "    }",
              "",
              "    //   ,         \"\" ",
              "    klissan_count = klissan_count - CT(ActiveQuestsHQArray[q_num, 3] + '.MinKlissanCount');",
              "",
              "    // ,         ,        ",
              "    if(klissan_count > 0)",
              "    {",
              "        add_warriors = add_warriors + klissan_count;",
              "    }",
              "",
              "    //     ,     ",
              "    start_planet = ActiveQuestsHQArray[q_num, 9];",
              "    int old_race = PlanetRace(start_planet);",
              "    int old_owner = PlanetRace(start_planet);",
              "    PlanetRace(start_planet, Maloc);",
              "    PlanetOwner(start_planet, Maloc);",
              "",
              "    //  ,    -",
              "    cur_planet = ActiveQuestsHQArray[q_num, 9];",
              "    dword warrior = BuyBigWarrior(cur_planet, 500);",
              "    for(i = 1; i <= 3; i = i + 1) ShipRefit(warrior);",
              "    ShipImproveItems(warrior, RndObject(2, 5, cur_planet));",
              "    ShipAddCustomShipInfo(warrior, 'ShuMercsHQ_QuestTrancOwner', 'NoShow'); //    ",
              "    ShipJoin(QuestSupport, warrior);",
              "    add_warriors = add_warriors - warriors_per_cap;",
              "",
              "    //    ",
              "    unknown unique_junk_arr = newarray(1);",
              "    ArrayDelete(unique_junk_arr, 0);",
              "    ArrayAdd(unique_junk_arr, 'Usl_2'); // ",
              "    ArrayAdd(unique_junk_arr, 'Usl_3'); //  ()",
              "    ArrayAdd(unique_junk_arr, 'Usl_58'); // ",
              "    ArrayAdd(unique_junk_arr, 'Usl_64'); // ",
              "    if(CurrentMods('ShusRangers\\ShuBounty'))",
              "    {",
              "        ArrayAdd(unique_junk_arr, 'ShuBounty_Hyperdust'); //",
              "        ArrayAdd(unique_junk_arr, 'ShuBounty_EscapePod'); //    \" \"",
              "    }",
              "    ArrayRandomize(ArrayDim(unique_junk_arr) * 3, unique_junk_arr, sqr(GetQuestSeed() + 15));",
              "    ArrayAdd(unique_junk_arr, 0);",
              "",
              "    // -  ,      ,     QuestTarget (   -?)",
              "    for(i = 1; i <= 3; i = i + 1)",
              "    {",
              "        str tranc_name = CT(ActiveQuestsHQArray[q_num, 3] + '.TrancName' + i);",
              "        ActiveQuestsHQArray[q_num, 10 + i] = tranc_name;",
              "",
              "        dword item = CreateArt(t_ArtefactTranclucator, Maloc);",
              "        AddItemToShip(warrior, item); //    ",
              "        NoDropItem(item, 1);",
              "        SetName(item, tranc_name);",
              "",
              "        ship = ArtTranclucatorToShip(item);",
              "        SetName(ship, tranc_name);",
              "        if(i == 2)",
              "        {",
              "            if(ShipPilotRace(Player()) != Fei || ShipFace(Player()) != 8) ShipFace(ship, 84826580);",
              "            else ShipFace(ship, 848265802);",
              "        }",
              "        TranclucatorData(ship, 'Proprietor', warrior);",
              "        if(CurrentMods('Evolution\\EvoTranc'))",
              "        {",
              "            Chameleon(ship, 'Ship.TranclucatorRed');",
              "            TranclucatorData(ship, 'ArtSysName', 'TranclucatorRed');",
              "            EquipmentImageName(item, 'ArtTranclucatorRed');",
              "        }",
              "        for(j = ShipItems(ship) - 1; j >= 1; j = j - 1) FreeItem(GetItemFromShip(ship, j));",
              "",
              "        item = CreateEquipment(t_Engine, (int(CT('Items.Engine.AverageSize')) / 2) + RndObject(0, 6, ship), GTL, Maloc);",
              "        //ModuleToEquipment(FindBonusByNameInCfg('105'), item); // \"\"",
              "        AddItemToShip(ship, item);",
              "        ItemIsInUse(item, ship, 1);",
              "        item = CreateEquipment(t_FuelTanks, (int(CT('Items.FuelTanks.AverageSize')) / 2) + RndObject(0, 6, ship), GTL, Maloc);",
              "        AddItemToShip(ship, item);",
              "        ItemIsInUse(item, ship, 1);",
              "",
              "        //      5  ,      ",
              "        unknown junk_arr = newarray(1);",
              "        ArrayDelete(junk_arr, 0);",
              "        for(j = 1; j <= 5; j = j + 1) ArrayAdd(junk_arr, 'RNDbomb_1'); //5  ",
              "        for(j = 1; j <= 2; j = j + 1) //     ",
              "        {",
              "            if(ArrayDim(unique_junk_arr) > 1)",
              "            {",
              "                ArrayAdd(junk_arr, unique_junk_arr[0]);",
              "                ArrayDelete(unique_junk_arr, 0);",
              "            }",
              "        }",
              "        for(j = RndObject(10, 15, ship); j >= 1; j = j - 1) //  ",
              "        {",
              "            int num = RndObject(1, 6, ship);",
              "            if(num == 1) ArrayAdd(junk_arr, 'ShuMercsHQ_PowderKeg'); // ",
              "            else if(num == 2) ArrayAdd(junk_arr, 'ShuMercsHQ_DynamiteBundle'); // ",
              "            else if(num == 3) ArrayAdd(junk_arr, 'ShuMercsHQ_TNT'); // ",
              "            //  (      )",
              "            else if(num == 4) ArrayAdd(junk_arr, 'ShuMercsHQ_GoodsImitation3'); //",
              "            else if(num == 5) ArrayAdd(junk_arr, 'ShuMercsHQ_GoodsImitation6'); //",
              "            else /*if(num == 6)*/ ArrayAdd(junk_arr, 'ShuMercsHQ_GoodsImitation7'); //",
              "        }",
              "        ArrayRandomize(ArrayDim(junk_arr) * 3, junk_arr, sqr(GetQuestSeed() + Id(ship)));",
              "        ArrayAdd(junk_arr, 0);",
              "",
              "        int cnt = ArrayDim(junk_arr) - 1;",
              "        for(j = 0; j < cnt; j = j + 1)",
              "        {",
              "            str useless_str = junk_arr[0];",
              "            if(useless_str == 'RNDbomb_1') //    \" \"",
              "            {",
              "                item = CreateQuestItem('RNDbomb_1', Maloc);",
              "                UselessItemData(item, 2, -2);",
              "                UselessItemData(item, 1, 30); //       30 , ..     ",
              "                SetName(item, Name(item) + CT('Script.Mod_ExpArts.BombWithTimer'));",
              "            }",
              "            else if(useless_str == 'ShuBounty_EscapePod') //    \" \"",
              "            {",
              "                item = CreateQuestItem('ShuBounty_EscapePod', Peleng);",
              "                UselessItemData(item, 3, 42); //    ",
              "                useless_str = CT('ShipType.TypeName.Pirate');",
              "                useless_str = useless_str + ' <color=255,240,100>' + CT('ShipType.Peleng.Pirate') + ' ' + CT('ShipName.Pirate.Peleng.16') + '</color>';",
              "                UselessItemText(item, Format(CT('UselessItems.ShuBounty_EscapePod.Description.PilotAlive'),",
              "                                                '<Name'+'>', lowercase(substr(useless_str, 0, 1)) + substr(useless_str, 1), ''));",
              "            }",
              "            else item = CreateQuestItem(useless_str);",
              "",
              "            AddItemToShip(ship, item);",
              "            ArrayDelete(junk_arr, 0);",
              "        }",
              "",
              "        ShipSpecialBonuses(ship, bonSlotForsage, 10);",
              "        ShipImproveItems(ship, 5); //  ,    ",
              "        HullHP(ship, 'To100');",
              "        NoDropToShip(ship, 1);",
              "    }",
              "",
              "    //        ",
              "    //(       ,  )",
              "    dword neurolink = ActiveQuestsHQArray[q_num, 0];",
              "    str add_klissan = '';",
              "    while(klissan_count < 0)",
              "    {",
              "        int plus_klissan = RndObject(1, 5, cur_planet); //  ",
              "        add_klissan = add_klissan + plus_klissan;",
              "        klissan_count = klissan_count + t_array[plus_klissan];",
              "    }",
              "    if(add_klissan != '') SetData(-int(add_klissan), 3, neurolink); //       (     )",
              "",
              "    //            (  )",
              "    str id_line = '';",
              "    for(i = 0; i < StarShips(begin_star); i = i + 1)",
              "    {",
              "        warrior = StarShips(begin_star, i);",
              "        if(ShipInScript(warrior, 0)) continue;",
              "        if(ShipInGameEvent(warrior)) continue;",
              "        if(ShipOwner(warrior) != PirateClan) continue;",
              "",
              "        ShipJoin(QuestSupport, warrior);",
              "        //      ",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "        if(id_line == '') id_line = Id(warrior);",
              "        else id_line = id_line + ',' + Id(warrior);",
              "        //        \"\"",
              "        if(!ShipSubType(warrior)) add_warriors = add_warriors - 1;",
              "        else add_warriors = add_warriors - warriors_per_cap;",
              "",
              "        //       ",
              "        if(add_warriors <= 0) break;",
              "    }",
              "",
              "    //        ",
              "    //(        )",
              "    if(add_warriors > 15) add_warriors = 15;",
              "    while(add_warriors > 0)",
              "    {",
              "        for(i = 0; i < StarPlanets(begin_star); i = i + 1)",
              "        {",
              "            cur_planet = StarPlanets(begin_star, i);",
              "            if(PlanetOwner(cur_planet) == None) continue;",
              "",
              "            if(add_warriors > 0)",
              "            {",
              "                warrior = BuyWarrior(cur_planet, 250);",
              "                for(j = 1; j <= 2; j = j + 1) ShipRefit(warrior);",
              "                ShipImproveItems(warrior, RndObject(0, 3, cur_planet));",
              "",
              "                ShipJoin(QuestSupport, warrior);",
              "                //      ",
              "                SetData(Id(ActiveQuestsHQArray[q_num, 9]) * 2, 2, warrior);",
              "                if(id_line == '') id_line = Id(warrior);",
              "                else id_line = id_line + ',' + Id(warrior);",
              "                add_warriors = add_warriors - 1;",
              "            }",
              "            else break;",
              "        }",
              "    }",
              "",
              "    //        ,      ",
              "    text = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.SupportOnPlayerAttack'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], '255,240,100');",
              "    for(i = 0; i < GroupCount(QuestSupport); i = i + 1)",
              "    {",
              "        warrior = GroupShip(QuestSupport, i);",
              "        ShipAddCustomShipInfo(warrior, 'ShuMercsHQ_QuestShipsOutOnPlayerAttack', 'NoShow', 0, 0, 0, id_line, 'Ether2,,,0,,,' + text);",
              "    }",
              "",
              "    //          -   ",
              "    //(       )",
              "    ShipAddCustomShipInfo(Player(), 'ShuMercsHQ_PlayerOwnerSwitcherInfo', 'NoShow', Id(target_star), -1, 0, 'Coalition');",
              "",
              "    //       ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 8], 1);",
              "    //       ",
              "    ArrayAdd(KlissanInvasion['RegroupingNeurolinks'], -1, '' + Id(ActiveQuestsHQArray[q_num, 8]));",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    text = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    text = text + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    text = text + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    text = text + \"<br>\" + Format(CT('Quest.Info.CountDay'), '<Day'+'>', ActiveQuestsHQArray[q_num, 2] - CurTurn(), '255,240,100');",
              "    text = text + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteInProcess' + ActiveQuestsHQArray[q_num, 1]), '<BeginPlanet'+'>', Name(ActiveQuestsHQArray[q_num, 9]), '<BeginStar'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '<TargetStar'+'>', Name(target_star), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], text);",
              "",
              "    //    ",
              "    PlanetRace(start_planet, old_race);",
              "    PlanetOwner(start_planet, old_owner);",
              "",
              "    //   Id ",
              "    ActiveQuestsHQArray[q_num, 0] = Id(neurolink);",
              "    //   Id   ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(begin_star);",
              "    ActiveQuestsHQArray[q_num, 8] = Id(target_star);",
              "    //   ",
              "    ActiveQuestsHQArray[q_num, 9] = Id(ActiveQuestsHQArray[q_num, 9]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1088,
          "#":  1089,
          "Total.Lines":  34,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//        Private.Protect.4",
              "",
              "//   ",
              "if(GAnswerData == t_WB)",
              "{",
              "    cost = RoundTo(0.5 * UselessItemData(cur_item, 2), 1000, 0);",
              "    tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.WBFlashDriveText'), '<Cost'+'>', cost, '<RankPoints'+'>', 100);",
              "    tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerWBFlashDriveThanks');",
              "    ShipMoney(Player(), ShipMoney(Player()) + cost);",
              "    ShipRankPoints(Player(), ShipRankPoints(Player()) + 100);",
              "    Sound('Sound.Sell');",
              "}",
              "//   ",
              "else if(GAnswerData == t_BK)",
              "{",
              "    cost = UselessItemData(cur_item, 2);",
              "    tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.BKFlashDriveText'), '<Cost'+'>', cost);",
              "    tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerBKFlashDriveThanks');",
              "    ShipMoney(Player(), ShipMoney(Player()) + cost);",
              "    Sound('Sound.Sell');",
              "}",
              "//   ",
              "else if(GAnswerData == t_CB)",
              "{",
              "    cost = UselessItemData(cur_item, 2);",
              "    tstr1 = '</color>' + Format(CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.CBFlashDriveText'), '<Cost'+'>', cost, '<RankPoints'+'>', 100);",
              "    tstr2 = '</color>' + CT('Quest.ShuMercs.QuestsHQ.Private.Protect.4.PlayerCBFlashDriveThanks');",
              "    ShipMoney(Player(), ShipMoney(Player()) + cost);",
              "    ShipPirateRankPoints(Player(), ShipPirateRankPoints(Player()) + 100);",
              "    Sound('Sound.Sell');",
              "}",
              "",
              "// ",
              "FreeItem(GetItemFromShip(Player(), cur_item));"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1093,
          "#":  1094,
          "Total.Lines":  812,
          "Code.Type":  "Turn",
          "Code":          
          [
              "// PirateClan.Protect.2  ",
              "// ",
              "//1 -      ",
              "// QuestSupport -   ",
              "// QuestMercs -      ",
              "// QuestTarget -    ,  -    ",
              "//2 - QuestSupport       \"\"  ,      ",
              "",
              "// QuestSupport -",
              "//   QuestPlace     ",
              "//        ,              (       )",
              "",
              "// QuestMercs -     ,            ",
              "// QuestTarget -    ,  -    ",
              "",
              "//3 -             (    4  ),           30 (       , -    -     -     ( ),    )",
              "// QuestMercs -         30          ",
              "// QuestTarget -    ",
              "",
              "//4 -  (    )        ,    QuestTarget                  ,      5 ",
              "// QuestMercs -    QuestTarget",
              "// QuestTarget -     (   400  600)      ",
              "// QuestAttackers -     QuestTarget",
              "",
              "//5 -             QuestTarget",
              "// QuestMercs -    QuestTarget",
              "// QuestTarget -    ",
              "// QuestAttackers -     QuestTarget",
              "//       QuestSupport  QuestTarget  ",
              "",
              "// ",
              "target_star = GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1);",
              "//   ",
              "start_planet = IdToPlanet(ActiveQuestsHQArray[ActiveQuestHQ, 8]);",
              "//  ",
              "if(ActiveQuestsHQArray[ActiveQuestHQ, 1] > 2) target_hole = IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]);",
              "// ",
              "cur_ship = GroupToShip(QuestTarget);",
              "",
              "//                      QuestTarget ",
              "if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "{",
              "    //                (. QuestAttackers   QuestTarget  QuestAttackers   )   QuestTarget,                 QuestTarget         ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 2] == CurTurn())",
              "    {",
              "        //    ,  ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 14])",
              "        {",
              "            //                ",
              "            for(i = GalaxyEvents() - 1; i >= 0; i = i - 1)",
              "            {",
              "                if(GalaxyEventDate(i) < CurTurn() - 1) break;",
              "",
              "                //          ,  ...",
              "                tstr1 = GalaxyEventType(i);",
              "                if(tstr1 == 'LabeledShipKilledInAB')",
              "                {",
              "                    tdwd1 = IdToShip(GalaxyEventsTextData(i, 0));",
              "                    if(tdwd1)",
              "                    {",
              "                        //-  ,                  ",
              "                        ShipSetCoords(tdwd1, 100000, 100000);",
              "                        ShipDestroy(tdwd1);",
              "                        //      (    ,            )          ",
              "                        ShipOut(tdwd1);",
              "                    }",
              "                }",
              "                //  - HP        ",
              "                else if(tstr1 == 'LabeledShipSurvivedInAB')",
              "                {",
              "                    tdwd1 = IdToShip(GalaxyEventsTextData(i, 0));",
              "                    if(tdwd1) HullHP(tdwd1, GalaxyEventData(i, 0));",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            ShipOut(cur_ship);",
              "            ShipDestroy(cur_ship);",
              "        }",
              "    }",
              "}",
              "",
              "//   ,    ,  ",
              "//                     ( QuestTarget     )",
              "//  GroupToShip(QuestTarget)            ",
              "if(!GroupToShip(QuestTarget) || (!GroupToShip(QuestSupport) && ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3) || !GroupToShip(PlayerHQ))",
              "{",
              "    //   ,   QuestTarget    ,    ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //   ",
              "        for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestAttackers, i);",
              "            OrderNone(tdwd1);",
              "            ShipDestroy(tdwd1, 1);",
              "            SetData(0, 0, tdwd1);",
              "        }",
              "",
              "        //   (  )     ,        ",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            MakeShipEnterStar(tdwd1, target_star, target_star, 0);",
              "            ShipOrder(tdwd1, 4);",
              "            ShipOrderObj(tdwd1, target_hole);",
              "            //     (   ?)",
              "            ShipSpecialBonuses(tdwd1, bonDroid, ShipSpecialBonuses(tdwd1, bonDroid) + 1000000);",
              "",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //     (        (   ,   ))",
              "        for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestAttackers, i);",
              "            ShipDeleteCustomShipInfo(tdwd1, 'ShuMercsHQ_QuestShipNotScriptDialog');",
              "            ShipOut(tdwd1);",
              "            OrderLock(tdwd1, 0);",
              "            ShipFreeFlight(tdwd1);",
              "        }",
              "",
              "        //     ",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "    }",
              "",
              "    //  ,    (     )       ",
              "    if(cur_ship)",
              "    {",
              "        //     ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 1] > 3) ShipDestroy(cur_ship);",
              "        else ShipOut(cur_ship);",
              "",
              "        // ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedSupport');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "        cur_item = ShipEqInSlot(cur_ship, t_Radar);",
              "        if(cur_item) NoDropItem(cur_item, 0);",
              "    }",
              "    else",
              "    {",
              "        //      ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    if(GroupToShip(QuestSupport) && ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "    {",
              "        SetData(66, 0, GroupToShip(QuestSupport));",
              "        SetData(Id(PlanetToStar(PlanetPirateClan())), 1, GroupToShip(QuestSupport));",
              "    }",
              "",
              "    //     ",
              "    if(!GroupToShip(PlayerHQ))",
              "    {",
              "        //  ",
              "        tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "        tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "        tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT('Script.Mod_ShuMercs.PlayerMercsOrgMsg.QuestNoteHQDestroyed');",
              "        CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "    }",
              "",
              "    //  ",
              "    //tdwd1 = IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]);",
              "    //if(tdwd1) HoleStatus(tdwd1, 3);",
              "",
              "    // ",
              "    NoComeKlingToStar(target_star, 0);",
              "    NoTargetToShip(Player(), 0);",
              "",
              "    //           ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 9] == 1)",
              "    {",
              "        ShipOwner(Player(), ShipPilotRace(Player()));",
              "    }",
              "",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "    //    ",
              "    EndQuestHQ(ActiveQuestHQ, 0);",
              "}",
              "else",
              "{",
              "    check = 0;",
              "    //      ",
              "    //      ( &&          )     ",
              "    if(GroupToShip(QuestSupport))",
              "    {",
              "        if(Hit(GroupToShip(QuestSupport), 0))",
              "        {",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "            {",
              "                SetData(66, 0, GroupToShip(QuestSupport));",
              "                SetData(Id(PlanetToStar(PlanetPirateClan())), 1, GroupToShip(QuestSupport));",
              "            }",
              "",
              "            RelationToRanger(GroupToShip(QuestSupport), Player(), 0);",
              "            check = 1;",
              "        }",
              "    }",
              "",
              "    if(Hit(cur_ship, 0) || (check == 1 && ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3))",
              "    {",
              "        //     ",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            SetData(0, 0, tdwd1);",
              "            SetData(0, 1, tdwd1);",
              "            SetData(0, 2, tdwd1);",
              "            SetData(-3, 3, tdwd1);",
              "            ChangeState('ReturningStrikeState', tdwd1);",
              "        }",
              "",
              "        NoTargetToShip(Player(), 0);",
              "",
              "        //        ",
              "        if(Hit(GroupToShip(QuestSupport), 0))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedPlayerAttack');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "        }",
              "",
              "        if(Hit(cur_ship, 0))",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedPlayerAttackSupport'), '<TargetNameShort'+'>', ShipName(cur_ship), '255,240,100');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "        }",
              "",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 4)",
              "        {",
              "            //         3      (      ),       ",
              "            ShipDestroy(cur_ship, 1);",
              "        }",
              "        else",
              "        {",
              "            //  ",
              "            RelationToRanger(cur_ship, Player(), 0);",
              "            //       ,(      \"\" c                  )",
              "            NoLanding(cur_ship, 0);",
              "            ShipOut(cur_ship);",
              "        }",
              "",
              "        // ",
              "        NoComeKlingToStar(target_star, 0);",
              "        NoTargetToShip(Player(), 0);",
              "",
              "        //           ",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 9] == 1)",
              "        {",
              "            ShipOwner(Player(), ShipPilotRace(Player()));",
              "        }",
              "",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "        //    ",
              "        EndQuestHQ(ActiveQuestHQ, 0);",
              "        exit;",
              "    }",
              "",
              "    //              ",
              "    if(RelationToRanger(cur_ship, Player()) < 100)",
              "    {",
              "        RelationToRanger(cur_ship, Player(), 100);",
              "    }",
              "",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] < 3)",
              "    {",
              "        if(RelationToRanger(GroupToShip(QuestSupport), Player()) < 100)",
              "        {",
              "            RelationToRanger(GroupToShip(QuestSupport), Player(), 100);",
              "        }",
              "    }",
              "",
              "    //  ,       ",
              "    //      ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 1)",
              "    {",
              "        //        ",
              "        if(GroupIn(QuestMercs, target_star))",
              "        {",
              "            //       ,     ",
              "            if(GroupIn(QuestMercs, start_planet))",
              "            {",
              "                for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ShipRefuel(tdwd1);",
              "                    SetData(Id(GroupToShip(QuestSupport)), 3, tdwd1);",
              "                    //    ,      ,     2            ",
              "                    SetData(102, 0, tdwd1);",
              "                    OrderTakeOff(tdwd1);",
              "                }",
              "",
              "                //    (   StarAngle,      )",
              "                //     ",
              "                tflt1 = StarAngle(PlanetToStar(PlanetPirateClan()), target_star) + Rnd(-35, 35, GetQuestSeed() ^ 473764365);",
              "                // \"\"",
              "                if(tflt1 < 0)",
              "                {",
              "                    tint1 = (abs(tflt1) / 360) + 1;",
              "                    tflt1 = tflt1 + 360 * tint1;",
              "                }",
              "                if(tflt1 >= 360)",
              "                {",
              "                    tint1 = tflt1 / 360;",
              "                    tflt1 = tflt1 - 360 * tint1;",
              "                }",
              "                tflt1 = tflt1 * (pi / 180.0);",
              "",
              "                // ",
              "                tint1 = PlanetOrbitRadius(StarPlanets(target_star, StarPlanets(target_star) - 1)) + 800; //  ",
              "                tint1 = tint1 - RndObject(50, 300, target_star);",
              "",
              "                //        ",
              "                QuestPlaceX = cos(tflt1) * tint1;",
              "                QuestPlaceY = sin(tflt1) * tint1;",
              "",
              "                SetData(100, 0, GroupToShip(QuestSupport));",
              "                OrderTakeOff(GroupToShip(QuestSupport));",
              "",
              "                //    ,  ( )  ",
              "                //  ",
              "                tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5],'<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwo'), '<Star'+'>', Name(target_star), '<TargetNameShort'+'>', ShipName(cur_ship), '255,240,100');",
              "                CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "                //    ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 2;",
              "                // ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 2] = -1;",
              "                QuestSupportDialogCall = CurTurn() + 3;",
              "            }",
              "            //     ",
              "            else",
              "            {",
              "                for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 1, tdwd1);",
              "                    // Id      ",
              "                    SetData(ActiveQuestsHQArray[ActiveQuestHQ, 8] * 2, 2, tdwd1);",
              "                }",
              "            }",
              "        }",
              "        //       -  ,   ",
              "        else if(!GroupCount(QuestMercs))",
              "        {",
              "            ShipDestroy(cur_ship,1);",
              "            ShipDestroy(GroupToShip(QuestSupport),1);",
              "            //  ",
              "            tstr1 = '<color=255,0,0>' + CT('Quest.Info.OldQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteFailedByTime');",
              "            CustomEther('QuestFailed_PlayerMercsOrg', 5, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            // ",
              "            NoComeKlingToStar(target_star, 0);",
              "            NoTargetToShip(Player(),0);",
              "            //           ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 9] == 1) ShipOwner(Player(), ShipPilotRace(Player()));",
              "",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 0] = 0;",
              "            // ",
              "            EndQuestHQ(ActiveQuestHQ, 0);",
              "        }",
              "    }",
              "    //  ,    ,   ,      ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 2)",
              "    {",
              "        //     ",
              "        if(GroupIn(QuestSupport, QuestPlace) || ActiveQuestsHQArray[ActiveQuestHQ, 2] != -1)",
              "        {",
              "            //  ",
              "            tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwoWait');",
              "            CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "            //    ,     ",
              "            if(GroupIn(QuestMercs, AroundQuestSupport) || ActiveQuestsHQArray[ActiveQuestHQ, 2] != -1)",
              "            {",
              "                //       (    )",
              "                if(ActiveQuestsHQArray[ActiveQuestHQ, 2] == CurTurn())",
              "                {",
              "                    //    ",
              "                    ArrayClear(tarr2);",
              "                    CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.UniqueModifers', tarr1);",
              "",
              "                    ArrayAdd(tarr2, newarray(1), 'Attackers');",
              "                    PirateClanProtectQuestTwoParseABInfo(tarr1, tarr2, 'Attackers', 'StrengthDamageToTarget');",
              "                    PirateClanProtectQuestTwoParseABInfo(tarr1, tarr2, 'Attackers', 'StrengthDamageToMercs');",
              "",
              "                    ArrayAdd(tarr2, newarray(1), 'Mercs');",
              "                    PirateClanProtectQuestTwoParseABInfo(tarr1, tarr2, 'Mercs', 'StrengthDamageToAttackers');",
              "",
              "                    ArrayAdd(tarr2, newarray(1), 'Target');",
              "                    PirateClanProtectQuestTwoParseABInfo(tarr1, tarr2, 'Target', 'StartHPPercents');",
              "",
              "                    copy(ActiveQuestsHQArray[ActiveQuestHQ, 11], tarr2);",
              "                    ArrayClear(tarr2);",
              "",
              "                    tint4 = PortionInDiapason(GalaxyDiffLevels(), 50, 500, CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestDaysInHoleDifficultMin'), CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestDaysInHoleDifficultMax'));",
              "",
              "                    //    (   -   )",
              "                    for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                    {",
              "                        tdwd1 = GroupShip(QuestMercs,i);",
              "                        //     ",
              "                        SetData(18, 0, tdwd1);",
              "                        SetData(ActiveQuestsHQArray[ActiveQuestHQ, 10], 1, tdwd1);",
              "                        SetData(tint4, 2, tdwd1);",
              "",
              "                        //                      ",
              "                        ShipSpecialBonuses(tdwd1, bonDroid, ShipSpecialBonuses(tdwd1, bonDroid) - 1000000);",
              "                    }",
              "",
              "                    //",
              "                    //   ",
              "                    for(i = 0; i < ShipCntWeapon(cur_ship); i = i + 1)",
              "                    {",
              "                        tdwd2 = ShipWeapon(cur_ship, i);",
              "                        ItemDurability(tdwd2, 0);",
              "                    }",
              "",
              "                    //  ",
              "                    HullHP(cur_ship, 'DownTo' + Rnd(ActiveQuestsHQArray[ActiveQuestHQ, 11,'Target', 'StartHPPercents', 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Target', 'StartHPPercents', 1], TempQuestHQSeed ^ 423587093));",
              "",
              "                    //       ",
              "                    ForceShipTakeoffHole(cur_ship, target_hole, tint4);",
              "",
              "                    //   \"\" ",
              "                    ShipSpecialBonuses(cur_ship, bonDroid, ShipSpecialBonuses(cur_ship, bonDroid) - 1000000);",
              "",
              "                    //  (                    )",
              "                    tdwd1 = FindPlanet(target_star, 'NotNone', 0, 100);",
              "                    tdwd2 = FindPlanet(target_star, 'NotMaloc,NotPeleng,NotPeople,NotFei,NotGaal,NotPirateClan', 0, 0);",
              "                    for(i = 1; i < 8; i = i + 1)",
              "                    {",
              "                        tstr1 = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInAB.DifficultMin.' + i);",
              "                        tstr2 = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInAB.DifficultMax.' + i);",
              "                        if(tstr1 != '' && tstr2 != '')",
              "                        {",
              "                            tint1 = Rnd(GetParFromString(tstr1, ',', 0, 0), GetParFromString(tstr1, ',', 1, 0), GetQuestSeed() ^ 278218394);",
              "                            tint2 = Rnd(GetParFromString(tstr2, ',', 0, 0), GetParFromString(tstr2, ',', 1, 0), GetQuestSeed() ^ 143490887);",
              "",
              "                            cnt = PortionInDiapason(GalaxyDiffLevels(), 50, 500, tint1, tint2);",
              "                            for(j = 0; j < cnt; j = j + 1)",
              "                            {",
              "                                // ",
              "                                tdwd3 = PirateClanProtectQuestTwoSpawnAttacker(tdwd1, tdwd2, i, 1);",
              "                                //   ",
              "                                OrderNone(tdwd3);",
              "                                OrderLock(tdwd3, 1);",
              "",
              "                                //\"\" ",
              "                                ShipSpecialBonuses(tdwd3, bonDroid, ShipSpecialBonuses(tdwd3, bonDroid) - 1000000);",
              "                            }",
              "                        }",
              "                    }",
              "",
              "                    //           ",
              "                    SetData(66, 0, GroupToShip(QuestSupport));",
              "                    SetData(Id(PlanetToStar(PlanetPirateClan())), 1, GroupToShip(QuestSupport));",
              "",
              "                    // (          )      4",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + tint4;",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 1] = 3;",
              "",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5],'<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageThree');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                }",
              "                else if(ActiveQuestsHQArray[ActiveQuestHQ, 2] == -1)",
              "                {",
              "                    //     ",
              "                    //      ,         ",
              "                    tflt1 = RndFloat(0.0, 2.0 * pi, cur_ship);",
              "                    //       ",
              "                    tint2 = Rnd(20, 40, GetQuestSeed() ^ 327832762);",
              "                    // ",
              "                    QuestPlaceX = QuestPlaceX + (cos(tflt1) * tint2);",
              "                    QuestPlaceY = QuestPlaceY + (sin(tflt1) * tint2);",
              "",
              "                    tdwd1 = GroupToShip(QuestSupport);",
              "                    //    ",
              "                    //     CoordX  CoordY         ",
              "                    tint3 = CoordX(tdwd1);",
              "                    tint4 = CoordY(tdwd1);",
              "                    //  \"  \"      ",
              "                    tflt1 = (pi * 2) / GroupCount(QuestMercs);",
              "",
              "                    //     ,    ",
              "                    unknown t_array = newarray(1);",
              "                    for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                    {",
              "                        j = 1;",
              "                        //    ",
              "                        tint1 = QuestPlaceX + (cos(tflt1 * i) * 80.0);",
              "                        tint2 = QuestPlaceY + (sin(tflt1 * i) * 80.0);",
              "",
              "                        // ShipNearbyShips()       (     ShipNearbyShips   ),                        ",
              "                        check = 0;",
              "",
              "                        // ,    ,    ",
              "                        ShipSetCoords(tdwd1, tint1, tint2);",
              "                        ShipNearbyShips(tdwd1, 0, 0, -1, 'PlayerMerc', '');",
              "                        while(!check)",
              "                        {",
              "                            tdwd3 = ShipNearbyShips(tdwd1, j, j, -1, 'PlayerMerc', '');",
              "                            if(ShipGroup(tdwd3) == QuestMercs && ArrayFind(t_array, tdwd3) == -1)",
              "                            {",
              "                                check = 1;",
              "                                ArrayAdd(t_array, tdwd3);",
              "                            }",
              "                            else j = j + 1;",
              "                        }",
              "",
              "                        //      ",
              "                        SetData(16, 0, tdwd3);",
              "",
              "                        //      300,      ,    ",
              "                        if(ShipSpeed(tdwd3) < 340)",
              "                        {",
              "                            ShipSpecialBonuses(tdwd3, bonSpeed, ShipSpecialBonuses(tdwd3, bonSpeed) + (Rnd(340, 360, GetQuestSeed() ^ 432876642) - ShipSpeed(tdwd3)));",
              "                        }",
              "",
              "                        //     ",
              "                        SetData(tint1, 1, tdwd3);",
              "                        SetData(tint2, 2, tdwd3);",
              "                    }",
              "                    //    ",
              "                    ShipSetCoords(tdwd1, tint3, tint4);",
              "",
              "                    //     ,    ",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + 1;",
              "                    //  ",
              "                    tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "                    tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "                    tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "                    tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageTwoWait');",
              "                    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "                }",
              "            }",
              "            else",
              "            {",
              "                //        ,               ",
              "                for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    tdwd3 = GroupShip(QuestMercs, i);",
              "                    SetData(0, 0, tdwd3);",
              "                    SetData(0, 1, tdwd3);",
              "                    SetData(0, 2, tdwd3);",
              "                    SetData(-1, 3, tdwd3);",
              "                }",
              "            }",
              "        }",
              "        else",
              "        {",
              "            //      (   ,    ,             )",
              "            tdwd3 = GroupToShip(QuestSupport);",
              "            SetData(0, 0, tdwd3);",
              "            SetData(0, 1, tdwd3);",
              "            SetData(0, 2, tdwd3);",
              "            SetData(-1, 3, tdwd3);",
              "        }",
              "    }",
              "    //  ",
              "    //                      ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 3)",
              "    {",
              "        //         (                   )       ",
              "        if(CurTurn() == ActiveQuestsHQArray[ActiveQuestHQ, 2] || !GroupCount(QuestAttackers))",
              "        {",
              "            //   ",
              "            for(i = 0; i < GroupCount(QuestAttackers); i = i + 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestAttackers, i);",
              "                ShipDestroy(tdwd1);",
              "                SetData(0, 0, tdwd1);",
              "            }",
              "",
              "            //  GroupToShip(QuestTarget)    cur_ship                ",
              "            for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                ShipSpecialBonuses(tdwd1, bonDroid, ShipSpecialBonuses(tdwd1, bonDroid) + 1000000);",
              "                ForceShipTakeoffHole(tdwd1, target_hole, 0);",
              "                //         ",
              "                if(GroupToShip(QuestTarget))",
              "                {",
              "                    SetData(0, 0, tdwd1);",
              "                    SetData(0, 1, tdwd1);",
              "                    SetData(0, 2, tdwd1);",
              "                    SetData(Id(cur_ship), 3, tdwd1);",
              "                }",
              "                //     ",
              "                else SetData(11, 0, GroupShip(QuestMercs, i));",
              "            }",
              "",
              "            //   (      )           ",
              "            ForceShipTakeoffHole(cur_ship, target_hole, 0);",
              "            //   ",
              "            SetData(22, 0, cur_ship);",
              "",
              "            //  ",
              "            //  ",
              "            tflt1 = RndFloat(0.0, 2.0 * pi, cur_ship);",
              "            //       ",
              "            tint2 = Rnd(850, 1000, GetQuestSeed() ^ 327832762);",
              "",
              "            // ",
              "            SetData(HoleX1(target_hole) + (cos(tflt1) * tint2), 1, cur_ship);",
              "            SetData(HoleY1(target_hole) + (sin(tflt1) * tint2), 2, cur_ship);",
              "",
              "            // ID    (      ),       ",
              "            tdwd1 = ActiveQuestsHQArray[ActiveQuestHQ, 7] << 20;",
              "            tdwd1 = tdwd1 | 0;",
              "            SetData(tdwd1, 3, cur_ship);",
              "",
              "            //      ",
              "            NoLanding(cur_ship, 1);",
              "",
              "            //     ",
              "            free(ActiveQuestsHQArray[ActiveQuestHQ, 11]);",
              "            copy(ActiveQuestsHQArray[ActiveQuestHQ, 11], dummy);",
              "",
              "            //                 ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 12] = 0;",
              "            PirateClanProtectQuestTwoWaveNew();",
              "            PirateClanProtectQuestTwoWaveHandling();",
              "",
              "            //  ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 4;",
              "",
              "            // ",
              "            QuestTargetDialogCall = CurTurn() + 3;",
              "",
              "            //  ",
              "            tstr1 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '<Reputation'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 6], '255,240,100');",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteStageFour'), '<TargetNameShort'+'>', ShipName(cur_ship), '255,240,100');",
              "            CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1, cur_ship);",
              "",
              "            // -       ",
              "            exit;",
              "        }",
              "",
              "        //    ",
              "        //    (_/_)+___",
              "        for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestMercs, i);",
              "            tdwd2 = GroupShip(QuestAttackers, RndObject(0, GroupCount(QuestMercs) - 1, tdwd1));",
              "            HullHP(tdwd2, 'Minus' + int((ShipStrengthInAverageRanger(tdwd1) / ShipStrengthInAverageRanger(tdwd2)) + RndFloat(ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Mercs','StrengthDamageToAttackers', 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Mercs', 'StrengthDamageToAttackers', 1], tdwd1)));",
              "        }",
              "",
              "        for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "        {",
              "            tdwd1 = GroupShip(QuestAttackers, i);",
              "            //    ",
              "            tdwd2 = 0;",
              "            rand = RndObject(0, 100, tdwd1);",
              "            if(rand < (100 / (GroupCount(QuestMercs) + 1)) && GroupToShip(QuestTarget))",
              "            {",
              "                tdwd2 = GroupToShip(QuestTarget);",
              "                HullHP(tdwd2, 'Minus' + int((ShipStrengthInAverageRanger(tdwd1) / ShipStrengthInAverageRanger(tdwd2)) + RndFloat(ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Attackers', 'StrengthDamageToTarget', 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Attackers', 'StrengthDamageToTarget', 1], tdwd1)));",
              "            }",
              "            else if(GroupToShip(QuestMercs))",
              "            {",
              "                tdwd2 = GroupShip(QuestMercs, RndObject(0, GroupCount(QuestMercs) - 1, tdwd1));",
              "                HullHP(tdwd2, 'Minus' + int((ShipStrengthInAverageRanger(tdwd1) / ShipStrengthInAverageRanger(tdwd2)) + RndFloat(ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Attackers', 'StrengthDamageToMercs', 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, 'Attackers', 'StrengthDamageToMercs', 1], tdwd1)));",
              "            }",
              "        }",
              "",
              "        //  ",
              "        if(ShipInHole(Player()) && !ActiveQuestsHQArray[ActiveQuestHQ, 14])",
              "        {",
              "            //     ,   ",
              "            if(ShipOrderObj(Player()) == target_hole)",
              "            {",
              "                HoleMap(target_hole, 'NoEntry');",
              "",
              "                //                ",
              "                for(i = GroupCount(QuestAttackers) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    //         ",
              "                    ConvertToABShip(GroupShip(QuestAttackers, i), 0);",
              "                }",
              "",
              "                for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "                {",
              "                    tdwd1 = GroupShip(QuestMercs, i);",
              "                    ConvertToABShip(tdwd1, 1, 100, 100, Id(tdwd1));",
              "                }",
              "",
              "                ConvertToABShip(cur_ship, 1, 100, 100, Id(cur_ship));",
              "",
              "                //  ",
              "                StartAB('ABMap.map_' + Rnd(1, 15, GetQuestSeed()), Rnd(1, 3, GetQuestSeed() ^ 1187389933));",
              "                //                   (.        )",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 14] = 1;",
              "                //           ",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + 1;",
              "            }",
              "        }",
              "    }",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 4)",
              "    {",
              "        //    ",
              "        //tdwd1 = IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]);",
              "        //if(tdwd1) HoleStatus(tdwd1, 0);",
              "",
              "        //  (      )",
              "        if(ActiveQuestsHQArray[ActiveQuestHQ, 2] == CurTurn())",
              "        {",
              "            //      ",
              "            if(BlockExist(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + (ActiveQuestsHQArray[ActiveQuestHQ, 12] + 1)))",
              "            {",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 12] = ActiveQuestsHQArray[ActiveQuestHQ, 12] + 1;",
              "                PirateClanProtectQuestTwoWaveNew();",
              "                PirateClanProtectQuestTwoWaveHandling();",
              "            }",
              "            //   ",
              "            else",
              "            {",
              "                //    5",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 1] = 5;",
              "            }",
              "        }",
              "        else if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 1)",
              "        {",
              "            //PirateClanProtectQuestTwoWaveHandling        1( )",
              "            PirateClanProtectQuestTwoWaveHandling();",
              "        }",
              "    }",
              "    //          ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 1] == 5)",
              "    {",
              "        if(!GroupToShip(QuestAttackers))",
              "        {",
              "            //     ",
              "            for(i = GroupCount(QuestMercs) - 1; i >= 0; i = i - 1)",
              "            {",
              "                tdwd1 = GroupShip(QuestMercs, i);",
              "                SetData(0, 0, tdwd1);",
              "                SetData(0, 1, tdwd1);",
              "                SetData(0, 2, tdwd1);",
              "                SetData(-3, 3, tdwd1);",
              "                ChangeState('ReturningStrikeState', tdwd1);",
              "            }",
              "",
              "            //  ",
              "            tstr1 = '<color=0,255,0>' + CT('Quest.Info.OldQuests.Accepted') + '</color>';",
              "            tstr1 = tstr1 + \"<br>\" + ActiveQuestsHQArray[ActiveQuestHQ, 4];",
              "            tstr1 = tstr1 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.QuestNoteSuccess'), '<TargetNameShort'+'>', ShipName(cur_ship), '<Cost'+'>', ActiveQuestsHQArray[ActiveQuestHQ, 5], '255,240,100');",
              "            CustomEther('QuestComplete_PlayerMercsOrg', 4, ActiveQuestsHQArray[ActiveQuestHQ, 3], tstr1);",
              "",
              "            //   ",
              "            //tdwd1 = IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]);",
              "            //if(tdwd1) HoleStatus(tdwd1, 3);",
              "",
              "            // ",
              "            NoComeKlingToStar(target_star, 0);",
              "            NoTargetToShip(Player(), 0);",
              "            //    ",
              "            NoLanding(cur_ship, 0);",
              "            //   ",
              "            ShipOut(cur_ship);",
              "",
              "            //           ",
              "            if(ActiveQuestsHQArray[ActiveQuestHQ, 9] == 1) ShipOwner(Player(), ShipPilotRace(Player()));",
              "",
              "            //   ",
              "            ActiveQuestsHQArray[ActiveQuestHQ, 1] = 0;",
              "",
              "            //    ",
              "            EndQuestHQ(ActiveQuestHQ, 1);",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1094,
          "#":  1095,
          "Total.Lines":  381,
          "Code.Type":  "Init",
          "Code":          
          [
              "//    ",
              "function ForceShipTakeoffHole(dword ship, dword hole, int turn)",
              "{",
              "    MakeShipEnterStar(ship, HoleStar1(hole), HoleStar1(hole), turn);",
              "    ShipOrder(ship, 4);",
              "    ShipOrderObj(ship, hole);",
              "    ShipOrderData1(ship, turn);",
              "    ShipOrderData2(ship, 1);",
              "}",
              "",
              "//                (               )",
              "function PirateClanProtectQuestTwoSpawnAttacker(dword spawnplanet, dword planet, int type, int subrace)",
              "{",
              "    dword ship = BuyDomikExtremal(spawnplanet, type, subrace);",
              "    ShipJoin(QuestAttackers, ship);",
              "    ShipAddCustomShipInfo(ship, 'ShuMercsHQ_QuestShipNotScriptDialog');",
              "",
              "    //      ",
              "    for(int i = 0; i < 7; i = i + 1) ShipRefit(ship);",
              "",
              "    //    ",
              "    for(i = 0; i < ShipItems(ship); i = i + 1)",
              "    {",
              "        ItemOwner(ShipItems(ship, i), 5);",
              "        ItemSubrace(ShipItems(ship, i), 1);",
              "    }",
              "",
              "    //   ",
              "    TransferShip(ship, planet);",
              "    result = ship;",
              "}",
              "",
              "//          (  ),coef         float",
              "function PirateClanProtectQuestTwoParseABInfo(ref inparr, ref outarr, str side, str modifer)",
              "{",
              "    ArrayAdd(outarr[side], 0, modifer);",
              "",
              "    unknown t_array = newarray(2);",
              "    //     ",
              "    str diffmin = GetParFromString(inparr['DifficultMax', side, modifer], ',', 0, 1);",
              "    str diffmax = GetParFromString(inparr['DifficultMax', side, modifer], ',', 0, 1);",
              "    t_array[0] = PortionInDiapason(GalaxyDiffLevels(), 50, 500, diffmin, diffmax);",
              "",
              "    //     ",
              "    diffmin = GetParFromString(inparr['DifficultMax', side, modifer], ',', 1, 1);",
              "    diffmax = GetParFromString(inparr['DifficultMax', side, modifer], ',', 1, 1);",
              "    t_array[1] = PortionInDiapason(GalaxyDiffLevels(), 50, 500, diffmin, diffmax);",
              "",
              "    copy(outarr[side, modifer], t_array);",
              "    ArrayClear(t_array);",
              "}",
              "",
              "//  ",
              "//PirateClanProtectQuestTwoWaveNew -    ,                      ",
              "//PirateClanProtectQuestTwoWaveHandling -       ",
              "",
              "function PirateClanProtectQuestTwoWaveNew()",
              "{",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 11] = newarray(1);",
              "    ActiveQuestsHQArray[ActiveQuestHQ, 13] = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.WaveOut');",
              "",
              "    int j = 0;",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 1)",
              "    {",
              "        j = 1;",
              "        //       ",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 11, 0] = newarray(1);",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0] = 0;",
              "        for(int i = 1; i < 8; i = i + 1)",
              "        {",
              "            //       ",
              "            str diffmin = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.Waveomposition.DifficultMin.' + i);",
              "            str diffmax = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.Waveomposition.DifficultMax.' + i);",
              "            if(diffmin != '' && diffmax != '')",
              "            {",
              "                ArrayAdd(ActiveQuestsHQArray[ActiveQuestHQ, 11], newarray(2));",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0] = Rnd(PortionInDiapason(GalaxyDiffLevels(), 50, 500, GetParFromString(diffmin, ',', 0, 1), GetParFromString(diffmax, ',', 0, 1)), PortionInDiapason(GalaxyDiffLevels(), 50, 500, GetParFromString(diffmin, ',', 1, 1), GetParFromString(diffmax, ',', 1, 1)), GetQuestSeed() ^ 378329326);",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0] = ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0] + ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0];",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 1] = i;",
              "                j = j + 1;",
              "            }",
              "        }",
              "    }",
              "    else",
              "    {",
              "        //   ",
              "        for(i = 1; i < 8; i = i + 1)",
              "        {",
              "            //       ",
              "            diffmin = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.Waveomposition.DifficultMin.' + i);",
              "            diffmax = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.Waveomposition.DifficultMax.' + i);",
              "            if(diffmin != '' && diffmax != '')",
              "            {",
              "                //      ,     -               ",
              "                if(!j) ActiveQuestsHQArray[ActiveQuestHQ, 11, j] = newarray(3);",
              "                //   ",
              "                else ArrayAdd(ActiveQuestsHQArray[ActiveQuestHQ, 11], newarray(3));",
              "",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0] = PortionInDiapason(GalaxyDiffLevels(), 50, 500, GetParFromString(diffmin, ',', 0, 1), GetParFromString(diffmax, ',', 0, 1));",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 1] = PortionInDiapason(GalaxyDiffLevels(), 50, 500, GetParFromString(diffmin, ',', 1, 1), GetParFromString(diffmax, ',', 1, 1));",
              "                ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 2] = i;",
              "",
              "                j = j + 1;",
              "            }",
              "        }",
              "    }",
              "",
              "    //     ,    0     ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 0)",
              "    {",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + 1;",
              "    }",
              "    else",
              "    {",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 15] = CT(ActiveQuestsHQArray[ActiveQuestHQ, 3] + '.AttackersInSpaceWaves.' + int(ActiveQuestsHQArray[ActiveQuestHQ, 12]) + '.WaveTime');",
              "        ActiveQuestsHQArray[ActiveQuestHQ, 2] = CurTurn() + ActiveQuestsHQArray[ActiveQuestHQ, 15];",
              "    }",
              "}",
              "",
              "function PirateClanProtectQuestTwoWaveHandling()",
              "{",
              "    dword spawn_planet = FindPlanet(target_star, 'NotNone', 0, 100);",
              "    dword planet = FindPlanet(GalaxyStar(ActiveQuestsHQArray[ActiveQuestHQ, 7] - 1), 'NotMaloc,NotPeleng,NotPeople,NotFei,NotGaal,NotPirateClan', 0, 100);",
              "    // ",
              "    if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 0)",
              "    {",
              "        for(int i = 0; i < ArrayDim(ActiveQuestsHQArray[ActiveQuestHQ, 11]); i = i + 1)",
              "        {",
              "            int cnt = Rnd(ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 1],GetQuestSeed() ^ 908097427);",
              "            for(int j = 1; j <= cnt; j = j + 1)",
              "            {",
              "                // ",
              "                dword ship = PirateClanProtectQuestTwoSpawnAttacker(spawn_planet, planet, ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 2], 1);",
              "                SetData(Id(GroupToShip(QuestTarget)), 3, ship);",
              "                ForceShipTakeoffHole(ship, IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]), 2);",
              "            }",
              "        }",
              "    }",
              "    // ",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 1)",
              "    {",
              "        cnt = int(ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0]) / int(ActiveQuestsHQArray[ActiveQuestHQ, 15]);",
              "        //  c   1",
              "        if(int(ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0]) % int(ActiveQuestsHQArray[ActiveQuestHQ, 15]))",
              "        {",
              "            cnt = cnt + 1;",
              "        }",
              "",
              "        for(i = 0; i < cnt; i = i + 1)",
              "        {",
              "            for(j = 1; j < ArrayDim(ActiveQuestsHQArray[ActiveQuestHQ, 11]); j = j + 1)",
              "            {",
              "                if(int(ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0]))",
              "                {",
              "                    ship = PirateClanProtectQuestTwoSpawnAttacker(spawn_planet, planet, ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 1], 1);",
              "                    SetData(Id(GroupToShip(QuestTarget)), 3, ship);",
              "                    ForceShipTakeoffHole(ship, IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]), 2);",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0] = ActiveQuestsHQArray[ActiveQuestHQ, 11, j, 0] - 1;",
              "                    ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0] = ActiveQuestsHQArray[ActiveQuestHQ, 11, 0, 0] - 1;",
              "                    break;",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //   (-        )",
              "    else if(ActiveQuestsHQArray[ActiveQuestHQ, 13] == 2)",
              "    {",
              "        for(i = 0; i < ArrayDim(ActiveQuestsHQArray[ActiveQuestHQ, 11]); i = i + 1)",
              "        {",
              "            cnt = Rnd(ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 0], ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 1], GetQuestSeed() ^ 908097427);",
              "            for(j = 1; j <= cnt; j = j + 1)",
              "            {",
              "                // ",
              "                ship = PirateClanProtectQuestTwoSpawnAttacker(spawn_planet, planet, ActiveQuestsHQArray[ActiveQuestHQ, 11, i, 2], 1);",
              "                SetData(Id(GroupToShip(QuestTarget)), 3, ship);",
              "                ForceShipTakeoffHole(ship, IdToHole(ActiveQuestsHQArray[ActiveQuestHQ, 10]), int(ActiveQuestsHQArray[ActiveQuestHQ, 15]) + 2);",
              "            }",
              "        }",
              "    }",
              "}",
              "",
              "//  ,     PirateClan.Protect.2",
              "function PirateClanProtectQuestTwoConditions()",
              "{",
              "    dword player_star = ShipStar(Player());",
              "    int first_range = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2.FirstStarMaxRange');",
              "    //     ",
              "    free(tarr2);",
              "    tarr2 = newarray(1);",
              "    int available_options = 0;",
              "    for(int i = 1; i < GalaxyStars(); i = i + 1)",
              "    {",
              "        dword cur_star = StarNearbyStars(player_star, i);",
              "        //,         ",
              "        if(StarBattle(cur_star)) continue;",
              "        if(StarEnemyThreatLevel(cur_star)) continue;",
              "        //     ",
              "        if(StarOwner(cur_star) != 2) continue;",
              "        //  (  )    ",
              "        if(!StarRuins(cur_star, 'CB')) continue;",
              "        if(StarCustomFaction(cur_star) != '') continue;",
              "        //      ",
              "        dword cur_sector = StarToCon(cur_star);",
              "        if(!SectorVisible(cur_sector)) continue;",
              "        if(cur_sector == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "        int cur_range = round(sqrt(Dist2Star(cur_star, player_star)));",
              "        if(cur_range > first_range) continue;",
              "        //    ",
              "        if(!available_options)",
              "        {",
              "            tarr2[0] = cur_star;",
              "            available_options = 1;",
              "        }",
              "        //   ",
              "        else",
              "        {",
              "            ArrayAdd(tarr2, cur_star, available_options);",
              "            available_options = available_options + 1;",
              "        }",
              "    }",
              "",
              "    //    ",
              "    if(available_options)",
              "    {",
              "        int next_num = ArrayDim(tarr1);",
              "        ArrayAdd(tarr1, dummy);",
              "        tarr1[next_num] = newarray(16);",
              "        //      ",
              "        GetQuestSeed();",
              "        available_options = Rnd(1, available_options, TempQuestHQSeed ^ 7891721) - 1;",
              "",
              "        //   ,            ",
              "        tarr1[next_num, 0] = CT('Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2.SupportName');",
              "        // ",
              "        tarr1[next_num, 1] = 0;",
              "        // ",
              "        tarr1[next_num, 2] = 0;",
              "",
              "        //    Lang,   Id  ",
              "        tarr1[next_num, 3] = 'Quest.ShuMercs.QuestsHQ.PirateClan.Protect.2';",
              "        //    (      ,      ,  )",
              "        tarr1[next_num, 4] = '';",
              "",
              "        //    ",
              "        int cost = RoundTo(GalaxyMoney(4, 4) * 19, 1000, 0);",
              "        tarr1[next_num, 5] = round(PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, cost, cost * 2));",
              "        //       ",
              "        tarr1[next_num, 6] = 50;",
              "        // ",
              "        tarr1[next_num, 7] = tarr2[available_options];",
              "        //  ",
              "        tarr1[next_num, 8] = FindPlanet(tarr1[next_num, 7], 'NotNone', 0, 100);",
              "",
              "        //              (     )",
              "        tarr1[next_num, 9] = 0;",
              "",
              "        //      ",
              "        tarr1[next_num, 10] = 0;",
              "",
              "        //         ",
              "        tarr1[next_num, 11] = 0;",
              "        tarr1[next_num, 12] = 0;",
              "",
              "        //       ",
              "        tarr1[next_num, 13] = 0;",
              "",
              "        //    ( 1,  )",
              "        tarr1[next_num, 14] = 0;",
              "",
              "        //    (  , ..        ),        ",
              "        tdwd1 = StarRuins(tarr1[next_num, 7], 'CB');",
              "        tarr1[next_num, 15] = Format(CT(tarr1[next_num, 3] + '.QuestIntro'),",
              "                                     '<TargetName'+'>', Name(tdwd1),",
              "                                     '<TargetNameShort'+'>', ShipName(tdwd1),",
              "                                     '<TargetStar'+'>', Name(tarr1[next_num, 7]),",
              "                                     '<TargetPlanet'+'>', Name(tarr1[next_num, 8]),",
              "                                     '<Cost'+'>', tarr1[next_num, 5]);",
              "    }",
              "}",
              "",
              "//   PirateClan.Protect.2",
              "function PirateClanProtectQuestTwoPrepare(int q_num)",
              "{",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 1] = 1;",
              "",
              "    //,       ",
              "    //(   )",
              "    //PlayerHQMainArray['Mercs', 'CurrentAtReady'] ==   \"\" (,    )",
              "    i = PlayerHQMainArray['Mercs', 'CurrentAtReady'];",
              "    PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 0;",
              "",
              "    // ,       ",
              "    dword ship = GroupToShip(PlayerHQ);",
              "    SpawnPlayerMerc(NearCivilPlanet(ship), ship, t_Transport, i);",
              "    //       ",
              "    for(int i = 0; i < GroupCount(QuestMercs); i = i + 1)",
              "    {",
              "        ship = GroupShip(QuestMercs, i);",
              "        SetData(Id(ActiveQuestsHQArray[q_num, 8]) * 2, 2, ship);",
              "",
              "        //   ",
              "        ShipStatus(ship, 0, 0); //",
              "        ShipStatus(ship, 1, 100); //",
              "        ShipStatus(ship, 2, 0); //",
              "        ShipOwner(ship, PirateClan);",
              "        NoTargetToShip(ship, 3);",
              "        RelationToRanger(PlanetPirateClan(), ship, 100);",
              "    }",
              "",
              "    // ",
              "    ship = StarRuins(ActiveQuestsHQArray[q_num, 7], 'CB');",
              "    if(!ShipEqInSlot(ship, t_Radar))",
              "    {",
              "        dword item = CreateEquipment(t_Radar, RndObject(50, 80, ship), GalaxyTechLevel(), PirateClan);",
              "        AddItemToShip(ship, item);",
              "        ItemIsInUse(item, ship, 1);",
              "        NoDropItem(item, 1);",
              "    }",
              "    ShipJoin(QuestTarget, ship);",
              "",
              "    //              ",
              "    //   ",
              "    SetData(22, 0, ship);",
              "",
              "    //  ",
              "    // ",
              "    SetData(100000, 1, ship);",
              "    SetData(100000, 2, ship);",
              "",
              "    // ID     (      ),       ",
              "    tdwd1 = Id(PlanetToStar(PlanetPirateClan())) << 20;",
              "    tdwd1 = tdwd1 | 1000;",
              "    SetData(tdwd1, 3, ship);",
              "",
              "    //  ",
              "    ActiveQuestsHQArray[q_num, 4] = Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitle'), '<TargetName'+'>', ShipName(ship), '255,240,100');",
              "    tstr3 = '<color=255,240,100>' + CT('Quest.Info.CurQuests.NotAccepted') + '</color>';",
              "    tstr3 = tstr3 + \"<br>\" + ActiveQuestsHQArray[q_num, 4];",
              "    tstr3 = tstr3 + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteTitleReward'), '<Cost'+'>', ActiveQuestsHQArray[q_num, 5], '<Reputation'+'>', ActiveQuestsHQArray[q_num, 6], '255,240,100');",
              "    tstr3 = tstr3 + \"<br>\" + '<clr><clrEnd>' + \"<br>\" + Format(CT(ActiveQuestsHQArray[q_num, 3] + '.QuestNoteStageOne'), '<Planet'+'>', ShortName(ActiveQuestsHQArray[q_num, 8]), '<Star'+'>', Name(ActiveQuestsHQArray[q_num, 7]), '255,240,100');",
              "    CustomEther('QuestInProcess_PlayerMercsOrg', 3, ActiveQuestsHQArray[q_num, 3], tstr3);",
              "",
              "    //          (        )",
              "    tint1 = PlanetRace(ActiveQuestsHQArray[q_num, 8]);",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 8], Peleng);",
              "",
              "    //  ",
              "    ship = BuyPirate(ActiveQuestsHQArray[q_num, 8], 200);",
              "    ShipRefit(ship);",
              "    ShipRefit(ship);",
              "    ShipJoin(QuestSupport, ship);",
              "    NoTargetToShip(ship, 3);",
              "    RaisePirateRank(ship, 4); //  ",
              "    SetName(ship, ActiveQuestsHQArray[q_num, 0]);",
              "",
              "    //    ",
              "    PlanetRace(ActiveQuestsHQArray[q_num, 8], tint1);",
              "",
              "    // ",
              "    tdwd3 = CreateArt(t_ArtBlackHole, tint1);",
              "    AddItemToShip(ship, tdwd3);",
              "    LinkItemToScript(tdwd3, QuestItem);",
              "    ItemOwner(tdwd3, PirateClan);",
              "",
              "    // ",
              "    NoComeKlingToStar(ActiveQuestsHQArray[q_num, 7], 1);",
              "    NoTargetToShip(Player(), 3);",
              "",
              "    //                  ",
              "    if(ShipOwner(Player()) != PirateClan)",
              "    {",
              "        ShipOwner(Player(), PirateClan);",
              "        ActiveQuestsHQArray[q_num, 9] = 1;",
              "    }",
              "",
              "    //   Id  ",
              "    ActiveQuestsHQArray[q_num, 7] = Id(ActiveQuestsHQArray[q_num, 7]);",
              "    // ",
              "    ActiveQuestsHQArray[q_num, 8] = Id(ActiveQuestsHQArray[q_num, 8]);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1098,
          "#":  1099,
          "Total.Lines":  46,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//          (   ),      ",
              "int check = 1;",
              "if(CountReward(Player(), ForPerfidy) < 2) check = 0;",
              "else",
              "{",
              "    int malocs = 0;",
              "    int pelengs = 0;",
              "    int peoples = 0;",
              "    int feis = 0;",
              "    int gaals = 0;",
              "",
              "    tstr1 = CountReward(Player());",
              "    CT('Reward', tarr1);",
              "    for(int i = ParsCountFromString(tstr1, ',') - 1; i >= 0; i = i - 1)",
              "    {",
              "        tstr2 = GetParFromString(tstr1, ',', i, 0);",
              "        if(tarr1[tstr2, 'Type'] == 'ForAccomplishment' || tarr1[tstr2, 'Type'] == 'ForSecretMission' || tarr1[tstr2, 'Type'] == 'ForPlanetBattle')",
              "        {",
              "            if(tarr1[tstr2, 'Race'] == 'Maloc') malocs = malocs + 1;",
              "            else if(tarr1[tstr2, 'Race'] == 'Peleng') pelengs = pelengs + 1;",
              "            else if(tarr1[tstr2, 'Race'] == 'People') peoples = peoples + 1;",
              "            else if(tarr1[tstr2, 'Race'] == 'Fei') feis = feis + 1;",
              "            else if(tarr1[tstr2, 'Race'] == 'Gaal') gaals = gaals + 1;",
              "        }",
              "    }",
              "",
              "    if(malocs < 2) check = 0;",
              "    else if(pelengs < 2) check = 0;",
              "    else if(peoples < 2) check = 0;",
              "    else if(feis < 2) check = 0;",
              "    else if(gaals < 2) check = 0;",
              "}",
              "",
              "if(check)",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerConditionExtraTerms');",
              "    tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionExtraTermsYes');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionExtraTermsNo');",
              "    tint1 = 1;",
              "}",
              "else",
              "{",
              "    tstr1 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerConditionExtraTerms');",
              "    tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionExtraTermsNo');",
              "    tint1 = 0;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -120,
          "Parent":  1103,
          "#":  1105,
          "Total.Lines":  32,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost = RoundTo(max(3500000, GalaxyMoney(4, 4) * 70), 1000, 0);",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBGovAnswerConditionExtraTermsYes'), '<Cost'+'>', cost);",
              "tstr3 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionYesStart');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerConditionYesCancel');",
              "tint1 = 2;",
              "",
              "//     ",
              "ArrayClear(tarr1);",
              "if(!ShipOnSidePirateClan(Player())) tint2 = 0;",
              "else tint2 = 2;",
              "for(i = 0; i < GalaxyStars(); i = i + 1)",
              "{",
              "    cur_star = StarNearbyStars(ShipStar(Player()), i);",
              "    if(!SectorVisible(StarToCon(cur_star))) continue;",
              "    if(StarOwner(cur_star) != tint2) continue;",
              "    if(StarCustomFaction(cur_star) != '') continue;",
              "    if(StarToCon(cur_star) == StarToCon(PlanetToStar(PlanetPirateClan()))) continue;",
              "    //   ",
              "    if(StarRuins(cur_star, 'MB')) continue;",
              "",
              "    ArrayAdd(tarr1, cur_star);",
              "}",
              "",
              "if(ArrayDim(tarr1) > 1)",
              "{",
              "    //     ",
              "    for(i = 1; i < ArrayDim(tarr1); i = i + 1)",
              "    {",
              "        cur_star = tarr1[i];",
              "        InjectAnswer('OwnBaseDialogBridge_Choosed', CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.MBPlayerChooseStar') + ' <color=0,50,200>' + Name(cur_star) + '</color>', cur_star);",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -460,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  1106,
          "Total.Lines":  129,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if(!AssaultsCount)",
              "{",
              "    BuildOwnBase_Condition = -1;",
              "    AssaultsCount = 1;",
              "",
              "    //        ,       ",
              "    if(ArrayDim(PlayerHQMainArray) == 1)",
              "    {",
              "        DeclarePlayerHQMainArray();",
              "    }",
              "",
              "    PlayerHQMainArray['Main', 'OrganisationName'] = ' --';",
              "",
              "    if(PlayerHQMainArray['Main', 'OrganisationName'] != '')",
              "    {",
              "        cur_star = ShipStar(Player());",
              "",
              "        //          ",
              "        GBuildOwnBase_QuestsGiven = '';",
              "",
              "        tint2 = 10;",
              "",
              "        //   ",
              "        PlayerHQMainArray['Main', 'HQStar'] = Id(cur_star) - 1;",
              "        PlayerHQMainArray['Mercs', 'PlanetsCount'] = tint2;",
              "        PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'] = CT('Script.Mod_ShuMercs.PlayerMercsParams.ReplenishmentFrequency');",
              "        PlayerHQMainArray['Mercs', 'ReplenishmentTimer'] = CurTurn() + PlayerHQMainArray['Mercs', 'ReplenishmentFrequency'];",
              "        PlayerHQMainArray['Mercs', 'ReplenishmentCount'] = tint2; //        ",
              "        PlayerHQMainArray['Mercs', 'MaxFree'] = 8;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 0;",
              "        //  ",
              "        PlayerHQMainArray['Mercs', 'MaxAtReady'] = 4;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 3;",
              "        PlayerHQMainArray['Mercs', 'CurrentAtReady'] = 3;",
              "        //   ",
              "        PlayerHQMainArray['Mercs', 'MaxStrike'] = int(CT('Script.Mod_ShuMercs.PlayerMercsParams.MaxStrikeGroupShipsCount'));",
              "        //",
              "        PlayerHQMainArray['Mercs', 'MaxReserve'] = 10;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = PlayerHQMainArray['Mercs', 'MaxReserve'];",
              "        PlayerHQMainArray['Mercs', 'CurrentReserve'] = 5;",
              "        //      ",
              "        PlayerHQMainArray['Mercs', 'MercsEquipAtStock'] = 3;",
              "        //   ",
              "        PlayerHQMainArray['Finance', 'CurrentBalance'] = 1000000;",
              "        //       /",
              "        //PlayerHQMainArray['Finance', 'FiscalPeriod'] = CurTurn() + CT('Script.Mod_ShuMercs.PlayerMercsParams.FiscalPeriod');",
              "        //        ",
              "        PlayerHQMainArray['Finance', 'SalariesDay'] = CurTurn() + 15;",
              "        //      ",
              "        PlayerHQMainArray['Quests', 'PrivateQuestAppear'] = CurTurn() + Rnd(7, 14);",
              "        if(!StarOwner(cur_star))",
              "        {",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 14, 3);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 21, 14);",
              "        }",
              "        else",
              "        {",
              "            PlayerHQMainArray['Quests', 'CoalitionQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'CoalitionReputation'], 0, 1000, 21, 14);",
              "            PlayerHQMainArray['Quests', 'PirateClanQuestAppear'] = CurTurn() + PortionInDiapason(PlayerHQMainArray['Main', 'PirateClanReputation'], 0, 1000, 14, 3);",
              "        }",
              "        //          ",
              "        PlayerHQMainArray['Armory', 'MercsHullShopTimer'] = CurTurn() + RndObject(62, 93, Player());",
              "        //        ,        ",
              "        if(PlayerHQMainArray['Science', 'GluonGunsDeveloped']) PlayerHQMainArray['Armory', 'GluonGunsShopTimer'] = CurTurn() + RndObject(45, 61, Player());",
              "",
              "        //,   ",
              "        cur_ruin = BuildCustomRuins(cur_star, 'PlayerMBLevel1', 5);",
              "        Chameleon(cur_ruin, 'Ruins.PlayerMBLevel1'); // ,      , , ,    ",
              "        ShipType(cur_ruin, 'PlayerMB');",
              "        PlayerHQMainArray['Main', 'HQId'] = Id(cur_ruin);",
              "        //HullSpecial(cur_ruin, FindBonusByNameInCfg('ShuMercsHQ_PlayerMBLevel1'));",
              "        //HullType(cur_ruin, 9); //    ",
              "",
              "        ItemOwner(ShipItems(cur_ruin, 0), Peleng);",
              "        EqCustomFaction(ShipItems(cur_ruin, 0), 'SubFactionPlayerMercsFixedStanding');",
              "        ShipPilotRace(cur_ruin, Peleng);",
              "        if(ShipPilotRace(Player()) != Peleng || ShipFace(Player()) != 1) ShipFace(cur_ruin, 1);",
              "        else ShipFace(cur_ruin, 0);",
              "        SetName(cur_ruin, Format(CT('Script.Mod_ShuMercs.CreatingPlayerOrgDialogs.HQMainName'), '<PlayerOrgName'+'>', PlayerHQMainArray['Main', 'OrganisationName'], ''));",
              "        ShipJoin(PlayerHQ, cur_ruin);",
              "",
              "        ShipCustomFaction(cur_ruin, 'SubFactionPlayerMercsFixedStanding');",
              "        //   ,  ,         ( ,  1   !)",
              "        NoShopUpdate(cur_ruin, 2);",
              "        for(i = t_Food; i <= t_Narcotics; i = i + 1)",
              "        {",
              "            GoodsAdd(cur_ruin, i, -GoodsAdd(cur_ruin, i, 0));",
              "            GoodsSellPrice(cur_ruin, i, 0);",
              "            GoodsBuyPrice(cur_ruin, i, 0);",
              "        }",
              "        //         ",
              "        ShipAddCustomShipInfo(cur_ruin, 'ShuMercsHQ_PlayerMBAutoRepair', 'NoShow', 0, 35);",
              "",
              "        //        ",
              "        StrikeGroupCandidatesListUpdate();",
              "",
              "        PlayerHQMainArray['Main', 'HQLevel'] = PlayerHQMainArray['Main', 'HQLevelMax'];",
              "",
              "        PlayerHQMainArray['Science', 'ScientificDepartment'] = 1;",
              "        PlayerHQMainArray['Medicine', 'MedicalDepartment'] = 1;",
              "        PlayerHQMainArray['Armory', 'ArmoryWorkshop'] = 1;",
              "        PlayerHQMainArray['Shipyard', 'ProductionShipyard'] = 1;",
              "        PlayerHQMainArray['Shipyard', 'CapitalShipDock'] = 1;",
              "",
              "        PlayerHQMainArray['Mercs', 'MaxFree'] = 60;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxFree'] = 20;",
              "",
              "        PlayerHQMainArray['Mercs', 'MaxAtReady'] = 25;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxAtReady'] = 12;",
              "",
              "        PlayerHQMainArray['Mercs', 'MaxReserve'] = 120;",
              "        PlayerHQMainArray['Mercs', 'CurrentMaxReserve'] = 60;",
              "",
              "        // 200 .   ,   ,",
              "        //       1500 . ",
              "        tdwd1 = CreateHull(0, 1000, GalaxyTechLevel(), People, -1);",
              "        SpecialToEquipment(FindBonusByNameInCfg('ShuMercsHQ_PlayerMercSpecialHull'), tdwd1);",
              "        EqCustomFaction(tdwd1, 'SubFactionPlayerMercsFixedStanding');",
              "        AddItemToStorage(cur_ruin, tdwd1);",
              "",
              "        Chameleon(cur_ruin, 'Ruins.PlayerMBLevel5');",
              "",
              "        //  ,   ",
              "        BuildOwnBase_InProcess = 6;",
              "        BasesSuccessfullyBuiltCount = BasesSuccessfullyBuiltCount + 1;",
              "",
              "        BuildOwnBase_ChooseName = 0;",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -550,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  1108,
          "Total.Lines":  306,
          "Code.Type":  "Init",
          "Code":          
          [
              "function EscapePodActCode() //t_OnDropItem, t_OnItemHit, t_OnStep_11",
              "{",
              "    dword cur_item = CurItem();",
              "",
              "    //      ",
              "    if(ScriptItemActionType(t_OnStep))",
              "    {",
              "        int time_left = UselessItemData(cur_item, 3);",
              "        //  ,   ",
              "        if(time_left == 1)",
              "        {",
              "            str pilot_name = ScriptItemTextData(cur_item, 3);",
              "            UselessItemText(cur_item, Format(CT('UselessItems.ShuBounty_EscapePod.Description.PilotDead'), '<Name'+'>', lowercase(substr(pilot_name, 0, 1)) + substr(pilot_name, 1), '<TimeOfDeath'+'>', '<color=255,240,100>' + GameDateTxtByTurn(CurTurn()) + '</color>', ''));",
              "            UselessItemData(cur_item, 3, 0);",
              "            ItemCost(cur_item, max(round(0.15 * ItemCost(cur_item)), 100));",
              "            ItemOnActCode(cur_item, ''); //     ",
              "        }",
              "        else UselessItemData(cur_item, 3, time_left - 1);",
              "    }",
              "    //   ",
              "    else if(ScriptItemActionType(t_OnItemHit))",
              "    {",
              "        dword ship = ScriptItemActShip();",
              "        if(IsPlayer(ship))",
              "        {",
              "            dword cur_star = ScriptItemActObject2();",
              "            str ship_type = ScriptItemTextData(cur_item, 1);",
              "            if(ship_type == 'RangerPirate') int relation_change = 10; // ",
              "            else if(ship_type == 'Smuggler') relation_change = 5; //  ",
              "            else if(UselessItemData(cur_item, 1) != t_Pirate) relation_change = -15;  //  ",
              "            else relation_change = 10; // ",
              "",
              "            //      /   ,  ",
              "            if(relation_change < 0)",
              "            {",
              "                relation_change = abs(relation_change);",
              "",
              "                for(int i = 0; i < StarPlanets(cur_star); i = i + 1)",
              "                {",
              "                    dword planet = StarPlanets(cur_star, i);",
              "                    if(PlanetOwner(planet) != None) RelationToRanger(planet, Player(), max(RelationToRanger(planet, Player()) - relation_change, 0));",
              "                }",
              "                //   ExpTraitors,        ",
              "                if(CurrentMods('Expansion\\ExpTraitors'))",
              "                {",
              "                    for(i = 0; i < StarRuins(cur_star); i = i + 1)",
              "                    {",
              "                        dword ruin = StarRuins(cur_star, i);",
              "                        if(ShipOwner(ruin) != PirateClan && ShipType(ruin) != 'PB')",
              "                        {",
              "                            RelationToRanger(ruin, Player(), max(RelationToRanger(ruin, Player()) - relation_change, 10));",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "            //     /  ,  ",
              "            else",
              "            {",
              "                RelationToRanger(PlanetPirateClan(), Player(), max(RelationToRanger(PlanetPirateClan(), Player()) - relation_change, 0));",
              "                //   ExpTraitors,        ",
              "                if(CurrentMods('Expansion\\ExpTraitors'))",
              "                {",
              "                    for(i = 0; i < StarRuins(cur_star); i = i + 1)",
              "                    {",
              "                        ruin = StarRuins(cur_star, i);",
              "                        if(ShipOwner(ruin) == PirateClan || ShipType(ruin) == 'PB')",
              "                        {",
              "                            RelationToRanger(ruin, Player(), max(RelationToRanger(ruin, Player()) - relation_change, 10));",
              "                        }",
              "                    }",
              "                }",
              "            }",
              "        }",
              "    }",
              "    //  ,        (,  ,      )",
              "    else //if(ScriptItemActionType(t_OnDropItem))",
              "    {",
              "        if(!ItemCost(cur_item))",
              "        {",
              "            ship = ScriptItemActShip();",
              "            //        - ,       ",
              "            if(ShipInScript(ship, 0))",
              "            {",
              "                //   ,    ",
              "                int check = 0;",
              "                str script_name = GetShipScriptName(ship, 3);",
              "                if(script_name == 'Mod_ExpTraitors.Traitors') check = 1; //RangerPirate",
              "                else if(script_name == 'Mod_ShuSmugglers.Smugglers') check = 1; //Smuggler",
              "",
              "                if(!check)",
              "                {",
              "                    ScriptItemActParam(-1);",
              "                    exit;",
              "                }",
              "            }",
              "",
              "            int owner = ShipOwner(ship);",
              "            dword temp_item = CreateQuestItem('ShuBounty_EscapePod', owner);",
              "            ItemCost(cur_item, ItemCost(temp_item)); //  ,      ",
              "            FreeItem(temp_item);",
              "            ItemOwner(cur_item, owner);",
              "            UselessItemData(cur_item, 2, ShipPilotRace(ship));",
              "            ScriptItemData(cur_item, 3, owner);",
              "",
              "            ScriptItemData(cur_item, 1, ShipFace(ship));",
              "            ScriptItemData(cur_item, 2, Id(ShipStatistic(ship, 10))); //Id   ",
              "            //    ,      (   - ( 1.00))",
              "            int life_support_system = 73;//RndObject(61, 121, ship);",
              "            int item_size = 3;",
              "            if(owner == Maloc)",
              "            {",
              "                life_support_system = round(0.70 * life_support_system);",
              "                item_size = 5;",
              "            }",
              "            else if(owner == Peleng)",
              "            {",
              "                life_support_system = round(0.90 * life_support_system);",
              "                item_size = 2;",
              "            }",
              "            else if(owner == Fei)",
              "            {",
              "                life_support_system = round(1.15 * life_support_system);",
              "                item_size = 1;",
              "            }",
              "            else if(owner == Gaal)",
              "            {",
              "                life_support_system = round(1.30 * life_support_system);",
              "                item_size = 3;",
              "            }",
              "            else if(owner == PirateClan)",
              "            {",
              "                life_support_system = round(0.80 * life_support_system);",
              "                item_size = 3;",
              "            }",
              "            UselessItemData(cur_item, 3, life_support_system);",
              "            ItemSize(cur_item, item_size);",
              "",
              "            if(ShipTypeN(ship) == t_Ranger) int is_ranger = 1;",
              "            else is_ranger = 0;",
              "",
              "            ship_type = ShipType(ship);",
              "            ScriptItemTextData(cur_item, 1, ship_type);",
              "            //    ",
              "            str ship_stats = '';",
              "            for(i = 0; i < 6; i = i + 1) ship_stats = ship_stats + ShipSkill(ship, i); //   ",
              "            ship_stats = '' + ShipSubType(ship) + ':' + ship_stats + ':' + ShipMoney(ship) + ':' + ShipRank(ship) + ',' + GetShipPirateRank(ship) + ':' + ShipCustomFaction(ship) + ':' + CountReward(ship) + ':' + ShipFreeExp(ship) + ':' + GetShipExpByType(ship) + ':' + RelationToShip(ship, Player());",
              "            if(is_ranger == t_Ranger) ship_stats = ship_stats + ':' + ShipStatus(ship, 0) + ',' + ShipStatus(ship, 1) + ',' + ShipStatus(ship, 2);",
              "",
              "            int implants_infos = ShipFindCustomShipInfoByType(ship, 'bioMM_NPC');",
              "            if(~implants_infos) ship_stats = ship_stats + ':' + ShipCustomShipInfoData(ship, implants_infos, 1) + '*' + ShipCustomShipInfoData(ship, implants_infos, 2) + '*' + ShipCustomShipInfoData(ship, implants_infos, 3) + '*' + substr(ShipCustomShipInfoTextData(ship, implants_infos, 1), 0, 1) + '*' + ShipCustomShipInfoTextData(ship, implants_infos, 2) + '*' + ShipCustomShipInfoTextData(ship, implants_infos, 3);",
              "            else ship_stats = ship_stats + ':';",
              "",
              "            if(is_ranger == t_Ranger)",
              "            {",
              "                implants_infos = ShipFindCustomShipInfoByType(ship, 'ExpExplorers_ExplorerInfo');",
              "                if(~implants_infos) ship_stats = ship_stats + ':' + ShipCustomShipInfoData(ship, implants_infos, 3) + ',' + ShipCustomShipInfoTextData(ship, implants_infos, 1) + ',' + ShipCustomShipInfoTextData(ship, implants_infos, 2) + ',' + ShipCustomShipInfoTextData(ship, implants_infos, 3);",
              "                else ship_stats = ship_stats + ':';",
              "            }",
              "",
              "            //    ",
              "            implants_infos = ShipFindCustomShipInfoByType(ship, 'IgnoreCamoInfo');",
              "            if(~implants_infos) ship_stats = ship_stats + ':' + ShipCustomShipInfoData(ship, implants_infos, 1);",
              "",
              "            //SFT(Name(ship) + ': ' + ship_stats);",
              "            ScriptItemTextData(cur_item, 2, ship_stats);",
              "",
              "            pilot_name = CT('UselessItems.ShuBounty_EscapePod.Description.' + ship_type);",
              "            if(pilot_name == '') pilot_name = CT('ShipType.TypeName.' + ship_type);",
              "            pilot_name = pilot_name + ' <color=255,240,100>' + ShortName(ship) + '</color>';",
              "            ScriptItemTextData(cur_item, 3, pilot_name);",
              "",
              "            UselessItemText(cur_item, Format(CT('UselessItems.ShuBounty_EscapePod.Description.PilotAlive'), '<Name'+'>', lowercase(substr(pilot_name, 0, 1)) + substr(pilot_name, 1), ''));",
              "        }",
              "    }",
              "}",
              "",
              "//  ( )           ,   ",
              "//         ",
              "function FindEscapePodsInStock(dword place = 0, dword main_types_set = -1, str str_types = '')",
              "{",
              "    if(main_types_set == -1) exit;",
              "",
              "    ArrayClear(tarr1);",
              "    ArrayDelete(tarr1, 0);",
              "",
              "    int pods_found = 0;",
              "    int cnt = ShipItems(Player());",
              "    for(int i = 1; i < cnt; i = i + 1)",
              "    {",
              "        dword item = ShipItems(Player(), i);",
              "        if(ItemType(item) != t_UselessItem) continue;",
              "        if(EquipmentImageName(item) != 'ShuBounty_EscapePod') continue;",
              "        if(~main_types_set)",
              "        {",
              "            if(!((1 << UselessItemData(item, 1)) & main_types_set)) //         ,     ( )",
              "            {",
              "                if(findsubstr(str_types, ScriptItemTextData(item, 1)) == -1) continue;",
              "            }",
              "        }",
              "        //      ,      ",
              "        else if(findsubstr(str_types, ScriptItemTextData(item, 1)) == -1) continue;",
              "",
              "        ArrayAdd(tarr1, item);",
              "        pods_found = pods_found + 1;",
              "    }",
              "",
              "    cnt = StorageItems();",
              "    for(i = 0; i < cnt; i = i + 1)",
              "    {",
              "        if(StorageItemLocation(i) != place) continue;",
              "        item = StorageItems(i);",
              "        if(ItemType(item) != t_UselessItem) continue;",
              "        if(EquipmentImageName(item) != 'ShuBounty_EscapePod') continue;",
              "        if(~main_types_set)",
              "        {",
              "            if(!((1 << UselessItemData(item, 1)) & main_types_set)) //         ,     ( )",
              "            {",
              "                if(findsubstr(str_types, ScriptItemTextData(item, 1)) == -1) continue;",
              "            }",
              "        }",
              "        //      ,      ",
              "        else if(findsubstr(str_types, ScriptItemTextData(item, 1)) == -1) continue;",
              "",
              "        ArrayAdd(tarr1, item);",
              "        pods_found = pods_found + 1;",
              "    }",
              "",
              "    if(!pods_found) ArrayAdd(tarr1, 0); //  , ",
              "    result = pods_found;",
              "}",
              "",
              "//          (,           )",
              "function AddImplantsFromString(dword ship, str implants_data)",
              "{",
              "    if(!CurrentMods('Expansion\\ExpImplants')) exit;",
              "",
              "    //   '1*2*2*R*4.B.N,1.4.B.N,4.B.N*5',   3  -     ,    -   (   R - Ranger),  ,     -    (   5)",
              "    int free_brain = GetParFromString(implants_data, '*', 0, 0);",
              "    int free_hands = GetParFromString(implants_data, '*', 1, 0);",
              "    int free_eyes = GetParFromString(implants_data, '*', 2, 0);",
              "    str implants_type = GetParFromString(implants_data, '*', 3, 0);",
              "    str implants_str = GetParFromString(implants_data, '*', 4, 0);",
              "    int installation_GTL = GetParFromString(implants_data, '*', 5, 0);",
              "",
              "    if(implants_type == 'R') implants_type = 'RangerImps';",
              "    else if(implants_type == 'W') implants_type = 'WarriorImps';",
              "    else if(implants_type == 'P') implants_type = 'PirateImps';",
              "    else if(implants_type == 'T') implants_type = 'TransportImps';",
              "    else if(implants_type == 'L') implants_type = 'LinerImps';",
              "    else if(implants_type == 'D') implants_type = 'DiplomatImps';",
              "    else throw 'Incorrect implants type received by AddImplantsFromString function: ' + implants_data;",
              "",
              "    int cnt = ParsCountFromString(implants_str, ',');",
              "    for(int i = 0; i < cnt; i = i + 1)",
              "    {",
              "        //  : '4.B.N', '9.H.P'  .. (  , ,  /)",
              "        str cur_implant_str = GetParFromString(implants_str, ',', i, 0);",
              "        int implant_num = GetParFromString(cur_implant_str, '.', 0, 0);",
              "        str slot = GetParFromString(cur_implant_str, '.', 1, 0);",
              "        str type = GetParFromString(cur_implant_str, '.', 2, 0);",
              "",
              "        int implants_info = ShipFindCustomShipInfoByType(ship, 'bioMM_NPC');",
              "        str implants_info_descr = CT('ShipInfo.AddInfo.CustomInfos.bioMM_NPC.Description');",
              "",
              "        str implant_name = GetValueFromScript('Mod_ExpImplants', implants_type, implant_num, 12);",
              "        if(slot == 'B')",
              "        {",
              "            if(type == 'P') implant_name = ' ' + CT('Biomodules.PirateBiomoduleNameColor') + implant_name + '</color>';",
              "            else implant_name = ' <color=255,240,100>' + implant_name + '</color>';",
              "            implants_info_descr = implants_info_descr + \"<br>\" + CT('Script.Mod_ExpImplants.Brain') + implant_name;",
              "        }",
              "        else if(slot == 'H')",
              "        {",
              "            if(type == 'P') implant_name = ' ' + CT('Biomodules.PirateBiomoduleNameColor') + implant_name + '</color>';",
              "            else implant_name = ' <color=255,240,100>' + implant_name + '</color>';",
              "            implants_info_descr = implants_info_descr + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + implant_name;",
              "        }",
              "        else if(slot == 'E')",
              "        {",
              "            if(type == 'P') implant_name = ' ' + CT('Biomodules.PirateBiomoduleNameColor') + implant_name + '</color>';",
              "            else implant_name = ' <color=255,240,100>' + implant_name + '</color>';",
              "            implants_info_descr = implants_info_descr + \"<br>\" + CT('Script.Mod_ExpImplants.Hand') + implant_name;",
              "        }",
              "        else throw 'Incorrect implant slot received by AddImplantsFromString function: ' + implants_data;",
              "",
              "        //   .  ,   ",
              "        str tstr = GetValueFromScript('Mod_ExpImplants', implants_type, implant_num, 11);",
              "        if(tstr != '') ShipAddCustomShipInfo(ship, tstr, 'NoShow');",
              "        //   ,   ",
              "        tstr = 'Biomodules.' + GetValueFromScript('Mod_ExpImplants', implants_type, implant_num, 5) + '_gtu.' + GetValueFromScript('Mod_ExpImplants', implants_type, implant_num, 6);",
              "        for(int j = CT(tstr + '.Bonus_count'); j > 0; j = j - 1)",
              "        {",
              "            int bon_num = GetValueFromScript('', CT(tstr + '.Bonus_' + j));",
              "            ShipSpecialBonuses(ship, bon_num, ShipSpecialBonuses(ship, bon_num) + int(CT(tstr + '.Bonus_' + j + '_var')));",
              "        }",
              "",
              "        //     (        ,     )",
              "        ShipAddCustomShipInfo(ship, 'bioMM_NPC', implants_info_descr, free_brain, free_hands, free_eyes, '', '', installation_GTL);",
              "    }",
              "}",
              "",
              "//       ExpExplorers",
              "function RestoreExplorerData(dword ship, str explorer_data)",
              "{",
              "    ShipAddCustomShipInfo(ship, 'ExpExplorers_ExplorerInfo', 'NoShow', 0, 0, GetParFromString(explorer_data, ',', 0, 0), GetParFromString(explorer_data, ',', 1, 0), GetParFromString(explorer_data, ',', 2, 0), GetParFromString(explorer_data, ',', 3, 0));",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1109,
          "#":  1110,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuBounty.EscapePodsDialog.HandOverPlayerMB');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1112,
          "#":  1113,
          "Total.Lines":  17,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   ",
              "int cnt = ArrayDim(tarr1);",
              "for(int i = 0; i < cnt; i = i + 1)",
              "{",
              "    dword item = tarr1[i];",
              "",
              "    str pilot_name = Format(ScriptItemTextData(item, 3), '255,240,100', '0,50,200', '');",
              "    pilot_name = lowercase(substr(pilot_name, 0, 1)) + substr(pilot_name, 1);",
              "    str hand_over = Format(CT('Script.Mod_ShuBounty.EscapePodsDialog.PlayerHandOverPod'), '<Name'+'>', pilot_name, '');",
              "    if(!UselessItemData(item, 3)) hand_over = hand_over + ' ' + CT('Script.Mod_ShuBounty.EscapePodsDialog.PlayerPilotIsDead');",
              "",
              "    InjectAnswer('EscapePodOff', hand_over, i);",
              "}",
              "",
              "//    ",
              "tstr1 = '</color>' + CT('Script.Mod_ShuBounty.EscapePodsDialog.PlayerNoMorePods');",
              "tstr2 = '</color>' + CT('Script.Mod_ShuBounty.EscapePodsDialog.HandOverCancelPlayerMB');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1115,
          "#":  1116,
          "Total.Lines":  166,
          "Code.Type":  "Turn",
          "Code":          
          [
              "//   :",
              "//UselessItemData(item, 1) -    (): t_Ranger, t_Warrior, t_Pirate  t_Transport",
              "//UselessItemData(item, 2) -  ",
              "//UselessItemData(item, 3) -        ( 0, ,  )",
              "//",
              "//ScriptItemData(item, 1) -    (    )",
              "//ScriptItemData(item, 2) - Id   ",
              "//ScriptItemData(item, 3) -   ()",
              "//",
              "//ScriptItemTextData(item, 1) -    (), : 'Warrior', 'Smuggler'  ..",
              "//ScriptItemTextData(item, 2) -        ()  ( t_Ranger): 'ShipSubType(ship):      :ShipMoney(ship):ShipRank(ship),GetShipPirateRank(ship):ShipCustomFaction(ship):    :ShipFreeExp(ship):GetShipExpByType(ship):RelationToShip(ship, Player()):ShipStatus(ship, 0),ShipStatus(ship, 1),ShipStatus(ship, 2):  :  : IgnoreCamoInfo (  , 0  1,       )'",
              "//                                                                                                         (  ): 'ShipSubType(ship):      :ShipMoney(ship):ShipRank(ship),GetShipPirateRank(ship):ShipCustomFaction(ship):    :ShipFreeExp(ship):GetShipExpByType(ship):RelationToShip(ship, Player()):  : IgnoreCamoInfo (  , 0  1,       )'",
              "//ScriptItemTextData(item, 3) -       : \"   <color=255,240,100> -69-</color>\"",
              "",
              "dword item = tarr1[GAnswerData];",
              "",
              "int exp_points = 0;",
              "str stats_string = ScriptItemTextData(item, 2);",
              "",
              "str pilot_name = DeleteTags(GetParFromString(ScriptItemTextData(item, 3), '>', 1, 0) + '>');",
              "if(UselessItemData(item, 3)) str pilot_status = 'Alive';",
              "else pilot_status = 'Dead';",
              "int main_type = UselessItemData(item, 1);",
              "str ship_type = ScriptItemTextData(item, 1);",
              "str ship_type_in_par = '';",
              "dword nearest_planet = NearCivilPlanet(cur_ruin); //    ",
              "dword home_planet = IdToPlanet(ScriptItemData(item, 2));",
              "int cur_year = GetParFromString(GameDateTxtByTurn(CurTurn()), ' ', 2, 0);",
              "int will_revive = 0;",
              "",
              "//  ",
              "if(pilot_status == 'Alive')",
              "{",
              "    for(int i = 0; i < GalaxySectors(); i = i + 1) ConChangeRelationToRanger(GalaxySectors(i), Player(), 2);",
              "    if(CurrentMods('Expansion\\ExpTraitors')) //  ",
              "    {",
              "        ChangeRuinsRelationFunFiller['GlobalRelationForCoalition'] = ChangeRuinsRelationFunFiller['GlobalRelationForCoalition'] + 2;",
              "        ChangeRuinsRelationFunFiller['ChangeRuinsRelationToPlayerCallMark'] = 1;",
              "    }",
              "",
              "    will_revive = 1;",
              "}",
              "//else {}",
              "",
              "if(will_revive) Sound('Sound.Repair');",
              "else Sound('Sound.Drop'); //  ",
              "",
              "tstr1 = '</color>' + Format(CT('Script.Mod_ShuBounty.EscapePodsDialog.HandOver' + pilot_status + 'PlayerMB'),",
              "                               '<Name'+'>', pilot_name,",
              "                               '<NearestPlanet'+'>', Name(nearest_planet),",
              "                               '<HomePlanet'+'>', Name(home_planet),",
              "                               '<HomeStar'+'>', Name(PlanetToStar(home_planet)),",
              "                               '<CurYear'+'>', cur_year);",
              "",
              "//   ,      ",
              "tstr1 = Format(tstr1,",
              "        '<ExpPoints'+'>', exp_points, '');",
              "",
              "// ",
              "if(will_revive)",
              "{",
              "    //int pilot_race = UselessItemData(item, 2);",
              "    int pilot_owner = ScriptItemData(item, 3);",
              "",
              "    //int cur_planet_race = PlanetRace(home_planet);",
              "    //int cur_planet_owner = PlanetOwner(home_planet);",
              "    //if(cur_planet_race != pilot_race) PlanetRace(home_planet, pilot_race);",
              "    //if(cur_planet_owner != pilot_owner) PlanetOwner(home_planet, pilot_owner);",
              "",
              "    SpawnPlayerMerc(home_planet, cur_ruin, t_Ranger);",
              "",
              "    //PlanetRace(home_planet, cur_planet_race);",
              "    //PlanetOwner(home_planet, cur_planet_owner);",
              "",
              "    ShipOwner(ship, pilot_owner);",
              "    SetName(ship, pilot_name);",
              "    ShipFace(ship, ScriptItemData(item, 1));",
              "    ShipType(ship, ship_type);",
              "",
              "    cnt = ParsCountFromString(stats_string, ':');",
              "    for(i = 0; i < cnt; i = i + 1)",
              "    {",
              "        str cur_par = GetParFromString(stats_string, ':', i, 0);",
              "",
              "        //  ",
              "        if(!i)",
              "        {",
              "            if(main_type != t_Transport) ShipSubType(ship, int(cur_par));",
              "        }",
              "        //  (    )",
              "        else if(i == 1) for(j = 0; j < 6; j = j + 1) ShipSkill(ship, j, int(substr(cur_par, j, 1)));",
              "        //  (  2,    )",
              "        else if(i == 2) ShipMoney(ship, int(cur_par) / 2);",
              "        //     (    )",
              "        else if(i == 3)",
              "        {",
              "            ShipRaiseRank(ship, int(GetParFromString(cur_par, ',', 0, 0)));",
              "            RaisePirateRank(ship, int(GetParFromString(cur_par, ',', 1, 0)));",
              "        }",
              "        //  (     -   )",
              "        else if(i == 4)",
              "        {",
              "            //        ( )",
              "            if(ShipInScript(ship, 0)) ShipCustomFaction(ship, cur_par);",
              "        }",
              "        //    ",
              "        else if(i == 5)",
              "        {",
              "            if(cur_par != '')",
              "            {",
              "                int cnt2 = ParsCountFromString(cur_par, ',');",
              "                for(j = 0; j < cnt2; j = j + 1) GiveRewardByNom(ship, int(GetParFromString(cur_par, ',', j, 0)));",
              "            }",
              "        }",
              "        //    ",
              "        else if(i == 6) ShipFreeExp(ship, int(cur_par));",
              "        // ,      (      )",
              "        else if(i == 7) SetShipExpByType(ship, int(cur_par), 0);",
              "        //     (     ,     )",
              "        else if(i == 8)",
              "        {",
              "            if(int(cur_par) > 9) RelationToRanger(ship, Player(), int(cur_par) + 60);",
              "            else RelationToRanger(ship, Player(), 30);",
              "        }",
              "        else if(i == 9)",
              "        {",
              "            //     ",
              "            if(main_type == t_Ranger) for(j = 0; j < 3; j = j + 1) ShipStatus(ship, j, int(GetParFromString(cur_par, ',', j, 0)));",
              "            //       ",
              "            else if(cur_par != '') AddImplantsFromString(ship, cur_par);",
              "        }",
              "        else if(i == 10)",
              "        {",
              "            //    ",
              "            if(main_type == t_Ranger)",
              "            {",
              "                if(cur_par != '') AddImplantsFromString(ship, cur_par);",
              "            }",
              "            //         IgnoreCamoInfo (   )",
              "            else if(cur_par != '') ShipAddCustomShipInfo(ship, 'IgnoreCamoInfo', 'NoShow', int(cur_par));",
              "        }",
              "        //    ",
              "        else if(i == 11)",
              "        {",
              "            if(cur_par != '') RestoreExplorerData(ship, cur_par);",
              "        }",
              "        //  IgnoreCamoInfo  ",
              "        else if(i == 12)",
              "        {",
              "            if(cur_par != '') ShipAddCustomShipInfo(ship, 'IgnoreCamoInfo', 'NoShow', int(cur_par));",
              "        }",
              "        else throw 'Unexpected error during reviving a ship.';",
              "    }",
              "",
              "    //       ,        ,     ",
              "    ShipAddCustomShipInfo(ship, 'ShuBounty_AfterEscapePodRehabilitation', '', CurTurn() + RndObject(4, 7, ship));",
              "    //TransferShip(ship, cur_ruin); //      ",
              "}",
              "",
              "//  ",
              "ItemOnActCode(item, '');",
              "if(ItemIn(item, Player())) FreeItem(GetItemFromShip(Player(), item));",
              "else FreeItem(GetItemFromStorage(FindItemInStorage(item)));",
              "",
              "if(ArrayDim(tarr1) == 1) tarr1[0] = 0;",
              "else ArrayDelete(tarr1, GAnswerData);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  -1040,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  1122,
          "Total.Lines":  4,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.YouAreFree');",
              "tstr2 = '</color>' + CT('Talk.Exit');",
              "",
              "ShipJoin(PlayerMercsFree, cur_ship, 'FreeEarningState', 0, 0, 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1125,
          "#":  1126,
          "Total.Lines":  3,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr1 = '</color>' + CT('Script.Mod_ShuMercs.PlayerMercsStrikeGroup.PlayerINeedYou');",
              "tstr3 = '</color>' + CT('Talk.Exit');",
              "ShipJoin(PlayerMercsStrike, cur_ship, 'StrikeFollowState', 0, 0, CurTurn() + 90);"          
          ]        
        }      
      ],
      "Places":      
      [
        {
          "Type":  "TPlace",
          "Name":  "NearPlayerHQ",
          "Pos.x":  -790,
          "Pos.y":  640,
          "Parent":  -1,
          "#":  241,
          "Place.Type":  5,
          "Angle":  "0",
          "Dist":  "0.5",
          "Radius":  750,
          "Obj1":  227,
          "Obj2":  -1        
        },
        {
          "Type":  "TPlace",
          "Name":  "AroundStar",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  0,
          "#":  360,
          "Place.Type":  3,
          "Angle":  "0",
          "Dist":  "0",
          "Radius":  1000,
          "Obj1":  0,
          "Obj2":  -1        
        },
        {
          "Type":  "TPlace",
          "Name":  "AroundQuestSupport",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  489,
          "#":  488,
          "Place.Type":  5,
          "Angle":  "0",
          "Dist":  "0",
          "Radius":  350,
          "Obj1":  382,
          "Obj2":  -1        
        },
        {
          "Type":  "TPlace",
          "Name":  "AroundQuestTarget",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  360,
          "#":  489,
          "Place.Type":  5,
          "Angle":  "0",
          "Dist":  "0",
          "Radius":  350,
          "Obj1":  361,
          "Obj2":  -1        
        },
        {
          "Type":  "TPlace",
          "Name":  "NearHoloTablet",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  0,
          "#":  832,
          "Place.Type":  4,
          "Angle":  "0",
          "Dist":  "0.5",
          "Radius":  50,
          "Obj1":  828,
          "Obj2":  -1        
        },
        {
          "Type":  "TPlace",
          "Name":  "QuestPlace",
          "Pos.x":  -180,
          "Pos.y":  700,
          "Parent":  -1,
          "#":  1076,
          "Place.Type":  6,
          "Angle":  "0",
          "Dist":  "0.5",
          "Radius":  150,
          "Obj1":  1077,
          "Obj2":  1078        
        }      
      ],
      "Planets":      
      [
        {
          "Type":  "TPlanet",
          "Name":  "InitPlanet",
          "Pos.x":  -80,
          "Pos.y":  610,
          "Parent":  -1,
          "#":  1,
          "Race":  62,
          "Owner":  62,
          "Economy":  14,
          "Goverment":  62,
          "RangeMin":  0,
          "RangeMax":  100,
          "Dialog":  -1        
        },
        {
          "Type":  "TPlanet",
          "Name":  "DummyPlanet",
          "Pos.x":  -670,
          "Pos.y":  640,
          "Parent":  -1,
          "#":  230,
          "Race":  62,
          "Owner":  1022,
          "Economy":  14,
          "Goverment":  62,
          "RangeMin":  0,
          "RangeMax":  100,
          "Dialog":  -1        
        }      
      ],
      "Ships":      
      [
        {
          "Type":  "TStarShip",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  0,
          "Parent":  0,
          "#":  2,
          "Count":  1,
          "Owner":  62,
          "Ship.Type":  126,
          "Player":  true,
          "SpeedMin":  0,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Stars":      
      [
        {
          "Type":  "TStar",
          "Name":  "InitStar",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  1,
          "#":  0,
          "Constellation":  0,
          "Priority":  0,
          "NoKling":  false,
          "NoComeKling":  false        
        }      
      ],
      "Statements":      
      [
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  21,
          "#":  24,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!BuildOwnBase_InProcess"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  21,
          "#":  25,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  35,
          "#":  37,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  20,
          "Parent":  35,
          "#":  38,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  21,
          "#":  42,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess == -2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  45,
          "#":  49,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  63,
          "#":  64,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!(status & 1) && !(status & 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -60,
          "Pos.y":  30,
          "Parent":  63,
          "#":  66,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(status & 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -100,
          "Pos.y":  40,
          "Parent":  89,
          "#":  71,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -80,
          "Pos.y":  40,
          "Parent":  89,
          "#":  72,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -50,
          "Pos.y":  40,
          "Parent":  89,
          "#":  73,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2 >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  40,
          "Parent":  89,
          "#":  74,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  89,
          "#":  75,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  40,
          "Parent":  89,
          "#":  76,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  40,
          "Parent":  89,
          "#":  77,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint4 >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  40,
          "Parent":  89,
          "#":  78,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint4 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  100,
          "Pos.y":  40,
          "Parent":  89,
          "#":  95,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -90,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  107,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  108,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check <= 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  109,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check > 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -70,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  111,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  112,
          "#":  114,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  113,
          "#":  116,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -50,
          "Pos.y":  30,
          "Parent":  113,
          "#":  118,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  112,
          "#":  120,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 == -2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  10,
          "#":  123,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!ShipIsTakeoff(Player())"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -150,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  130,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  121,
          "#":  135,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 == -2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  100,
          "Parent":  115,
          "#":  136,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint3 == -1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -150,
          "Pos.y":  50,
          "Parent":  -1,
          "#":  139,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -110,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  140,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -180,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  142,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -150,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  143,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -400,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  146,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -360,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  147,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -320,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  150,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -430,
          "Pos.y":  -10,
          "Parent":  -1,
          "#":  163,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -170,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  164,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -350,
          "Pos.y":  -150,
          "Parent":  -1,
          "#":  165,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(status & 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  176,
          "#":  177,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  176,
          "#":  179,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  183,
          "#":  184,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  183,
          "#":  185,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  183,
          "#":  186,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  182,
          "#":  187,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -70,
          "Parent":  187,
          "#":  188,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  182,
          "#":  189,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  176,
          "#":  199,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  90,
          "Pos.y":  30,
          "Parent":  21,
          "#":  204,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess >= 3 && BuildOwnBase_InProcess <= 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  40,
          "Parent":  206,
          "#":  207,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  206,
          "#":  208,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  40,
          "Parent":  206,
          "#":  209,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  218,
          "#":  221,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Main', 'OrganisationName'] != ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  218,
          "#":  222,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Main', 'OrganisationName'] == ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  210,
          "#":  243,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess < 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  210,
          "#":  244,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_InProcess == 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  80,
          "Parent":  245,
          "#":  246,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  252,
          "#":  253,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  252,
          "#":  254,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  252,
          "#":  255,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  235,
          "#":  260,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  269,
          "#":  272,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  269,
          "#":  273,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  269,
          "#":  275,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  281,
          "#":  282,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(tint1 & 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  120,
          "Pos.y":  20,
          "Parent":  281,
          "#":  283,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  294,
          "#":  295,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  294,
          "#":  296,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  40,
          "Parent":  281,
          "#":  302,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(tarr1) > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -90,
          "Pos.y":  40,
          "Parent":  541,
          "#":  309,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  20,
          "Parent":  314,
          "#":  310,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -70,
          "Pos.y":  40,
          "Parent":  541,
          "#":  313,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -60,
          "Pos.y":  20,
          "Parent":  317,
          "#":  318,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  317,
          "#":  319,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  323,
          "#":  322,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  331,
          "#":  332,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(tarr1) > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  331,
          "#":  333,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(tint1 & 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  331,
          "#":  334,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  30,
          "Parent":  331,
          "#":  343,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  342,
          "#":  346,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  342,
          "#":  347,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  100,
          "Pos.y":  30,
          "Parent":  331,
          "#":  355,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  412,
          "#":  373,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  412,
          "#":  374,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  413,
          "#":  375,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  413,
          "#":  376,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -1070,
          "Pos.y":  670,
          "Parent":  -1,
          "#":  405,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ActiveQuestHQ"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  0,
          "Parent":  432,
          "#":  412,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Protect.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  432,
          "#":  413,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Destroy.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  415,
          "#":  419,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  415,
          "#":  420,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  415,
          "#":  421,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  120,
          "Parent":  411,
          "#":  429,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  429,
          "#":  430,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.AttackDominators.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  430,
          "#":  431,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.AttackPirateClan.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  411,
          "#":  432,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  220,
          "Parent":  411,
          "#":  433,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check == 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  433,
          "#":  435,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.AttackCoalition.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  433,
          "#":  436,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.AttackDominators.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  435,
          "#":  437,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  436,
          "#":  438,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  430,
          "#":  443,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  431,
          "#":  444,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  90,
          "Pos.y":  0,
          "Parent":  429,
          "#":  455,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.DefendFromDominators.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  0,
          "Parent":  429,
          "#":  456,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.DefendFromPirateClan.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  455,
          "#":  457,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  456,
          "#":  458,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  90,
          "Pos.y":  0,
          "Parent":  433,
          "#":  463,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.DefendFromDominators.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  110,
          "Pos.y":  0,
          "Parent":  433,
          "#":  464,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.DefendFromCoalition.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  463,
          "#":  465,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  464,
          "#":  466,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  0,
          "Parent":  433,
          "#":  471,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Destroy.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  170,
          "Pos.y":  0,
          "Parent":  433,
          "#":  472,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Protect.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  471,
          "#":  473,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  472,
          "#":  474,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  0,
          "Parent":  429,
          "#":  479,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Destroy.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  160,
          "Pos.y":  0,
          "Parent":  429,
          "#":  480,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.Protect.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  479,
          "#":  481,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  480,
          "#":  482,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  497,
          "#":  495,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 >= 6"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  497,
          "#":  496,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 < 6"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -40,
          "Parent":  496,
          "#":  500,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  30,
          "Parent":  504,
          "#":  505,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  504,
          "#":  506,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  30,
          "Parent":  504,
          "#":  509,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  511,
          "#":  513,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  516,
          "#":  517,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  30,
          "Parent":  516,
          "#":  518,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= 10000 && PlayerHQMainArray['Finance', 'CurrentBalance'] < 1000000000"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  516,
          "#":  519,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] >= 110000 && (100000000 - ShipMoney(Player()) >= 5000)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  516,
          "#":  520,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] < 110000 || (100000000 - ShipMoney(Player()) < 10000)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  30,
          "Parent":  516,
          "#":  521,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  530,
          "#":  528,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -70,
          "Parent":  528,
          "#":  529,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  516,
          "#":  532,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < 10000 || PlayerHQMainArray['Finance', 'CurrentBalance'] >= 1000000000"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  20,
          "Parent":  314,
          "#":  534,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  30,
          "Parent":  516,
          "#":  536,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -80,
          "Pos.y":  0,
          "Parent":  308,
          "#":  538,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  20,
          "Parent":  541,
          "#":  542,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  546,
          "#":  547,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -50,
          "Pos.y":  20,
          "Parent":  541,
          "#":  551,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  20,
          "Parent":  541,
          "#":  552,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  541,
          "#":  553,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  20,
          "Parent":  541,
          "#":  554,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  20,
          "Parent":  541,
          "#":  559,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  567,
          "#":  568,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  567,
          "#":  569,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  0,
          "Parent":  573,
          "#":  575,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  120,
          "Pos.y":  0,
          "Parent":  581,
          "#":  582,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  0,
          "Parent":  585,
          "#":  584,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -60,
          "Pos.y":  0,
          "Parent":  587,
          "#":  588,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -110,
          "Parent":  588,
          "#":  589,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  585,
          "#":  590,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -140,
          "Parent":  590,
          "#":  591,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  20,
          "Parent":  546,
          "#":  592,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  592,
          "#":  593,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  592,
          "#":  594,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  592,
          "#":  595,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  601,
          "#":  604,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  612,
          "#":  613,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  628,
          "#":  617,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  628,
          "#":  618,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  20,
          "Parent":  628,
          "#":  619,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  622,
          "#":  623,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  628,
          "#":  624,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  20,
          "Parent":  628,
          "#":  625,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  30,
          "Parent":  631,
          "#":  632,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 && tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  30,
          "Parent":  631,
          "#":  637,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  30,
          "Parent":  631,
          "#":  638,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  30,
          "Parent":  631,
          "#":  640,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 && !tint2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  642,
          "#":  643,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  100,
          "Pos.y":  0,
          "Parent":  634,
          "#":  644,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  642,
          "#":  647,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Finance', 'CurrentBalance'] < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  642,
          "#":  648,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  20,
          "Parent":  642,
          "#":  649,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  653,
          "#":  654,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  20,
          "Parent":  642,
          "#":  656,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  634,
          "#":  662,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  666,
          "#":  667,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -140,
          "Parent":  667,
          "#":  668,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  120,
          "Pos.y":  0,
          "Parent":  666,
          "#":  669,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  635,
          "#":  671,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  30,
          "Parent":  631,
          "#":  673,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  677,
          "#":  678,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  681,
          "#":  682,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  687,
          "#":  688,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  314,
          "#":  691,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  30,
          "Parent":  504,
          "#":  693,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  20,
          "Parent":  541,
          "#":  699,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  700,
          "#":  701,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  20,
          "Parent":  314,
          "#":  702,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -70,
          "Pos.y":  20,
          "Parent":  541,
          "#":  705,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  504,
          "#":  707,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  422,
          "#":  711,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  504,
          "#":  713,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  504,
          "#":  719,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  726,
          "#":  727,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  726,
          "#":  728,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  735,
          "#":  736,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  735,
          "#":  737,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 1)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -80,
          "Pos.y":  30,
          "Parent":  745,
          "#":  747,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  745,
          "#":  748,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 4)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  745,
          "#":  749,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  745,
          "#":  751,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -60,
          "Pos.y":  30,
          "Parent":  745,
          "#":  752,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 2)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  30,
          "Parent":  745,
          "#":  753,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!(PlayerHQMainArray['Quests', 'GluonGunsQuestDialogStateSet'] & 4)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  765,
          "#":  766,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  765,
          "#":  767,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  765,
          "#":  768,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  771,
          "#":  772,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] < 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  771,
          "#":  773,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Quests', 'GluonGunsQuestStatus'] == 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  120,
          "Pos.y":  0,
          "Parent":  773,
          "#":  774,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -130,
          "Parent":  772,
          "#":  775,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  331,
          "#":  788,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!StateIs(cur_ship, 'StrikeFollowState') && tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  791,
          "#":  792,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  791,
          "#":  793,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  40,
          "Parent":  281,
          "#":  801,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "StateIs(cur_ship, 'OrderAttackState')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  803,
          "#":  805,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ArrayDim(tarr1) > 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  803,
          "#":  806,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  842,
          "#":  812,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  814,
          "#":  815,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  814,
          "#":  816,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  818,
          "#":  820,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  818,
          "#":  821,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "check"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -50,
          "Parent":  811,
          "#":  830,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition >= 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  30,
          "Parent":  842,
          "#":  838,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition < 0 || BuildOwnBase_Condition == 2 || BuildOwnBase_Condition >= 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  30,
          "Parent":  855,
          "#":  853,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  855,
          "#":  854,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  30,
          "Parent":  855,
          "#":  861,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition > 3 || BuildOwnBase_Condition < 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  862,
          "#":  864,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "GetData(1, cur_ship)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  40,
          "Parent":  862,
          "#":  865,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  40,
          "Parent":  862,
          "#":  870,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) < cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  80,
          "Pos.y":  40,
          "Parent":  862,
          "#":  874,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  879,
          "#":  880,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  879,
          "#":  881,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  884,
          "#":  885,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -290,
          "Parent":  885,
          "#":  886,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  0,
          "Parent":  887,
          "#":  888,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition < 4 && GetData(1, cur_ship)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -110,
          "Parent":  888,
          "#":  889,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  887,
          "#":  890,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  40,
          "Parent":  862,
          "#":  893,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!GetData(1, cur_ship)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  869,
          "#":  895,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition < 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  869,
          "#":  896,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  896,
          "#":  897,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  0,
          "Parent":  887,
          "#":  898,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition < 4 && !GetData(1, cur_ship)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  30,
          "Parent":  842,
          "#":  900,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "BuildOwnBase_Condition == 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  902,
          "#":  904,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  902,
          "#":  905,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -940,
          "Pos.y":  -120,
          "Parent":  -1,
          "#":  917,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  918,
          "#":  922,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 > 0"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  918,
          "#":  923,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  918,
          "#":  924,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  920,
          "#":  932,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -60,
          "Parent":  932,
          "#":  933,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  20,
          "Parent":  314,
          "#":  936,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Science', 'PortalGenerator'] == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -30,
          "Pos.y":  20,
          "Parent":  950,
          "#":  940,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  950,
          "#":  941,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  20,
          "Parent":  950,
          "#":  942,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipInNormalSpace(Player()) && ShipStar(Player()) != cur_star && PlayerHQMainArray['Science', 'PortalGeneratorTimer'] <= CurTurn()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  20,
          "Parent":  950,
          "#":  951,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  90,
          "Pos.y":  20,
          "Parent":  950,
          "#":  953,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  955,
          "#":  954,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -180,
          "Parent":  954,
          "#":  956,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -60,
          "Parent":  958,
          "#":  962,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -20,
          "Pos.y":  20,
          "Parent":  1012,
          "#":  965,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1012,
          "#":  966,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  50,
          "Pos.y":  20,
          "Parent":  950,
          "#":  975,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipInNormalSpace(Player()) && (ShipStar(Player()) == cur_star || PlayerHQMainArray['Science', 'PortalGeneratorTimer'] > CurTurn())"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  979,
          "#":  980,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  979,
          "#":  981,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  20,
          "Parent":  950,
          "#":  984,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  944,
          "#":  990,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!ItemExist(ApprovalDocuments)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  20,
          "Parent":  944,
          "#":  991,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ItemExist(ApprovalDocuments)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  960,
          "#":  993,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!ItemExist(ApprovalDocuments)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  20,
          "Parent":  960,
          "#":  994,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ItemExist(ApprovalDocuments)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  995,
          "#":  996,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  10,
          "Pos.y":  20,
          "Parent":  995,
          "#":  997,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -300,
          "Parent":  1003,
          "#":  1002,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -70,
          "Pos.y":  0,
          "Parent":  1001,
          "#":  1003,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1011,
          "#":  1005,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  1011,
          "#":  1006,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  60,
          "Parent":  949,
          "#":  1014,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  60,
          "Parent":  949,
          "#":  1015,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -160,
          "Pos.y":  0,
          "Parent":  1019,
          "#":  1020,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  20,
          "Parent":  592,
          "#":  1021,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr4 != ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  30,
          "Pos.y":  0,
          "Parent":  1025,
          "#":  1026,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -120,
          "Parent":  1026,
          "#":  1027,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  918,
          "#":  1032,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQMainArray['Shipyard', 'CapitalShipDock'] == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  0,
          "Parent":  1036,
          "#":  1040,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1036,
          "#":  1041,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -100,
          "Parent":  1040,
          "#":  1042,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  1046,
          "#":  1045,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -40,
          "Pos.y":  20,
          "Parent":  317,
          "#":  1048,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1050,
          "#":  1051,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  0,
          "Parent":  1051,
          "#":  1052,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -1580,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  1053,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1061,
          "#":  1056,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQJumpReady != ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  1061,
          "#":  1057,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerHQJumpReady == ''"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -10,
          "Pos.y":  20,
          "Parent":  968,
          "#":  1059,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  140,
          "Pos.y":  0,
          "Parent":  968,
          "#":  1060,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  20,
          "Parent":  970,
          "#":  1061,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -50,
          "Pos.y":  0,
          "Parent":  1010,
          "#":  1062,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  70,
          "Pos.y":  0,
          "Parent":  1010,
          "#":  1063,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "PlayerBridge()"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  -300,
          "Parent":  1064,
          "#":  1065,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  40,
          "Pos.y":  20,
          "Parent":  412,
          "#":  1068,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  20,
          "Parent":  412,
          "#":  1073,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  60,
          "Pos.y":  0,
          "Parent":  429,
          "#":  1079,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "~findsubstr(ActiveQuestsHQArray[ActiveQuestHQ, 3], '.AttackKlissan.')"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1079,
          "#":  1080,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  472,
          "#":  1093,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "num == 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  35,
          "#":  1097,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  1100,
          "#":  1101,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  40,
          "Parent":  1100,
          "#":  1102,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tint1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1111,
          "#":  1112,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tarr1[0]"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  1111,
          "#":  1117,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "!tarr1[0]"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  -1040,
          "Pos.y":  -110,
          "Parent":  -1,
          "#":  1120,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tint1 && int(GetData(3)) != -2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  90,
          "Pos.y":  20,
          "Parent":  917,
          "#":  1125,
          "Total.Lines":  1,
          "Code.Type":  "Turn",
          "Code":          
          [
              "tstr8 != ''"          
          ]        
        }      
      ],
      "States":      
      [
        {
          "Type":  "TState",
          "Name":  "PlayerState",
          "Pos.x":  -90,
          "Pos.y":  0,
          "Parent":  9,
          "#":  12,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "[t_OnLeavingForm,t_OnChameleonConfusion,t_OnStep|0]\r\nPlayerActCode();",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "FreeMove",
          "Pos.x":  0,
          "Pos.y":  -20,
          "Parent":  151,
          "#":  152,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "PlayerHQMainState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  227,
          "#":  228,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "[t_OnStep|0,1]\r\nPlayerHQActCode();",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "FreeEarningState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  229,
          "#":  231,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "ReturningBaseState",
          "Pos.x":  -790,
          "Pos.y":  240,
          "Parent":  -1,
          "#":  232,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "GuardingQState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  229,
          "#":  233,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "DeliveryQState",
          "Pos.x":  -120,
          "Pos.y":  40,
          "Parent":  229,
          "#":  234,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "DefendingBaseState",
          "Pos.x":  -790,
          "Pos.y":  220,
          "Parent":  -1,
          "#":  239,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "LandingBaseState",
          "Pos.x":  -790,
          "Pos.y":  260,
          "Parent":  -1,
          "#":  248,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "DefendingStarState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  262,
          "#":  263,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "OrderAttackState",
          "Pos.x":  -790,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  300,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "SittingBaseState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  304,
          "#":  305,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "MovingOutState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  304,
          "#":  325,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "StrikeAtEasyState",
          "Pos.x":  -120,
          "Pos.y":  80,
          "Parent":  304,
          "#":  327,
          "Move":  1,
          "MoveObj":  360,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "StrikeAttackState",
          "Pos.x":  -120,
          "Pos.y":  40,
          "Parent":  304,
          "#":  353,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "ReturningStrikeState",
          "Pos.x":  -120,
          "Pos.y":  100,
          "Parent":  304,
          "#":  358,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestTargetState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  361,
          "#":  363,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestMercsState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  362,
          "#":  365,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  2,
          "Attack.Items":          
          [
            {
              "Target.0":  368,
              "Target.1":  379            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "RandomAttackersState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  368,
          "#":  369,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  2,
          "Attack.Items":          
          [
            {
              "Target.0":  362,
              "Target.1":  382            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestAttackersKillState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  379,
          "#":  380,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  3,
          "Attack.Items":          
          [
            {
              "Target.0":  382,
              "Target.1":  362,
              "Target.2":  361            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestSupportState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  382,
          "#":  383,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  2,
          "Attack.Items":          
          [
            {
              "Target.0":  379,
              "Target.1":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestSupportTakeState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  382,
          "#":  388,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  2,
          "Attack.Items":          
          [
            {
              "Target.0":  379,
              "Target.1":  368            
            }          
          ],
          "TakeItem":  385,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestAttackersProtectState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  379,
          "#":  394,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  2,
          "Attack.Items":          
          [
            {
              "Target.0":  382,
              "Target.1":  362            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestTargetMoveState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  361,
          "#":  396,
          "Move":  1,
          "MoveObj":  360,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestMercsKillState",
          "Pos.x":  -120,
          "Pos.y":  20,
          "Parent":  362,
          "#":  398,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  3,
          "Attack.Items":          
          [
            {
              "Target.0":  379,
              "Target.1":  368,
              "Target.2":  361            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestMercsCapCoalState",
          "Pos.x":  -120,
          "Pos.y":  80,
          "Parent":  362,
          "#":  445,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  379            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestMercsCapPirState",
          "Pos.x":  -120,
          "Pos.y":  60,
          "Parent":  362,
          "#":  446,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  379            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "QuestMercsCapDomState",
          "Pos.x":  -120,
          "Pos.y":  40,
          "Parent":  362,
          "#":  453,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  379            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "PlayerOrgTrancsFree",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  683,
          "#":  684,
          "Move":  5,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "StrikeFollowState",
          "Pos.x":  -120,
          "Pos.y":  60,
          "Parent":  304,
          "#":  797,
          "Move":  2,
          "MoveObj":  9,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "TziptzilotFollowPlayerState",
          "Pos.x":  -170,
          "Pos.y":  0,
          "Parent":  829,
          "#":  833,
          "Move":  2,
          "MoveObj":  9,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "TziptzilotBeginQuestDialogs",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "TziptzilotFlyAwayState",
          "Pos.x":  -170,
          "Pos.y":  20,
          "Parent":  829,
          "#":  835,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "TziptzilotBeginQuestDialogs",
          "OnActCode":  "[t_OnDeath|]\r\nBlasterTziptzilotActCode();",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "TziptzilotAttackOnPlayerState",
          "Pos.x":  -170,
          "Pos.y":  40,
          "Parent":  829,
          "#":  843,
          "Move":  2,
          "MoveObj":  9,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  9            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "TziptzilotBeginQuestDialogs",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "TrancsPlayerChaseState",
          "Pos.x":  -170,
          "Pos.y":  0,
          "Parent":  856,
          "#":  857,
          "Move":  2,
          "MoveObj":  9,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  9            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "TrancsBeginQuestDialog",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "TrancsFlyAwayState",
          "Pos.x":  -170,
          "Pos.y":  20,
          "Parent":  856,
          "#":  859,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  829            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "TrancsBeginQuestDialog",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        },
        {
          "Type":  "TState",
          "Name":  "CruiserWaitState",
          "Pos.x":  -120,
          "Pos.y":  0,
          "Parent":  1033,
          "#":  1034,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  1,
          "Attack.Items":          
          [
            {
              "Target.0":  368            
            }          
          ],
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "[t_OnDeath|]\r\n",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        }      
      ],
      "Variables":      
      [
        {
          "Type":  "TVar",
          "Name":  "coef",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  8,
          "#":  5,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "i",
          "Pos.x":  90,
          "Pos.y":  30,
          "Parent":  3,
          "#":  6,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "num",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  99,
          "#":  7,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "rand",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  157,
          "#":  8,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr1",
          "Pos.x":  170,
          "Pos.y":  30,
          "Parent":  3,
          "#":  13,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_ship",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  17,
          "#":  14,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tint1",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  7,
          "#":  15,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "j",
          "Pos.x":  120,
          "Pos.y":  30,
          "Parent":  3,
          "#":  16,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_ruin",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  61,
          "#":  17,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tint2",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  15,
          "#":  18,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tint3",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  18,
          "#":  19,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "BuildOwnBase_InProcess",
          "Pos.x":  130,
          "Pos.y":  -220,
          "Parent":  -1,
          "#":  23,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr2",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  13,
          "#":  40,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr3",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  40,
          "#":  41,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_item",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  14,
          "#":  47,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "BasesSuccessfullyBuiltCount",
          "Pos.x":  130,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  48,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_star",
          "Pos.x":  0,
          "Pos.y":  30,
          "Parent":  3,
          "#":  60,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cur_planet",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  60,
          "#":  61,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "check",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  5,
          "#":  70,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tint4",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  19,
          "#":  87,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr4",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  41,
          "#":  88,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr5",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  88,
          "#":  90,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr6",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  90,
          "#":  97,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "status",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  70,
          "#":  98,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cost",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  98,
          "#":  99,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "PrisonQuestCheck",
          "Pos.x":  -430,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  129,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "k",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  6,
          "#":  153,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tdwd1",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  47,
          "#":  154,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "m",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  16,
          "#":  155,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tdwd2",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  154,
          "#":  156,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "n",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  153,
          "#":  157,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "GBuildOwnBase_QuestsGiven",
          "Pos.x":  -520,
          "Pos.y":  90,
          "Parent":  -1,
          "#":  158,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "BuildOwnBase_QuestsArray",
          "Pos.x":  -520,
          "Pos.y":  110,
          "Parent":  -1,
          "#":  169,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TotalWBCount",
          "Pos.x":  90,
          "Pos.y":  -20,
          "Parent":  3,
          "#":  202,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TotalCBCount",
          "Pos.x":  90,
          "Pos.y":  0,
          "Parent":  3,
          "#":  203,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tdwd3",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  156,
          "#":  261,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "ActiveQuestsHQArray",
          "Pos.x":  -970,
          "Pos.y":  610,
          "Parent":  -1,
          "#":  367,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "GTL",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  87,
          "#":  386,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tflt1",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  261,
          "#":  387,
          "Var.Type":  "Float",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "dummy",
          "Pos.x":  -1060,
          "Pos.y":  630,
          "Parent":  -1,
          "#":  400,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "ActiveQuestHQ",
          "Pos.x":  -970,
          "Pos.y":  570,
          "Parent":  -1,
          "#":  403,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LockedQuestsHQArray",
          "Pos.x":  -970,
          "Pos.y":  590,
          "Parent":  -1,
          "#":  414,
          "Var.Type":  "Array",
          "Init":  "6",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TempQuestHQSeed",
          "Pos.x":  -970,
          "Pos.y":  630,
          "Parent":  -1,
          "#":  487,
          "Var.Type":  "Dword",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "PlayerHQMainArray",
          "Pos.x":  -1280,
          "Pos.y":  -230,
          "Parent":  -1,
          "#":  490,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  true        
        },
        {
          "Type":  "TVar",
          "Name":  "tarr1",
          "Pos.x":  0,
          "Pos.y":  40,
          "Parent":  387,
          "#":  716,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tarr2",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  716,
          "#":  717,
          "Var.Type":  "Array",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "CustomGunsUpdateCheck",
          "Pos.x":  200,
          "Pos.y":  0,
          "Parent":  3,
          "#":  718,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr7",
          "Pos.x":  -350,
          "Pos.y":  360,
          "Parent":  -1,
          "#":  722,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "TotalSBCount",
          "Pos.x":  -430,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  723,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "BuildOwnBase_ChooseName",
          "Pos.x":  280,
          "Pos.y":  -220,
          "Parent":  -1,
          "#":  787,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "BuildOwnBase_Condition",
          "Pos.x":  130,
          "Pos.y":  -240,
          "Parent":  -1,
          "#":  810,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "MercCenterId",
          "Pos.x":  20,
          "Pos.y":  0,
          "Parent":  830,
          "#":  837,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cnt",
          "Pos.x":  -430,
          "Pos.y":  500,
          "Parent":  -1,
          "#":  935,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "PlayerHQJumpReady",
          "Pos.x":  20,
          "Pos.y":  20,
          "Parent":  938,
          "#":  974,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "dialog_path",
          "Pos.x":  -300,
          "Pos.y":  -150,
          "Parent":  -1,
          "#":  1013,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "BuildOwnBase_ConditionCooldown",
          "Pos.x":  280,
          "Pos.y":  -240,
          "Parent":  -1,
          "#":  1066,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "phrases_path",
          "Pos.x":  -1100,
          "Pos.y":  -160,
          "Parent":  -1,
          "#":  1067,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "QuestTargetDialogCall",
          "Pos.x":  -650,
          "Pos.y":  700,
          "Parent":  -1,
          "#":  1071,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LastTurnHandled",
          "Pos.x":  -1050,
          "Pos.y":  690,
          "Parent":  -1,
          "#":  1072,
          "Var.Type":  "Dword",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "QuestPlaceX",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1076,
          "#":  1077,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "QuestPlaceY",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1077,
          "#":  1078,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "QuestSupportDialogCall",
          "Pos.x":  -650,
          "Pos.y":  880,
          "Parent":  -1,
          "#":  1083,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "start_star",
          "Pos.x":  -1050,
          "Pos.y":  1010,
          "Parent":  -1,
          "#":  1084,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "target_star",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1084,
          "#":  1085,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "start_planet",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1085,
          "#":  1086,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "target_planet",
          "Pos.x":  0,
          "Pos.y":  20,
          "Parent":  1086,
          "#":  1087,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "QuestHQFlashDrivesGiven",
          "Pos.x":  -960,
          "Pos.y":  1010,
          "Parent":  -1,
          "#":  1092,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "target_hole",
          "Pos.x":  -1050,
          "Pos.y":  1090,
          "Parent":  -1,
          "#":  1096,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "AssaultsCount",
          "Pos.x":  -620,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  1107,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "tstr8",
          "Pos.x":  -350,
          "Pos.y":  380,
          "Parent":  -1,
          "#":  1124,
          "Var.Type":  "Str",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "real_strikes",
          "Pos.x":  -1560,
          "Pos.y":  180,
          "Parent":  -1,
          "#":  1129,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        }      
      ]    
    }  
  ],
  "Visual.Links":  
  [
    {
      "Type":  "TGraphLink",
      "Begin":  2,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  9,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  9,
      "End":  12,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  20,
      "End":  22,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  21,
      "End":  24,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  24,
      "End":  20,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  21,
      "End":  25,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  25,
      "End":  26,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  22,
      "End":  27,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  27,
      "End":  28,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  28,
      "End":  29,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  29,
      "End":  30,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  30,
      "End":  31,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  31,
      "End":  32,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  32,
      "End":  33,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  34,
      "End":  35,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  35,
      "End":  38,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  35,
      "End":  37,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  39,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  38,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  26,
      "End":  35,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  21,
      "End":  42,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  42,
      "End":  43,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  36,
      "End":  44,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  43,
      "End":  35,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  45,
      "End":  49,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  49,
      "End":  50,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  50,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  52,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  52,
      "End":  53,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  53,
      "End":  54,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  54,
      "End":  55,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  56,
      "End":  57,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  57,
      "End":  58,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  63,
      "End":  64,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  64,
      "End":  65,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  63,
      "End":  66,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  66,
      "End":  67,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  67,
      "End":  68,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  68,
      "End":  69,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  77,
      "End":  85,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  78,
      "End":  86,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  76,
      "End":  84,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  75,
      "End":  83,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  74,
      "End":  82,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  81,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  71,
      "End":  79,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  72,
      "End":  80,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  65,
      "End":  89,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  71,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  72,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  74,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  75,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  76,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  77,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  78,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  81,
      "End":  92,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  83,
      "End":  93,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  95,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  95,
      "End":  96,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  94,
      "End":  100,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  102,
      "End":  104,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  104,
      "End":  105,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  101,
      "End":  106,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  100,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  107,
      "End":  101,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  100,
      "End":  108,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  108,
      "End":  102,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  100,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  109,
      "End":  103,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  100,
      "End":  111,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  111,
      "End":  110,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  93,
      "End":  112,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  92,
      "End":  113,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  112,
      "End":  114,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  114,
      "End":  115,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  113,
      "End":  116,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  116,
      "End":  117,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  113,
      "End":  118,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  118,
      "End":  119,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  112,
      "End":  120,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  120,
      "End":  121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  121,
      "End":  122,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  124,
      "End":  123,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  123,
      "End":  10,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  125,
      "End":  126,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  126,
      "End":  127,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  127,
      "End":  128,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  112,
      "End":  130,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  131,
      "End":  134,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  135,
      "End":  121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  136,
      "End":  115,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  137,
      "End":  136,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  137,
      "End":  135,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  134,
      "End":  137,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  130,
      "End":  140,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  140,
      "End":  131,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  130,
      "End":  139,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  138,
      "End":  141,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  139,
      "End":  142,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  139,
      "End":  143,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  142,
      "End":  138,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  143,
      "End":  144,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  145,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  91,
      "End":  147,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  91,
      "End":  146,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  147,
      "End":  149,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  149,
      "End":  148,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  79,
      "End":  150,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  150,
      "End":  91,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  151,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  151,
      "End":  152,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  146,
      "End":  159,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  160,
      "End":  161,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  159,
      "End":  163,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  163,
      "End":  160,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  163,
      "End":  162,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  85,
      "End":  164,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  164,
      "End":  94,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  63,
      "End":  165,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  167,
      "End":  168,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  166,
      "End":  167,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  165,
      "End":  166,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  170,
      "End":  171,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  171,
      "End":  172,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  172,
      "End":  173,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  176,
      "End":  177,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  177,
      "End":  178,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  176,
      "End":  179,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  179,
      "End":  180,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  178,
      "End":  181,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  181,
      "End":  183,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  183,
      "End":  184,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  183,
      "End":  185,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  183,
      "End":  186,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  174,
      "End":  175,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  175,
      "End":  176,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  180,
      "End":  182,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  182,
      "End":  187,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  187,
      "End":  188,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  188,
      "End":  176,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  182,
      "End":  189,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  184,
      "End":  191,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  185,
      "End":  192,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  186,
      "End":  193,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  191,
      "End":  194,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  194,
      "End":  195,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  195,
      "End":  196,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  176,
      "End":  199,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  199,
      "End":  200,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  189,
      "End":  198,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  198,
      "End":  197,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  197,
      "End":  190,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  152,
      "End":  201,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  58,
      "End":  62,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  140,
      "End":  133,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  133,
      "End":  132,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  21,
      "End":  204,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  204,
      "End":  205,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  205,
      "End":  206,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  206,
      "End":  207,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  206,
      "End":  208,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  206,
      "End":  209,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  207,
      "End":  210,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  208,
      "End":  211,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  209,
      "End":  212,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  213,
      "End":  214,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  214,
      "End":  215,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  217,
      "End":  216,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  216,
      "End":  214,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  215,
      "End":  218,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  219,
      "End":  220,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  218,
      "End":  221,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  218,
      "End":  222,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  222,
      "End":  216,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  221,
      "End":  219,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  223,
      "End":  224,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  224,
      "End":  225,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  225,
      "End":  226,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  227,
      "End":  228,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  230,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  229,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  229,
      "End":  231,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  231,
      "End":  235,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  232,
      "End":  236,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  233,
      "End":  237,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  234,
      "End":  238,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  239,
      "End":  240,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  227,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  241,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  228,
      "End":  242,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  210,
      "End":  243,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  210,
      "End":  244,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  243,
      "End":  213,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  244,
      "End":  245,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  245,
      "End":  246,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  246,
      "End":  218,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  237,
      "End":  247,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  238,
      "End":  247,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  248,
      "End":  249,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  250,
      "End":  251,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  251,
      "End":  252,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  252,
      "End":  253,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  252,
      "End":  254,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  252,
      "End":  255,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  253,
      "End":  256,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  254,
      "End":  257,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  255,
      "End":  258,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  256,
      "End":  259,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  235,
      "End":  260,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  260,
      "End":  247,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  262,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  262,
      "End":  263,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  263,
      "End":  264,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  265,
      "End":  266,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  267,
      "End":  268,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  268,
      "End":  269,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  269,
      "End":  272,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  269,
      "End":  273,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  272,
      "End":  270,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  273,
      "End":  271,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  270,
      "End":  274,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  269,
      "End":  275,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  275,
      "End":  276,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  274,
      "End":  277,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  277,
      "End":  279,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  278,
      "End":  279,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  271,
      "End":  280,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  280,
      "End":  278,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  283,
      "End":  284,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  286,
      "End":  287,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  282,
      "End":  285,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  285,
      "End":  286,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  288,
      "End":  289,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  289,
      "End":  290,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  290,
      "End":  291,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  292,
      "End":  293,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  293,
      "End":  294,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  294,
      "End":  296,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  294,
      "End":  295,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  296,
      "End":  297,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  295,
      "End":  298,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  297,
      "End":  299,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  300,
      "End":  301,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  302,
      "End":  303,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  304,
      "End":  305,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  305,
      "End":  306,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  304,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  307,
      "End":  308,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  308,
      "End":  314,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  314,
      "End":  310,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  309,
      "End":  312,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  310,
      "End":  311,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  313,
      "End":  315,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  312,
      "End":  316,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  316,
      "End":  317,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  317,
      "End":  318,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  317,
      "End":  319,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  319,
      "End":  321,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  318,
      "End":  320,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  320,
      "End":  323,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  321,
      "End":  324,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  323,
      "End":  322,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  324,
      "End":  322,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  325,
      "End":  326,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  327,
      "End":  328,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  329,
      "End":  330,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  330,
      "End":  331,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  334,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  333,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  332,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  332,
      "End":  335,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  333,
      "End":  336,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  334,
      "End":  337,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  336,
      "End":  338,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  338,
      "End":  339,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  340,
      "End":  341,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  341,
      "End":  342,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  343,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  343,
      "End":  344,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  342,
      "End":  347,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  342,
      "End":  346,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  346,
      "End":  348,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  347,
      "End":  349,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  348,
      "End":  350,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  344,
      "End":  345,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  345,
      "End":  351,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  351,
      "End":  352,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  353,
      "End":  354,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  355,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  355,
      "End":  356,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  337,
      "End":  357,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  358,
      "End":  359,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  360,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  361,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  362,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  361,
      "End":  363,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  363,
      "End":  364,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  362,
      "End":  365,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  365,
      "End":  366,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  368,
      "End":  369,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  368,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  369,
      "End":  370,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  373,
      "End":  371,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  374,
      "End":  372,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  376,
      "End":  378,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  375,
      "End":  377,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  380,
      "End":  381,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  379,
      "End":  380,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  382,
      "End":  383,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  383,
      "End":  384,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  382,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  379,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  388,
      "End":  389,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  390,
      "End":  391,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  391,
      "End":  392,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  392,
      "End":  393,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  394,
      "End":  395,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  396,
      "End":  397,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  398,
      "End":  399,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  406,
      "End":  407,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  407,
      "End":  408,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  412,
      "End":  373,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  412,
      "End":  374,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  413,
      "End":  375,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  413,
      "End":  376,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  409,
      "End":  415,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  415,
      "End":  419,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  415,
      "End":  420,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  415,
      "End":  421,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  419,
      "End":  416,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  420,
      "End":  417,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  421,
      "End":  418,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  417,
      "End":  422,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  416,
      "End":  425,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  425,
      "End":  424,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  424,
      "End":  423,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  408,
      "End":  426,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  427,
      "End":  409,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  430,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  431,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  432,
      "End":  412,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  432,
      "End":  413,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  405,
      "End":  411,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  411,
      "End":  432,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  411,
      "End":  429,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  411,
      "End":  433,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  435,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  436,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  435,
      "End":  437,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  436,
      "End":  438,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  437,
      "End":  439,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  438,
      "End":  440,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  430,
      "End":  443,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  443,
      "End":  434,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  431,
      "End":  444,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  444,
      "End":  442,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  445,
      "End":  447,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  446,
      "End":  448,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  418,
      "End":  452,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  453,
      "End":  454,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  455,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  456,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  455,
      "End":  457,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  457,
      "End":  459,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  456,
      "End":  458,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  458,
      "End":  460,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  463,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  464,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  463,
      "End":  465,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  465,
      "End":  467,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  464,
      "End":  466,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  466,
      "End":  468,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  471,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  433,
      "End":  472,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  471,
      "End":  473,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  473,
      "End":  475,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  472,
      "End":  474,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  474,
      "End":  476,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  479,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  480,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  479,
      "End":  481,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  481,
      "End":  483,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  480,
      "End":  482,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  482,
      "End":  484,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  488,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  489,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  492,
      "End":  493,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  493,
      "End":  494,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  494,
      "End":  497,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  497,
      "End":  495,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  497,
      "End":  496,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  498,
      "End":  499,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  496,
      "End":  500,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  500,
      "End":  493,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  495,
      "End":  501,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  501,
      "End":  498,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  502,
      "End":  503,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  503,
      "End":  504,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  505,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  506,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  509,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  509,
      "End":  510,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  505,
      "End":  507,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  506,
      "End":  508,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  508,
      "End":  512,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  507,
      "End":  511,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  511,
      "End":  513,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  512,
      "End":  513,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  514,
      "End":  515,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  517,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  518,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  519,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  520,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  515,
      "End":  516,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  521,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  521,
      "End":  522,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  519,
      "End":  524,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  520,
      "End":  523,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  517,
      "End":  526,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  518,
      "End":  525,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  526,
      "End":  527,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  528,
      "End":  529,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  529,
      "End":  516,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  525,
      "End":  530,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  524,
      "End":  531,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  530,
      "End":  528,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  531,
      "End":  528,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  532,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  532,
      "End":  533,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  314,
      "End":  534,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  534,
      "End":  535,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  516,
      "End":  536,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  536,
      "End":  537,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  537,
      "End":  538,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  538,
      "End":  308,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  539,
      "End":  540,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  540,
      "End":  541,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  542,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  542,
      "End":  543,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  544,
      "End":  545,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  545,
      "End":  546,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  546,
      "End":  547,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  547,
      "End":  548,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  551,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  552,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  553,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  554,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  551,
      "End":  555,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  552,
      "End":  556,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  553,
      "End":  557,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  554,
      "End":  558,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  559,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  559,
      "End":  560,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  555,
      "End":  561,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  557,
      "End":  562,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  558,
      "End":  563,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  560,
      "End":  564,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  561,
      "End":  565,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  563,
      "End":  566,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  564,
      "End":  567,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  567,
      "End":  568,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  568,
      "End":  570,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  567,
      "End":  569,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  569,
      "End":  571,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  570,
      "End":  573,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  571,
      "End":  572,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  574,
      "End":  541,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  572,
      "End":  575,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  573,
      "End":  575,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  566,
      "End":  576,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  565,
      "End":  579,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  579,
      "End":  580,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  576,
      "End":  580,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  580,
      "End":  581,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  581,
      "End":  582,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  575,
      "End":  574,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  582,
      "End":  574,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  583,
      "End":  584,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  584,
      "End":  574,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  577,
      "End":  583,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  578,
      "End":  585,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  585,
      "End":  584,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  527,
      "End":  586,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  586,
      "End":  587,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  587,
      "End":  588,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  588,
      "End":  589,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  589,
      "End":  515,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  585,
      "End":  590,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  590,
      "End":  591,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  591,
      "End":  561,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  546,
      "End":  592,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  592,
      "End":  593,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  592,
      "End":  594,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  593,
      "End":  550,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  594,
      "End":  549,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  592,
      "End":  595,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  595,
      "End":  596,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  550,
      "End":  597,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  597,
      "End":  598,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  598,
      "End":  599,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  600,
      "End":  601,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  601,
      "End":  604,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  604,
      "End":  602,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  602,
      "End":  546,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  599,
      "End":  603,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  603,
      "End":  605,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  605,
      "End":  602,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  549,
      "End":  606,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  606,
      "End":  607,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  607,
      "End":  608,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  608,
      "End":  609,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  609,
      "End":  612,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  612,
      "End":  613,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  613,
      "End":  602,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  619,
      "End":  614,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  618,
      "End":  615,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  617,
      "End":  616,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  616,
      "End":  622,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  615,
      "End":  621,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  614,
      "End":  620,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  623,
      "End":  602,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  622,
      "End":  623,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  620,
      "End":  623,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  621,
      "End":  623,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  624,
      "End":  626,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  625,
      "End":  627,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  610,
      "End":  611,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  611,
      "End":  628,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  628,
      "End":  617,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  628,
      "End":  624,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  628,
      "End":  618,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  628,
      "End":  625,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  628,
      "End":  619,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  629,
      "End":  630,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  630,
      "End":  631,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  631,
      "End":  632,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  632,
      "End":  633,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  633,
      "End":  634,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  631,
      "End":  638,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  638,
      "End":  639,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  631,
      "End":  637,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  637,
      "End":  636,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  636,
      "End":  635,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  631,
      "End":  640,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  640,
      "End":  641,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  643,
      "End":  645,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  647,
      "End":  650,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  648,
      "End":  651,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  649,
      "End":  652,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  646,
      "End":  653,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  653,
      "End":  654,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  654,
      "End":  655,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  655,
      "End":  631,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  634,
      "End":  644,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  644,
      "End":  655,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  656,
      "End":  646,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  639,
      "End":  657,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  657,
      "End":  658,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  658,
      "End":  659,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  645,
      "End":  660,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  651,
      "End":  661,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  661,
      "End":  654,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  660,
      "End":  654,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  634,
      "End":  662,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  662,
      "End":  642,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  642,
      "End":  643,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  642,
      "End":  647,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  642,
      "End":  648,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  642,
      "End":  649,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  642,
      "End":  656,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  665,
      "End":  666,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  666,
      "End":  669,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  669,
      "End":  655,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  666,
      "End":  667,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  667,
      "End":  668,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  668,
      "End":  635,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  635,
      "End":  644,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  635,
      "End":  671,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  671,
      "End":  663,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  663,
      "End":  664,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  664,
      "End":  672,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  672,
      "End":  654,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  631,
      "End":  673,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  673,
      "End":  674,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  675,
      "End":  676,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  676,
      "End":  677,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  677,
      "End":  678,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  678,
      "End":  679,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  670,
      "End":  680,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  681,
      "End":  682,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  683,
      "End":  684,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  684,
      "End":  685,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  683,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  686,
      "End":  687,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  687,
      "End":  688,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  688,
      "End":  689,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  689,
      "End":  690,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  314,
      "End":  691,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  691,
      "End":  692,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  693,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  693,
      "End":  694,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  562,
      "End":  695,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  695,
      "End":  696,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  697,
      "End":  698,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  698,
      "End":  584,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  699,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  699,
      "End":  700,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  700,
      "End":  701,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  314,
      "End":  702,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  702,
      "End":  703,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  696,
      "End":  580,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  701,
      "End":  538,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  541,
      "End":  705,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  705,
      "End":  704,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  704,
      "End":  309,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  704,
      "End":  313,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  322,
      "End":  706,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  706,
      "End":  541,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  707,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  707,
      "End":  708,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  708,
      "End":  709,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  513,
      "End":  710,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  710,
      "End":  504,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  422,
      "End":  711,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  452,
      "End":  712,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  712,
      "End":  408,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  711,
      "End":  712,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  713,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  713,
      "End":  714,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  714,
      "End":  715,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  694,
      "End":  538,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  504,
      "End":  719,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  719,
      "End":  720,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  720,
      "End":  721,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  709,
      "End":  512,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  715,
      "End":  512,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  721,
      "End":  512,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  726,
      "End":  727,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  724,
      "End":  725,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  725,
      "End":  726,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  726,
      "End":  728,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  728,
      "End":  730,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  727,
      "End":  729,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  729,
      "End":  733,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  730,
      "End":  731,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  731,
      "End":  732,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  733,
      "End":  732,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  732,
      "End":  734,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  735,
      "End":  737,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  735,
      "End":  736,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  736,
      "End":  738,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  737,
      "End":  739,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  738,
      "End":  740,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  740,
      "End":  741,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  741,
      "End":  742,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  742,
      "End":  743,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  743,
      "End":  744,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  746,
      "End":  745,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  739,
      "End":  746,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  747,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  748,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  749,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  744,
      "End":  750,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  750,
      "End":  745,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  751,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  752,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  745,
      "End":  753,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  747,
      "End":  754,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  752,
      "End":  755,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  753,
      "End":  756,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  748,
      "End":  757,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  749,
      "End":  758,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  751,
      "End":  759,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  754,
      "End":  761,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  756,
      "End":  762,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  758,
      "End":  763,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  763,
      "End":  765,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  765,
      "End":  766,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  765,
      "End":  767,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  765,
      "End":  768,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  768,
      "End":  764,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  767,
      "End":  769,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  764,
      "End":  770,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  770,
      "End":  771,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  761,
      "End":  771,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  762,
      "End":  771,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  771,
      "End":  773,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  773,
      "End":  774,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  774,
      "End":  760,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  771,
      "End":  772,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  772,
      "End":  775,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  775,
      "End":  745,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  759,
      "End":  776,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  776,
      "End":  760,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  766,
      "End":  777,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  777,
      "End":  778,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  778,
      "End":  760,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  779,
      "End":  780,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  780,
      "End":  781,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  781,
      "End":  782,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  782,
      "End":  783,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  784,
      "End":  786,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  786,
      "End":  785,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  785,
      "End":  121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  266,
      "End":  281,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  788,
      "End":  789,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  789,
      "End":  790,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  788,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  790,
      "End":  791,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  791,
      "End":  792,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  791,
      "End":  793,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  793,
      "End":  794,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  792,
      "End":  795,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  795,
      "End":  796,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  797,
      "End":  798,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  357,
      "End":  799,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  799,
      "End":  800,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  801,
      "End":  802,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  802,
      "End":  804,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  804,
      "End":  803,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  803,
      "End":  805,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  803,
      "End":  806,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  805,
      "End":  807,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  806,
      "End":  808,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  807,
      "End":  809,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  62,
      "End":  59,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  812,
      "End":  813,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  813,
      "End":  814,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  814,
      "End":  815,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  815,
      "End":  817,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  814,
      "End":  816,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  816,
      "End":  818,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  818,
      "End":  820,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  818,
      "End":  821,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  820,
      "End":  822,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  822,
      "End":  813,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  821,
      "End":  823,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  823,
      "End":  824,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  824,
      "End":  825,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  817,
      "End":  819,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  819,
      "End":  826,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  826,
      "End":  827,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  830,
      "End":  831,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  829,
      "End":  833,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  833,
      "End":  834,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  835,
      "End":  836,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  838,
      "End":  839,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  839,
      "End":  840,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  840,
      "End":  841,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  811,
      "End":  842,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  829,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  843,
      "End":  844,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  846,
      "End":  847,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  847,
      "End":  848,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  848,
      "End":  849,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  849,
      "End":  850,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  851,
      "End":  852,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  852,
      "End":  855,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  855,
      "End":  854,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  855,
      "End":  853,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  856,
      "End":  857,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  857,
      "End":  858,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  859,
      "End":  860,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  855,
      "End":  861,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  854,
      "End":  863,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  853,
      "End":  862,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  862,
      "End":  864,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  862,
      "End":  865,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  864,
      "End":  866,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  866,
      "End":  869,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  865,
      "End":  867,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  867,
      "End":  868,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  862,
      "End":  870,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  870,
      "End":  871,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  868,
      "End":  872,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  872,
      "End":  873,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  862,
      "End":  874,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  874,
      "End":  875,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  876,
      "End":  878,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  878,
      "End":  877,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  877,
      "End":  879,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  879,
      "End":  880,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  879,
      "End":  881,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  880,
      "End":  882,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  881,
      "End":  883,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  884,
      "End":  885,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  885,
      "End":  886,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  886,
      "End":  855,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  883,
      "End":  884,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  882,
      "End":  887,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  863,
      "End":  865,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  863,
      "End":  870,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  863,
      "End":  874,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  887,
      "End":  888,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  888,
      "End":  889,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  889,
      "End":  877,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  887,
      "End":  890,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  890,
      "End":  891,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  891,
      "End":  892,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  862,
      "End":  893,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  893,
      "End":  894,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  863,
      "End":  864,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  863,
      "End":  893,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  869,
      "End":  895,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  869,
      "End":  896,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  895,
      "End":  876,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  896,
      "End":  897,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  897,
      "End":  877,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  887,
      "End":  898,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  898,
      "End":  886,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  856,
      "End":  1,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  900,
      "End":  901,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  901,
      "End":  902,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  902,
      "End":  904,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  902,
      "End":  905,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  904,
      "End":  906,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  905,
      "End":  903,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  903,
      "End":  907,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  906,
      "End":  908,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  908,
      "End":  909,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  907,
      "End":  909,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  909,
      "End":  910,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  33,
      "End":  34,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  861,
      "End":  911,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  911,
      "End":  899,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  912,
      "End":  913,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  913,
      "End":  914,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  914,
      "End":  915,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  915,
      "End":  916,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  842,
      "End":  838,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  842,
      "End":  812,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  842,
      "End":  900,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  917,
      "End":  302,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  917,
      "End":  282,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  917,
      "End":  801,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  281,
      "End":  917,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  281,
      "End":  283,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  680,
      "End":  918,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  918,
      "End":  923,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  923,
      "End":  921,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  918,
      "End":  922,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  922,
      "End":  919,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  918,
      "End":  924,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  924,
      "End":  925,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  926,
      "End":  927,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  928,
      "End":  920,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  920,
      "End":  681,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  919,
      "End":  929,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  929,
      "End":  926,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  927,
      "End":  930,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  930,
      "End":  931,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  931,
      "End":  918,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  920,
      "End":  932,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  932,
      "End":  933,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  933,
      "End":  929,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  682,
      "End":  934,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  314,
      "End":  936,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  936,
      "End":  937,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  938,
      "End":  939,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  940,
      "End":  943,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  943,
      "End":  946,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  946,
      "End":  948,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  941,
      "End":  944,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  942,
      "End":  945,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  945,
      "End":  947,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  947,
      "End":  949,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  939,
      "End":  950,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  940,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  941,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  942,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  951,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  951,
      "End":  952,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  953,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  953,
      "End":  955,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  955,
      "End":  954,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  954,
      "End":  956,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  957,
      "End":  958,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  948,
      "End":  957,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  959,
      "End":  961,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  962,
      "End":  950,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  958,
      "End":  962,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  965,
      "End":  963,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  966,
      "End":  964,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  963,
      "End":  967,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  964,
      "End":  968,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  972,
      "End":  973,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  975,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  975,
      "End":  976,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  979,
      "End":  980,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  980,
      "End":  982,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  979,
      "End":  981,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  981,
      "End":  983,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  978,
      "End":  979,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  950,
      "End":  984,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  984,
      "End":  985,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  982,
      "End":  977,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  977,
      "End":  986,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  986,
      "End":  987,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  988,
      "End":  978,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  983,
      "End":  989,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  989,
      "End":  986,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  990,
      "End":  992,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  944,
      "End":  990,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  944,
      "End":  991,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  992,
      "End":  948,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  960,
      "End":  993,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  993,
      "End":  969,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  960,
      "End":  994,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  995,
      "End":  996,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  995,
      "End":  997,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  997,
      "End":  998,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  969,
      "End":  995,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  999,
      "End":  1000,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1000,
      "End":  970,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  996,
      "End":  999,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1001,
      "End":  1003,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1003,
      "End":  1002,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1002,
      "End":  950,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  994,
      "End":  1004,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  991,
      "End":  1004,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1005,
      "End":  1007,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1006,
      "End":  1008,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1007,
      "End":  1009,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1008,
      "End":  1010,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1004,
      "End":  1011,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1011,
      "End":  1005,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1011,
      "End":  1006,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  961,
      "End":  1012,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1012,
      "End":  966,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1012,
      "End":  965,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  998,
      "End":  1001,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  949,
      "End":  1014,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  949,
      "End":  1015,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1014,
      "End":  1016,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1016,
      "End":  1018,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1015,
      "End":  1017,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1017,
      "End":  1019,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1019,
      "End":  1020,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1020,
      "End":  1002,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  592,
      "End":  1021,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1021,
      "End":  1022,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1022,
      "End":  1023,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1024,
      "End":  1025,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1025,
      "End":  1026,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1026,
      "End":  1027,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1027,
      "End":  546,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1023,
      "End":  1028,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1028,
      "End":  1029,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1018,
      "End":  1030,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1030,
      "End":  1031,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  918,
      "End":  1032,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1033,
      "End":  1034,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1034,
      "End":  1035,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1032,
      "End":  1037,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1038,
      "End":  1036,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1036,
      "End":  1040,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1036,
      "End":  1041,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1041,
      "End":  1039,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1040,
      "End":  1042,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1042,
      "End":  680,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1039,
      "End":  1043,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1039,
      "End":  1044,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1043,
      "End":  1046,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1045,
      "End":  1042,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1044,
      "End":  1047,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1047,
      "End":  1045,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1046,
      "End":  1045,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1033,
      "End":  230,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1048,
      "End":  1049,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1049,
      "End":  1050,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  317,
      "End":  1048,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1050,
      "End":  1051,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1051,
      "End":  1052,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  317,
      "End":  1053,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1053,
      "End":  1054,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  591,
      "End":  316,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1052,
      "End":  316,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  971,
      "End":  1055,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1056,
      "End":  971,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  968,
      "End":  1060,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  968,
      "End":  1059,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1059,
      "End":  970,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1057,
      "End":  1058,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1061,
      "End":  1057,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1061,
      "End":  1056,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1009,
      "End":  970,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1010,
      "End":  1062,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1062,
      "End":  970,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1010,
      "End":  1063,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1063,
      "End":  1064,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1060,
      "End":  1064,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  956,
      "End":  308,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1064,
      "End":  1065,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1065,
      "End":  314,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  970,
      "End":  1061,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  967,
      "End":  970,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  412,
      "End":  1068,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1068,
      "End":  1069,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  412,
      "End":  1073,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1073,
      "End":  1074,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1076,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1079,
      "End":  1080,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1080,
      "End":  1081,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  429,
      "End":  1079,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1088,
      "End":  1089,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1089,
      "End":  1090,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1090,
      "End":  1091,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  472,
      "End":  1093,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1093,
      "End":  1094,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  35,
      "End":  1097,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1097,
      "End":  1098,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1098,
      "End":  1099,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1099,
      "End":  1100,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1100,
      "End":  1101,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1101,
      "End":  1103,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1100,
      "End":  1102,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1102,
      "End":  1104,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1103,
      "End":  1105,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1105,
      "End":  35,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1109,
      "End":  1110,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1110,
      "End":  1111,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1111,
      "End":  1112,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1112,
      "End":  1113,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1113,
      "End":  1114,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1115,
      "End":  1116,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1116,
      "End":  1111,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1111,
      "End":  1117,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1114,
      "End":  1119,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1119,
      "End":  1118,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1117,
      "End":  1118,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  331,
      "End":  1120,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1120,
      "End":  1121,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1121,
      "End":  1122,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1122,
      "End":  1123,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1123,
      "End":  352,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1126,
      "End":  1127,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1127,
      "End":  808,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  917,
      "End":  1125,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1125,
      "End":  1128,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  1128,
      "End":  1126,
      "Nom":  0,
      "Arrow":  true    
    }  
  ],
  "Rect.Text":  
  [
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  -1087,
      "Rect.Top":  647,
      "Rect.Right":  -829,
      "Rect.Bottom":  990,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  0,
      "AlignY":  -1,
      "AlignRect":  false,
      "Text":  "  \r\n  ()",
      "Color":  0,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  190,
      "Rect.Top":  34,
      "Rect.Right":  404,
      "Rect.Bottom":  84,
      "FStyle":  1,
      "FColor":  10710806,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "0.300000011920929",
      "AlignX":  1,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "    Op   ",
      "Color":  0,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    }  
  ],
  "BlockPar.EC.Total.Strings":  3,
  "BlockPar.EC":  
  [
    {
      "#":  "192",
      "String":  ""    
    },
    {
      "#":  "193",
      "String":  "<br>"    
    },
    {
      "#":  "195",
      "String":  "<0>"    
    }  
  ]
}