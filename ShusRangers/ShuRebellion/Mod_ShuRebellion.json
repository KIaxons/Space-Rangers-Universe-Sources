{
  "FileID":  573785173,
  "FileVersion":  8,
  "ViewPos.x":  184,
  "ViewPos.y":  244,
  "ScriptName":"Mod_ShuRebellion",
  "ScriptFileOut":"H:\\Mod_ShuRebellion.scr",
  "ScriptTextOut":"H:\\Mod_ShuRebellion.txt",
  "GraphPoint.Count":  283,
  "GraphLink.Count":  236,
  "GraphRectText.Count":  0,
  "Variables.Count":  80,
  "Stars.Count":  2,
  "Planets.Count":  3,
  "Ships.Count":  1,
  "States.Count":  11,
  "Groups.Count":  7,
  "Places.Count":  0,
  "Items.Count":  0,
  "Ethers.Count":  0,
  "Dialogs.Count":  5,
  "DialogMessages.Count":  31,
  "DialogAnswers.Count":  25,
  "Operations.Count":  45,
  "Statements.Count":  73,
  "Loops.Count":  0,
  "Visual.Objects":  
  [
    {
      "DialogAnswers":      
      [
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          590,
          "Parent":          -1,
          "#":          158,
          "Msg":"Я хочу пожертвовать немного денег",
          "AMsg.Num":"0"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          610,
          "Parent":          -1,
          "#":          159,
          "Msg":"Я поторговать прилетел",
          "AMsg.Num":"1"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1420,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          160,
          "Msg":"Сейчас введу сумму...",
          "AMsg.Num":"2"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"takeoff",
          "Pos.x":          1180,
          "Pos.y":          710,
          "Parent":          -1,
          "#":          161,
          "Msg":"Да, пожалуйста",
          "AMsg.Num":"3"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1150,
          "Pos.y":          710,
          "Parent":          -1,
          "#":          162,
          "Msg":"Нет, спасибо",
          "AMsg.Num":"4"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1380,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          163,
          "Msg":"Я передумал",
          "AMsg.Num":"5"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"takeoff",
          "Pos.x":          1210,
          "Pos.y":          650,
          "Parent":          -1,
          "#":          164,
          "Msg":"Мне пора, проведите меня до ангара",
          "AMsg.Num":"6"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1340,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          165,
          "Msg":"Я готов обменяться",
          "AMsg.Num":"7"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1340,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          166,
          "Msg":"Меня это не интересует",
          "AMsg.Num":"8"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1260,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          167,
          "Msg":"Спасибо!",
          "AMsg.Num":"9"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1140,
          "Pos.y":          880,
          "Parent":          -1,
          "#":          168,
          "Msg":"Вы что-то покупаете? Или продаете?",
          "AMsg.Num":"10"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          860,
          "Parent":          -1,
          "#":          169,
          "Msg":"Я готов поделиться оружием",
          "AMsg.Num":"11"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"takeoff",
          "Pos.x":          1140,
          "Pos.y":          970,
          "Parent":          -1,
          "#":          170,
          "Msg":"До свидания",
          "AMsg.Num":"12"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"takeoff",
          "Pos.x":          1140,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          171,
          "Msg":"Рад был помочь",
          "AMsg.Num":"13"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1290,
          "Pos.y":          920,
          "Parent":          -1,
          "#":          172,
          "Msg":"Нет, извините",
          "AMsg.Num":"14"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1080,
          "Parent":          -1,
          "#":          173,
          "Msg":"Я выбираю <dummy> cr.",
          "AMsg.Num":"15"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1100,
          "Parent":          -1,
          "#":          174,
          "Msg":"Я выбираю <Name(gift)>",
          "AMsg.Num":"16"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"planet",
          "Pos.x":          1260,
          "Pos.y":          1120,
          "Parent":          -1,
          "#":          175,
          "Msg":"Спасибо!",
          "AMsg.Num":"17"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1140,
          "Parent":          -1,
          "#":          176,
          "Msg":"Беру <Name(gift)>",
          "AMsg.Num":"18"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1160,
          "Parent":          -1,
          "#":          177,
          "Msg":"Беру <Name(dummy)>",
          "AMsg.Num":"19"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"exit",
          "Pos.x":          1250,
          "Pos.y":          1400,
          "Parent":          -1,
          "#":          178,
          "Msg":"",
          "AMsg.Num":"20"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"block",
          "Pos.x":          1310,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          179,
          "Msg":"Я готов поделиться оружием",
          "AMsg.Num":"21"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"block",
          "Pos.x":          1140,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          180,
          "Msg":"Вы что-то покупаете? Или продаете?",
          "AMsg.Num":"22"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"block",
          "Pos.x":          1260,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          181,
          "Msg":"Я поторговать прилетел",
          "AMsg.Num":"23"        
        },
        {
          "Type":"TDialogAnswer",
          "Name":"block",
          "Pos.x":          1310,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          182,
          "Msg":"Я хочу пожертвовать немного денег",
          "AMsg.Num":"24"        
        }      
      ],
      "DialogMessages":      
      [
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          127,
          "Msg":"Приветствую тебя, брат <Player>! Рад твоему визиту. Сожалеем, но в связи с беспорядками на планете местные достопримечательности сейчас закрыты.<br>Впрочем, уверяю тебя, в скором времени мы подарим народу свободу, которую он заслуживает.<br>Какова цель твоего прилета?",
          "DMsg.Num":"0"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          128,
          "Msg":"Приветствую вас, рейнджер <Player>! К несчастью, сейчас наша экономика полностью переведена на военный лад, а потому магазин оборудования, торговый и информационный центры не должны открыться раньше, чем кончатся эти беспорядки. Приносим извинения за неудобства.<br>Что вы хотели?",
          "DMsg.Num":"1"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1380,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          129,
          "Msg":"6=Похвальный порыв, брат! Деньги и правда пригодятся нам, чтобы убедить население планеты <Name(pl1)> в том, что мы несем свободу от оков тиранической власти Коалиции.<br>Мы поставили себе план в <rev_plan> cr. Чем большую часть этого плана мы соберем - тем лучше. На данный момент у нас есть <rev_money> cr, осталось <rev_plan-rev_money> cr.<br>Сколько же готов пожертвовать ты?",
          "DMsg.Num":"2"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          710,
          "Parent":          -1,
          "#":          130,
          "Msg":"Нет так нет. Попросить охрану провести тебя до ангара?",
          "DMsg.Num":"3"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          730,
          "Parent":          -1,
          "#":          131,
          "Msg":"Благодарим за пожертвование, брат. Все деньги пойдут на оглашение правды сомневающемуся народу.<br>Попросить охрану провести тебя до корабля?",
          "DMsg.Num":"4"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          750,
          "Parent":          -1,
          "#":          132,
          "Msg":"Огромное спасибо за такой дар, <Player>! Благодаря тебе мы, наконец, собрали полную сумму. В честь этого события мы отдаем тебе <mm_name> <Name(gift)>.<br>Попросить охрану провести тебя до корабля?",
          "DMsg.Num":"5"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          133,
          "Msg":"Планетарный торговый центр сейчас закрыт, но, тем не менее, мы позарез нуждаемся в оружии, а в процессе свержения местной власти мы как раз получили множество предметов роскоши, в связи с чем нами было решено менять роскошь на вооружение. <br>Курс - <clr>одна тонна роскоши к двум тоннам оружия.<clrEnd> Под этот бартер у нас имеется <rev_luxury> тонн роскоши.<br>Ну как, заинтересован?",
          "DMsg.Num":"6"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          134,
          "Msg":"Отлично, <Player>. Ты обменял <num_money> тонн оружия на <num_money/2> тонн роскоши. На складе осталось <rev_luxury> тонн предметов роскоши.<br>Приятного тебе дня, брат.",
          "DMsg.Num":"7"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          135,
          "Msg":"Хоть все сейчас и закрыто, нам совсем не помешало бы вооружение. Тем не менее, наш бюджет не позволяет тратить на закупку большие деньги, поэтому за каждую тонну оружия мы платим всего лишь <GoodsBuyPrice(pl1,t_Arms)/3> cr. - чтобы хоть как-то компенсировать убытки. Расценивайте это не как торговую сделку, а как пожертвование ради мира в Галактике.<br>У нас в планах набрать <arm_plan> тонн вооружения для крупной битвы. На данный момент произведено и получено от независимых спонсоров в общей сложности <has_arm> тонн.<br>У вас есть оружие для передачи нам?",
          "DMsg.Num":"8"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          950,
          "Parent":          -1,
          "#":          136,
          "Msg":"Очень жаль, что вы передумали. Залетайте, если вдруг наполнитесь желанием помочь нам.",
          "DMsg.Num":"9"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          970,
          "Parent":          -1,
          "#":          137,
          "Msg":"Огромное спасибо вам, рейнджер. Теперь до выполнения плана осталось <arm_plan-has_arm> тонн оружия. Всего хорошего.",
          "DMsg.Num":"10"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          138,
          "Msg":"Рейнджер, вы внесли решаюший вклад в пополнение наших оружейных складов, и именно благодаря вам <clr>весь план выполнен!<clrEnd> За то, что откликнулись на зов сердца и помогли, позвольте вручить вам <mm_name> <Name(gift)>! Спасибо!",
          "DMsg.Num":"11"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          1090,
          "Parent":          -1,
          "#":          139,
          "Msg":"Доброго дня вам, <Player>! Вижу, вы прилетели за наградой. Позвольте вручить вам <clr>Орден достоинства<clrEnd> за проявленную доблесть, дабы мотивировать вас на дальнейшее совершение подвигов!<br>Разумеется, один орден не сможет в полной мере вознаградить вас за оказанную помощь. Сейчас сверимся со статистикой...<br>Так, во время мятежа вами было уничтожено <reb_cnt> кораблей повстанцев. Сейчас мы все еще восстанавливаемся после битв, но, тем не менее, можем предложить вам одну из двух наград на выбор: денежное вознаграждение в размере <dummy> cr. или <Name(gift)> со следующими характеристиками:<br><stroka><br><br>Ну как, что выбираете?",
          "DMsg.Num":"12"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1200,
          "Pos.y":          1100,
          "Parent":          -1,
          "#":          140,
          "Msg":"Микромодуль доставлен на ваш корабль. Всего хорошего!",
          "DMsg.Num":"13"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1200,
          "Pos.y":          1080,
          "Parent":          -1,
          "#":          141,
          "Msg":"Деньги уже переведены на ваш счет, рейнджер. Всего хорошего!",
          "DMsg.Num":"14"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          1150,
          "Parent":          -1,
          "#":          142,
          "Msg":"Ба, это ты, <Player>! Ну заходи, заходи... По какому вопросу заявился?<br>А, так тебе награду забрать надо, за помощь оппозиции. Да, есть такое дело, мы у тебя <wars_cnt> убитых насчитали. Перво-наперво, позволь вручить тебе <clr>Орден Клана<clrEnd>, сейчас еще гляну, что у нас на складах осталось...<br>...<br>Итак, помимо ордена мы можем отдать тебе <Name(gift)> в отличном состоянии или же <Name(dummy)> размером <ItemSize(dummy)>, оставшийся после битвы. Выбор за тобой.<br>",
          "DMsg.Num":"15"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1200,
          "Pos.y":          1160,
          "Parent":          -1,
          "#":          143,
          "Msg":"Отличный выбор, брат! Найдешь свой новенький корпус на складе.",
          "DMsg.Num":"16"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1200,
          "Pos.y":          1140,
          "Parent":          -1,
          "#":          144,
          "Msg":"Отличный выбор, брат! <Name(gift)> уже погружен на твой корабль.",
          "DMsg.Num":"17"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1380,
          "Parent":          -1,
          "#":          145,
          "Msg":"Я сейчас занят, <Player>, но поверь мне: как только я разберусь со своей текущей целью, ты встретишься с Рачеханом лично!",
          "DMsg.Num":"18"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1400,
          "Parent":          -1,
          "#":          146,
          "Msg":"Лети отсюда на все четыре стороны, хрякоплюх поганый, а не то движки поотшибаю!",
          "DMsg.Num":"19"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1420,
          "Parent":          -1,
          "#":          147,
          "Msg":"<Player>, некогда говорить, навожу оружие на цель. Отбой.",
          "DMsg.Num":"20"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1440,
          "Parent":          -1,
          "#":          148,
          "Msg":"Привет, брат <Player>! Сегодня вершится великое дело - мы свергаем власть тиранов, сидящих на мешках с деньгами! Присоединяйся к нам, брат, уничтожим эту систему общими силами!",
          "DMsg.Num":"21"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1460,
          "Parent":          -1,
          "#":          149,
          "Msg":"Привет, брат <Player>! Сегодня вершится великое дело - мы свергаем власть тиранов, сидящих на мешках с деньгами! Присоединяйся к нам, брат, уничтожим эту систему общими силами!",
          "DMsg.Num":"22"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1360,
          "Parent":          -1,
          "#":          150,
          "Msg":"Даже и не пытайся молить меня о пощаде! Ты принял неверную сторону и сейчас умрешь за это мучительной смертью, правительственная шавка!",
          "DMsg.Num":"23"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1200,
          "Parent":          -1,
          "#":          151,
          "Msg":"Вы являетесь преступником на планете <Name(pl1)>. Немедленно покиньте систему и не смейте препятствовать выполнению моего задания, иначе будете незамедлительно ликвидированы.",
          "DMsg.Num":"24"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1220,
          "Parent":          -1,
          "#":          152,
          "Msg":"Ваш корабль на плохом счету у нас, <Player>, но сейчас я занят выполнением первостепенного приказа планеты <Name(pl1)>, так что очистите эфир и не мешайте мне.",
          "DMsg.Num":"25"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1240,
          "Parent":          -1,
          "#":          153,
          "Msg":"<Player>, я занят выполнением приказа планеты <Name(pl1)>. Освободите эфир.",
          "DMsg.Num":"26"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1260,
          "Parent":          -1,
          "#":          154,
          "Msg":"Прошу прощения, <Player>, но в данный момент я выполняю ответственное задание, обратитесь позже.",
          "DMsg.Num":"27"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1280,
          "Parent":          -1,
          "#":          155,
          "Msg":"Салют, <Player>! Прошу меня простить, но сейчас я занят борьбой с повстанцами - обратись попозже, когда я закончу выполнение задания.",
          "DMsg.Num":"28"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1300,
          "Parent":          -1,
          "#":          156,
          "Msg":"Тебе хватает наглости выходить на связь, гнусный пират? Бортовой компьютер, все орудия на цель!",
          "DMsg.Num":"29"        
        },
        {
          "Type":"TDialogMsg",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1480,
          "Parent":          -1,
          "#":          157,
          "Msg":"Да как у тебя хватает смелости выходить на связь, <Player>? Сейчас я очищу мир от тебя, наглого подонка, позорящего честь пиратов, и развею твой прах по системе!",
          "DMsg.Num":"30"        
        }      
      ],
      "Dialogs":      
      [
        {
          "Type":"TDialog",
          "Name":"TalkToRebels",
          "Pos.x":          900,
          "Pos.y":          640,
          "Parent":          -1,
          "#":          119        
        },
        {
          "Type":"TDialog",
          "Name":"TalkToWars",
          "Pos.x":          900,
          "Pos.y":          930,
          "Parent":          -1,
          "#":          120        
        },
        {
          "Type":"TDialog",
          "Name":"Nagrada",
          "Pos.x":          900,
          "Pos.y":          1120,
          "Parent":          -1,
          "#":          121        
        },
        {
          "Type":"TDialog",
          "Name":"dSwat",
          "Pos.x":          910,
          "Pos.y":          1250,
          "Parent":          -1,
          "#":          122        
        },
        {
          "Type":"TDialog",
          "Name":"dRebel",
          "Pos.x":          910,
          "Pos.y":          1420,
          "Parent":          -1,
          "#":          123        
        }      
      ],
      "Groups":      
      [
        {
          "Type":"TGroup",
          "Name":"Rebels",
          "Pos.x":          320,
          "Pos.y":          880,
          "Parent":          -1,
          "#":          87,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"SWAT",
          "Pos.x":          490,
          "Pos.y":          740,
          "Parent":          -1,
          "#":          88,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"Insurgents",
          "Pos.x":          380,
          "Pos.y":          820,
          "Parent":          -1,
          "#":          89,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"Army",
          "Pos.x":          500,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          90,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"PlayerGroup",
          "Pos.x":          420,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          91,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          1,
          "CntShipMax":          1,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":true,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"Beg",
          "Pos.x":          490,
          "Pos.y":          770,
          "Parent":          -1,
          "#":          92,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        },
        {
          "Type":"TGroup",
          "Name":"BegN",
          "Pos.x":          490,
          "Pos.y":          800,
          "Parent":          -1,
          "#":          93,
          "Owner":          62,
          "Group.Type":          126,
          "CntShipMin":          0,
          "CntShipMax":          0,
          "SpeedMin":          100,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "AddPlayer":false,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "DistSearch":          10000,
          "Dialog":          -1,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        }      
      ],
      "Operations":      
      [
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          470,
          "Pos.y":          420,
          "Parent":          -1,
          "#":          7,
          "Total.Lines":          75,
          "Code.Type":"Global",
          "Code":          
          [
"if(0)",
"{",
"    girs = 420;",
"    if (PirateWin() == 1) girs = 280;",
"    if (PirateWin() == 2) girs = 200;",
"    if (PirateWin() == 3) girs = 630;",
"    if (CurTurn() >= rev_date + girs)",
"    {",
"        if (state_rev == 0)",
"        {",
"            if (ControlledSystems(0) >= 4 && ControlledSystems(2) >= 3 && !CoalitionDefeated())",
"            {",
"                if (Rnd(1, 100 + WasRev * 11) == 1)",
"                {",
"                    if (WasRev == 0)",
"                    {",
"                        GRun();",
"                        uslovie = 1;",
"                    }",
"                    if (WasRev > 0)",
"                    {",
"                        ruin_allow = 1;",
"                        uslovie = 1;",
"                        pl1 = 0;",
"                        pl2 = 0;",
"                        try_find = 0;",
"                        while (pl2 < 1 && try_find < 300)",
"                        {",
"                            try_find = try_find + 1;",
"                            StarRev = GalaxyStar(Rnd(0, GalaxyStars() - 1));",
"                            if (StarRev == PlanetToStar(GetShipHomePlanet(Player())) && Rnd(1, 5) <= 3) continue;",
"                            ruin_allow = 1;",
"                            if (StarBattle(StarRev) || StarEnemyThreatLevel(StarRev)) ruin_allow = 0;",
"                            else",
"                            {",
"                                shipz = StarRuins(StarRev);",
"                                for (rand = 0;rand < shipz;rand = rand + 1)",
"                                {",
"                                    dummy = StarRuins(StarRev, rand);",
"                                    if (ShipInScript(dummy))",
"                                    {",
"                                        ruin_allow = 0;",
"                                        break;",
"                                    }",
"                                }",
"                            }",
"                            if (ruin_allow == 0) continue;",
"                            if (StarOwner(StarRev)) continue;",
"                            shipz = StarPlanets(StarRev);",
"                            for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1)",
"                            {",
"                                if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan)",
"                                {",
"                                    pl1 = StarPlanets(StarRev, cur_war);",
"                                    pl1_id = Id(pl1);",
"                                    break;",
"                                }",
"                            }",
"                            for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1)",
"                            {",
"                                if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan && pl1 != StarPlanets(StarRev, cur_war))",
"                                {",
"                                    pl2 = StarPlanets(StarRev, cur_war);",
"                                    pl2_id = Id(pl2);",
"                                    break;",
"                                }",
"                            }",
"                        }",
"                        if (try_find >= 200) uslovie = 0;",
"                    }",
"                }",
"            }",
"        }",
"    }",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          500,
          "Pos.y":          420,
          "Parent":          -1,
          "#":          94,
          "Total.Lines":          787,
          "Code.Type":"Turn",
          "Code":          
          [
"// rev_date - дата финального сражения",
"// attack_date - дата последней массовой стычки",
"// korsar - переменная для хранения текущего корабля в различных операциях",
"// state_rev - состояние восстания (0 - не начато, 1 - в процессе, 2 - финал)",
"// cur_war - номер какого-либо предмета в циклах",
"// shipz - кол-во кораблей в гарнизоне pl2, нужно для цикла уничтожения кораблей гарнизона",
"// rand - рандомное кол-во кораблей в различных циклах",
"// dummy - бесполезная переменная",
"// power - процентный шанс на победу в наземном сражении",
"// path - путь к шкурке корабля повстанцев (от расы зависит)",
"// rev_plan - запланированное кол-во денег для сбора оппозицией",
"// rev_money - деньги, уже собранные оппозицией",
"// arm_plan - запланированное кол-во оружия для сбора правительством pl1",
"// has_arm - кол-во оружия, уже собранного правительством pl1",
"// num_money - выбираемое игроком кол-во чего-л. в CountBox диалогов в правительствах",
"// dState - переменная развития диалога на одной из планет",
"// gift - подарок, выдаваемый оппозицией за сбор полной суммы",
"// rev_luxury - запасы роскоши у повстанцев",
"// mm_name - название дарящегося ММ плюс слово микромодуль, подставляется в диалоге с лоялистами",
"// zarplata - деньги, которые дают лоялисты за оружие (для удобства вставки);",
"if (WasRev == 0)",
"{",
"    pl1 = plan1;",
"    pl2 = plan2;",
"    StarRev = RebelStar;",
"    StarRev_num = Id(StarRev);",
"}",
"if (WasRev > 0 && state_rev > 0 || WasRev > 0 && !state_rev && CurTurn() <= rev_date + 90) {",
"    pl1 = IdToPlanet(pl1_id);",
"    pl2 = IdToPlanet(pl2_id);",
"    StarRev = PlanetToStar(pl1);",
"    StarRev_num = Id(StarRev);",
"}",
"if (allow == 666)",
"{",
"    rewardz = newarray(1);",
"}",
"if (!WasModify)",
"{",
"    for (i = 0; i < GalaxyStars(); i = i + 1)",
"    {",
"        rand = GalaxyStar(i);",
"        if (StarOwner(rand) == 2 && NoComeKlingToStar(rand)) NoComeKlingToStar(rand, 0);",
"    }",
"    WasModify = 1;",
"}",
"if (GetShipPlanet(Player()) > 0)",
"{",
"    if (IdToPlanet(r_p) > 0)",
"    {",
"        if (GetShipPlanet(Player()) == IdToPlanet(r_p) && r)",
"        {",
"            if (r == 2)",
"            {",
"                GiveRewardByNom(Player(), 49);",
"                korsar = 0;",
"                if (wars_cnt < 15)",
"                {",
"                    op_rand = GalaxyTechLevel() - 1;",
"                    ar_rand = Rnd(20, 40);",
"                }",
"                else if (wars_cnt <= 25)",
"                {",
"                    op_rand = Rnd(GalaxyTechLevel() - 1, GalaxyTechLevel());",
"                    ar_rand = Rnd(20, 30);",
"                }",
"                else if (wars_cnt <= 36)",
"                {",
"                    op_rand = Rnd(GalaxyTechLevel() - 1, GalaxyTechLevel());",
"                    ar_rand = 20;",
"                }",
"                else if (wars_cnt <= 47)",
"                {",
"                    op_rand = GalaxyTechLevel();",
"                    ar_rand = 20;",
"                }",
"                else if (wars_cnt <= 59)",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = Rnd(GalaxyTechLevel(), GalaxyTechLevel() + 1);",
"                    else op_rand = 8;",
"                    ar_rand = 20;",
"                }",
"                else if (wars_cnt <= 75)",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = GalaxyTechLevel() + 1;",
"                    else op_rand = 8;",
"                    ar_rand = 20;",
"                }",
"                else",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = GalaxyTechLevel() + 1;",
"                    else",
"                    {",
"                        op_rand = 8;",
"                        korsar = 1;",
"                    }",
"                    ar_rand = 18;",
"                }",
"",
"                gift = CreateEquipment(Rnd(42, 48), ar_rand, op_rand, PirateClan);",
"                if (korsar == 1)",
"                {",
"                    if (ItemType(gift) == t_Engine || ItemType(gift) == t_CargoHook) ItemImprovement(gift, 2, 0);",
"                    else ItemImprovement(gift, 2);",
"                }",
"                if (allow == 1)",
"                {",
"                    if (ItemType(gift) == t_Engine) stroka = 'Фазовый двигатель';",
"                    if (ItemType(gift) == t_FuelTanks) stroka = 'Синхрофазовый топливный бак';",
"                    if (ItemType(gift) == t_RepairRobot) stroka = 'Пневматический дроид';",
"                    if (ItemType(gift) == t_CargoHook) stroka = 'Электрогенный захват';",
"                    if (ItemType(gift) == t_DefGenerator) stroka = 'Стационный генератор защиты';",
"                    if (ItemType(gift) == t_Radar) stroka = 'Сотовый радар';",
"                    if (ItemType(gift) == t_Scaner) stroka = 'Дуплексный сканер';",
"                }",
"                else",
"                {",
"                    if (ItemType(gift) == t_Engine) stroka = 'Апгрейтинговый двигатель';",
"                    if (ItemType(gift) == t_FuelTanks) stroka = 'Апгрейтинговый топливный бак';",
"                    if (ItemType(gift) == t_RepairRobot) stroka = 'Биогенный дроид';",
"                    if (ItemType(gift) == t_CargoHook) stroka = 'Апгрейтинговый захват';",
"                    if (ItemType(gift) == t_DefGenerator) stroka = 'Апгрейтинговый генератор защиты';",
"                    if (ItemType(gift) == t_Radar) stroka = 'Апгрейтинговый радар';",
"                    if (ItemType(gift) == t_Scaner) stroka = 'Апгрейтинговый сканер';",
"                    rand = Rnd(1, 3);",
"                    if (rand == 1) stroka = stroka + 'I';",
"                    if (rand == 2) stroka = stroka + 'II';",
"                    if (rand == 3) stroka = stroka + 'III';",
"                }",
"                if (ItemType(gift) == t_Scaner || ItemType(gift) == t_Radar) ItemSize(gift, ItemSize(gift) / 100 * 75);",
"                SpecialToEquipment(FindBonusByName(stroka), gift);",
"",
"                korsar = 0;",
"                if (wars_cnt < 20)",
"                {",
"                    op_rand = GalaxyTechLevel() - 1;",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 50, 150 + GalaxyTechLevel() * 80);",
"                }",
"                else if (wars_cnt <= 32)",
"                {",
"                    op_rand = Rnd(GalaxyTechLevel() - 1, GalaxyTechLevel());",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 55, 150 + GalaxyTechLevel() * 90);",
"                }",
"                else if (wars_cnt <= 44)",
"                {",
"                    op_rand = Rnd(GalaxyTechLevel() - 1, GalaxyTechLevel());",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 65, 150 + GalaxyTechLevel() * 105);",
"                }",
"                else if (wars_cnt <= 56)",
"                {",
"                    op_rand = GalaxyTechLevel();",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 70, 150 + GalaxyTechLevel() * 115);",
"                }",
"                else if (wars_cnt <= 68)",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = Rnd(GalaxyTechLevel(), GalaxyTechLevel() + 1);",
"                    else op_rand = 8;",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 75, 150 + GalaxyTechLevel() * 125);",
"                }",
"                else if (wars_cnt <= 80)",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = GalaxyTechLevel() + 1;",
"                    else op_rand = 8;",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 80, 150 + GalaxyTechLevel() * 130);",
"                }",
"                else",
"                {",
"                    if (GalaxyTechLevel() < 8) op_rand = GalaxyTechLevel() + 1;",
"                    else",
"                    {",
"                        op_rand = 8;",
"                        korsar = 1;",
"                    }",
"                    ar_rand = Rnd(100 + GalaxyTechLevel() * 85, 150 + GalaxyTechLevel() * 130);",
"                }",
"",
"                dummy = CreateHull(1, ar_rand, op_rand, PirateClan);",
"                if (korsar == 1) ItemImprovement(dummy, 3);",
"                if (PlanetRace(IdToPlanet(r_p)) == 0) stroka = 'RM';",
"                if (PlanetRace(IdToPlanet(r_p)) == 1) stroka = 'RPE';",
"                if (PlanetRace(IdToPlanet(r_p)) == 2) stroka = 'RPP';",
"                if (PlanetRace(IdToPlanet(r_p)) == 3) stroka = 'RF';",
"                if (PlanetRace(IdToPlanet(r_p)) == 4) stroka = 'RG';",
"                stroka = stroka + Rnd(1, 3);",
"                SpecialToEquipment(FindBonusByCustomTag(stroka), dummy);",
"            }",
"            else",
"            {",
"                GiveRewardByNom(Player(), 13);",
"                if (reb_cnt <= 6) BuildListOfMMByPriority(rewardz, 60, 80);",
"                else if (reb_cnt <= 12) BuildListOfMMByPriority(rewardz, 50, 75);",
"                else if (reb_cnt <= 18) BuildListOfMMByPriority(rewardz, 42, 67);",
"                else if (reb_cnt <= 24) BuildListOfMMByPriority(rewardz, 30, 60);",
"                else if (reb_cnt <= 31) BuildListOfMMByPriority(rewardz, 24, 53);",
"                else if (reb_cnt <= 38) BuildListOfMMByPriority(rewardz, 16, 46);",
"                else if (reb_cnt <= 45) BuildListOfMMByPriority(rewardz, 10, 39);",
"                else if (reb_cnt <= 52) BuildListOfMMByPriority(rewardz, 1, 32);",
"                else if (reb_cnt <= 59) BuildListOfMMByPriority(rewardz, 1, 24);",
"                else if (reb_cnt <= 65) BuildListOfMMByPriority(rewardz, 1, 20);",
"                else if (reb_cnt <= 73) BuildListOfMMByPriority(rewardz, 1, 17);",
"                else if (reb_cnt <= 81) BuildListOfMMByPriority(rewardz, 1, 14);",
"                else if (reb_cnt <= 90) BuildListOfMMByPriority(rewardz, 1, 11);",
"                else BuildListOfMMByPriority(rewardz, 1, 10);",
"                ArrayRandomize(50, rewardz);",
"                gift = CreateMM(rewardz[0]);",
"                stroka = '</color>' + BonusText(rewardz[0]);",
"                ArrayClear(rewardz);",
"                dummy = GalaxyMoney(1, PlanetRace(IdToPlanet(r_p))) + GalaxyMoney(0, PlanetRace(IdToPlanet(r_p))) / 2 * reb_cnt;",
"            }",
"            GotoGov(1);",
"            dState = 0;",
"        }",
"    }",
"    if (state_rev > 0 && ShipInStar(Player(), GalaxyStar(StarRev_num - 1))) {",
"        if (WasRev && GetShipPlanet(Player()) == IdToPlanet(pl1_id) || !WasRev && GetShipPlanet(Player()) == plan1) {",
"            GotoGov(1);",
"            dState = 0;",
"        }",
"        if (WasRev && GetShipPlanet(Player()) == IdToPlanet(pl2_id) || !WasRev && GetShipPlanet(Player()) == plan2) {",
"            GotoGov(1);",
"            dState = 0;",
"        }",
"    }",
"}",
"if(0)",
"{",
"    girs = 420;",
"    if (PirateWin() == 1) girs = 280;",
"    if (PirateWin() == 2) girs = 200;",
"    if (PirateWin() == 3) girs = 630;",
"    if (CurTurn() >= rev_date + girs)",
"    {",
"        if (state_rev == 0)",
"        {",
"            if (ControlledSystems(0) >= 4 && ControlledSystems(2) >= 3 && !CoalitionDefeated())",
"            {",
"                if (Rnd(1, 100 + WasRev * 11) == 1)",
"                {",
"                    if (WasRev == 0)",
"                    {",
"                        GRun();",
"                        uslovie = 1;",
"                    }",
"                    if (WasRev > 0)",
"                    {",
"                        ruin_allow = 1;",
"                        uslovie = 1;",
"                        pl1 = 0;",
"                        pl2 = 0;",
"                        try_find = 0;",
"                        while (pl2 < 1 && try_find < 300)",
"                        {",
"                            try_find = try_find + 1;",
"                            StarRev = GalaxyStar(Rnd(0, GalaxyStars() - 1));",
"                            if (StarRev == PlanetToStar(GetShipHomePlanet(Player())) && Rnd(1, 5) <= 3) continue;",
"                            ruin_allow = 1;",
"                            if (StarBattle(StarRev) || StarEnemyThreatLevel(StarRev)) ruin_allow = 0;",
"                            else",
"                            {",
"                                shipz = StarRuins(StarRev);",
"                                for (rand = 0;rand < shipz;rand = rand + 1)",
"                                {",
"                                    dummy = StarRuins(StarRev, rand);",
"                                    if (ShipInScript(dummy))",
"                                    {",
"                                        ruin_allow = 0;",
"                                        break;",
"                                    }",
"                                }",
"                            }",
"                            if (ruin_allow == 0) continue;",
"                            if (StarOwner(StarRev)) continue;",
"                            shipz = StarPlanets(StarRev);",
"                            for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1)",
"                            {",
"                                if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan)",
"                                {",
"                                    pl1 = StarPlanets(StarRev, cur_war);",
"                                    pl1_id = Id(pl1);",
"                                    break;",
"                                }",
"                            }",
"                            for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1)",
"                            {",
"                                if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan && pl1 != StarPlanets(StarRev, cur_war))",
"                                {",
"                                    pl2 = StarPlanets(StarRev, cur_war);",
"                                    pl2_id = Id(pl2);",
"                                    break;",
"                                }",
"                            }",
"                        }",
"                        if (try_find >= 200) uslovie = 0;",
"                    }",
"                }",
"            }",
"        }",
"    }",
"}",
"if (vizov_var < 666666)",
"{",
"    vizov_var = 666666;",
"    function GiveExtremeEq(ship, eq_type, race, size)",
"    {",
"        if (eq_type == 'Weapon')",
"        {",
"            if (GalaxyTechLevel() <= 3)",
"            {",
"                rand = Rnd(1, 2);",
"                if (rand == 1) eq_type = t_Weapon3;",
"                else eq_type = t_Weapon6;",
"                if (eq_type == t_Weapon3) i = Rnd(3, 4);",
"                else i = Rnd(2, 3);",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 35) eq_type = t_Weapon6;",
"                else if (rand <= 75) eq_type = t_Weapon7;",
"                else eq_type = t_Weapon3;",
"                if (eq_type == t_Weapon3) i = Rnd(5, 6);",
"                else if (eq_type == t_Weapon6) i = Rnd(4, 5);",
"                else i = Rnd(3, 4);",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 30) eq_type = t_Weapon7;",
"                else if (rand <= 70) eq_type = t_Weapon8;",
"                else eq_type = t_Weapon9;",
"                if (eq_type == t_Weapon7) i = Rnd(4, 6);",
"                else if (eq_type == t_Weapon8) i = Rnd(3, 5);",
"                else if (eq_type == t_Weapon9) i = Rnd(3, 4);",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 20) eq_type = t_Weapon8;",
"                else if (rand <= 47) eq_type = t_Weapon9;",
"                else if (rand <= 73) eq_type = t_Weapon10;",
"                else eq_type = t_Weapon11;",
"                if (eq_type == t_Weapon8) i = Rnd(6, 7);",
"                else if (eq_type == t_Weapon9) i = Rnd(4, 6);",
"                else i = Rnd(3, 5);",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 30) eq_type = t_Weapon10;",
"                else if (rand <= 65) eq_type = t_Weapon11;",
"                else eq_type = t_Weapon12;",
"                if (eq_type == t_Weapon12) i = Rnd(3, 5);",
"                else i = Rnd(5, 7);",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                if (rand <= 45) eq_type = t_Weapon12;",
"                else if (rand <= 75) eq_type = t_Weapon11;",
"                else eq_type = t_Weapon10;",
"                if (eq_type == t_Weapon12) i = Rnd(6, 8);",
"                else i = Rnd(7, 8);",
"            }",
"            if (eq_type == t_Weapon2) size = Rnd(20, 40);",
"            if (eq_type == t_Weapon3) size = Rnd(25, 50);",
"            if (eq_type == t_Weapon4) size = Rnd(10, 30);",
"            if (eq_type == t_Weapon6) size = Rnd(20, 40);",
"            if (eq_type == t_Weapon7) size = Rnd(30, 60);",
"            if (eq_type == t_Weapon8) size = Rnd(15, 30);",
"            if (eq_type == t_Weapon9) size = Rnd(35, 70);",
"            if (eq_type == t_Weapon10) size = Rnd(40, 80);",
"            if (eq_type == t_Weapon11) size = Rnd(45, 90);",
"            if (eq_type == t_Weapon12) size = Rnd(50, 100);",
"            if (eq_type == t_Weapon16) size = Rnd(30, 60);",
"            if (eq_type == t_Weapon17) size = Rnd(25, 50);",
"            if (eq_type == t_Weapon18) size = Rnd(15, 40);",
"        }",
"        else",
"        {",
"            rand = Rnd(1, 100);",
"            if (GalaxyTechLevel() == 3)",
"            {",
"                if (rand <= 45) i = 4;",
"                else i = 3;",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                if (rand <= 47) i = 5;",
"                else i = 4;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                if (rand <= 50) i = 6;",
"                else i = 5;",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                if (rand <= 53) i = 7;",
"                else i = 6;",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                if (rand <= 55) i = 8;",
"                else i = 7;",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                if (rand <= 85) i = 8;",
"                else i = 7;",
"            }",
"        }",
"        give_eq_item_var = CreateEquipment(eq_type, size, i, race);",
"        AddItemToShip(ship, give_eq_item_var);",
"    }",
"}",
"if (vizov_var < 50)",
"{",
"    vizov_var = 50;",
"    function GiveCoolEq(ship, eq_type, race, size)",
"    {",
"        if (eq_type == 'Weapon')",
"        {",
"            if (GalaxyTechLevel() <= 3)",
"            {",
"                rand = Rnd(1, 3);",
"                if (rand == 1) eq_type = t_Weapon3;",
"                else eq_type = t_Weapon2;",
"                if (race == PirateClan && !Rnd(0, 1)) eq_type = t_Weapon17;",
"                i = Rnd(2, 3);",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 40) eq_type = t_Weapon6;",
"                else if (rand <= 70) eq_type = t_Weapon4;",
"                else eq_type = t_Weapon3;",
"                if (race == PirateClan && !Rnd(0, 3)) eq_type = t_Weapon17;",
"                if (eq_type == t_Weapon6) i = Rnd(2, 3);",
"                if (eq_type == t_Weapon4) i = Rnd(3, 4);",
"                if (eq_type == t_Weapon3 || eq_type == t_Weapon17) i = 4;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 50) eq_type = t_Weapon7;",
"                if (rand <= 80) eq_type = t_Weapon6;",
"                else eq_type = t_Weapon4;",
"                if (race == PirateClan && !Rnd(0, 2)) eq_type = t_Weapon18;",
"                if (eq_type == t_Weapon7 || eq_type == t_Weapon18) i = Rnd(2, 4);",
"                if (eq_type == t_Weapon6) i = Rnd(4, 5);",
"                if (eq_type == t_Weapon4) i = Rnd(4, 5);",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 45) eq_type = t_Weapon9;",
"                else if (rand <= 85) eq_type = t_Weapon8;",
"                else eq_type = t_Weapon7;",
"                if (race == PirateClan && !Rnd(0, 4)) eq_type = t_Weapon18;",
"                if (eq_type == t_Weapon9) i = Rnd(2, 4);",
"                else if (eq_type == t_Weapon8) i = Rnd(3, 5);",
"                else if (eq_type == t_Weapon18 || eq_type == t_Weapon7) i = Rnd(5, 6);",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 35) eq_type = t_Weapon10;",
"                else if (rand <= 70) eq_type = t_Weapon11;",
"                else eq_type = t_Weapon9;",
"                if (race == PirateClan && !Rnd(0, 3)) eq_type = t_Weapon16;",
"                if (eq_type == t_Weapon10 || eq_type == t_Weapon11) i = Rnd(3, 5);",
"                if (eq_type == t_Weapon9 || eq_type == t_Weapon16) i = Rnd(4, 6);",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                if (rand <= 30) eq_type = t_Weapon12;",
"                else if (rand <= 55) eq_type = t_Weapon11;",
"                else if (rand <= 80) eq_type = t_Weapon10;",
"                else eq_type = t_Weapon9;",
"                if (race == PirateClan && !Rnd(0, 4)) eq_type = t_Weapon16;",
"                if (eq_type == t_Weapon12) i = Rnd(2, 5);",
"                if (eq_type == t_Weapon11 || eq_type == t_Weapon10) i = Rnd(4, 6);",
"                if (eq_type == t_Weapon9 || eq_type == t_Weapon16) i = Rnd(5, 8);",
"            }",
"            if (eq_type == t_Weapon2) size = Rnd(20, 40);",
"            if (eq_type == t_Weapon3) size = Rnd(25, 50);",
"            if (eq_type == t_Weapon4) size = Rnd(10, 30);",
"            if (eq_type == t_Weapon6) size = Rnd(20, 40);",
"            if (eq_type == t_Weapon7) size = Rnd(30, 60);",
"            if (eq_type == t_Weapon8) size = Rnd(15, 30);",
"            if (eq_type == t_Weapon9) size = Rnd(35, 70);",
"            if (eq_type == t_Weapon10) size = Rnd(40, 80);",
"            if (eq_type == t_Weapon11) size = Rnd(45, 90);",
"            if (eq_type == t_Weapon12) size = Rnd(50, 100);",
"            if (eq_type == t_Weapon16) size = Rnd(30, 60);",
"            if (eq_type == t_Weapon17) size = Rnd(25, 50);",
"            if (eq_type == t_Weapon18) size = Rnd(15, 40);",
"        }",
"        else",
"        {",
"            rand = Rnd(1, 100);",
"            if (GalaxyTechLevel() == 3)",
"            {",
"                if (rand <= 65) i = 3;",
"                else i = 2;",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                if (rand <= 60) i = 4;",
"                else i = 3;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                if (rand <= 55) i = 5;",
"                else i = 4;",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                if (rand <= 45) i = 6;",
"                else if (rand <= 85) i = 5;",
"                else i = 4;",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                if (rand <= 42) i = 7;",
"                else if (rand <= 79) i = 6;",
"                else i = 5;",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                if (rand <= 38) i = 8;",
"                else if (rand <= 75) i = 7;",
"                else i = 6;",
"            }",
"        }",
"        give_eq_item_var = CreateEquipment(eq_type, size, i, race);",
"        AddItemToShip(ship, give_eq_item_var);",
"    }",
"}",
"if (vizov_var < 666)",
"{",
"    vizov_var = 666;",
"    function GiveCommonEq(ship, eq_type, race, size)",
"    {",
"        if (eq_type == 'Weapon')",
"        {",
"            if (GalaxyTechLevel() <= 3)",
"            {",
"                rand = Rnd(1, 3);",
"                if (rand == 1) eq_type = t_Weapon2;",
"                else eq_type = t_Weapon1;",
"                i = 1;",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                rand = Rnd(1, 5);",
"                if (rand == 1 || rand == 2 || rand == 3) eq_type = t_Weapon1;",
"                if (rand == 4 || rand == 5) eq_type = t_Weapon2;",
"                if (eq_type == t_Weapon1) i = Rnd(1, 2);",
"                else i = 1;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 10);",
"                if (rand == 1 || rand == 2 || rand == 3 || rand == 4) eq_type = t_Weapon1;",
"                if (rand == 5 || rand == 6 || rand == 7) eq_type = t_Weapon2;",
"                if (rand == 8 || rand == 9) eq_type = t_Weapon5;",
"                if (rand == 10) eq_type = t_Weapon3;",
"                if (eq_type == t_Weapon1 && Rnd(0, 3)) i = Rnd(1, 2);",
"                else if (eq_type == t_Weapon1) i = 3;",
"                if (eq_type == t_Weapon2 && Rnd(0, 3)) i = 1;",
"                else if (eq_type == t_Weapon2) i = 2;",
"                else i = 1;",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(1, 9);",
"                if (rand == 1 || rand == 2 || rand == 3) eq_type = t_Weapon1;",
"                if (rand == 4 || rand == 5) eq_type = t_Weapon2;",
"                if (rand == 6 || rand == 7 || rand == 8) eq_type = t_Weapon5;",
"                if (rand == 9) eq_type = t_Weapon3;",
"                i = Rnd(1, 3);",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 11);",
"                if (rand == 1 || rand == 2 || rand == 3) eq_type = t_Weapon1;",
"                if (rand == 4 || rand == 5) eq_type = t_Weapon2;",
"                if (rand == 6 || rand == 7 || rand == 8) eq_type = t_Weapon5;",
"                if (rand == 9 || rand == 10) eq_type = t_Weapon3;",
"                if (rand == 11) eq_type = t_Weapon6;",
"                if (eq_type == t_Weapon6) i = 1;",
"                else i = Rnd(1, 3);",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                rand = Rnd(1, 11);",
"                if (rand == 1 || rand == 2 || rand == 3) eq_type = t_Weapon1;",
"                if (rand == 4 || rand == 5) eq_type = t_Weapon2;",
"                if (rand == 6 || rand == 7 || rand == 8) eq_type = t_Weapon5;",
"                if (rand == 9 || rand == 10) eq_type = t_Weapon3;",
"                if (rand == 11) eq_type = t_Weapon6;",
"                if (eq_type == t_Weapon6 && Rnd(0, 2)) i = 1;",
"                else if (eq_type == t_Weapon6) i = 2;",
"                else i = Rnd(1, 3);",
"            }",
"            if (eq_type == t_Weapon1) size = Rnd(15, 30);",
"            if (eq_type == t_Weapon2) size = Rnd(20, 40);",
"            if (eq_type == t_Weapon3) size = Rnd(25, 50);",
"            if (eq_type == t_Weapon5) size = Rnd(15, 30);",
"            if (eq_type == t_Weapon6) size = Rnd(20, 40);",
"        }",
"        else",
"        {",
"            if (GalaxyTechLevel() <= 3) i = 1;",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                if (Rnd(0, 3)) i = 1;",
"                else i = 2;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 5);",
"                if (rand == 1 || rand == 2) i = 1;",
"                if (rand == 3 || rand == 4) i = 2;",
"                if (rand == 5) i = 3;",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(0, 7);",
"                if (rand == 0 || rand == 1) i = 1;",
"                if (rand == 2 || rand == 3 || rand == 4) i = 2;",
"                if (rand == 5 || rand == 6) i = 3;",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 8);",
"                if (rand == 1 || rand == 2) i = 1;",
"                if (rand == 3 || rand == 4 || rand == 5) i = 2;",
"                if (rand == 6 || rand == 7) i = 3;",
"                if (rand == 8) i = 4;",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                rand = Rnd(1, 4);",
"                if (rand == 1) i = 1;",
"                if (rand == 2) i = 2;",
"                if (rand == 3) i = 3;",
"                if (rand == 4) i = 4;",
"            }",
"        }",
"        give_eq_item_var = CreateEquipment(eq_type, size, i, race);",
"        AddItemToShip(ship, give_eq_item_var);",
"    }",
"}",
"if (vizov_var < 1337)",
"{",
"    vizov_var = 1488;",
"    function GiveAverageEq(ship, eq_type, race, size)",
"    {",
"        if (eq_type == 'Weapon')",
"        {",
"            if (GalaxyTechLevel() <= 3)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 65) eq_type = t_Weapon2;",
"                else eq_type = t_Weapon1;",
"                i = Rnd(1, 3);",
"            }",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 35) eq_type = t_Weapon3;",
"                else if (rand <= 75) eq_type = t_Weapon2;",
"                else eq_type = t_Weapon1;",
"                if (race == PirateClan && !Rnd(0, 2)) eq_type = t_Weapon17;",
"                if (eq_type == t_Weapon2 || eq_type == t_Weapon1) i = Rnd(3, 4);",
"                else i = Rnd(2, 4);",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 25) eq_type = t_Weapon3;",
"                else if (rand <= 55) eq_type = t_Weapon2;",
"                else if (rand <= 75) eq_type = t_Weapon6;",
"                else eq_type = t_Weapon5;",
"                if (race == PirateClan && !Rnd(0, 3)) eq_type = t_Weapon17;",
"                if (eq_type == t_Weapon6) i = Rnd(2, 3);",
"                else i = Rnd(3, 5);",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 25) eq_type = t_Weapon2;",
"                else if (rand <= 50) eq_type = t_Weapon3;",
"                else if (rand <= 75) eq_type = t_Weapon6;",
"                else if (rand <= 100) eq_type = t_Weapon7;",
"                if (race == PirateClan && !Rnd(0, 3)) eq_type = t_Weapon18;",
"                if (eq_type == t_Weapon2 || eq_type == t_Weapon3) i = Rnd(5, 6);",
"                if (eq_type == t_Weapon6) i = Rnd(3, 5);",
"                if (eq_type == t_Weapon7 || eq_type == t_Weapon18) i = Rnd(2, 4);",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 20) eq_type = t_Weapon2;",
"                else if (rand <= 40) eq_type = t_Weapon3;",
"                else if (rand <= 60) eq_type = t_Weapon6;",
"                else if (rand <= 80) eq_type = t_Weapon7;",
"                else eq_type = t_Weapon8;",
"                if (race == PirateClan && !Rnd(0, 4)) eq_type = t_Weapon18;",
"                if (eq_type == t_Weapon3 || eq_type == t_Weapon2) i = Rnd(6, 7);",
"                if (eq_type == t_Weapon6) i = Rnd(5, 7);",
"                if (eq_type == t_Weapon7 || eq_type == t_Weapon18) i = Rnd(3, 6);",
"                if (eq_type == t_Weapon8) i = Rnd(2, 4);",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                rand = Rnd(1, 100);",
"                if (rand <= 19) eq_type = t_Weapon2;",
"                else if (rand <= 34) eq_type = t_Weapon3;",
"                else if (rand <= 51) eq_type = t_Weapon6;",
"                else if (rand <= 69) eq_type = t_Weapon7;",
"                else if (rand <= 86) eq_type = t_Weapon8;",
"                else eq_type = t_Weapon9;",
"                if (race == PirateClan && !Rnd(0, 4)) eq_type = t_Weapon16;",
"                if (eq_type == t_Weapon2 || eq_type == t_Weapon3) i = Rnd(7, 8);",
"                if (eq_type == t_Weapon6) i = Rnd(6, 8);",
"                if (eq_type == t_Weapon7) i = Rnd(5, 8);",
"                if (eq_type == t_Weapon8) i = Rnd(4, 7);",
"                if (eq_type == t_Weapon9 || eq_type == t_Weapon16) i = Rnd(2, 5);",
"            }",
"            if (eq_type == t_Weapon1) size = Rnd(15, 45);",
"            if (eq_type == t_Weapon2) size = Rnd(20, 60);",
"            if (eq_type == t_Weapon3) size = Rnd(25, 75);",
"            if (eq_type == t_Weapon4) size = Rnd(10, 40);",
"            if (eq_type == t_Weapon5) size = Rnd(15, 45);",
"            if (eq_type == t_Weapon6) size = Rnd(20, 60);",
"            if (eq_type == t_Weapon7) size = Rnd(30, 90);",
"            if (eq_type == t_Weapon8) size = Rnd(15, 45);",
"            if (eq_type == t_Weapon9) size = Rnd(35, 105);",
"            if (eq_type == t_Weapon16) size = Rnd(30, 90);",
"            if (eq_type == t_Weapon17) size = Rnd(25, 75);",
"            if (eq_type == t_Weapon18) size = Rnd(15, 45);",
"        }",
"        else",
"        {",
"            if (GalaxyTechLevel() <= 3) i = 1;",
"            if (GalaxyTechLevel() == 4)",
"            {",
"                if (Rnd(0, 3)) i = 1;",
"                else i = 2;",
"            }",
"            if (GalaxyTechLevel() == 5)",
"            {",
"                rand = Rnd(1, 5);",
"                if (rand == 1 || rand == 2) i = 1;",
"                if (rand == 3 || rand == 4) i = 2;",
"                if (rand == 5) i = 3;",
"            }",
"            if (GalaxyTechLevel() == 6)",
"            {",
"                rand = Rnd(0, 7);",
"                if (rand == 0 || rand == 1) i = 1;",
"                if (rand == 2 || rand == 3 || rand == 4) i = 2;",
"                if (rand == 5 || rand == 6) i = 3;",
"            }",
"            if (GalaxyTechLevel() == 7)",
"            {",
"                rand = Rnd(1, 8);",
"                if (rand == 1 || rand == 2) i = 1;",
"                if (rand == 3 || rand == 4 || rand == 5) i = 2;",
"                if (rand == 6 || rand == 7) i = 3;",
"                if (rand == 8) i = 4;",
"            }",
"            if (GalaxyTechLevel() == 8)",
"            {",
"                rand = Rnd(1, 4);",
"                if (rand == 1) i = 1;",
"                if (rand == 2) i = 2;",
"                if (rand == 3) i = 3;",
"                if (rand == 4) i = 4;",
"            }",
"        }",
"        give_eq_item_var = CreateEquipment(eq_type, size, i, race);",
"        AddItemToShip(ship, give_eq_item_var);",
"    }",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          530,
          "Pos.y":          420,
          "Parent":          -1,
          "#":          95,
          "Total.Lines":          1865,
          "Code.Type":"Turn",
          "Code":          
          [
"if (uslovie == 1 && state_rev == 0) {",
"    //Устанавливаем распродажи и дефициты товаров, чтоб неписи прилетали",
"    //SFT('shucivilwar-1');",
"    if (GalaxyTechLevel() < 3) win_cnt = 20;",
"    if (GalaxyTechLevel() == 3) win_cnt = 25;",
"    if (GalaxyTechLevel() == 4) win_cnt = 30;",
"    if (GalaxyTechLevel() == 5) win_cnt = 35;",
"    if (GalaxyTechLevel() == 6) win_cnt = 42;",
"    if (GalaxyTechLevel() == 7) win_cnt = 50;",
"    if (GalaxyTechLevel() == 8) win_cnt = 60;",
"    if (ControlledSystems(0) + ControlledSystems(2) <= 10) win_cnt = win_cnt / 1.5;",
"    else if (ControlledSystems(0) + ControlledSystems(2) <= 15) win_cnt = win_cnt / 1.25;",
"    else if (ControlledSystems(0) + ControlledSystems(2) <= 25) win_cnt = win_cnt;",
"    else if (ControlledSystems(0) + ControlledSystems(2) <= 40) win_cnt = win_cnt * 1.25;",
"    else win_cnt = win_cnt * 1.5;",
"    if (win_cnt < 25) win_cnt = 25;",
"    if (win_cnt > 75) win_cnt = 75;",
"    uslovie = 0;",
"    kon = 0;",
"    konetz = 0;",
"    ins_ord = 0;",
"    has_arm = 0;",
"    rev_money = 0;",
"    arm_ord = 0;",
"    reb_cnt = 0;",
"    wars_cnt = 0;",
"    pl1_id = Id(pl1);",
"    pl2_id = Id(pl2);",
"    PlanetCurInventionPoints(pl1, PlanetCurInventionPoints(pl1) / 2);",
"    PlanetCurInventionPoints(pl2, 0);",
"    pl1_t = PlanetCurInventionPoints(pl1);",
"    pl2_t = 0;",
"    UpsurgeGoods(pl1, t_Minerals);",
"    UpsurgeGoods(pl2, t_Luxury);",
"    DecayGoods(pl1, t_Technics);",
"    DecayGoods(pl1, t_Arms);",
"    DecayGoods(pl2, t_Arms);",
"",
"    //Определяем шкурку, с которой будут летать оппозиционеры",
"    if (PlanetRace(pl2) == 0) path = 'RM';",
"    if (PlanetRace(pl2) == 1) path = 'RPE';",
"    if (PlanetRace(pl2) == 2) path = 'RPP';",
"    if (PlanetRace(pl2) == 3) path = 'RF';",
"    if (PlanetRace(pl2) == 4) path = 'RG';",
"    if (PlanetRace(pl2) == 0) shkura = 'Ship.Akrin.RebelMaloc';",
"    if (PlanetRace(pl2) == 1) shkura = 'Ship.Akrin.RebelPeleng';",
"    if (PlanetRace(pl2) == 2) shkura = 'Ship.Akrin.RebelPeople';",
"    if (PlanetRace(pl2) == 3) shkura = 'Ship.Akrin.RebelFei';",
"    if (PlanetRace(pl2) == 4) shkura = 'Ship.Akrin.RebelGaal';",
"    rev_plan = GalaxyMoney(3, 3) * Rnd(4, 7); //Устанавливаем сумму, которую планируют собрать анархисты",
"    arm_plan = 200 + GalaxyTechLevel() * 20; //Устанавливаем кол-во оружия, которое хотят получить лоялисты",
"    rev_luxury = Rnd(65, 125) + GalaxyTechLevel() * 5; //Устанавливаем имеющуюся у оппозиции роскошь для бартера",
"    PlanetOwner(pl2, PirateClan);",
"    PlanetGov(pl2, 0);",
"    shipz = PlanetWarriors(pl2);",
"    rev_date = CurTurn() + Rnd(150, 300); //Определяем дату финального сражения",
"    for (cur_war = shipz;cur_war >= 0;cur_war = cur_war - 1)",
"    {",
"        ShipDestroy(PlanetWarriors(pl2, cur_war)); //Уничтожаем гарнизон планеты",
"        korsar = BuyWarrior(pl2, Rnd(50, 100)); //Заменяем каждого уничтоженного военного двумя повстанцами",
"        ShipRefit(korsar);",
"        SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"        Chameleon(korsar, shkura);",
"        ShipType(korsar, 'Rebel');",
"        korsar = BuyWarrior(pl2, Rnd(100, 200));",
"        ShipRefit(korsar);",
"        SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"        Chameleon(korsar, shkura);",
"        ShipJoin(Insurgents, korsar);",
"        ShipType(korsar, 'Rebel');",
"        ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 1.5));",
"        ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 1.5));",
"        ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 1.5));",
"    }",
"    for (cur_war = 1;cur_war < 5;cur_war = cur_war + 1) //Накидываем еще пятерку вне зависимости от численности гарнизона",
"    {",
"        korsar = BuyWarrior(pl2, Rnd(20, 60));",
"        ShipRefit(korsar);",
"        ShipJoin(Insurgents, korsar);",
"        SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"        Chameleon(korsar, shkura);",
"        ShipType(korsar, 'Rebel');",
"        ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2));",
"        ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2));",
"        ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2));",
"    }",
"    if (PlanetWarriors(pl1) <= 2)",
"    {",
"        korsar = BuyWarrior(pl1, Rnd(150, 250));",
"        ShipRefit(korsar);",
"        ShipImproveItems(korsar, Rnd(5, 15));",
"        korsar = BuyWarrior(pl1, Rnd(150, 250));",
"        ShipRefit(korsar);",
"    }",
"    else if (PlanetWarriors(pl1) > 2 && PlanetWarriors(pl1) <= 4)",
"    {",
"        korsar = BuyWarrior(pl1, Rnd(150, 250));",
"        ShipRefit(korsar);",
"    }",
"    AddPlanetNews(\"Коалиция в опасности! <br>В системе <Name(StarRev)> население планеты <Name(pl2)> взбунтовалось и свергло местное правительство. Мятежники конфискуют военные корабли и готовятся к захвату соседних планет. Власти планеты <Name(pl1)> уже заявили о намерении подавить восстание в кратчайшие сроки.\");",
"    NewsAdd(\"Коалиция в опасности! <br>В системе <Name(StarRev)> население планеты <Name(pl2)> взбунтовалось и свергло местное правительство. Мятежники конфискуют военные корабли и готовятся к захвату соседних планет. Власти планеты <Name(pl1)> уже заявили о намерении подавить восстание в кратчайшие сроки.\");",
"    state_rev = 1;",
"    cur_war = 0;",
"    for (dState = PlanetWarriors(pl1);cur_war < dState;cur_war = cur_war + 1)",
"    {",
"        ShipJoin(Army, PlanetWarriors(pl1, dState));",
"    }",
"    for (i = 0;i < StarShips(StarRev);i = i + 1)",
"    {",
"        korsar = StarShips(StarRev, i);",
"        if (ShipTypeN(korsar) == t_Warrior && GetShipPlanet(korsar) == pl2) ShipDestroy(korsar);",
"    }",
"    //SFT('shucivilwar0');",
"}",
"if (!RebPatch) {",
"    if (PlanetRace(pl2) == 0) path = 'RM';",
"    if (PlanetRace(pl2) == 1) path = 'RPE';",
"    if (PlanetRace(pl2) == 2) path = 'RPP';",
"    if (PlanetRace(pl2) == 3) path = 'RF';",
"    if (PlanetRace(pl2) == 4) path = 'RG';",
"    if (PlanetRace(pl2) == 0) shkura = 'Ship.Akrin.RebelMaloc';",
"    if (PlanetRace(pl2) == 1) shkura = 'Ship.Akrin.RebelPeleng';",
"    if (PlanetRace(pl2) == 2) shkura = 'Ship.Akrin.RebelPeople';",
"    if (PlanetRace(pl2) == 3) shkura = 'Ship.Akrin.RebelFei';",
"    if (PlanetRace(pl2) == 4) shkura = 'Ship.Akrin.RebelGaal';",
"    RebPatch = 1;",
"}",
"if (state_rev == 1 && 1 == 0) {",
"    if (GalaxyDiffLevels(0) == 50)",
"    {",
"        min_pir = 5;",
"        max_pir = 15;",
"    }",
"    if (GalaxyDiffLevels(0) == 100)",
"    {",
"        min_pir = 15;",
"        max_pir = 25;",
"    }",
"    if (GalaxyDiffLevels(0) == 150)",
"    {",
"        min_pir = 20;",
"        max_pir = 35;",
"    }",
"    if (GalaxyDiffLevels(0) == 200)",
"    {",
"        min_pir = 25;",
"        max_pir = 45;",
"    }",
"    if (GalaxyDiffLevels(0) == 250)",
"    {",
"        min_pir = 28;",
"        max_pir = 51;",
"    }",
"    if (GalaxyDiffLevels(0) == 300)",
"    {",
"        min_pir = 31;",
"        max_pir = 57;",
"    }",
"    if (GalaxyDiffLevels(0) == 350)",
"    {",
"        min_pir = 34;",
"        max_pir = 63;",
"    }",
"    if (GalaxyDiffLevels(0) == 400)",
"    {",
"        min_pir = 37;",
"        max_pir = 69;",
"    }",
"    if (GalaxyDiffLevels(0) == 450)",
"    {",
"        min_pir = 40;",
"        max_pir = 75;",
"    }",
"    if (GalaxyDiffLevels(0) == 500)",
"    {",
"        min_pir = 45;",
"        max_pir = 85;",
"    }",
"    //SFT('thetorch1');",
"    if (!Rnd(0, 4)) PlanetCurInventionPoints(pl1, pl1_t);",
"    if (!Rnd(0, 3)) PlanetCurInventionPoints(pl2, pl2_t);",
"    pl1_t = PlanetCurInventionPoints(pl1);",
"    pl2_t = PlanetCurInventionPoints(pl2);",
"    if (ShipOnSidePirateClan(Player()))",
"    {",
"        NoLanding(pl1, 1);",
"        NoLanding(pl2, 0);",
"    }",
"    if (!ShipOnSidePirateClan(Player()))",
"    {",
"        NoLanding(pl2, 1);",
"        NoLanding(pl1, 0);",
"    }",
"    //SFT('thetorch2');",
"    if (agr) NoLanding(pl2, 1);",
"    //Увеличиваем собранные оппозицией деньги",
"    if (rev_money < rev_plan && Rnd(0, 1)) rev_money = rev_money + Rnd(1 * GalaxyTechLevel(), 3 * GalaxyTechLevel());",
"    if (rev_money > rev_plan) rev_money = rev_plan; //Если сумма превысила план, занижаем до плана",
"",
"    //Увеличиваем произведенное планетой pl1 оружие",
"    rand = Rnd(1, 5);",
"    if (has_arm < arm_plan && rand == 1) has_arm = has_arm + 1;",
"    if (has_arm > arm_plan) has_arm = arm_plan; //Если кол-во превысило план, занижаем до плана",
"",
"    //Ниже мы рождаем корабли по одному",
"    if (GroupCount(Insurgents) == 0 && rev_date > CurTurn())",
"    {",
"        korsar = BuyWarrior(pl2, Rnd(300, 400));",
"        ShipSkill(korsar, 0, Rnd(4, 6));",
"        ShipSkill(korsar, 1, Rnd(4, 6));",
"        ShipSkill(korsar, 2, Rnd(4, 6));",
"        ShipRefit(korsar);",
"        GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"        GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        ArrangeItems(korsar);",
"        ShipImproveItems(korsar, 20);",
"        ShipJoin(Insurgents, korsar); //Добавляем в группу, чтобы можно было управлять",
"        SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"        Chameleon(korsar, shkura);",
"        ShipType(korsar, 'Rebel');",
"        ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonHull, Rnd(4, 6));",
"    }",
"    //SFT('thetorch3');",
"    if (rev_date > CurTurn() + 3)",
"    {",
"        //SFT('thetorch32');",
"        if (GroupCount(Insurgents) >= GroupCount(Army) * 2.5) rand = 1;",
"        else if (GroupCount(Insurgents) >= GroupCount(Army) * 1.55) rand = Rnd(1, 3);",
"        else if (GroupCount(Insurgents) >= GroupCount(Army) * 0.90) rand = Rnd(1, 5);",
"        else rand = Rnd(1, 7);",
"        //SFT('thetorch33');",
"        if (GalaxyTechLevel() <= 4) eq_coef = 1.4;",
"        if (GalaxyTechLevel() <= 6) eq_coef = 1.1;",
"        else eq_coef = 0.9;",
"        //SFT('thetorch34');",
"        if (rand == 1 && rev_date > CurTurn() + 5)",
"        {",
"            //SFT('thetorch35');",
"            korsar = BuyWarrior(pl1, Rnd(90, 175) * eq_coef);",
"            //SFT('thetorch36');",
"            ShipRefit(korsar);",
"            //SFT('thetorch37');",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 3.3)",
"            {",
"                //SFT('thetorch38');",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                //SFT('thetorch39');",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    //SFT('thetorch391');",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    //SFT('thetorch4');",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.2)",
"            {",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                //SFT('thetorch42');",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                //SFT('thetorch43');",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    //SFT('thetorch44');",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    //SFT('thetorch45');",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    //SFT('thetorch451');",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    //SFT('thetorch452');",
"                    SetData(HullHP(korsar), 1, korsar);",
"                    //SFT('thetorch453');",
"                    ArrangeItems(korsar);",
"                    //SFT('thetorch454');",
"                    NoDropToShip(korsar, 1);",
"                    //SFT('thetorch46');",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                    //SFT('thetorch47');",
"                }",
"                //SFT('thetorch48');",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"                //SFT('thetorch49');",
"            }",
"            //SFT('thetorch491');",
"            ShipImproveItems(korsar, Rnd(min_val, max_val));",
"            ArrangeItems(korsar);",
"            //SFT('thetorch492');",
"            ShipJoin(Army, korsar); //Добавляем в группу, чтобы можно было управлять в финальном бою",
"        }                      //К тому же, так он не подцепится другим скриптом и не улетит освобождать систему",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 2) rand = 1;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.15) rand = Rnd(1, 2);",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65) rand = Rnd(1, 4);",
"        else rand = Rnd(1, 6);",
"        //SFT('thetorch493');",
"        if (rand == 1 && rev_date > CurTurn() - 5)",
"        {",
"            //SFT('thetorch5');",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 6.5) bon_damage = 3.5;",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 4.0) bon_damage = 2.5;",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0) bon_damage = 2.2;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5) bon_damage = 1.90;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0) bon_damage = 1.70;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75) bon_damage = 1.55;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5) bon_damage = 1.40;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.30;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.15;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65) bon_damage = 0.80;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5) bon_damage = 0.65;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35) bon_damage = 0.50;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20) bon_damage = 0.35;",
"            else bon_damage = 0.10;",
"            //SFT('thetorch51');",
"            korsar = BuyWarrior(pl2, Rnd(70 + min_pir, 140 + max_pir));",
"            ShipRefit(korsar);",
"            //SFT('thetorch52');",
"            ShipJoin(Insurgents, korsar); //Добавляем в группу, чтобы можно было управлять в финальном бою",
"            //SFT('thetorch53');",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            //SFT('thetorch54');",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 2.2)",
"            {",
"                ShipSkill(korsar, 0, Rnd(3, 6));",
"                ShipSkill(korsar, 1, Rnd(3, 6));",
"                ShipSkill(korsar, 2, Rnd(2, 5));",
"            }",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 5));",
"                ShipSkill(korsar, 1, Rnd(2, 5));",
"                ShipSkill(korsar, 2, Rnd(2, 4));",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.25)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 4));",
"                ShipSkill(korsar, 1, Rnd(2, 4));",
"                ShipSkill(korsar, 2, Rnd(2, 3));",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.9)",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 3));",
"                ShipSkill(korsar, 1, Rnd(1, 3));",
"                ShipSkill(korsar, 2, Rnd(1, 2));",
"            }",
"            else",
"            {",
"                ShipSkill(korsar, 0, Rnd(0, 2));",
"                ShipSkill(korsar, 1, Rnd(0, 2));",
"                ShipSkill(korsar, 2, Rnd(0, 1));",
"            }",
"            ShipSkill(korsar, 3, Rnd(0, 3));",
"            ShipSkill(korsar, 4, Rnd(0, 4));",
"            ShipSkill(korsar, 5, Rnd(0, 2));",
"            //SFT('thetorch55');",
"            if (GroupCount(Insurgents) >= GroupCount(Army) * 3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 4)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    //SFT('thetorch56');",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    //SFT('thetorch57');",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    //SFT('thetorch58');",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    //SFT('thetorch59');",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Insurgents) >= GroupCount(Army) * 2)",
"            {",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    //SFT('thetorch6');",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"                ShipImproveItems(korsar, Rnd(1, 4));",
"            }",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);//К тому же, так он не подцепится другим скриптом",
"        }",
"    }",
"    //А вот здесь мы уже генерируем массовые стычки",
"    rand = Rnd(1, 14);",
"    if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5) rand = Rnd(1, 10);",
"    if (GroupCount(Insurgents) >= GroupCount(Army) * 2.5) rand = Rnd(1, 10);",
"    if (rev_date > CurTurn() + 25 && rand == 1 && CurTurn() - attack_date >= 14)",
"    {",
"        attack_date = CurTurn();",
"        rand = Rnd(1, 6);",
"        if (rand == 1) AddPlanetNews(\"У звезды <Name(StarRev)> столкнулись силы военных и анархистов. Правительство планеты <Name(pl1)> просит игнорировать временные беспорядки.\");",
"        if (rand == 2) AddPlanetNews(\"В системе <Name(StarRev)> произошло очередное столкновение военных и оппозиционеров. Советуем вам избегать данный участок космоса.\");",
"        if (rand == 3) AddPlanetNews(\"Мятежники с планеты <Name(pl2)> вновь заявили о себе, организовав вооруженную демонстрацию. Лидеры оппозиции требуют всеобщего подчинения пиратскому клану, власть которого, по их мнению, способствует соблюдению всех гражданских свобод.\");",
"        if (rand == 4) AddPlanetNews(\"Комитет Галактической Безопасности сообщает о вооруженном конфликте в системе <Name(StarRev)>. Повстанцы с планеты <Name(pl2)> устроили акцию протеста, направленную против нынешних властей. КГБ призывает помочь защите системы от демонстрантов партиями техники и оружия.\");",
"        if (rand == 5) AddPlanetNews(\"В звездной системе <Name(StarRev)> продолжаются беспорядки. Количество погибших во время бойни непрерывно растет. Специалисты утверждают, что это неплохой шанс заработать для всех торговцев техникой и вооружением.\");",
"        op_rand = Rnd(7, 13);",
"        //SFT('thetorch7');",
"        WasRebels = GroupCount(Insurgents);",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0)",
"        {",
"            op_rand = op_rand + Rnd(4, 7);",
"            bon_damage = 2.0;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5)",
"        {",
"            op_rand = op_rand + Rnd(3, 6);",
"            bon_damage = 1.75;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0)",
"        {",
"            op_rand = op_rand + Rnd(2, 5);",
"            bon_damage = 1.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75)",
"        {",
"            op_rand = op_rand + Rnd(1, 4);",
"            bon_damage = 1.35;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"        {",
"            op_rand = op_rand + Rnd(0, 3);",
"            bon_damage = 1.20;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.10;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.0;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65)",
"        {",
"            bon_damage = 0.80;",
"            op_rand = op_rand - Rnd(3, 4);",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5)",
"        {",
"            op_rand = op_rand - Rnd(4, 5);",
"            bon_damage = 0.65;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35)",
"        {",
"            op_rand = op_rand - Rnd(5, 6);",
"            bon_damage = 0.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20)",
"        {",
"            op_rand = op_rand - Rnd(7, 8);",
"            bon_damage = 0.35;",
"        }",
"        else",
"        {",
"            op_rand = 0;",
"            bon_damage = 0.10;",
"        }",
"        for (cur_war = 1;cur_war < op_rand;cur_war = cur_war + 1) //Флот оппозиции",
"        {",
"            korsar = BuyWarrior(pl2, Rnd(70 + min_pir, 140 + max_pir));",
"            ShipRefit(korsar);",
"            if (WasRebels >= GroupCount(Army) * 3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 4)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (WasRebels >= GroupCount(Army) * 2)",
"            {",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    //SFT('thetorch8');",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"                ShipImproveItems(korsar, Rnd(1, 4));",
"            }",
"            ShipJoin(Insurgents, korsar);",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            if (GroupCount(Army) >= WasRebels * 1.5)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 6));",
"                ShipSkill(korsar, 1, Rnd(2, 6));",
"                ShipSkill(korsar, 2, Rnd(2, 6));",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 1.25)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 5));",
"                ShipSkill(korsar, 1, Rnd(2, 5));",
"                ShipSkill(korsar, 2, Rnd(2, 5));",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 0.9)",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 4));",
"                ShipSkill(korsar, 1, Rnd(1, 4));",
"                ShipSkill(korsar, 2, Rnd(1, 4));",
"            }",
"            else",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 3));",
"                ShipSkill(korsar, 1, Rnd(1, 3));",
"                ShipSkill(korsar, 2, Rnd(1, 3));",
"            }",
"            ShipSkill(korsar, 3, Rnd(0, 3));",
"            ShipSkill(korsar, 4, Rnd(0, 4));",
"            ShipSkill(korsar, 5, Rnd(0, 2));",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"        }",
"        ar_rand = Rnd(5, 8);",
"        if (GroupCount(Army) >= WasRebels * 3.3) ar_rand = 0;",
"        else if (GroupCount(Army) >= WasRebels * 2.5) ar_rand = Rnd(0, 2);",
"        else if (GroupCount(Army) >= WasRebels * 1.5) ar_rand = ar_rand - Rnd(2, 3);",
"        else if (GroupCount(Army) >= WasRebels) ar_rand = ar_rand + Rnd(1, 2);",
"        else if (GroupCount(Army) >= WasRebels * 0.6) ar_rand = ar_rand + Rnd(2, 3);",
"        else ar_rand = ar_rand + Rnd(4, 5);",
"        for (cur_war = 1;cur_war < ar_rand;cur_war = cur_war + 1) //Флот силовиков",
"        {",
"            korsar = BuyWarrior(pl1, Rnd(100, 175));",
"            ShipRefit(korsar);",
"            if (GroupCount(Army) >= WasRebels * 3.3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 2.2)",
"            {",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            if (Rnd(0, 4))",
"            {",
"                //SFT('thetorch9');",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ShipImproveItems(korsar, Rnd(min_val, max_val));",
"            ArrangeItems(korsar);",
"            ShipJoin(Army, korsar);",
"        }",
"    }",
"    it = 0;",
"    for (irl = StarShips(StarRev) - 1; irl >= 0; irl = irl - 1)",
"    {",
"        s = StarShips(StarRev, irl);",
"        if (ShipOwner(s) == Kling) it = 1;",
"    }",
"    //Настает день финальной битвы",
"    if (CurTurn() == rev_date || reb_cnt >= win_cnt || wars_cnt >= win_cnt || it)",
"    {",
"        op_rand = Rnd(7, 13);",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0)",
"        {",
"            op_rand = op_rand + Rnd(5, 7);",
"            bon_damage = 2.0;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5)",
"        {",
"            op_rand = op_rand + Rnd(4, 6);",
"            bon_damage = 1.75;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0)",
"        {",
"            op_rand = op_rand + Rnd(3, 5);",
"            bon_damage = 1.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75)",
"        {",
"            op_rand = op_rand + Rnd(2, 4);",
"            bon_damage = 1.35;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"        {",
"            op_rand = op_rand + Rnd(1, 3);",
"            bon_damage = 1.20;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.10;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.0;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65)",
"        {",
"            bon_damage = 0.80;",
"            op_rand = op_rand - Rnd(3, 5);",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5)",
"        {",
"            op_rand = op_rand - Rnd(4, 6);",
"            bon_damage = 0.65;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35)",
"        {",
"            op_rand = op_rand - Rnd(5, 7);",
"            bon_damage = 0.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20)",
"        {",
"            op_rand = op_rand - Rnd(7, 9);",
"            bon_damage = 0.35;",
"        }",
"        else",
"        {",
"            op_rand = 0;",
"            bon_damage = 0.10;",
"        }",
"        //SFT('thetorch10');",
"        AddPlanetNews(\"Новости из системы <Name(StarRev)>! <br>Власти планеты <Name(pl1)> организовали специальную операцию по штурму планеты <Name(pl2)>. Многие детали держатся в строжайшем секрете, но, по заявлению местных военных, решающую роль должна сыграть наземная битва.\");",
"        for (cur_war = 1;cur_war < op_rand;cur_war = cur_war + 1) //Флот оппозиции",
"        {",
"            korsar = BuyWarrior(pl2, Rnd(90 + min_pir, 175 + max_pir));",
"            ShipSkill(korsar, 0, Rnd(1, 5));",
"            ShipSkill(korsar, 1, Rnd(1, 5));",
"            ShipRefit(korsar);",
"            ShipJoin(Insurgents, korsar);",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            //SFT('thetorch11');",
"            if (Rnd(0, 4))",
"            {",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ArrangeItems(korsar);",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipImproveItems(korsar, Rnd(1, 3));",
"        }",
"        ar_rand = Rnd(6, 10);",
"        if (GroupCount(Army) >= WasRebels * 3.3) ar_rand = 0;",
"        else if (GroupCount(Army) >= WasRebels * 2.5) ar_rand = Rnd(0, 2);",
"        else if (GroupCount(Army) >= WasRebels * 1.5) ar_rand = ar_rand - Rnd(3, 5);",
"        else if (GroupCount(Army) >= WasRebels) ar_rand = ar_rand + Rnd(1, 2);",
"        else if (GroupCount(Army) >= WasRebels * 0.6) ar_rand = ar_rand + Rnd(2, 4);",
"        else ar_rand = ar_rand + Rnd(4, 6);",
"        for (cur_war = 1;cur_war < ar_rand;cur_war = cur_war + 1) //Флот силовиков",
"        {",
"            korsar = BuyWarrior(pl1, Rnd(135, 245));",
"            ShipRefit(korsar);",
"            GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            if (Rnd(0, 4))",
"            {",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                //SFT('thetorch12');",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ArrangeItems(korsar);",
"            ShipImproveItems(korsar, Rnd(1, 5));",
"            ShipJoin(Army, korsar);",
"        }",
"        state_rev = 2;",
"        rev_date = CurTurn();",
"    }",
"    //SFT('thetorch_end');",
"    //SFT('thetorch1');",
"    if (!Rnd(0, 4)) PlanetCurInventionPoints(pl1, pl1_t);",
"    if (!Rnd(0, 3)) PlanetCurInventionPoints(pl2, pl2_t);",
"    pl1_t = PlanetCurInventionPoints(pl1);",
"    pl2_t = PlanetCurInventionPoints(pl2);",
"    if (ShipOnSidePirateClan(Player()))",
"    {",
"        NoLanding(pl1, 1);",
"        NoLanding(pl2, 0);",
"    }",
"    if (!ShipOnSidePirateClan(Player()))",
"    {",
"        NoLanding(pl2, 1);",
"        NoLanding(pl1, 0);",
"    }",
"    //SFT('thetorch2');",
"    if (agr) NoLanding(pl2, 1);",
"    //Увеличиваем собранные оппозицией деньги",
"    if (rev_money < rev_plan && Rnd(0, 1)) rev_money = rev_money + Rnd(1 * GalaxyTechLevel(), 3 * GalaxyTechLevel());",
"    if (rev_money > rev_plan) rev_money = rev_plan; //Если сумма превысила план, занижаем до плана",
"",
"    //Увеличиваем произведенное планетой pl1 оружие",
"    rand = Rnd(1, 5);",
"    if (has_arm < arm_plan && rand == 1) has_arm = has_arm + 1;",
"    if (has_arm > arm_plan) has_arm = arm_plan; //Если кол-во превысило план, занижаем до плана",
"",
"    //Ниже мы рождаем корабли по одному",
"    if (GroupCount(Insurgents) == 0 && rev_date > CurTurn())",
"    {",
"        korsar = BuyWarrior(pl2, Rnd(300, 400));",
"        ShipSkill(korsar, 0, Rnd(4, 6));",
"        ShipSkill(korsar, 1, Rnd(4, 6));",
"        ShipSkill(korsar, 2, Rnd(4, 6));",
"        ShipRefit(korsar);",
"        GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"        GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"        ArrangeItems(korsar);",
"        ShipImproveItems(korsar, 20);",
"        ShipJoin(Insurgents, korsar); //Добавляем в группу, чтобы можно было управлять",
"        SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"        Chameleon(korsar, shkura);",
"        ShipType(korsar, 'Rebel');",
"        ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 2, GalaxyTechLevel() * 5));",
"        ShipSpecialBonuses(korsar, bonHull, Rnd(4, 6));",
"    }",
"    //SFT('thetorch3');",
"    if (rev_date > CurTurn() + 3)",
"    {",
"        //SFT('thetorch32');",
"        if (GroupCount(Insurgents) >= GroupCount(Army) * 2.5) rand = 1;",
"        else if (GroupCount(Insurgents) >= GroupCount(Army) * 1.55) rand = Rnd(1, 3);",
"        else if (GroupCount(Insurgents) >= GroupCount(Army) * 0.90) rand = Rnd(1, 5);",
"        else rand = Rnd(1, 7);",
"        //SFT('thetorch33');",
"        if (GalaxyTechLevel() <= 4) eq_coef = 1.4;",
"        if (GalaxyTechLevel() <= 6) eq_coef = 1.1;",
"        else eq_coef = 0.9;",
"        //SFT('thetorch34');",
"        if (rand == 1 && rev_date > CurTurn() + 5)",
"        {",
"            //SFT('thetorch35');",
"            korsar = BuyWarrior(pl1, Rnd(90, 175) * eq_coef);",
"            //SFT('thetorch36');",
"            ShipRefit(korsar);",
"            //SFT('thetorch37');",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 3.3)",
"            {",
"                //SFT('thetorch38');",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                //SFT('thetorch39');",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    //SFT('thetorch391');",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    //SFT('thetorch4');",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.2)",
"            {",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(HullHP(korsar), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            ShipImproveItems(korsar, Rnd(min_val, max_val));",
"            ArrangeItems(korsar);",
"            ShipJoin(Army, korsar); //Добавляем в группу, чтобы можно было управлять в финальном бою",
"        }                      //К тому же, так он не подцепится другим скриптом и не улетит освобождать систему",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 2) rand = 1;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.15) rand = Rnd(1, 2);",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65) rand = Rnd(1, 4);",
"        else rand = Rnd(1, 6);",
"        if (rand == 1 && rev_date > CurTurn() - 5)",
"        {",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 6.5) bon_damage = 3.5;",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 4.0) bon_damage = 2.5;",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0) bon_damage = 2.2;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5) bon_damage = 1.90;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0) bon_damage = 1.70;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75) bon_damage = 1.55;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5) bon_damage = 1.40;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.30;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.15;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65) bon_damage = 0.80;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5) bon_damage = 0.65;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35) bon_damage = 0.50;",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20) bon_damage = 0.35;",
"            else bon_damage = 0.10;",
"            korsar = BuyWarrior(pl2, Rnd(70 + min_pir, 140 + max_pir));",
"            ShipRefit(korsar);",
"            ShipJoin(Insurgents, korsar); //Добавляем в группу, чтобы можно было управлять в финальном бою",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 2.2)",
"            {",
"                ShipSkill(korsar, 0, Rnd(3, 6));",
"                ShipSkill(korsar, 1, Rnd(3, 6));",
"                ShipSkill(korsar, 2, Rnd(2, 5));",
"            }",
"            if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 5));",
"                ShipSkill(korsar, 1, Rnd(2, 5));",
"                ShipSkill(korsar, 2, Rnd(2, 4));",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.25)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 4));",
"                ShipSkill(korsar, 1, Rnd(2, 4));",
"                ShipSkill(korsar, 2, Rnd(2, 3));",
"            }",
"            else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.9)",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 3));",
"                ShipSkill(korsar, 1, Rnd(1, 3));",
"                ShipSkill(korsar, 2, Rnd(1, 2));",
"            }",
"            else",
"            {",
"                ShipSkill(korsar, 0, Rnd(0, 2));",
"                ShipSkill(korsar, 1, Rnd(0, 2));",
"                ShipSkill(korsar, 2, Rnd(0, 1));",
"            }",
"            ShipSkill(korsar, 3, Rnd(0, 3));",
"            ShipSkill(korsar, 4, Rnd(0, 4));",
"            ShipSkill(korsar, 5, Rnd(0, 2));",
"            if (GroupCount(Insurgents) >= GroupCount(Army) * 3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 4)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Insurgents) >= GroupCount(Army) * 2)",
"            {",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"                ShipImproveItems(korsar, Rnd(1, 4));",
"            }",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 0.75, GalaxyTechLevel() * 1.25) * bon_damage);//К тому же, так он не подцепится другим скриптом",
"        }",
"    }",
"    //А вот здесь мы уже генерируем массовые стычки",
"    rand = Rnd(1, 14);",
"    if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5) rand = Rnd(1, 10);",
"    if (GroupCount(Insurgents) >= GroupCount(Army) * 2.5) rand = Rnd(1, 10);",
"    if (rev_date > CurTurn() + 25 && rand == 1 && CurTurn() - attack_date >= 14)",
"    {",
"        attack_date = CurTurn();",
"        rand = Rnd(1, 6);",
"        if (rand == 1) AddPlanetNews(\"У звезды <Name(StarRev)> столкнулись силы военных и анархистов. Правительство планеты <Name(pl1)> просит игнорировать временные беспорядки.\");",
"        if (rand == 2) AddPlanetNews(\"В системе <Name(StarRev)> произошло очередное столкновение военных и оппозиционеров. Советуем вам избегать данный участок космоса.\");",
"        if (rand == 3) AddPlanetNews(\"Мятежники с планеты <Name(pl2)> вновь заявили о себе, организовав вооруженную демонстрацию. Лидеры оппозиции требуют всеобщего подчинения пиратскому клану, власть которого, по их мнению, способствует соблюдению всех гражданских свобод.\");",
"        if (rand == 4) AddPlanetNews(\"Комитет Галактической Безопасности сообщает о вооруженном конфликте в системе <Name(StarRev)>. Повстанцы с планеты <Name(pl2)> устроили акцию протеста, направленную против нынешних властей. КГБ призывает помочь защите системы от демонстрантов партиями техники и оружия.\");",
"        if (rand == 5) AddPlanetNews(\"В звездной системе <Name(StarRev)> продолжаются беспорядки. Количество погибших во время бойни непрерывно растет. Специалисты утверждают, что это неплохой шанс заработать для всех торговцев техникой и вооружением.\");",
"        op_rand = Rnd(7, 13);",
"        WasRebels = GroupCount(Insurgents);",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0)",
"        {",
"            op_rand = op_rand + Rnd(4, 7);",
"            bon_damage = 2.0;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5)",
"        {",
"            op_rand = op_rand + Rnd(3, 6);",
"            bon_damage = 1.75;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0)",
"        {",
"            op_rand = op_rand + Rnd(2, 5);",
"            bon_damage = 1.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75)",
"        {",
"            op_rand = op_rand + Rnd(1, 4);",
"            bon_damage = 1.35;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"        {",
"            op_rand = op_rand + Rnd(0, 3);",
"            bon_damage = 1.20;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.10;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.0;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65)",
"        {",
"            bon_damage = 0.80;",
"            op_rand = op_rand - Rnd(3, 4);",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5)",
"        {",
"            op_rand = op_rand - Rnd(4, 5);",
"            bon_damage = 0.65;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35)",
"        {",
"            op_rand = op_rand - Rnd(5, 6);",
"            bon_damage = 0.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20)",
"        {",
"            op_rand = op_rand - Rnd(7, 8);",
"            bon_damage = 0.35;",
"        }",
"        else",
"        {",
"            op_rand = 0;",
"            bon_damage = 0.10;",
"        }",
"        for (cur_war = 1;cur_war < op_rand;cur_war = cur_war + 1) //Флот оппозиции",
"        {",
"            korsar = BuyWarrior(pl2, Rnd(70 + min_pir, 140 + max_pir));",
"            ShipRefit(korsar);",
"            if (WasRebels >= GroupCount(Army) * 3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 4)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"            }",
"            else if (WasRebels >= GroupCount(Army) * 2)",
"            {",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (Rnd(0, 1)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 50));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 4))",
"                {",
"                    ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                    ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                    ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                    ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        ItemSize(s, Rnd(7, 15));",
"                    }",
"                    ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                    HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                    SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                    ArrangeItems(korsar);",
"                    NoDropToShip(korsar, 1);",
"                    for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                    {",
"                        s = ShipItems(korsar, i);",
"                        if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                    }",
"                }",
"                ArrangeItems(korsar);",
"                ShipImproveItems(korsar, Rnd(1, 4));",
"            }",
"            ShipJoin(Insurgents, korsar);",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            if (GroupCount(Army) >= WasRebels * 1.5)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 6));",
"                ShipSkill(korsar, 1, Rnd(2, 6));",
"                ShipSkill(korsar, 2, Rnd(2, 6));",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 1.25)",
"            {",
"                ShipSkill(korsar, 0, Rnd(2, 5));",
"                ShipSkill(korsar, 1, Rnd(2, 5));",
"                ShipSkill(korsar, 2, Rnd(2, 5));",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 0.9)",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 4));",
"                ShipSkill(korsar, 1, Rnd(1, 4));",
"                ShipSkill(korsar, 2, Rnd(1, 4));",
"            }",
"            else",
"            {",
"                ShipSkill(korsar, 0, Rnd(1, 3));",
"                ShipSkill(korsar, 1, Rnd(1, 3));",
"                ShipSkill(korsar, 2, Rnd(1, 3));",
"            }",
"            ShipSkill(korsar, 3, Rnd(0, 3));",
"            ShipSkill(korsar, 4, Rnd(0, 4));",
"            ShipSkill(korsar, 5, Rnd(0, 2));",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel() * 1, GalaxyTechLevel() * 1.5) * bon_damage);",
"        }",
"        ar_rand = Rnd(5, 8);",
"        if (GroupCount(Army) >= WasRebels * 3.3) ar_rand = 0;",
"        else if (GroupCount(Army) >= WasRebels * 2.5) ar_rand = Rnd(0, 2);",
"        else if (GroupCount(Army) >= WasRebels * 1.5) ar_rand = ar_rand - Rnd(2, 3);",
"        else if (GroupCount(Army) >= WasRebels) ar_rand = ar_rand + Rnd(1, 2);",
"        else if (GroupCount(Army) >= WasRebels * 0.6) ar_rand = ar_rand + Rnd(2, 3);",
"        else ar_rand = ar_rand + Rnd(4, 5);",
"        for (cur_war = 1;cur_war < ar_rand;cur_war = cur_war + 1) //Флот силовиков",
"        {",
"            korsar = BuyWarrior(pl1, Rnd(100, 175));",
"            ShipRefit(korsar);",
"            if (GroupCount(Army) >= WasRebels * 3.3)",
"            {",
"                if (!Rnd(0, 3)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                if (!Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 45));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ArrangeItems(korsar);",
"            }",
"            else if (GroupCount(Army) >= WasRebels * 2.2)",
"            {",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                if (Rnd(0, 2)) GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"                else GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            else",
"            {",
"                GiveCoolEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 35));",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                if (Rnd(0, 1)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"                ShipImproveItems(korsar, Rnd(0, 2));",
"                ArrangeItems(korsar);",
"            }",
"            if (Rnd(0, 4))",
"            {",
"                //SFT('thetorch9');",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ShipImproveItems(korsar, Rnd(min_val, max_val));",
"            ArrangeItems(korsar);",
"            ShipJoin(Army, korsar);",
"        }",
"    }",
"    it = 0;",
"    for (irl = StarShips(StarRev) - 1; irl >= 0; irl = irl - 1)",
"    {",
"        s = StarShips(StarRev, irl);",
"        if (ShipOwner(s) == Kling) it = 1;",
"    }",
"    //Настает день финальной битвы",
"    if (CurTurn() == rev_date || reb_cnt >= win_cnt || wars_cnt >= win_cnt || it)",
"    {",
"        op_rand = Rnd(7, 13);",
"        if (GroupCount(Army) >= GroupCount(Insurgents) * 3.0)",
"        {",
"            op_rand = op_rand + Rnd(5, 7);",
"            bon_damage = 2.0;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.5)",
"        {",
"            op_rand = op_rand + Rnd(4, 6);",
"            bon_damage = 1.75;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 2.0)",
"        {",
"            op_rand = op_rand + Rnd(3, 5);",
"            bon_damage = 1.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.75)",
"        {",
"            op_rand = op_rand + Rnd(2, 4);",
"            bon_damage = 1.35;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.5)",
"        {",
"            op_rand = op_rand + Rnd(1, 3);",
"            bon_damage = 1.20;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.3) bon_damage = 1.10;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 1.0) bon_damage = 1.0;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.8) bon_damage = 0.90;",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.65)",
"        {",
"            bon_damage = 0.80;",
"            op_rand = op_rand - Rnd(3, 5);",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.5)",
"        {",
"            op_rand = op_rand - Rnd(4, 6);",
"            bon_damage = 0.65;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.35)",
"        {",
"            op_rand = op_rand - Rnd(5, 7);",
"            bon_damage = 0.50;",
"        }",
"        else if (GroupCount(Army) >= GroupCount(Insurgents) * 0.20)",
"        {",
"            op_rand = op_rand - Rnd(7, 9);",
"            bon_damage = 0.35;",
"        }",
"        else",
"        {",
"            op_rand = 0;",
"            bon_damage = 0.10;",
"        }",
"        AddPlanetNews(\"Новости из системы <Name(StarRev)>! <br>Власти планеты <Name(pl1)> организовали специальную операцию по штурму планеты <Name(pl2)>. Многие детали держатся в строжайшем секрете, но, по заявлению местных военных, решающую роль должна сыграть наземная битва.\");",
"        for (cur_war = 1;cur_war < op_rand;cur_war = cur_war + 1) //Флот оппозиции",
"        {",
"            korsar = BuyWarrior(pl2, Rnd(90 + min_pir, 175 + max_pir));",
"            ShipSkill(korsar, 0, Rnd(1, 5));",
"            ShipSkill(korsar, 1, Rnd(1, 5));",
"            ShipRefit(korsar);",
"            ShipJoin(Insurgents, korsar);",
"            SpecialToEquipment(FindBonusByCustomTag(path + Rnd(1, 3)), ShipEqInSlot(korsar, t_Hull));",
"            Chameleon(korsar, shkura);",
"            ShipType(korsar, 'Rebel');",
"            GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            if (Rnd(0, 2)) GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            else GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCommonEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            if (Rnd(0, 4))",
"            {",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ArrangeItems(korsar);",
"            ShipSpecialBonuses(korsar, bonWEnergy, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipSpecialBonuses(korsar, bonWSplinter, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipSpecialBonuses(korsar, bonWMissile, Rnd(GalaxyTechLevel(), GalaxyTechLevel() * 2.5));",
"            ShipImproveItems(korsar, Rnd(1, 3));",
"        }",
"        ar_rand = Rnd(6, 10);",
"        if (GroupCount(Army) >= WasRebels * 3.3) ar_rand = 0;",
"        else if (GroupCount(Army) >= WasRebels * 2.5) ar_rand = Rnd(0, 2);",
"        else if (GroupCount(Army) >= WasRebels * 1.5) ar_rand = ar_rand - Rnd(3, 5);",
"        else if (GroupCount(Army) >= WasRebels) ar_rand = ar_rand + Rnd(1, 2);",
"        else if (GroupCount(Army) >= WasRebels * 0.6) ar_rand = ar_rand + Rnd(2, 4);",
"        else ar_rand = ar_rand + Rnd(4, 6);",
"        for (cur_war = 1;cur_war < ar_rand;cur_war = cur_war + 1) //Флот силовиков",
"        {",
"            korsar = BuyWarrior(pl1, Rnd(135, 245));",
"            ShipRefit(korsar);",
"            GiveCommonEq(korsar, t_RepairRobot, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCommonEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveAverageEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            if (Rnd(0, 4))",
"            {",
"                ShipSpecialBonuses(korsar, bonSpeed, 200);",
"                ShipSpecialBonuses(korsar, bonSkill1, 1);",
"                ShipSpecialBonuses(korsar, bonSkill2, 1);",
"                ShipSpecialBonuses(korsar, bonSkill3, 1);",
"                ShipSpecialBonuses(korsar, bonSlotWeapon, -2);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    ItemSize(s, Rnd(7, 15));",
"                }",
"                ItemSize(ShipItems(korsar, 0), Rnd(75, 150));",
"                HullHP(korsar, ItemSize(ShipItems(korsar, 0)));",
"                SetData(ItemSize(ShipItems(korsar, 0)), 1, korsar);",
"                ArrangeItems(korsar);",
"                NoDropToShip(korsar, 1);",
"                for (i = 1; i < ShipItems(korsar); i = i + 1)",
"                {",
"                    s = ShipItems(korsar, i);",
"                    if (!ItemIsInUse(s)) FreeItem(GetItemFromShip(korsar, i));",
"                }",
"            }",
"            ArrangeItems(korsar);",
"            ShipImproveItems(korsar, Rnd(1, 5));",
"            ShipJoin(Army, korsar);",
"        }",
"        state_rev = 2;",
"        rev_date = CurTurn();",
"    }",
"    if (!ShipInStar(Player(), StarRev)) {",
"        killed_rebs = 0;",
"        agr = 0;",
"    }",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          560,
          "Pos.y":          420,
          "Parent":          -1,
          "#":          96,
          "Total.Lines":          495,
          "Code.Type":"Turn",
          "Code":          
          [
"if (state_rev) {",
"    for (i = 0; i < StarShips(StarRev); i = i + 1)",
"    {",
"        s = StarShips(StarRev, i);",
"        if (ShipTypeN(s) == t_Warrior && !ShipInScript(s)) ShipJoin(Army, s);",
"        if (ShipTypeN(s) == t_Pirate && PirateType(s) && !ShipInScript(s)) ShipJoin(Insurgents, s);",
"    }",
"    if (ShipInStar(Player(), StarRev)) {",
"        EventsNum = GalaxyEvents();",
"        for (num_event = 0;num_event < EventsNum;num_event = num_event + 1)",
"        {",
"            if (GalaxyEventDate(num_event) == CurTurn())",
"            {",
"                if (GalaxyEventType(num_event) == 'PlayerAssistKillsShip' && GalaxyEventData(num_event, 0) == t_Warrior && ShipInStar(Player(), StarRev) || GalaxyEventType(num_event) == 'PlayerKillsShip' && GalaxyEventData(num_event, 0) == t_Warrior && ShipInStar(Player(), StarRev))",
"                {",
"                    wars_cnt = wars_cnt + 1;",
"                }",
"            }",
"        }",
"",
"        if (ShipKillFactionInCurSystem(Player(), 2) > killed_rebs)",
"        {",
"            agr = 1;",
"            difference = ShipKillFactionInCurSystem(Player(), 2) - killed_rebs;",
"            killed_rebs = ShipKillFactionInCurSystem(Player(), 2);",
"            while (difference > 0)",
"            {",
"                reb_cnt = reb_cnt + 1;",
"                difference = difference - 1;",
"                ChangeGlobalRelationsPlanets(Player(), 0, 2, Rnd(1, 3), 1 + 4 + 8 + 16);",
"                ChangeGlobalRelationsShips(Player(), 0, 2, Rnd(0, 2), 1 + 8 + 16 + 32, 1 + 2 + 4 + 8 + 16);",
"                ChangeGlobalRelationsPlanets(Player(), 0, 2, -Rnd(10, 20), 128);",
"                RelationToRanger(pl2, Player(), 0);",
"                shipz = GroupCount(Insurgents);",
"                for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1)",
"                {",
"                    korsar = GroupShip(Insurgents, cur_war);",
"                    RelationToRanger(korsar, Player(), RelationToRanger(korsar, Player()) - Rnd(30, 70));",
"                }",
"            }",
"        }",
"    }",
"}",
"if (state_rev == 2 && !GroupCount(Army) && !GroupCount(Insurgents)) {",
"    korsar = BuyWarrior(pl1, 300);",
"    ShipSkill(korsar, 0, 6);",
"    ShipSkill(korsar, 1, 6);",
"    ShipSkill(korsar, 2, 6);",
"    ShipSpecialBonuses(korsar, bonDroid, 20);",
"    ShipSpecialBonuses(korsar, bonDef, 10);",
"    ShipSpecialBonuses(korsar, bonHull, 5);",
"    ShipImproveItems(korsar, 10);",
"    ShipRefit(korsar);",
"    ShipJoin(Army, korsar);",
"    ChangeState('Daaa', korsar);",
"}",
"if (konetz == 2 && kon == 0) {",
"    kon = 1;",
"    if (WasRev == 0) {",
"        pl1 = plan1;",
"        pl2 = plan2;",
"        StarRev = RebelStar;",
"    }",
"    if (WasRev > 0) {",
"        pl1 = IdToPlanet(pl1_id);",
"        pl2 = IdToPlanet(pl2_id);",
"        StarRev = PlanetToStar(pl1);",
"    }",
"    //Определяем бонус к силе",
"    if (rev_money >= rev_plan * 0.95) power = 10;",
"    else if (rev_money >= rev_plan * 0.75) power = 9;",
"    else if (rev_money >= rev_plan * 0.50) power = 8;",
"    else if (rev_money >= rev_plan * 0.30) power = 7;",
"    else power = 6;",
"    power = 10 + GroupCount(Insurgents) * power;",
"    g_rand = Rnd(1, 100);",
"    if (g_rand <= power)",
"    {",
"        PlanetOwner(pl1, PirateClan);",
"        AddPlanetNews(\"Коалиция в опасности! <br>В этот день отряд анархистов вломился в правительство планеты <Name(pl1)> и расстрелял большую часть государственного аппарата. Повстанцы официально передали звездную систему <Name(StarRev)> пиратскому синдикату. Вечная память погибшим героям.\");",
"        NewsAdd(\"Коалиция в опасности! <br>В этот день отряд анархистов вломился в правительство планеты <Name(pl1)> и расстрелял большую часть государственного аппарата. Повстанцы официально передали звездную систему <Name(StarRev)> пиратскому синдикату. Вечная память погибшим героям.\");",
"        shipz = StarPlanets(StarRev);",
"        for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1) //Щупаем систему на предмет наличия других обитаемых планет",
"        {                                               //и, если они есть, заселяем их пиратами",
"            if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan) PlanetOwner(StarPlanets(StarRev, cur_war), PirateClan);",
"        }",
"        shipz = GroupCount(Insurgents);",
"        for (n = shipz - 1;n >= 0;n = n - 1)",
"        {",
"            if (!GetData(1, GroupShip(Insurgents, n))) continue;",
"            if (GetData(1, GroupShip(Insurgents, n)) > 10000) continue;",
"            OrderLanding(GroupShip(Insurgents, n), GetShipPlanet(GroupShip(Insurgents, n)));",
"            OrderLock(GroupShip(Insurgents, n), 1);",
"            ShipDestroy(GroupShip(Insurgents, n));",
"        }",
"        shipz = GroupCount(Insurgents);",
"        for (n = shipz - 1;n >= 0;n = n - 1)",
"        {",
"            GiveRewardByNom(GroupShip(Insurgents, n), 49);",
"            ShipOut(GroupShip(Insurgents, n));",
"        }",
"        StarOwner(StarRev, 2);",
"    }",
"    if (g_rand > power)",
"    {",
"        shipz = GroupCount(Insurgents);",
"        for (n = shipz - 1;n >= 0;n = n - 1) //Сносим всех солдат",
"        {",
"            OrderLanding(GroupShip(Insurgents, n), GetShipPlanet(GroupShip(Insurgents, n)));",
"            OrderLock(GroupShip(Insurgents, n), 1);",
"            ShipDestroy(GroupShip(Insurgents, n));",
"        }",
"        //SFT('ok');",
"        //SFT('loading owners...');",
"        PlanetOwner(pl2, PlanetRace(pl2));",
"        StarOwner(StarRev, 0);",
"        //SFT('ok');",
"        //SFT('loading news...');",
"        AddPlanetNews(\"Экстренная новость! <br>У звезды <Name(StarRev)> оппозиционеры разбили военных в космической баталии, но высадившийся на планете <Name(pl1)> десант мятежников был разгромлен бравыми защитниками. Ура!\");",
"        NewsAdd(\"Экстренная новость! <br>У звезды <Name(StarRev)> оппозиционеры разбили военных в космической баталии, но высадившийся на планете <Name(pl1)> десант мятежников был разгромлен бравыми защитниками. Ура!\");",
"        //SFT('ok');",
"    }",
"    //SFT('}');",
"    //SFT('ok');",
"    //Вне зависимости от результата покупаем клановых или коалиционных вояк на обеих планетах",
"    //SFT('loading buywarrior...');",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    //SFT('ok');",
"    //SFT('END.');",
"    state_rev = 0;",
"    NoComeKlingToStar(StarRev, 0);",
"    NoLanding(pl1, 0);",
"    NoLanding(pl2, 0);",
"    NoComeKlingToStar(StarRev, 0);",
"    for (i = 0;i < StarShips(StarRev);i = i + 1)",
"    {",
"        korsar = StarShips(StarRev, i);",
"        if (ShipInPrison(korsar) && ShipTypeN(korsar) == t_Ranger && StarOwner(StarRev) == 0 && ShipInPlanet(korsar, pl2)) ShipInPrison(korsar, 0);",
"        if (ShipInPrison(korsar) && ShipTypeN(korsar) == t_Pirate && StarOwner(StarRev) == 2) ShipInPrison(korsar, 0);",
"    }",
"    take_reward = 0;",
"    if (StarOwner(StarRev) == 2)",
"    {",
"        for (i = 0;i < StarShips(StarRev);i = i + 1)",
"        {",
"            korsar = StarShips(StarRev, i);",
"            if (ShipTypeN(korsar) == t_Warrior && GetShipPlanet(korsar) == pl2) ShipDestroy(korsar);",
"        }",
"        RelationToRanger(pl1, Player(), RelationToRanger(pl2, Player()));",
"        op_rand = 0;",
"        ar_rand = Rnd(3, 7);",
"        while (op_rand < ar_rand)",
"        {",
"            op_rand = op_rand + 1;",
"            korsar = BuyWarrior(PlanetPirateClan(), Rnd(250, 500));",
"            ShipRefit(korsar);",
"            GiveCoolEq(korsar, t_Engine, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, t_FuelTanks, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveExtremeEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            ArrangeItems(korsar);",
"            ShipImproveItems(korsar, Rnd(10, 20));",
"            rand = Rnd(3, 4);",
"            rev_date = CurTurn();",
"            while (GetShipPirateRank(korsar) < rand)",
"            {",
"                RaisePirateRank(korsar);",
"            }",
"            MakeShipEnterStar(korsar, StarRev, PlanetToStar(PlanetPirateClan()), Rnd(3, 6));",
"        }",
"    }",
"    else",
"    {",
"        RelationToRanger(pl2, Player(), RelationToRanger(pl1, Player()));",
"    }",
"    //if (GroupCount(Insurgents)>0)",
"    //{",
"    //shipz=GroupCount(Insurgents);",
"    //for (cur_war=shipz-1;cur_war>=0;cur_war=cur_war-1)",
"    //{",
"    //ShipOut(GroupShip(Insurgents,cur_war));",
"    //}",
"    //}",
"    //if (GroupCount(Army)>0)",
"    //{",
"    //shipz=GroupCount(Army);",
"    //for (cur_war=shipz-1;cur_war>=0;cur_war=cur_war-1)",
"    //{",
"    //ShipOut(GroupShip(Army,cur_war));",
"    //}",
"    //}",
"    if (GroupCount(Rebels) > 0)",
"    {",
"        shipz = GroupCount(Rebels);",
"        for (cur_war = shipz - 1;cur_war >= 0;cur_war = cur_war - 1)",
"        {",
"            ShipOut(GroupShip(Rebels, cur_war));",
"        }",
"    }",
"    if (GroupCount(SWAT) > 0)",
"    {",
"        shipz = GroupCount(SWAT);",
"        for (cur_war = shipz - 1;cur_war >= 0;cur_war = cur_war - 1)",
"        {",
"            ShipOut(GroupShip(SWAT, cur_war));",
"        }",
"    }",
"    WasRev = WasRev + 1;",
"",
"    rand = Rnd(1, 2);",
"    if (rand == 1 && StarOwner(StarRev) == 2)",
"    {",
"        rand = Rnd(1, 5);",
"        if (rand == 1) stroka = 'Синигр';",
"        if (rand == 2) stroka = 'Ковард';",
"        if (rand == 3) stroka = 'Остап';",
"        if (rand == 4) stroka = 'Волк';",
"        else stroka = 'Молдер';",
"        if (stroka == 'Молдер')",
"        {",
"            it = CreateEquipment(t_Weapon18, 30, 8, PirateClan);",
"            ModuleToEquipment(210, it);",
"            AddItemToShip(korsar, it);",
"        }",
"        stroka = stroka + ' -' + Rnd(1, 100) + '-';",
"        korsar = BuyPirate(pl2, 1000);",
"        SetName(korsar, stroka);",
"        ShipSkill(korsar, 0, Rnd(5, 6));",
"        ShipSkill(korsar, 1, Rnd(5, 6));",
"        ShipSkill(korsar, 2, Rnd(3, 6));",
"        ShipSkill(korsar, 3, Rnd(0, 5));",
"        ShipSkill(korsar, 4, Rnd(0, 6));",
"        ShipSkill(korsar, 5, Rnd(0, 3));",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, t_Engine, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_FuelTanks, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_DefGenerator, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_CargoHook, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_RepairRobot, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_Radar, 7, Rnd(15, 30));",
"        GiveExtremeEq(korsar, t_Scaner, 7, Rnd(15, 30));",
"        ShipImproveItems(korsar, 30);",
"        ShipSpecialBonuses(korsar, bonWEnergy, GalaxyTechLevel() * Rnd(3, 5));",
"        ShipSpecialBonuses(korsar, bonWSplinter, GalaxyTechLevel() * Rnd(3, 5));",
"        ShipSpecialBonuses(korsar, bonWMissile, GalaxyTechLevel() * Rnd(3, 5));",
"        AddItemToShip(korsar, CreateQuestItem('Usl_PTQ70', PirateClan));",
"    }",
"}",
"if (konetz == 1 && kon == 0) {",
"    if (WasRev == 0) {",
"        pl1 = plan1;",
"        pl2 = plan2;",
"        StarRev = RebelStar;",
"    }",
"    if (WasRev > 0) {",
"        pl1 = IdToPlanet(pl1_id);",
"        pl2 = IdToPlanet(pl2_id);",
"        StarRev = PlanetToStar(pl1);",
"    }",
"    kon = 1;",
"    //Определяем бонус к силе",
"    if (has_arm == 0) has_arm = 1;",
"    if (has_arm == arm_plan) power = 13;",
"    else if (has_arm >= arm_plan * 0.90) power = 12;",
"    else if (has_arm >= arm_plan * 0.75) power = 11;",
"    else if (has_arm >= arm_plan * 0.55) power = 10;",
"    else if (has_arm >= arm_plan * 0.35) power = 9;",
"    else power = 8;",
"    //Устанавливаем силу",
"    power = 10 + power * GroupCount(Army);",
"    g_rand = Rnd(1, 100);",
"    if (g_rand <= power)",
"    {",
"        PlanetOwner(pl2, PlanetRace(pl2));",
"        AddPlanetNews(\"Сегодня в системе <Name(StarRev)> флот планеты <Name(pl1)> одержал сокрушительную победу над революционерами с планеты <Name(pl2)>. Десант в тяжелом наземном сражении разбил оппозиционеров. Этот день войдет в историю!\");",
"        NewsAdd(\"Сегодня в системе <Name(StarRev)> флот планеты <Name(pl1)> одержал сокрушительную победу над революционерами с планеты <Name(pl2)>. Десант в тяжелом наземном сражении разбил оппозиционеров. Этот день войдет в историю!\");",
"        shipz = GroupCount(Army);",
"        for (n = shipz - 1;n >= 0;n = n - 1) //Сносим от половины до всех солдат",
"        {",
"            if (!GetData(1, GroupShip(Army, n))) continue;",
"            if (GetData(1, GroupShip(Army, n)) > 10000) continue;",
"            OrderLanding(GroupShip(Army, n), GetShipPlanet(GroupShip(Army, n)));",
"            OrderLock(GroupShip(Army, n), 1);",
"            ShipDestroy(GroupShip(Army, n));",
"        }",
"        shipz = GroupCount(Army);",
"        for (n = shipz - 1;n >= 0;n = n - 1)",
"        {",
"            GiveRewardByNom(GroupShip(Army, n), 13);",
"            ShipOut(GroupShip(Army, n));",
"        }",
"        StarOwner(StarRev, 0);",
"    }",
"    if (g_rand > power)",
"    {",
"        shipz = GroupCount(Army);",
"        for (n = shipz - 1;n >= 0;n = n - 1) //Сносим всех солдат",
"        {",
"            OrderLanding(GroupShip(Army, n), GetShipPlanet(GroupShip(Army, n)));",
"            OrderLock(GroupShip(Army, n), 1);",
"            ShipDestroy(GroupShip(Army, n));",
"        }",
"        PlanetOwner(pl1, PirateClan);",
"        shipz = StarPlanets(StarRev);",
"        for (cur_war = 0;cur_war < shipz;cur_war = cur_war + 1) //Щупаем систему на предмет наличия других обитаемых планет",
"        {                                               //и, если они есть, заселяем их пиратами",
"            if (PlanetOwner(StarPlanets(StarRev, cur_war)) != None && PlanetOwner(StarPlanets(StarRev, cur_war)) != PirateClan) PlanetOwner(StarPlanets(StarRev, cur_war), PirateClan);",
"        }",
"        StarOwner(StarRev, 2);",
"        AddPlanetNews(\"Срочные новости из звездной системы <Name(StarRev)>! <br>К сожалению, попытка высадки военных с планеты <Name(pl1)> в убежище оппозиционеров обернулась неудачей. Повстанцы заманили солдат в ловушку и перебили. Теперь вся территория у звезды <Name(StarRev)> контроллируется анархистами.\");",
"        NewsAdd(\"Срочные новости из звездной системы <Name(StarRev)>! <br>К сожалению, попытка высадки военных с планеты <Name(pl1)> в убежище оппозиционеров обернулась неудачей. Повстанцы заманили солдат в ловушку и перебили. Теперь вся территория у звезды <Name(StarRev)> контроллируется анархистами.\");",
"    }",
"    //Вне зависимости от результата покупаем клановых или коалиционных вояк на обеих планетах",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    BuyWarrior(pl1, Rnd(300, 400));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    if (PlanetOwner(pl1) == PirateClan) BuyWarrior(pl1, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    BuyWarrior(pl2, Rnd(100, 200));",
"    state_rev = 0;",
"    NoComeKlingToStar(StarRev, 0);",
"    NoLanding(pl1, 0);",
"    NoLanding(pl2, 0);",
"    NoComeKlingToStar(StarRev, 0);",
"    for (i = 0;i < StarShips(StarRev);i = i + 1)",
"    {",
"        korsar = StarShips(StarRev, i);",
"        if (ShipInPrison(korsar) && ShipTypeN(korsar) == t_Ranger && StarOwner(StarRev) == 0 && ShipInPlanet(korsar, pl2)) ShipInPrison(korsar, 0);",
"        if (ShipInPrison(korsar) && ShipTypeN(korsar) == t_Pirate && StarOwner(StarRev) == 2) ShipInPrison(korsar, 0);",
"    }",
"    take_reward = 0;",
"    if (StarOwner(StarRev) == 2)",
"    {",
"        for (i = 0;i < StarShips(StarRev);i = i + 1)",
"        {",
"            korsar = StarShips(StarRev, i);",
"            if (ShipTypeN(korsar) == t_Warrior && GetShipPlanet(korsar) == pl2) ShipDestroy(korsar);",
"        }",
"        RelationToRanger(pl1, Player(), RelationToRanger(pl2, Player()));",
"        op_rand = 0;",
"        ar_rand = Rnd(3, 7);",
"        while (op_rand < ar_rand)",
"        {",
"            op_rand = op_rand + 1;",
"            korsar = BuyWarrior(PlanetPirateClan(), Rnd(250, 500));",
"            ShipRefit(korsar);",
"            GiveCoolEq(korsar, t_Engine, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, t_FuelTanks, ShipOwner(korsar), Rnd(20, 40));",
"            GiveCoolEq(korsar, t_DefGenerator, ShipOwner(korsar), Rnd(20, 40));",
"            GiveExtremeEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            GiveCoolEq(korsar, 'Weapon', ShipOwner(korsar), 1);",
"            ArrangeItems(korsar);",
"            ShipImproveItems(korsar, Rnd(10, 20));",
"            rand = Rnd(3, 4);",
"            rev_date = CurTurn();",
"            while (GetShipPirateRank(korsar) < rand)",
"            {",
"                RaisePirateRank(korsar);",
"            }",
"            MakeShipEnterStar(korsar, StarRev, PlanetToStar(PlanetPirateClan()), Rnd(3, 6));",
"        }",
"    }",
"    else",
"    {",
"        RelationToRanger(pl2, Player(), RelationToRanger(pl1, Player()));",
"    }",
"    //if (GroupCount(Insurgents)>0)",
"    //{",
"    //shipz=GroupCount(Insurgents);",
"    //for (cur_war=shipz-1;cur_war>=0;cur_war=cur_war-1)",
"    //{",
"    //ShipOut(GroupShip(Insurgents,cur_war));",
"    //}",
"    //}",
"    //if (GroupCount(Army)>0)",
"    //{",
"    //shipz=GroupCount(Army);",
"    //for (cur_war=shipz-1;cur_war>=0;cur_war=cur_war-1)",
"    //{",
"    //ShipOut(GroupShip(Army,cur_war));",
"    //}",
"    //}",
"    if (GroupCount(Rebels) > 0)",
"    {",
"        shipz = GroupCount(Rebels);",
"        for (cur_war = shipz - 1;cur_war >= 0;cur_war = cur_war - 1)",
"        {",
"            ShipOut(GroupShip(Rebels, cur_war));",
"        }",
"    }",
"    if (GroupCount(SWAT) > 0)",
"    {",
"        shipz = GroupCount(SWAT);",
"        for (cur_war = shipz - 1;cur_war >= 0;cur_war = cur_war - 1)",
"        {",
"            ShipOut(GroupShip(SWAT, cur_war));",
"        }",
"    }",
"    WasRev = WasRev + 1;",
"",
"    rand = Rnd(1, 2);",
"    if (rand == 1 && StarOwner(StarRev) == 2)",
"    {",
"        rand = Rnd(1, 5);",
"        if (rand == 1) stroka = 'Синигр';",
"        if (rand == 2) stroka = 'Ковард';",
"        if (rand == 3) stroka = 'Остап';",
"        if (rand == 4) stroka = 'Волк';",
"        else stroka = 'Молдер';",
"        if (stroka == 'Молдер')",
"        {",
"            it = CreateEquipment(t_Weapon18, 30, 8, PirateClan);",
"            ModuleToEquipment(210, it);",
"            AddItemToShip(korsar, it);",
"        }",
"        stroka = stroka + ' -' + Rnd(1, 100) + '-';",
"        korsar = BuyPirate(pl2, 1000);",
"        SetName(korsar, stroka);",
"        ShipSkill(korsar, 0, Rnd(5, 6));",
"        ShipSkill(korsar, 1, Rnd(5, 6));",
"        ShipSkill(korsar, 2, Rnd(3, 6));",
"        ShipSkill(korsar, 3, Rnd(0, 5));",
"        ShipSkill(korsar, 4, Rnd(0, 6));",
"        ShipSkill(korsar, 5, Rnd(0, 3));",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, 'Weapon', 7, 1);",
"        GiveExtremeEq(korsar, t_Engine, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_FuelTanks, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_DefGenerator, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_CargoHook, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_RepairRobot, 7, Rnd(20, 40));",
"        GiveExtremeEq(korsar, t_Radar, 7, Rnd(15, 30));",
"        GiveExtremeEq(korsar, t_Scaner, 7, Rnd(15, 30));",
"        ShipImproveItems(korsar, 30);",
"        ShipSpecialBonuses(korsar, bonWEnergy, GalaxyTechLevel() * Rnd(3, 5));",
"        ShipSpecialBonuses(korsar, bonWSplinter, GalaxyTechLevel() * Rnd(3, 5));",
"        ShipSpecialBonuses(korsar, bonWMissile, GalaxyTechLevel() * Rnd(3, 5));",
"        AddItemToShip(korsar, CreateQuestItem('Usl_PTQ70', PirateClan));",
"    }",
"}",
"if (CurTurn() <= rev_date + 90 && !r && !take_reward && state_rev == 0) {",
"    if (state_rev == 0 && reb_cnt > 7 && konetz == 1 && StarOwner(StarRev) == 0) {",
"        r = 1;",
"        r_p = Id(pl1);",
"        r_owner = PlanetOwner(IdToPlanet(r_p));",
"        Ether(3, '9B169291-13D5-4F9E-B4C0-69FC148B719B', 'Рейнджер, за оказанную в борьбе с повстанцами помощь вам надлежит прибыть на планету <Name(IdToPlanet(r_p))> за наградой до <GameDateTxtByTurn(rev_date+90)>.');",
"    }",
"    if (state_rev == 0 && wars_cnt > 5 && konetz == 2 && StarOwner(StarRev) == 2) {",
"        r = 2;",
"        r_p = Id(pl2);",
"        r_owner = PlanetOwner(IdToPlanet(r_p));",
"        Ether(3, 'F33282D1-0B91-4126-88ED-8CFFD46BA4EA', 'За помощь в осуществлении переворота в системе <Name(PlanetToStar(IdToPlanet(r_p)))> приглашаем тебя на планету <Name(IdToPlanet(r_p))> за заслуженной наградой, забрать ее можно до <GameDateTxtByTurn(rev_date+90)>.');",
"    }",
"}",
"if (IdToPlanet(r_p) > 0) {",
"    if (CurTurn() >= rev_date + 90 && r && state_rev == 0 || r && PlanetOwner(IdToPlanet(r_p)) != r_owner && state_rev == 0) {",
"        if (r == 1) {",
"            Ether(5, '9B169291-13D5-4F9E-B4C0-69FC148B719B', 'Рейнджер, за оказанную в борьбе с повстанцами помощь вам надлежит прибыть на планету <Name(IdToPlanet(r_p))> за наградой до <GameDateTxtByTurn(rev_date+90)>.');",
"            r = 0;",
"        }",
"        if (r == 2) {",
"            Ether(5, 'F33282D1-0B91-4126-88ED-8CFFD46BA4EA', 'За помощь в осуществлении переворота в системе <Name(PlanetToStar(IdToPlanet(r_p)))> приглашаем тебя на планету <Name(IdToPlanet(r_p))> за заслуженной наградой, забрать ее можно до <GameDateTxtByTurn(rev_date+90)>.');",
"            r = 0;",
"        }",
"    }",
"}",
"if (CurTurn() == rev_date + 95 && state_rev == 0) {",
"    wars_cnt = 0;",
"    reb_cnt = 0;",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          590,
          "Pos.y":          420,
          "Parent":          -1,
          "#":          97,
          "Total.Lines":          29,
          "Code.Type":"DialogBegin",
          "Code":          
          [
"if (GetShipPlanet(Player()) > 0) {",
"    if (state_rev > 0 && ShipInStar(Player(), GalaxyStar(StarRev_num - 1))) {",
"        if (WasRev && GetShipPlanet(Player()) == IdToPlanet(pl1_id) || !WasRev && GetShipPlanet(Player()) == plan1) {",
"            AddDialogOverride('TalkToWars', 10);",
"        }",
"        if (WasRev && GetShipPlanet(Player()) == IdToPlanet(pl2_id) || !WasRev && GetShipPlanet(Player()) == plan2) {",
"            AddDialogOverride('TalkToRebels', 10);",
"        }",
"    }",
"}",
"if (GetShipPlanet(Player()) > 0) {",
"    if (IdToPlanet(r_p) > 0) {",
"        if (GetShipPlanet(Player()) == IdToPlanet(r_p) && r && PlanetOwner(IdToPlanet(r_p)) == r_owner) {",
"            AddDialogOverride('Nagrada', 10);",
"        }",
"    }",
"}",
"if (GetTalkShip()) {",
"    if (!TalkByAI()) {",
"        if (ShipInCurScript(GetTalkShip())) {",
"            if (!ShipOnSidePirateClan(GetTalkShip())) {",
"                AddDialogOverride('dSwat', 15);",
"            }",
"            if (ShipOnSidePirateClan(GetTalkShip())) {",
"                AddDialogOverride('dRebel', 15);",
"            }",
"        }",
"    }",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          320,
          "Pos.y":          1000,
          "Parent":          -1,
          "#":          109,
          "Total.Lines":          6,
          "Code.Type":"Turn",
          "Code":          
          [
"korsar=CurShip;",
"ShipOut(korsar);",
"ShipJoin(Insurgents,korsar);",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          740,
          "Parent":          -1,
          "#":          110,
          "Total.Lines":          6,
          "Code.Type":"Turn",
          "Code":          
          [
"korsar=CurShip;",
"ShipOut(korsar);",
"ShipJoin(Army,korsar);",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          380,
          "Pos.y":          910,
          "Parent":          -1,
          "#":          111,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          750,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          112,
          "Total.Lines":          2,
          "Code.Type":"Turn",
          "Code":          
          [
"NoComeKlingToStar(StarRev,1);",
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          400,
          "Pos.y":          1000,
          "Parent":          -1,
          "#":          113,
          "Total.Lines":          2,
          "Code.Type":"Turn",
          "Code":          
          [
"NoComeKlingToStar(StarRev,1);",
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          420,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          114,
          "Total.Lines":          15,
          "Code.Type":"Turn",
          "Code":          
          [
"dState=0;",
"if(WasRev==0)",
"{",
"    pl1=plan1;",
"    pl2=plan2;",
"    StarRev=RebelStar;",
"    StarRev_num=Id(StarRev);",
"}",
"if(WasRev>0 && state_rev==1)",
"{",
"    pl1=IdToPlanet(pl1_id);",
"    pl2=IdToPlanet(pl2_id);",
"    StarRev=PlanetToStar(pl1);",
"    StarRev_num=Id(RebelStar);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          320,
          "Pos.y":          1070,
          "Parent":          -1,
          "#":          115,
          "Total.Lines":          22,
          "Code.Type":"Turn",
          "Code":          
          [
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));",
"if(GetShipPlanet(CurShip)==pl1) {",
"  OrderNone(CurShip);",
"}",
"if(GroupIn(Insurgents,pl1) && CurTurn()>=rev_date) {",
"  konetz=2;",
"  state_rev=state_rev;",
"}",
"if(ShipInStar(CurShip,StarRev)) {",
"  if(GetShipPlanet(CurShip)<1) {",
"    OrderLanding(CurShip,pl1,1);",
"  }",
"}",
"if(!ShipInStar(CurShip,StarRev)) {",
"  OrderJump(CurShip,StarRev);",
"}",
"if(!ShipInStar(CurShip,StarRev)) {",
"  ShipOut(CurShip);",
"}",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          790,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          116,
          "Total.Lines":          14,
          "Code.Type":"Turn",
          "Code":          
          [
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));",
"if(GroupIn(Army,pl2) && CurTurn()>=rev_date) {",
"  konetz=1;",
"  state_rev=state_rev;",
"}",
"if(GetShipPlanet(CurShip)<1) {",
"  OrderLanding(CurShip,pl2,1);",
"}",
"if(GetShipPlanet(CurShip)==pl2) {",
"  OrderNone(CurShip);",
"}",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          770,
          "Parent":          -1,
          "#":          117,
          "Total.Lines":          16,
          "Code.Type":"Turn",
          "Code":          
          [
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}",
"if(ShipInNormalSpace(CurShip)) {",
"  if(!ShipOnSidePirateClan(CurShip) && GetShipPlanet(CurShip)<1) {",
"    OrderLanding(CurShip,pl1,1);",
"  }",
"  if(ShipOnSidePirateClan(CurShip) && GetShipPlanet(CurShip)<1) {",
"    OrderLanding(CurShip,pl2,1);",
"  }",
"}",
"if(GetShipPlanet(CurShip)>0) {",
"  TransferShip(CurShip,StarPlanets(StarNearbyStars(ShipStar(Player()),20),1));",
"  ShipDestroy(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          800,
          "Parent":          -1,
          "#":          118,
          "Total.Lines":          14,
          "Code.Type":"Turn",
          "Code":          
          [
"if (GetData(1,CurShip)>0 && GetData(1,CurShip)<100000) ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));",
"if(state_rev==0) {",
"  ShipOut(CurShip);",
"}",
"if(HullDamage(CurShip)>50 && ShipInNormalSpace(CurShip)) {",
"  if (CountTurn(CurShip,pl2)>1) OrderForsage(CurShip,1);",
"  else OrderForsage(CurShip,0);",
"  OrderLanding(CurShip,pl2,1);",
"}",
"if(HullDamage(CurShip)<=50) {",
"  korsar=CurShip;",
"  ShipOut(korsar);",
"  ShipJoin(Insurgents,korsar);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1010,
          "Pos.y":          640,
          "Parent":          -1,
          "#":          124,
          "Total.Lines":          2,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(2);",
"SkipGreeting();"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1000,
          "Pos.y":          930,
          "Parent":          -1,
          "#":          125,
          "Total.Lines":          2,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(2);",
"SkipGreeting();"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1010,
          "Pos.y":          1120,
          "Parent":          -1,
          "#":          126,
          "Total.Lines":          9,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(2);",
"SkipGreeting();",
"if (BlockExist('Rebellion'))",
"{",
"if (CT('Rebellion.IsAcryn')=='True') allow=1;",
"else allow=0;",
"}",
"else allow=0;",
"take_reward=1;"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1150,
          "Pos.y":          750,
          "Parent":          -1,
          "#":          183,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"AddItemToShip(Player(),gift);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1110,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          185,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"AddItemToShip(Player(),gift);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1460,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          186,
          "Total.Lines":          32,
          "Code.Type":"Turn",
          "Code":          
          [
"num_money=CountBox('Bm.FormShip2.SortStorageByMoneyA',\"Какую сумму пожертвуете оппозиции?\",1,rev_plan-rev_money,0,1,ShipMoney(Player()));",
"rev_money=rev_money+num_money;",
"ShipMoney(Player(),ShipMoney(Player())-num_money);",
"if (num_money==0) dState=1;",
"if (num_money>0 && rev_money<rev_plan)",
"{",
"Sound('Sound.Buy');",
"dState=2;",
"}",
"if (num_money>0 && rev_money==rev_plan)",
"{",
"Sound('Sound.QuestOk');",
"rand=Rnd(1,7);",
"if (rand==1) gift=CreateArt(t_ArtefactPower,PirateClan);",
"if (rand==2) gift=CreateArt(t_ArtefactAntigrav,PirateClan);",
"if (rand==3) gift=CreateArt(t_ArtefactBomb,PirateClan);",
"if (rand==4) gift=CreateEquipment(t_Weapon17,Rnd(30,60),Rnd(GalaxyTechLevel()-1,GalaxyTechLevel()+1),PirateClan);",
"if (rand==5) gift=CreateEquipment(t_Weapon4,Rnd(20,40),Rnd(GalaxyTechLevel()-2,GalaxyTechLevel()),PirateClan);",
"if (rand==6) mm_name='трофейный';",
"else mm_name='';",
"if (rand==6 && GalaxyTechLevel()<=5) gift=CreateEquipment(t_Weapon10,Rnd(60,115),Rnd(1,GalaxyTechLevel()-1),Kling);",
"if (rand==6 && GalaxyTechLevel()>5) gift=CreateEquipment(t_Weapon10,Rnd(70,130),Rnd(3,GalaxyTechLevel()),Kling);",
"if (rand==7)",
"{",
"if (GalaxyTechLevel()<=4) Zond=0;",
"if (GalaxyTechLevel()>4 && GalaxyTechLevel()<=6) Zond=2;",
"else Zond=4;",
"gift=CreateZond(Zond,PirateClan);",
"}",
"dState=3;",
"ItemDurability(gift,Rnd(40,85));",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1180,
          "Pos.y":          740,
          "Parent":          -1,
          "#":          187,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(0);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1260,
          "Pos.y":          650,
          "Parent":          -1,
          "#":          188,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(0);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1340,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          189,
          "Total.Lines":          10,
          "Code.Type":"Turn",
          "Code":          
          [
"num_money=CountBox('Bm.Items.2Arms',\"Сколько тонн оружия вы готовы обменять на роскошь?\",2,rev_luxury*2,0,2,GoodsCount(Player(),t_Arms));",
"ShipGoods(Player(),t_Arms,-num_money);",
"rev_luxury=rev_luxury-num_money/2;",
"if (num_money==0) dState=1;",
"if (num_money>0)",
"{",
"Sound('Sound.Buy');",
"dState=2;",
"ShipGoods(Player(),t_Luxury,num_money/2);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1360,
          "Pos.y":          860,
          "Parent":          -1,
          "#":          190,
          "Total.Lines":          32,
          "Code.Type":"Turn",
          "Code":          
          [
"num_money=CountBox('Bm.Items.2Arms',\"Сколько оружия вы готовы продать?\",1,arm_plan-has_arm,GoodsBuyPrice(pl1,t_Arms)/3,1,GoodsCount(Player(),t_Arms));",
"ShipGoods(Player(),t_Arms,-num_money);",
"has_arm=has_arm+num_money;",
"zarplata=num_money*(GoodsBuyPrice(pl1,t_Arms)/3);",
"ShipMoney(Player(),ShipMoney(Player())+num_money*(GoodsBuyPrice(pl1,t_Arms)/3));",
"if (num_money==0) dState=1;",
"if (num_money>0 && has_arm<arm_plan)",
"{",
"Sound('Sound.Buy');",
"dState=2;",
"}",
"if (num_money>0 && has_arm==arm_plan)",
"{",
"Sound('Sound.QuestOk');",
"dState=3;",
"rand=Rnd(1,6);",
"if (rand==1) gift=CreateArt(t_ArtDefToArms2,PlanetOwner(pl1));",
"if (rand==2) gift=CreateArt(t_ArtBlackHole,PlanetOwner(pl1));",
"if (rand==3) gift=CreateArt(t_ArtefactHull,PlanetOwner(pl1));",
"if (rand==6 || rand==4) mm_name='трофейный';",
"else mm_name='';",
"if (rand==4 && GalaxyTechLevel()<=5) gift=CreateEquipment(t_RepairRobot,Rnd(20,50),Rnd(GalaxyTechLevel()-1,GalaxyTechLevel()+1),Kling);",
"if (rand==4 && GalaxyTechLevel()>=6) gift=CreateEquipment(t_RepairRobot,Rnd(18,40),Rnd(6,8),Kling);",
"if (rand==5)",
"{",
"gift=CreateEquipment(t_Weapon5,Rnd(15,30),GalaxyTechLevel(),PlanetOwner(pl1));",
"ItemImprovement(gift,Rnd(1,2),1);",
"}",
"if (rand==6 && GalaxyTechLevel()<=5) gift=CreateEquipment(t_Weapon12,Rnd(70,140),Rnd(1,GalaxyTechLevel()-1),Kling);",
"if (rand==6 && GalaxyTechLevel()>5) gift=CreateEquipment(t_Weapon12,Rnd(85,160),Rnd(3,GalaxyTechLevel()),Kling);",
"ItemDurability(gift,Rnd(50,100));",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          970,
          "Parent":          -1,
          "#":          191,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(0);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          192,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GotoGov(0);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1080,
          "Parent":          -1,
          "#":          193,
          "Total.Lines":          5,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipMoney(Player(),ShipMoney(Player())+dummy);",
"Sound('Sound.Buy');",
"r=0;",
"GotoGov(0);",
"Ether(4,'9B169291-13D5-4F9E-B4C0-69FC148B719B','Рейнджер <Player>, за оказанную в борьбе с повстанцами помощь вам надлежит прибыть на планету <Name(IdToPlanet(r_p))> за наградой до <GameDateTxtByTurn(rev_date+90)>.');"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1100,
          "Parent":          -1,
          "#":          194,
          "Total.Lines":          4,
          "Code.Type":"Turn",
          "Code":          
          [
"AddItemToShip(Player(),gift);",
"r=0;",
"GotoGov(0);",
"Ether(4,'9B169291-13D5-4F9E-B4C0-69FC148B719B','Рейнджер <Player>, за оказанную в борьбе с повстанцами помощь вам надлежит прибыть на планету <Name(IdToPlanet(r_p))> за наградой до <GameDateTxtByTurn(rev_date+90)>.');"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1140,
          "Parent":          -1,
          "#":          195,
          "Total.Lines":          4,
          "Code.Type":"Turn",
          "Code":          
          [
"AddItemToShip(Player(),gift);",
"r=0;",
"GotoGov(0);",
"Ether(4,'F33282D1-0B91-4126-88ED-8CFFD46BA4EA','<Player>, за помощь в осуществлении переворота в системе <Name(PlanetToStar(IdToPlanet(r_p)))> приглашаем тебя на планету <Name(IdToPlanet(r_p))> за заслуженной наградой, забрать ее можно до <GameDateTxtByTurn(rev_date+90)>.');"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1160,
          "Parent":          -1,
          "#":          196,
          "Total.Lines":          4,
          "Code.Type":"Turn",
          "Code":          
          [
"AddItemToStorage(IdToPlanet(r_p),dummy);",
"r=0;",
"GotoGov(0);",
"Ether(4,'F33282D1-0B91-4126-88ED-8CFFD46BA4EA','<Player>, за помощь в осуществлении переворота в системе <Name(PlanetToStar(IdToPlanet(r_p)))> приглашаем тебя на планету <Name(IdToPlanet(r_p))> за заслуженной наградой, забрать ее можно до <GameDateTxtByTurn(rev_date+90)>.');"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1360,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          197,
          "Total.Lines":          32,
          "Code.Type":"Turn",
          "Code":          
          [
"num_money=CountBox('Bm.Items.2Arms',\"Сколько оружия вы готовы продать?\",1,arm_plan-has_arm,GoodsBuyPrice(pl1,t_Arms)/3,1,GoodsCount(Player(),t_Arms));",
"ShipGoods(Player(),t_Arms,-num_money);",
"has_arm=has_arm+num_money;",
"zarplata=num_money*(GoodsBuyPrice(pl1,t_Arms)/3);",
"ShipMoney(Player(),ShipMoney(Player())+num_money*(GoodsBuyPrice(pl1,t_Arms)/3));",
"if (num_money==0) dState=1;",
"if (num_money>0 && has_arm<arm_plan)",
"{",
"Sound('Sound.Buy');",
"dState=2;",
"}",
"if (num_money>0 && has_arm==arm_plan)",
"{",
"Sound('Sound.QuestOk');",
"dState=3;",
"rand=Rnd(1,6);",
"if (rand==1) gift=CreateArt(t_ArtDefToArms2,PlanetOwner(pl1));",
"if (rand==2) gift=CreateArt(t_ArtBlackHole,PlanetOwner(pl1));",
"if (rand==3) gift=CreateArt(t_ArtefactHull,PlanetOwner(pl1));",
"if (rand==6 || rand==4) mm_name='трофейный';",
"else mm_name='';",
"if (rand==4 && GalaxyTechLevel()<=5) gift=CreateEquipment(t_RepairRobot,Rnd(20,50),Rnd(GalaxyTechLevel()-1,GalaxyTechLevel()+1),Kling);",
"if (rand==4 && GalaxyTechLevel()>=6) gift=CreateEquipment(t_RepairRobot,Rnd(18,40),Rnd(6,8),Kling);",
"if (rand==5)",
"{",
"gift=CreateEquipment(t_Weapon5,Rnd(15,30),GalaxyTechLevel(),PlanetOwner(pl1));",
"ItemImprovement(gift,Rnd(1,2),1);",
"}",
"if (rand==6 && GalaxyTechLevel()<=5) gift=CreateEquipment(t_Weapon12,Rnd(70,140),Rnd(1,GalaxyTechLevel()-1),Kling);",
"if (rand==6 && GalaxyTechLevel()>5) gift=CreateEquipment(t_Weapon12,Rnd(85,160),Rnd(3,GalaxyTechLevel()),Kling);",
"ItemDurability(gift,Rnd(50,100));",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          420,
          "Pos.y":          910,
          "Parent":          -1,
          "#":          200,
          "Total.Lines":          45,
          "Code.Type":"Turn",
          "Code":          
          [
"if(ShipOrder(CurShip)==2 && ShipOrderObj(CurShip)!=pl2) {",
"  ShipOrderObj(CurShip,pl2);",
"}",
"if(GroupCount(Insurgents)>24 && CurTurn()>=attack_date+15) {",
"  korsar=CurShip;",
"  ShipOut(korsar);",
"  ShipJoin(Beg,korsar);",
"}",
"if(ShipOrder(CurShip)==3 && !Hit(CurShip,0) && ShipInNormalSpace(CurShip) || ShipOrder(CurShip)==3 && Hit(CurShip,0) && !ShipInNormalSpace(Player())) {",
"  enemy=GroupShip(Army,Rnd(0,GroupCount(Army)-1));",
"  ShipSetBad(CurShip,enemy);",
"  OrderFollowShip(CurShip,enemy,1,0);",
"}",
"if(GroupCount(Insurgents)>15 && CurTurn()>=attack_date+12 && GroupCount(Army)<5) {",
"  korsar=CurShip;",
"  ShipOut(korsar);",
"  ShipJoin(Beg,korsar);",
"}",
"if(HullDamage(CurShip)>80 && ShipInNormalSpace(CurShip)) {",
"  korsar=CurShip;",
"  ShipOut(korsar);",
"  ShipJoin(BegN,korsar);",
"}",
"if(GetShipPlanet(CurShip)==pl2) {",
"  if (GroupCount(Army)>=GroupCount(Insurgents)*0.65) rand=666;",
"  else if (GroupCount(Army)>=GroupCount(Insurgents)*0.5) rand=Rnd(1,24);",
"  else if (GroupCount(Army)>=GroupCount(Insurgents)*0.4) rand=Rnd(1,18);",
"  else if (GroupCount(Army)>=GroupCount(Insurgents)*0.25) rand=Rnd(1,13);",
"  else rand=Rnd(1,8);",
"  if (rand==1)",
"  {",
"  TransferShip(CurShip,StarPlanets(StarNearbyStars(ShipStar(Player()),20),1));",
"  ShipDestroy(CurShip);",
"  }",
"}",
"if(GetShipPlanet(CurShip)!=pl2 && GetShipPlanet(CurShip)>0) {",
"  TransferShip(CurShip,StarPlanets(StarNearbyStars(ShipStar(Player()),20),1));",
"  ShipDestroy(CurShip);",
"}",
"if(Hit(CurShip,0) && HullDamage(CurShip)<=80 && ShipInNormalSpace(CurShip) && ShipInNormalSpace(Player()) || ShipOrder(CurShip)==3 && Hit(CurShip,0) && ShipInNormalSpace(CurShip) && ShipInNormalSpace(Player())) {",
"  enemy=Player();",
"  RelationToRanger(CurShip,Player(),0);",
"  ShipSetBad(CurShip,enemy);",
"  OrderFollowShip(CurShip,enemy,1,0);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          440,
          "Pos.y":          910,
          "Parent":          -1,
          "#":          203,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOut(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          460,
          "Pos.y":          910,
          "Parent":          -1,
          "#":          204,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOut(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          213,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ItemSize(ShipItems(CurShip,0),GetData(1,CurShip));"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          640,
          "Parent":          -1,
          "#":          214,
          "Total.Lines":          3,
          "Code.Type":"Turn",
          "Code":          
          [
"korsar=CurShip;",
"ShipOut(korsar);",
"ShipJoin(Beg,korsar);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          215,
          "Total.Lines":          8,
          "Code.Type":"Turn",
          "Code":          
          [
"if (GroupCount(Army)>=GroupCount(Insurgents)*3) rand=Rnd(1,8);",
"else if (GroupCount(Army)>=GroupCount(Insurgents)*2) rand=Rnd(1,18);",
"else rand=666;",
"if (rand==1)",
"{",
"TransferShip(CurShip,StarPlanets(StarNearbyStars(ShipStar(Player()),20),1));",
"ShipDestroy(CurShip);",
"}"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          216,
          "Total.Lines":          2,
          "Code.Type":"Turn",
          "Code":          
          [
"TransferShip(CurShip,StarPlanets(StarNearbyStars(ShipStar(Player()),20),1));",
"ShipDestroy(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          217,
          "Total.Lines":          3,
          "Code.Type":"Turn",
          "Code":          
          [
"korsar=CurShip;",
"ShipOut(korsar);",
"ShipJoin(Beg,korsar);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          660,
          "Pos.y":          720,
          "Parent":          -1,
          "#":          218,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOut(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          790,
          "Pos.y":          650,
          "Parent":          -1,
          "#":          221,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOut(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          400,
          "Pos.y":          1070,
          "Parent":          -1,
          "#":          225,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOut(CurShip);"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          1250,
          "Parent":          -1,
          "#":          265,
          "Total.Lines":          6,
          "Code.Type":"Turn",
          "Code":          
          [
"if (RelationToRanger(GetTalkShip(),Player())<12) dState=1;",
"else if (RelationToRanger(GetTalkShip(),Player())<26) dState=2;",
"else if (RelationToRanger(GetTalkShip(),Player())<72) dState=3;",
"else if (RelationToRanger(GetTalkShip(),Player())<88) dState=4;",
"else dState=5;",
"if (ShipGetBad(GetTalkShip())==Player()) dState=6;"          
          ]        
        },
        {
          "Type":"Top",
          "Name":"",
          "Pos.x":          1090,
          "Pos.y":          1420,
          "Parent":          -1,
          "#":          275,
          "Total.Lines":          6,
          "Code.Type":"Turn",
          "Code":          
          [
"if (RelationToRanger(GetTalkShip(),Player())<12) dState=1;",
"else if (RelationToRanger(GetTalkShip(),Player())<26) dState=2;",
"else if (RelationToRanger(GetTalkShip(),Player())<72) dState=3;",
"else if (RelationToRanger(GetTalkShip(),Player())<88) dState=4;",
"else dState=5;",
"if (ShipGetBad(GetTalkShip())==Player()) dState=6;"          
          ]        
        }      
      ],
      "Planets":      
      [
        {
          "Type":"TPlanet",
          "Name":"InitPlanet",
          "Pos.x":          420,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          82,
          "Race":          62,
          "Owner":          62,
          "Economy":          14,
          "Goverment":          62,
          "RangeMin":          0,
          "RangeMax":          100,
          "Dialog":          -1        
        },
        {
          "Type":"TPlanet",
          "Name":"plan1",
          "Pos.x":          420,
          "Pos.y":          760,
          "Parent":          -1,
          "#":          84,
          "Race":          62,
          "Owner":          63,
          "Economy":          14,
          "Goverment":          62,
          "RangeMin":          0,
          "RangeMax":          100,
          "Dialog":          -1        
        },
        {
          "Type":"TPlanet",
          "Name":"plan2",
          "Pos.x":          320,
          "Pos.y":          820,
          "Parent":          -1,
          "#":          85,
          "Race":          62,
          "Owner":          63,
          "Economy":          14,
          "Goverment":          62,
          "RangeMin":          0,
          "RangeMax":          100,
          "Dialog":          -1        
        }      
      ],
      "Ships":      
      [
        {
          "Type":"TStarShip",
          "Name":"",
          "Pos.x":          320,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          86,
          "Count":          1,
          "Owner":          62,
          "Ship.Type":          126,
          "Player":true,
          "SpeedMin":          0,
          "SpeedMax":          10000,
          "Weapon":          0,
          "CargoHook":          0,
          "EmptySpace":          0,
          "StatusTraderMin":          0,
          "StatusTraderMax":          100,
          "StatusWarriorMin":          0,
          "StatusWarriorMax":          100,
          "StatusPirateMin":          0,
          "StatusPirateMax":          100,
          "StrengthMin":"0",
          "StrengthMax":"0",
          "Ruins":""        
        }      
      ],
      "Stars":      
      [
        {
          "Type":"TStar",
          "Name":"PlayerStar",
          "Pos.x":          320,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          81,
          "Constellation":          0,
          "Priority":          0,
          "NoKling":false,
          "NoComeKling":false        
        },
        {
          "Type":"TStar",
          "Name":"RebelStar",
          "Pos.x":          320,
          "Pos.y":          760,
          "Parent":          -1,
          "#":          83,
          "Constellation":          0,
          "Priority":          1,
          "NoKling":false,
          "NoComeKling":false        
        }      
      ],
      "Statements":      
      [
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1310,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          184,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GoodsCount(Player(),t_Arms)>1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          400,
          "Pos.y":          890,
          "Parent":          -1,
          "#":          198,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==2 && CurTurn()>=rev_date"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          420,
          "Pos.y":          890,
          "Parent":          -1,
          "#":          199,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev<2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          440,
          "Pos.y":          890,
          "Parent":          -1,
          "#":          201,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipInStar(CurShip,StarRev)"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          460,
          "Pos.y":          890,
          "Parent":          -1,
          "#":          202,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          380,
          "Pos.y":          890,
          "Parent":          -1,
          "#":          205,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GetData(1,CurShip)>0 && GetData(1,CurShip)<100000"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          206,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GetData(1,CurShip)>0 && GetData(1,CurShip)<100000"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          640,
          "Parent":          -1,
          "#":          207,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev<2 && GroupCount(Army)>18 && CurTurn()>=attack_date+12"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          208,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GetShipPlanet(CurShip)==pl1 && state_rev<2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          680,
          "Parent":          -1,
          "#":          209,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GetShipPlanet(CurShip)==pl2 && state_rev<2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          210,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev<2 && GroupCount(Army)>12 && CurTurn()>=attack_date+12 && GroupCount(Insurgents)<6"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          720,
          "Parent":          -1,
          "#":          211,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          630,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          212,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==2 && CurTurn()>=rev_date"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          770,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          219,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!GroupCount(Insurgents)"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          770,
          "Pos.y":          650,
          "Parent":          -1,
          "#":          220,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          380,
          "Pos.y":          1040,
          "Parent":          -1,
          "#":          222,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!GroupCount(Army)"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          400,
          "Pos.y":          1040,
          "Parent":          -1,
          "#":          223,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipInStar(CurShip,StarRev)"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          420,
          "Pos.y":          1040,
          "Parent":          -1,
          "#":          224,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"state_rev==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          226,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          710,
          "Parent":          -1,
          "#":          227,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          730,
          "Parent":          -1,
          "#":          228,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          750,
          "Parent":          -1,
          "#":          229,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          570,
          "Parent":          -1,
          "#":          230,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"rev_money==rev_plan || CurTurn()>=rev_date"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          590,
          "Parent":          -1,
          "#":          231,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"rev_money<rev_plan && CurTurn()<rev_date"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          610,
          "Parent":          -1,
          "#":          232,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"rev_luxury>0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1210,
          "Pos.y":          630,
          "Parent":          -1,
          "#":          233,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!rev_luxury"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1380,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          234,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          550,
          "Parent":          -1,
          "#":          235,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1340,
          "Pos.y":          550,
          "Parent":          -1,
          "#":          236,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          237,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1370,
          "Pos.y":          700,
          "Parent":          -1,
          "#":          238,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1440,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          239,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1460,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          240,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1480,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          241,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1460,
          "Pos.y":          730,
          "Parent":          -1,
          "#":          242,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1480,
          "Pos.y":          750,
          "Parent":          -1,
          "#":          243,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1440,
          "Pos.y":          710,
          "Parent":          -1,
          "#":          244,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          245,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==0"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          950,
          "Parent":          -1,
          "#":          246,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          970,
          "Parent":          -1,
          "#":          247,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          248,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          880,
          "Parent":          -1,
          "#":          249,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"has_arm<arm_plan"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          250,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"has_arm==arm_plan"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1290,
          "Pos.y":          860,
          "Parent":          -1,
          "#":          251,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GoodsCount(Player(),t_Arms)>1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1290,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          252,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"GoodsCount(Player(),t_Arms)<=1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1290,
          "Pos.y":          840,
          "Parent":          -1,
          "#":          253,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1070,
          "Pos.y":          840,
          "Parent":          -1,
          "#":          254,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1420,
          "Pos.y":          860,
          "Parent":          -1,
          "#":          255,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1420,
          "Pos.y":          880,
          "Parent":          -1,
          "#":          256,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1420,
          "Pos.y":          900,
          "Parent":          -1,
          "#":          257,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1450,
          "Pos.y":          950,
          "Parent":          -1,
          "#":          258,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1430,
          "Pos.y":          990,
          "Parent":          -1,
          "#":          259,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1440,
          "Pos.y":          970,
          "Parent":          -1,
          "#":          260,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          1090,
          "Parent":          -1,
          "#":          261,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"r==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          1150,
          "Parent":          -1,
          "#":          262,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"r==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1040,
          "Pos.y":          1250,
          "Parent":          -1,
          "#":          263,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipOnSidePirateClan(GetTalkShip())"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1010,
          "Pos.y":          1360,
          "Parent":          -1,
          "#":          264,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOnSidePirateClan(GetTalkShip())"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1200,
          "Parent":          -1,
          "#":          266,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1220,
          "Parent":          -1,
          "#":          267,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1240,
          "Parent":          -1,
          "#":          268,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1260,
          "Parent":          -1,
          "#":          269,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==4"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1280,
          "Parent":          -1,
          "#":          270,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==5"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1100,
          "Pos.y":          1300,
          "Parent":          -1,
          "#":          271,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==6"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1050,
          "Pos.y":          1360,
          "Parent":          -1,
          "#":          272,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipOnSidePirateClan(Player()) && ShipGetBad(GetTalkShip())==Player()"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1050,
          "Pos.y":          1420,
          "Parent":          -1,
          "#":          273,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"ShipOnSidePirateClan(Player())"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1010,
          "Pos.y":          1480,
          "Parent":          -1,
          "#":          274,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipOnSidePirateClan(Player()) && ShipGetBad(GetTalkShip())!=Player() "          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1380,
          "Parent":          -1,
          "#":          276,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==1"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1400,
          "Parent":          -1,
          "#":          277,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==2"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1420,
          "Parent":          -1,
          "#":          278,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==3"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1440,
          "Parent":          -1,
          "#":          279,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==4"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1460,
          "Parent":          -1,
          "#":          280,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==5"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1120,
          "Pos.y":          1480,
          "Parent":          -1,
          "#":          281,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"dState==6"          
          ]        
        },
        {
          "Type":"Tif",
          "Name":"",
          "Pos.x":          1160,
          "Pos.y":          1330,
          "Parent":          -1,
          "#":          282,
          "Total.Lines":          1,
          "Code.Type":"Turn",
          "Code":          
          [
"!ShipOnSidePirateClan(Player()) && ShipGetBad(GetTalkShip())==Player()"          
          ]        
        }      
      ],
      "States":      
      [
        {
          "Type":"TState",
          "Name":"Vosst",
          "Pos.x":          320,
          "Pos.y":          940,
          "Parent":          -1,
          "#":          98,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          1,
          "Attack.Items":          
          [
            {
              "Target.0":              88            
            }          
          ],
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"Podav",
          "Pos.x":          570,
          "Pos.y":          740,
          "Parent":          -1,
          "#":          99,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          1,
          "Attack.Items":          
          [
            {
              "Target.0":              87            
            }          
          ],
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"StateFree",
          "Pos.x":          570,
          "Pos.y":          660,
          "Parent":          -1,
          "#":          100,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"FreeToo",
          "Pos.x":          380,
          "Pos.y":          860,
          "Parent":          -1,
          "#":          101,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"KillInsurgents",
          "Pos.x":          660,
          "Pos.y":          620,
          "Parent":          -1,
          "#":          102,
          "Move":          2,
          "MoveObj":          89,
          "Attack.Count":          1,
          "Attack.Items":          
          [
            {
              "Target.0":              89            
            }          
          ],
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"KillArmy",
          "Pos.x":          400,
          "Pos.y":          940,
          "Parent":          -1,
          "#":          103,
          "Move":          2,
          "MoveObj":          90,
          "Attack.Count":          1,
          "Attack.Items":          
          [
            {
              "Target.0":              90            
            }          
          ],
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"PlayerState",
          "Pos.x":          420,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          104,
          "Move":          0,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"StateNe",
          "Pos.x":          320,
          "Pos.y":          1040,
          "Parent":          -1,
          "#":          105,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"Daaa",
          "Pos.x":          790,
          "Pos.y":          600,
          "Parent":          -1,
          "#":          106,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"ulet",
          "Pos.x":          570,
          "Pos.y":          770,
          "Parent":          -1,
          "#":          107,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        },
        {
          "Type":"TState",
          "Name":"uletN",
          "Pos.x":          570,
          "Pos.y":          800,
          "Parent":          -1,
          "#":          108,
          "Move":          5,
          "MoveObj":          -1,
          "Attack.Count":          0,
          "TakeItem":          -1,
          "TakeAllItem":false,
          "OnTalk":"",
          "OnActCode":"",
          "EType":          1,
          "EUnique":"",
          "EMsg":""        
        }      
      ],
      "Variables":      
      [
        {
          "Type":"TVar",
          "Name":"rev_date",
          "Pos.x":          310,
          "Pos.y":          270,
          "Parent":          -1,
          "#":          0,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"state_rev",
          "Pos.x":          310,
          "Pos.y":          290,
          "Parent":          -1,
          "#":          1,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"ThisGlobalVarHa",
          "Pos.x":          310,
          "Pos.y":          310,
          "Parent":          -1,
          "#":          2,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"uslovie",
          "Pos.x":          310,
          "Pos.y":          330,
          "Parent":          -1,
          "#":          3,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"WasRev",
          "Pos.x":          310,
          "Pos.y":          350,
          "Parent":          -1,
          "#":          4,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"girs",
          "Pos.x":          310,
          "Pos.y":          370,
          "Parent":          -1,
          "#":          5,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"rev_param",
          "Pos.x":          310,
          "Pos.y":          390,
          "Parent":          -1,
          "#":          6,
          "Var.Type":"Dword",
          "Init":"",
          "Global":true        
        },
        {
          "Type":"TVar",
          "Name":"attack_date",
          "Pos.x":          280,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          8,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"korsar",
          "Pos.x":          370,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          9,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"cur_war",
          "Pos.x":          430,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          10,
          "Var.Type":"Int",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"shipz",
          "Pos.x":          500,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          11,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"rand",
          "Pos.x":          570,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          12,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"dummy",
          "Pos.x":          630,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          13,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"path",
          "Pos.x":          700,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          14,
          "Var.Type":"Str",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"power",
          "Pos.x":          770,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          15,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"rev_plan",
          "Pos.x":          840,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          16,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"rev_money",
          "Pos.x":          920,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          17,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"arm_plan",
          "Pos.x":          1000,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          18,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"has_arm",
          "Pos.x":          1070,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          19,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"num_money",
          "Pos.x":          1140,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          20,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"dState",
          "Pos.x":          1200,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          21,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"gift",
          "Pos.x":          1270,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          22,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"rev_luxury",
          "Pos.x":          1340,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          23,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"mm_name",
          "Pos.x":          1400,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          24,
          "Var.Type":"Str",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"zarplata",
          "Pos.x":          1460,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          25,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"g_rand",
          "Pos.x":          1530,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          26,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"konetz",
          "Pos.x":          1590,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          27,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"bon_damage",
          "Pos.x":          1660,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          28,
          "Var.Type":"Float",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"enemy",
          "Pos.x":          1730,
          "Pos.y":          470,
          "Parent":          -1,
          "#":          29,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"op_rand",
          "Pos.x":          310,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          30,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"ar_rand",
          "Pos.x":          380,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          31,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"kon",
          "Pos.x":          440,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          32,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl1",
          "Pos.x":          500,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          33,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl2",
          "Pos.x":          570,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          34,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl1_id",
          "Pos.x":          630,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          35,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"StarRev",
          "Pos.x":          700,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          36,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl2_id",
          "Pos.x":          770,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          37,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"try_find",
          "Pos.x":          840,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          38,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"arm_ord",
          "Pos.x":          920,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          39,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"ins_ord",
          "Pos.x":          1000,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          40,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"eq_coef",
          "Pos.x":          1070,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          41,
          "Var.Type":"Float",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"min_val",
          "Pos.x":          1140,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          42,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"max_val",
          "Pos.x":          1200,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          43,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"min_pir",
          "Pos.x":          1270,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          44,
          "Var.Type":"Int",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"max_pir",
          "Pos.x":          1340,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          45,
          "Var.Type":"Int",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"WasRebels",
          "Pos.x":          1400,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          46,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"killed_rebs",
          "Pos.x":          1460,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          47,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"WasBoss",
          "Pos.x":          1530,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          48,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"flag_gun",
          "Pos.x":          1590,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          49,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"one_gun",
          "Pos.x":          1660,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          50,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"difference",
          "Pos.x":          1730,
          "Pos.y":          490,
          "Parent":          -1,
          "#":          51,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"agr",
          "Pos.x":          310,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          52,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"RebPatch",
          "Pos.x":          380,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          53,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"shkura",
          "Pos.x":          440,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          54,
          "Var.Type":"Str",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"wars_cnt",
          "Pos.x":          500,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          55,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"reb_cnt",
          "Pos.x":          570,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          56,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"EventsNum",
          "Pos.x":          700,
          "Pos.y":          450,
          "Parent":          -1,
          "#":          57,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"num_event",
          "Pos.x":          700,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          58,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"Zond",
          "Pos.x":          770,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          59,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"stroka",
          "Pos.x":          840,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          60,
          "Var.Type":"Str",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"r",
          "Pos.x":          920,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          61,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"r_p",
          "Pos.x":          1000,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          62,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"allow",
          "Pos.x":          1070,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          63,
          "Var.Type":"Dword",
          "Init":"666",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"rewardz",
          "Pos.x":          1140,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          64,
          "Var.Type":"Unknown",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"r_owner",
          "Pos.x":          1200,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          65,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"take_reward",
          "Pos.x":          1270,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          66,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"vizov_var",
          "Pos.x":          1340,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          67,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"give_eq_item_var",
          "Pos.x":          1430,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          68,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"sh",
          "Pos.x":          1520,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          69,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"i",
          "Pos.x":          1570,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          70,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl1_t",
          "Pos.x":          1610,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          71,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"pl2_t",
          "Pos.x":          1670,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          72,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"it",
          "Pos.x":          1740,
          "Pos.y":          510,
          "Parent":          -1,
          "#":          73,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"ruin_allow",
          "Pos.x":          280,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          74,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"WasModify",
          "Pos.x":          380,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          75,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"StarRev_num",
          "Pos.x":          470,
          "Pos.y":          540,
          "Parent":          -1,
          "#":          76,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"s",
          "Pos.x":          750,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          77,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"win_cnt",
          "Pos.x":          570,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          78,
          "Var.Type":"Dword",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"irl",
          "Pos.x":          630,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          79,
          "Var.Type":"Int",
          "Init":"",
          "Global":false        
        },
        {
          "Type":"TVar",
          "Name":"n",
          "Pos.x":          700,
          "Pos.y":          530,
          "Parent":          -1,
          "#":          80,
          "Var.Type":"Int",
          "Init":"",
          "Global":false        
        }      
      ]    
    }  
  ],
  "Visual.Links":  
  [
    {
      "Type":"TGraphLink",
      "Begin":      82,
      "End":      81,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      86,
      "End":      81,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TStarLink",
      "Begin":      83,
      "End":      81,
      "Nom":      0,
      "Arrow":false,
      "DistMin":      0,
      "DistMax":      149,
      "Hole":false    
    },
    {
      "Type":"TGraphLink",
      "Begin":      84,
      "End":      83,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      85,
      "End":      83,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      87,
      "End":      85,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      88,
      "End":      84,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      89,
      "End":      85,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      90,
      "End":      84,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      91,
      "End":      82,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      92,
      "End":      84,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      93,
      "End":      84,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      87,
      "End":      98,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      88,
      "End":      99,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      89,
      "End":      101,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      90,
      "End":      100,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      91,
      "End":      104,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      92,
      "End":      107,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      93,
      "End":      108,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      98,
      "End":      109,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      99,
      "End":      110,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      102,
      "End":      112,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      103,
      "End":      113,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      104,
      "End":      114,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      105,
      "End":      115,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      106,
      "End":      116,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      107,
      "End":      117,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      108,
      "End":      118,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      119,
      "End":      124,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      120,
      "End":      125,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      121,
      "End":      126,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      182,
      "End":      129,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      180,
      "End":      135,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      129,
      "End":      160,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      129,
      "End":      163,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      130,
      "End":      161,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      130,
      "End":      162,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      131,
      "End":      161,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      131,
      "End":      162,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      132,
      "End":      183,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      183,
      "End":      161,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      183,
      "End":      162,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      133,
      "End":      184,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      184,
      "End":      165,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      133,
      "End":      166,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      134,
      "End":      167,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      136,
      "End":      170,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      137,
      "End":      170,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      138,
      "End":      185,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      185,
      "End":      171,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      139,
      "End":      173,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      139,
      "End":      174,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      140,
      "End":      175,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      141,
      "End":      175,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      142,
      "End":      176,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      142,
      "End":      177,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      143,
      "End":      175,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      144,
      "End":      175,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      145,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      146,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      147,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      148,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      149,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      150,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      151,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      152,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      153,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      154,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      155,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      156,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      157,
      "End":      178,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      158,
      "End":      129,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      159,
      "End":      133,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      160,
      "End":      186,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      161,
      "End":      187,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      162,
      "End":      127,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      164,
      "End":      188,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      165,
      "End":      189,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      167,
      "End":      127,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      169,
      "End":      190,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      173,
      "End":      193,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      174,
      "End":      194,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      176,
      "End":      195,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      177,
      "End":      196,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      179,
      "End":      197,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      171,
      "End":      192,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      170,
      "End":      191,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      168,
      "End":      135,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      181,
      "End":      133,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      101,
      "End":      198,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      198,
      "End":      103,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      101,
      "End":      199,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      199,
      "End":      200,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      101,
      "End":      201,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      201,
      "End":      203,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      101,
      "End":      202,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      202,
      "End":      204,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      101,
      "End":      205,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      205,
      "End":      111,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      206,
      "End":      213,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      212,
      "End":      102,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      207,
      "End":      214,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      208,
      "End":      215,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      209,
      "End":      216,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      210,
      "End":      217,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      211,
      "End":      218,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      206,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      212,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      207,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      208,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      209,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      210,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      100,
      "End":      211,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      112,
      "End":      219,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      112,
      "End":      220,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      220,
      "End":      221,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      219,
      "End":      106,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      223,
      "End":      225,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      224,
      "End":      225,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      113,
      "End":      222,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      113,
      "End":      223,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      113,
      "End":      224,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      222,
      "End":      105,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      226,
      "End":      127,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      227,
      "End":      130,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      228,
      "End":      131,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      229,
      "End":      132,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      124,
      "End":      226,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      124,
      "End":      227,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      124,
      "End":      228,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      124,
      "End":      229,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      230,
      "End":      182,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      231,
      "End":      158,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      232,
      "End":      159,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      233,
      "End":      181,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      127,
      "End":      230,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      127,
      "End":      231,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      127,
      "End":      232,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      127,
      "End":      233,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      127,
      "End":      164,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      163,
      "End":      234,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      235,
      "End":      127,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      166,
      "End":      236,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      236,
      "End":      235,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      234,
      "End":      237,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      237,
      "End":      130,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      238,
      "End":      236,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      189,
      "End":      238,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      189,
      "End":      134,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      240,
      "End":      242,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      242,
      "End":      131,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      241,
      "End":      243,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      243,
      "End":      132,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      239,
      "End":      244,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      244,
      "End":      130,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      186,
      "End":      239,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      186,
      "End":      240,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      186,
      "End":      241,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      245,
      "End":      128,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      246,
      "End":      136,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      247,
      "End":      137,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      248,
      "End":      138,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      125,
      "End":      245,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      125,
      "End":      246,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      125,
      "End":      247,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      125,
      "End":      248,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      249,
      "End":      168,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      250,
      "End":      180,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      128,
      "End":      249,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      128,
      "End":      250,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      128,
      "End":      170,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      135,
      "End":      251,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      135,
      "End":      252,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      172,
      "End":      253,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      253,
      "End":      254,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      254,
      "End":      128,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      251,
      "End":      169,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      252,
      "End":      179,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      135,
      "End":      172,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      190,
      "End":      255,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      190,
      "End":      256,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      190,
      "End":      257,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      255,
      "End":      258,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      258,
      "End":      136,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      256,
      "End":      259,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      259,
      "End":      138,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      257,
      "End":      260,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      260,
      "End":      137,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      197,
      "End":      255,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      197,
      "End":      256,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      197,
      "End":      257,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      126,
      "End":      261,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      126,
      "End":      262,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      261,
      "End":      139,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      262,
      "End":      142,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      193,
      "End":      141,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      194,
      "End":      140,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      195,
      "End":      144,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      196,
      "End":      143,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      263,
      "End":      265,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      266,
      "End":      151,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      267,
      "End":      152,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      268,
      "End":      153,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      269,
      "End":      154,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      270,
      "End":      155,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      271,
      "End":      156,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      266,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      267,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      268,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      269,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      270,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      265,
      "End":      271,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      264,
      "End":      272,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      264,
      "End":      273,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      272,
      "End":      150,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      273,
      "End":      275,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      276,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      277,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      278,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      279,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      280,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      275,
      "End":      281,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      276,
      "End":      145,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      277,
      "End":      146,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      278,
      "End":      147,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      279,
      "End":      148,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      280,
      "End":      149,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      281,
      "End":      157,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      274,
      "End":      145,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      122,
      "End":      263,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      122,
      "End":      264,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      123,
      "End":      282,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      282,
      "End":      150,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      264,
      "End":      274,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      123,
      "End":      273,
      "Nom":      0,
      "Arrow":true    
    },
    {
      "Type":"TGraphLink",
      "Begin":      123,
      "End":      274,
      "Nom":      0,
      "Arrow":true    
    }  
  ],
  "BlockPar.EC.Total.Strings":  62,
  "BlockPar.EC":  
  [
    {
      "#":"12",
      "String":"Приветствую тебя, брат <Player>! Рад твоему визиту. Сожалеем, но в связи с беспорядками на планете местные достопримечательности сейчас закрыты.<br>Впрочем, уверяю тебя, в скором времени мы подарим народу свободу, которую он заслуживает.<br>Какова цель твоего прилета?"    
    },
    {
      "#":"13",
      "String":"Приветствую вас, рейнджер <Player>! К несчастью, сейчас наша экономика полностью переведена на военный лад, а потому магазин оборудования, торговый и информационный центры не должны открыться раньше, чем кончатся эти беспорядки. Приносим извинения за неудобства.<br>Что вы хотели?"    
    },
    {
      "#":"14",
      "String":"6=Похвальный порыв, брат! Деньги и правда пригодятся нам, чтобы убедить население планеты <0> в том, что мы несем свободу от оков тиранической власти Коалиции.<br>Мы поставили себе план в <1> cr. Чем большую часть этого плана мы соберем - тем лучше. На данный момент у нас есть <2> cr, осталось <3> cr.<br>Сколько же готов пожертвовать ты?"    
    },
    {
      "#":"15",
      "String":"Нет так нет. Попросить охрану провести тебя до ангара?"    
    },
    {
      "#":"16",
      "String":"Благодарим за пожертвование, брат. Все деньги пойдут на оглашение правды сомневающемуся народу.<br>Попросить охрану провести тебя до корабля?"    
    },
    {
      "#":"17",
      "String":"Огромное спасибо за такой дар, <Player>! Благодаря тебе мы, наконец, собрали полную сумму. В честь этого события мы отдаем тебе <0> <1>.<br>Попросить охрану провести тебя до корабля?"    
    },
    {
      "#":"18",
      "String":"Планетарный торговый центр сейчас закрыт, но, тем не менее, мы позарез нуждаемся в оружии, а в процессе свержения местной власти мы как раз получили множество предметов роскоши, в связи с чем нами было решено менять роскошь на вооружение. <br>Курс - <clr>одна тонна роскоши к двум тоннам оружия.<clrEnd> Под этот бартер у нас имеется <0> тонн роскоши.<br>Ну как, заинтересован?"    
    },
    {
      "#":"19",
      "String":"Отлично, <Player>. Ты обменял <0> тонн оружия на <1> тонн роскоши. На складе осталось <2> тонн предметов роскоши.<br>Приятного тебе дня, брат."    
    },
    {
      "#":"20",
      "String":"Хоть все сейчас и закрыто, нам совсем не помешало бы вооружение. Тем не менее, наш бюджет не позволяет тратить на закупку большие деньги, поэтому за каждую тонну оружия мы платим всего лишь <0> cr. - чтобы хоть как-то компенсировать убытки. Расценивайте это не как торговую сделку, а как пожертвование ради мира в Галактике.<br>У нас в планах набрать <1> тонн вооружения для крупной битвы. На данный момент произведено и получено от независимых спонсоров в общей сложности <2> тонн.<br>У вас есть оружие для передачи нам?"    
    },
    {
      "#":"21",
      "String":"Очень жаль, что вы передумали. Залетайте, если вдруг наполнитесь желанием помочь нам."    
    },
    {
      "#":"22",
      "String":"Огромное спасибо вам, рейнджер. Теперь до выполнения плана осталось <0> тонн оружия. Всего хорошего."    
    },
    {
      "#":"23",
      "String":"Рейнджер, вы внесли решаюший вклад в пополнение наших оружейных складов, и именно благодаря вам <clr>весь план выполнен!<clrEnd> За то, что откликнулись на зов сердца и помогли, позвольте вручить вам <0> <1>! Спасибо!"    
    },
    {
      "#":"24",
      "String":"Доброго дня вам, <Player>! Вижу, вы прилетели за наградой. Позвольте вручить вам <clr>Орден достоинства<clrEnd> за проявленную доблесть, дабы мотивировать вас на дальнейшее совершение подвигов!<br>Разумеется, один орден не сможет в полной мере вознаградить вас за оказанную помощь. Сейчас сверимся со статистикой...<br>Так, во время мятежа вами было уничтожено <0> кораблей повстанцев. Сейчас мы все еще восстанавливаемся после битв, но, тем не менее, можем предложить вам одну из двух наград на выбор: денежное вознаграждение в размере <1> cr. или <2> со следующими характеристиками:<br><3><br><br>Ну как, что выбираете?"    
    },
    {
      "#":"25",
      "String":"Микромодуль доставлен на ваш корабль. Всего хорошего!"    
    },
    {
      "#":"26",
      "String":"Деньги уже переведены на ваш счет, рейнджер. Всего хорошего!"    
    },
    {
      "#":"27",
      "String":"Ба, это ты, <Player>! Ну заходи, заходи... По какому вопросу заявился?<br>А, так тебе награду забрать надо, за помощь оппозиции. Да, есть такое дело, мы у тебя <0> убитых насчитали. Перво-наперво, позволь вручить тебе <clr>Орден Клана<clrEnd>, сейчас еще гляну, что у нас на складах осталось...<br>...<br>Итак, помимо ордена мы можем отдать тебе <1> в отличном состоянии или же <2> размером <3>, оставшийся после битвы. Выбор за тобой.<br>"    
    },
    {
      "#":"28",
      "String":"Отличный выбор, брат! Найдешь свой новенький корпус на складе."    
    },
    {
      "#":"29",
      "String":"Отличный выбор, брат! <0> уже погружен на твой корабль."    
    },
    {
      "#":"30",
      "String":"Я сейчас занят, <Player>, но поверь мне: как только я разберусь со своей текущей целью, ты встретишься с Рачеханом лично!"    
    },
    {
      "#":"31",
      "String":"Лети отсюда на все четыре стороны, хрякоплюх поганый, а не то движки поотшибаю!"    
    },
    {
      "#":"32",
      "String":"<Player>, некогда говорить, навожу оружие на цель. Отбой."    
    },
    {
      "#":"33",
      "String":"Привет, брат <Player>! Сегодня вершится великое дело - мы свергаем власть тиранов, сидящих на мешках с деньгами! Присоединяйся к нам, брат, уничтожим эту систему общими силами!"    
    },
    {
      "#":"34",
      "String":"Даже и не пытайся молить меня о пощаде! Ты принял неверную сторону и сейчас умрешь за это мучительной смертью, правительственная шавка!"    
    },
    {
      "#":"35",
      "String":"Вы являетесь преступником на планете <0>. Немедленно покиньте систему и не смейте препятствовать выполнению моего задания, иначе будете незамедлительно ликвидированы."    
    },
    {
      "#":"36",
      "String":"Ваш корабль на плохом счету у нас, <Player>, но сейчас я занят выполнением первостепенного приказа планеты <0>, так что очистите эфир и не мешайте мне."    
    },
    {
      "#":"37",
      "String":"<Player>, я занят выполнением приказа планеты <0>. Освободите эфир."    
    },
    {
      "#":"38",
      "String":"Прошу прощения, <Player>, но в данный момент я выполняю ответственное задание, обратитесь позже."    
    },
    {
      "#":"39",
      "String":"Салют, <Player>! Прошу меня простить, но сейчас я занят борьбой с повстанцами - обратись попозже, когда я закончу выполнение задания."    
    },
    {
      "#":"40",
      "String":"Тебе хватает наглости выходить на связь, гнусный пират? Бортовой компьютер, все орудия на цель!"    
    },
    {
      "#":"41",
      "String":"Да как у тебя хватает смелости выходить на связь, <Player>? Сейчас я очищу мир от тебя, наглого подонка, позорящего честь пиратов, и развею твой прах по системе!"    
    },
    {
      "#":"42",
      "String":"Я хочу пожертвовать немного денег"    
    },
    {
      "#":"43",
      "String":"Я поторговать прилетел"    
    },
    {
      "#":"44",
      "String":"Сейчас введу сумму..."    
    },
    {
      "#":"45",
      "String":"Да, пожалуйста"    
    },
    {
      "#":"46",
      "String":"Нет, спасибо"    
    },
    {
      "#":"47",
      "String":"Я передумал"    
    },
    {
      "#":"48",
      "String":"Мне пора, проведите меня до ангара"    
    },
    {
      "#":"49",
      "String":"Я готов обменяться"    
    },
    {
      "#":"50",
      "String":"Меня это не интересует"    
    },
    {
      "#":"51",
      "String":"Спасибо!"    
    },
    {
      "#":"52",
      "String":"Вы что-то покупаете? Или продаете?"    
    },
    {
      "#":"53",
      "String":"Я готов поделиться оружием"    
    },
    {
      "#":"54",
      "String":"До свидания"    
    },
    {
      "#":"55",
      "String":"Рад был помочь"    
    },
    {
      "#":"56",
      "String":"Нет, извините"    
    },
    {
      "#":"57",
      "String":"Я выбираю <0> cr."    
    },
    {
      "#":"58",
      "String":"Я выбираю <0>"    
    },
    {
      "#":"59",
      "String":"Беру <0>"    
    },
    {
      "#":"60",
      "String":"Новости из системы <0>! <br>Власти планеты <1> организовали специальную операцию по штурму планеты <2>. Многие детали держатся в строжайшем секрете, но, по заявлению местных военных, решающую роль должна сыграть наземная битва."    
    },
    {
      "#":"61",
      "String":"В звездной системе <0> продолжаются беспорядки. Количество погибших во время бойни непрерывно растет. Специалисты утверждают, что это неплохой шанс заработать для всех торговцев техникой и вооружением."    
    },
    {
      "#":"62",
      "String":"Комитет Галактической Безопасности сообщает о вооруженном конфликте в системе <0>. Повстанцы с планеты <1> устроили акцию протеста, направленную против нынешних властей. КГБ призывает помочь защите системы от демонстрантов партиями техники и оружия."    
    },
    {
      "#":"63",
      "String":"Мятежники с планеты <0> вновь заявили о себе, организовав вооруженную демонстрацию. Лидеры оппозиции требуют всеобщего подчинения пиратскому клану, власть которого, по их мнению, способствует соблюдению всех гражданских свобод."    
    },
    {
      "#":"64",
      "String":"В системе <0> произошло очередное столкновение военных и оппозиционеров. Советуем вам избегать данный участок космоса."    
    },
    {
      "#":"65",
      "String":"У звезды <0> столкнулись силы военных и анархистов. Правительство планеты <1> просит игнорировать временные беспорядки."    
    },
    {
      "#":"66",
      "String":"Коалиция в опасности! <br>В системе <0> население планеты <1> взбунтовалось и свергло местное правительство. Мятежники конфискуют военные корабли и готовятся к захвату соседних планет. Власти планеты <2> уже заявили о намерении подавить восстание в кратчайшие сроки."    
    },
    {
      "#":"67",
      "String":"Срочные новости из звездной системы <0>! <br>К сожалению, попытка высадки военных с планеты <1> в убежище оппозиционеров обернулась неудачей. Повстанцы заманили солдат в ловушку и перебили. Теперь вся территория у звезды <2> контроллируется анархистами."    
    },
    {
      "#":"68",
      "String":"Сегодня в системе <0> флот планеты <1> одержал сокрушительную победу над революционерами с планеты <2>. Десант в тяжелом наземном сражении разбил оппозиционеров. Этот день войдет в историю!"    
    },
    {
      "#":"69",
      "String":"Экстренная новость! <br>У звезды <0> оппозиционеры разбили военных в космической баталии, но высадившийся на планете <1> десант мятежников был разгромлен бравыми защитниками. Ура!"    
    },
    {
      "#":"70",
      "String":"Коалиция в опасности! <br>В этот день отряд анархистов вломился в правительство планеты <0> и расстрелял большую часть государственного аппарата. Повстанцы официально передали звездную систему <1> пиратскому синдикату. Вечная память погибшим героям."    
    },
    {
      "#":"71",
      "String":"Какую сумму пожертвуете оппозиции?"    
    },
    {
      "#":"72",
      "String":"Сколько тонн оружия вы готовы обменять на роскошь?"    
    },
    {
      "#":"73",
      "String":"Сколько оружия вы готовы продать?"    
    }  
  ]
}